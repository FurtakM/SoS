Export am;
Export amr_bun, amr_arm;
Export am_sold, am_eng;

Export Function PrepareAmerican;
var un, i, dif;
begin


     am := 1; // side

     amr_bun := FilterAllUnits([[f_side, am], [f_btype, b_breastwork]]);
     dif = [1,2,3][Difficulty];


     // create people
     uc_side := am;
     uc_nation := am;


     // sold for bunker
     For i = 1 to 2 do
     begin
     hc_class = 1;
     hc_skills = [Rand(0,1)+(dif), Rand(0,2), Rand(0,2), Rand(0,2)];

     hc_sex = Rand(sex_male, sex_female);
     hc_attr = [Rand(8,10), Rand(9,11)];
     hc_name = '';
     hc_gallery = '';

     un := CreateHuman;
     PlaceUnitArea(un, am_bun, false);
     ComEnterUnit(un, NearestUnitToUnit(amr_bun, un));
     end;



     For i = 1 to 2 do
     begin
     hc_class = 2;
     hc_skills = [Rand(0,1), Rand(0,2)+(dif), Rand(0,2), Rand(0,2)];

     hc_sex = Rand(sex_male, sex_female);
     hc_attr = [Rand(8,10), Rand(9,11)];
     hc_name = '';
     hc_gallery = '';

     un := CreateHuman;
     PlaceUnitArea(un, am_spawn, false);
     end;



     For i = 1 to 3 do
     begin
     hc_class = 1;
     hc_skills = [Rand(0,1)+(dif), Rand(0,2), Rand(0,2), Rand(0,2)];

     hc_sex = sex_male;
     hc_attr = [Rand(8,10), Rand(9,11)];
     hc_name = '';
     hc_gallery = '';

     un := CreateHuman;
     PlaceUnitArea(un, am_spawn, false);
     ComEnterUnit(un, am_arm);
     end;


     // filter
     am_sold := FilterAllUnits([[f_side, am], [f_class, 1]]);
     am_eng := FilterAllUnits([[f_side, am], [f_class, 2]]);

     // am ready

End;
