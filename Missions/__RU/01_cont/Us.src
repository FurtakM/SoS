Export ussold;
Export Function PrepareUSTanks;
var i, veh, force;
begin

     uc_side = 1;
     uc_nation = 1;

     hc_name = '';
     hc_gallery = '';
     hc_class = 1;

     hc_importance = 0;

     ussold = CreateHuman;

  // prepare vehicle

     force = [];

     If Difficulty > 1 then
        SetTech(tech_comp3, 1, state_researched);
       If Difficulty > 2 then
          SetTech(tech_weap3, 1, state_researched);

     For i = 1 to 10 + [0, 2, 4][Difficulty] do
         begin

              vc_chassis = [us_medium_wheeled, us_morphling, us_morphling][Difficulty];
              vc_engine  = engine_siberite;
              vc_control = control_computer;
              vc_weapon  = [us_laser, us_laser, us_heavy_gun][Difficulty];

              veh = CreateVehicle;

              If i <= 6 then
              PlaceUnitArea(veh, amspawn, false)
               else
                begin
                 SetDir(veh, 4);
                 PlaceUnitArea(veh, amspawn4, false);
                end;

              force = force ^ veh;

         end;


End;




Every 0$02 trigger Main_Obj do
var un;
begin
Enable;

       For un in FilterAllUnits([[f_side, 1], [f_type, unit_vehicle]]) do
           begin
            ComAttackUnit(un, NearestUnitToUnit(FilterAllUnits([f_side, 7]), un));
           end;

End;


Every 0$45 trigger Main_Obj do
var veh, i;
begin
Enable;


       Wait(Rand(0$01, 0$11));

       For i = 1 to 4 + [0, 2, 3][Difficulty] do
           begin
           vc_chassis = [us_heavy_tracked, us_morphling, us_morphling][Rand(1,3)];
           vc_engine  = engine_siberite;
           vc_control = control_computer;
           vc_weapon  = [us_laser, us_heavy_gun, us_double_laser, us_rocket_launcher][Rand(1,4)];

           veh = CreateVehicle;
           PlaceUnitArea(veh, [spawnarea, amspawn2, amspawn3][Rand(1,3)], false);
           end;

End;