// export JMM , Lisa , Bobby , Cyrus , Frank , Brown , Donaldson , Gladstone , Denis , DeltaDoctor ; export others , ape , tempCharles ; export Harisson , Joan , JoanStatus ; export HarrSupp1 , HarrSupp2 ; export Kurt , KurtStatus , readyToEscape ; export contactWithRussian ; export firstTower ; export timerStatus ; export needCrates , timeToEnd , strings ; export remoteVehiclesBuild ; export blockSpawn ; export unitLost ; export ruDestroyedBuildings ; export tamedApemans ; export disableHealAI ; export RuSolMinLevel , RuSolMaxLevel ; export russianTanks , russianDamageTanks ; export cratesStatus ; export sendedConvoys ; export resources , firstCrateSpawn ; export debugMode ; export mission_prefix , mission_prefix_prev ; export ignoreTarget , arrivals , killCounter , ruMechCounter ; starting begin Resetfog ;
   0: CALL_OW 335
// AnimateTrees ( true ) ;
   4: LD_INT 1
   6: PPUSH
   7: CALL_OW 573
// RandomizeAll ;
  11: CALL_OW 11
// SetBName ( rudepo , sverdlov ) ;
  15: LD_INT 2
  17: PPUSH
  18: LD_STRING sverdlov
  20: PPUSH
  21: CALL_OW 500
// debugMode = 0 ;
  25: LD_ADDR_EXP 42
  29: PUSH
  30: LD_INT 0
  32: ST_TO_ADDR
// mission_prefix := 06c_ ;
  33: LD_ADDR_EXP 43
  37: PUSH
  38: LD_STRING 06c_
  40: ST_TO_ADDR
// mission_prefix_prev := 06_ ;
  41: LD_ADDR_EXP 44
  45: PUSH
  46: LD_STRING 06_
  48: ST_TO_ADDR
// contactWithRussian = 0 ;
  49: LD_ADDR_EXP 22
  53: PUSH
  54: LD_INT 0
  56: ST_TO_ADDR
// firstTower = 0 ;
  57: LD_ADDR_EXP 23
  61: PUSH
  62: LD_INT 0
  64: ST_TO_ADDR
// resources = [ ] ;
  65: LD_ADDR_EXP 40
  69: PUSH
  70: EMPTY
  71: ST_TO_ADDR
// firstCrateSpawn := false ;
  72: LD_ADDR_EXP 41
  76: PUSH
  77: LD_INT 0
  79: ST_TO_ADDR
// blockSpawn = 0 ;
  80: LD_ADDR_EXP 29
  84: PUSH
  85: LD_INT 0
  87: ST_TO_ADDR
// KurtStatus = 0 ;
  88: LD_ADDR_EXP 20
  92: PUSH
  93: LD_INT 0
  95: ST_TO_ADDR
// readyToEscape = 0 ;
  96: LD_ADDR_EXP 21
 100: PUSH
 101: LD_INT 0
 103: ST_TO_ADDR
// JoanStatus = 0 ;
 104: LD_ADDR_EXP 16
 108: PUSH
 109: LD_INT 0
 111: ST_TO_ADDR
// killCounter := 0 ;
 112: LD_ADDR_EXP 47
 116: PUSH
 117: LD_INT 0
 119: ST_TO_ADDR
// cratesStatus = 2 ;
 120: LD_ADDR_EXP 38
 124: PUSH
 125: LD_INT 2
 127: ST_TO_ADDR
// timerStatus = 1 ;
 128: LD_ADDR_EXP 24
 132: PUSH
 133: LD_INT 1
 135: ST_TO_ADDR
// needCrates = [ 350 , 500 , 700 ] [ Difficulty ] ;
 136: LD_ADDR_EXP 25
 140: PUSH
 141: LD_INT 350
 143: PUSH
 144: LD_INT 500
 146: PUSH
 147: LD_INT 700
 149: PUSH
 150: EMPTY
 151: LIST
 152: LIST
 153: LIST
 154: PUSH
 155: LD_OWVAR 67
 159: ARRAY
 160: ST_TO_ADDR
// timeToEnd = 50 50$00 ;
 161: LD_ADDR_EXP 26
 165: PUSH
 166: LD_INT 105000
 168: ST_TO_ADDR
// remoteVehiclesBuild = 0 ;
 169: LD_ADDR_EXP 28
 173: PUSH
 174: LD_INT 0
 176: ST_TO_ADDR
// ruMechCounter := [ 3 , 4 , 6 ] [ Difficulty ] ;
 177: LD_ADDR_EXP 48
 181: PUSH
 182: LD_INT 3
 184: PUSH
 185: LD_INT 4
 187: PUSH
 188: LD_INT 6
 190: PUSH
 191: EMPTY
 192: LIST
 193: LIST
 194: LIST
 195: PUSH
 196: LD_OWVAR 67
 200: ARRAY
 201: ST_TO_ADDR
// sendedConvoys = 0 ;
 202: LD_ADDR_EXP 39
 206: PUSH
 207: LD_INT 0
 209: ST_TO_ADDR
// tamedApemans = 0 ;
 210: LD_ADDR_EXP 32
 214: PUSH
 215: LD_INT 0
 217: ST_TO_ADDR
// ignoreTarget := [ ] ;
 218: LD_ADDR_EXP 45
 222: PUSH
 223: EMPTY
 224: ST_TO_ADDR
// arrivals := [ ] ;
 225: LD_ADDR_EXP 46
 229: PUSH
 230: EMPTY
 231: ST_TO_ADDR
// unitLost = 0 ;
 232: LD_ADDR_EXP 30
 236: PUSH
 237: LD_INT 0
 239: ST_TO_ADDR
// ruDestroyedBuildings = [ ] ;
 240: LD_ADDR_EXP 31
 244: PUSH
 245: EMPTY
 246: ST_TO_ADDR
// russianTanks = [ ] ;
 247: LD_ADDR_EXP 36
 251: PUSH
 252: EMPTY
 253: ST_TO_ADDR
// russianDamageTanks = [ ] ;
 254: LD_ADDR_EXP 37
 258: PUSH
 259: EMPTY
 260: ST_TO_ADDR
// disableHealAI = 0 ;
 261: LD_ADDR_EXP 33
 265: PUSH
 266: LD_INT 0
 268: ST_TO_ADDR
// strings = [ ] ;
 269: LD_ADDR_EXP 27
 273: PUSH
 274: EMPTY
 275: ST_TO_ADDR
// ChangeSideFog ( 4 , 1 ) ;
 276: LD_INT 4
 278: PPUSH
 279: LD_INT 1
 281: PPUSH
 282: CALL_OW 343
// PrepareDifficulty ;
 286: CALL 6406 0 0
// PrepareNature ;
 290: CALL 23587 0 0
// PrepareRussian ;
 294: CALL 5566 0 0
// PrepareVehicles ;
 298: CALL 1586 0 0
// PrepareHeroes ;
 302: CALL 594 0 0
// PrepareOthers ;
 306: CALL 2007 0 0
// PreparePlayerApemans ;
 310: CALL 2149 0 0
// end ;
 314: END
// every 0 0$1 trigger debugMode do var i ;
 315: LD_EXP 42
 319: IFFALSE 546
 321: GO 323
 323: DISABLE
 324: LD_INT 0
 326: PPUSH
// begin enable ;
 327: ENABLE
// fogoff ( true ) ;
 328: LD_INT 1
 330: PPUSH
 331: CALL_OW 344
// for i in FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] ] ) do
 335: LD_ADDR_VAR 0 1
 339: PUSH
 340: LD_INT 22
 342: PUSH
 343: LD_INT 1
 345: PUSH
 346: EMPTY
 347: LIST
 348: LIST
 349: PUSH
 350: LD_INT 21
 352: PUSH
 353: LD_INT 1
 355: PUSH
 356: EMPTY
 357: LIST
 358: LIST
 359: PUSH
 360: EMPTY
 361: LIST
 362: LIST
 363: PPUSH
 364: CALL_OW 69
 368: PUSH
 369: FOR_IN
 370: IFFALSE 386
// SetLives ( i , 1000 ) ;
 372: LD_VAR 0 1
 376: PPUSH
 377: LD_INT 1000
 379: PPUSH
 380: CALL_OW 234
 384: GO 369
 386: POP
 387: POP
// for i in FilterAllUnits ( [ [ f_side , 1 ] , [ f_btype , b_depot ] ] ) do
 388: LD_ADDR_VAR 0 1
 392: PUSH
 393: LD_INT 22
 395: PUSH
 396: LD_INT 1
 398: PUSH
 399: EMPTY
 400: LIST
 401: LIST
 402: PUSH
 403: LD_INT 30
 405: PUSH
 406: LD_INT 0
 408: PUSH
 409: EMPTY
 410: LIST
 411: LIST
 412: PUSH
 413: EMPTY
 414: LIST
 415: LIST
 416: PPUSH
 417: CALL_OW 69
 421: PUSH
 422: FOR_IN
 423: IFFALSE 447
// SetResourceType ( GetBase ( i ) , 1 , 9999 ) ;
 425: LD_VAR 0 1
 429: PPUSH
 430: CALL_OW 274
 434: PPUSH
 435: LD_INT 1
 437: PPUSH
 438: LD_INT 9999
 440: PPUSH
 441: CALL_OW 277
 445: GO 422
 447: POP
 448: POP
// for i in FilterAllUnits ( [ [ f_side , 1 ] , [ f_btype , b_depot ] ] ) do
 449: LD_ADDR_VAR 0 1
 453: PUSH
 454: LD_INT 22
 456: PUSH
 457: LD_INT 1
 459: PUSH
 460: EMPTY
 461: LIST
 462: LIST
 463: PUSH
 464: LD_INT 30
 466: PUSH
 467: LD_INT 0
 469: PUSH
 470: EMPTY
 471: LIST
 472: LIST
 473: PUSH
 474: EMPTY
 475: LIST
 476: LIST
 477: PPUSH
 478: CALL_OW 69
 482: PUSH
 483: FOR_IN
 484: IFFALSE 508
// SetResourceType ( GetBase ( i ) , 2 , 9999 ) ;
 486: LD_VAR 0 1
 490: PPUSH
 491: CALL_OW 274
 495: PPUSH
 496: LD_INT 2
 498: PPUSH
 499: LD_INT 9999
 501: PPUSH
 502: CALL_OW 277
 506: GO 483
 508: POP
 509: POP
// if IsSelected ( rudepo ) then
 510: LD_INT 2
 512: PPUSH
 513: CALL_OW 306
 517: IFFALSE 527
// your_side = 3 ;
 519: LD_ADDR_OWVAR 2
 523: PUSH
 524: LD_INT 3
 526: ST_TO_ADDR
// if IsSelected ( JMM ) then
 527: LD_EXP 1
 531: PPUSH
 532: CALL_OW 306
 536: IFFALSE 546
// your_side = 1 ;
 538: LD_ADDR_OWVAR 2
 542: PUSH
 543: LD_INT 1
 545: ST_TO_ADDR
// end ;
 546: PPOPN 1
 548: END
// every 0 0$1 trigger FilterAllUnits ( [ [ f_side , 1 ] , [ f_weapon , us_cargo_bay ] ] ) >= 3 do
 549: LD_INT 22
 551: PUSH
 552: LD_INT 1
 554: PUSH
 555: EMPTY
 556: LIST
 557: LIST
 558: PUSH
 559: LD_INT 34
 561: PUSH
 562: LD_INT 12
 564: PUSH
 565: EMPTY
 566: LIST
 567: LIST
 568: PUSH
 569: EMPTY
 570: LIST
 571: LIST
 572: PPUSH
 573: CALL_OW 69
 577: PUSH
 578: LD_INT 3
 580: GREATEREQUAL
 581: IFFALSE 593
 583: GO 585
 585: DISABLE
// SetAchievement ( ACH_FULLCARGO ) ; end_of_file
 586: LD_STRING ACH_FULLCARGO
 588: PPUSH
 589: CALL_OW 543
 593: END
// export function PrepareHeroes ; var veh ; begin
 594: LD_INT 0
 596: PPUSH
 597: PPUSH
// uc_side = 1 ;
 598: LD_ADDR_OWVAR 20
 602: PUSH
 603: LD_INT 1
 605: ST_TO_ADDR
// uc_nation = 1 ;
 606: LD_ADDR_OWVAR 21
 610: PUSH
 611: LD_INT 1
 613: ST_TO_ADDR
// JMM = PrepareUnit ( JMM , true ) ;
 614: LD_ADDR_EXP 1
 618: PUSH
 619: LD_STRING JMM
 621: PPUSH
 622: LD_INT 1
 624: PPUSH
 625: CALL 5968 0 2
 629: ST_TO_ADDR
// Harisson = PrepareUnit ( Harisson , false ) ;
 630: LD_ADDR_EXP 14
 634: PUSH
 635: LD_STRING Harisson
 637: PPUSH
 638: LD_INT 0
 640: PPUSH
 641: CALL 5968 0 2
 645: ST_TO_ADDR
// DeltaDoctor = CreateCharacter ( DeltaDoctor ) ;
 646: LD_ADDR_EXP 10
 650: PUSH
 651: LD_STRING DeltaDoctor
 653: PPUSH
 654: CALL_OW 34
 658: ST_TO_ADDR
// veh = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_empty ] ] ) ;
 659: LD_ADDR_VAR 0 2
 663: PUSH
 664: LD_INT 22
 666: PUSH
 667: LD_INT 1
 669: PUSH
 670: EMPTY
 671: LIST
 672: LIST
 673: PUSH
 674: LD_INT 21
 676: PUSH
 677: LD_INT 2
 679: PUSH
 680: EMPTY
 681: LIST
 682: LIST
 683: PUSH
 684: LD_INT 58
 686: PUSH
 687: EMPTY
 688: LIST
 689: PUSH
 690: EMPTY
 691: LIST
 692: LIST
 693: LIST
 694: PPUSH
 695: CALL_OW 69
 699: ST_TO_ADDR
// if veh > 0 then
 700: LD_VAR 0 2
 704: PUSH
 705: LD_INT 0
 707: GREATER
 708: IFFALSE 730
// begin PlaceHumanInUnit ( JMM , veh [ 1 ] ) ;
 710: LD_EXP 1
 714: PPUSH
 715: LD_VAR 0 2
 719: PUSH
 720: LD_INT 1
 722: ARRAY
 723: PPUSH
 724: CALL_OW 52
// end else
 728: GO 745
// begin PlaceUnitArea ( JMM , PlayerSpawn , false ) ;
 730: LD_EXP 1
 734: PPUSH
 735: LD_INT 2
 737: PPUSH
 738: LD_INT 0
 740: PPUSH
 741: CALL_OW 49
// end ; if LoadVariable ( LisaIn06 , 0 ) = 1 then
 745: LD_STRING LisaIn06
 747: PPUSH
 748: LD_INT 0
 750: PPUSH
 751: CALL_OW 30
 755: PUSH
 756: LD_INT 1
 758: EQUAL
 759: IFFALSE 863
// begin veh = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_empty ] ] ) ;
 761: LD_ADDR_VAR 0 2
 765: PUSH
 766: LD_INT 22
 768: PUSH
 769: LD_INT 1
 771: PUSH
 772: EMPTY
 773: LIST
 774: LIST
 775: PUSH
 776: LD_INT 21
 778: PUSH
 779: LD_INT 2
 781: PUSH
 782: EMPTY
 783: LIST
 784: LIST
 785: PUSH
 786: LD_INT 58
 788: PUSH
 789: EMPTY
 790: LIST
 791: PUSH
 792: EMPTY
 793: LIST
 794: LIST
 795: LIST
 796: PPUSH
 797: CALL_OW 69
 801: ST_TO_ADDR
// Lisa = PrepareUnit ( Lisa , true ) ;
 802: LD_ADDR_EXP 2
 806: PUSH
 807: LD_STRING Lisa
 809: PPUSH
 810: LD_INT 1
 812: PPUSH
 813: CALL 5968 0 2
 817: ST_TO_ADDR
// if veh > 0 then
 818: LD_VAR 0 2
 822: PUSH
 823: LD_INT 0
 825: GREATER
 826: IFFALSE 848
// begin PlaceHumanInUnit ( Lisa , veh [ 1 ] ) ;
 828: LD_EXP 2
 832: PPUSH
 833: LD_VAR 0 2
 837: PUSH
 838: LD_INT 1
 840: ARRAY
 841: PPUSH
 842: CALL_OW 52
// end else
 846: GO 863
// begin PlaceUnitArea ( Lisa , PlayerSpawn , false ) ;
 848: LD_EXP 2
 852: PPUSH
 853: LD_INT 2
 855: PPUSH
 856: LD_INT 0
 858: PPUSH
 859: CALL_OW 49
// end ; end ; if LoadVariable ( BobbyIn06 , 0 ) = 1 then
 863: LD_STRING BobbyIn06
 865: PPUSH
 866: LD_INT 0
 868: PPUSH
 869: CALL_OW 30
 873: PUSH
 874: LD_INT 1
 876: EQUAL
 877: IFFALSE 981
// begin veh = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_empty ] ] ) ;
 879: LD_ADDR_VAR 0 2
 883: PUSH
 884: LD_INT 22
 886: PUSH
 887: LD_INT 1
 889: PUSH
 890: EMPTY
 891: LIST
 892: LIST
 893: PUSH
 894: LD_INT 21
 896: PUSH
 897: LD_INT 2
 899: PUSH
 900: EMPTY
 901: LIST
 902: LIST
 903: PUSH
 904: LD_INT 58
 906: PUSH
 907: EMPTY
 908: LIST
 909: PUSH
 910: EMPTY
 911: LIST
 912: LIST
 913: LIST
 914: PPUSH
 915: CALL_OW 69
 919: ST_TO_ADDR
// Bobby = PrepareUnit ( Bobby , true ) ;
 920: LD_ADDR_EXP 3
 924: PUSH
 925: LD_STRING Bobby
 927: PPUSH
 928: LD_INT 1
 930: PPUSH
 931: CALL 5968 0 2
 935: ST_TO_ADDR
// if veh > 0 then
 936: LD_VAR 0 2
 940: PUSH
 941: LD_INT 0
 943: GREATER
 944: IFFALSE 966
// begin PlaceHumanInUnit ( Bobby , veh [ 1 ] ) ;
 946: LD_EXP 3
 950: PPUSH
 951: LD_VAR 0 2
 955: PUSH
 956: LD_INT 1
 958: ARRAY
 959: PPUSH
 960: CALL_OW 52
// end else
 964: GO 981
// begin PlaceUnitArea ( Bobby , PlayerSpawn , false ) ;
 966: LD_EXP 3
 970: PPUSH
 971: LD_INT 2
 973: PPUSH
 974: LD_INT 0
 976: PPUSH
 977: CALL_OW 49
// end ; end ; if LoadVariable ( CyrusIn06 , 0 ) = 1 then
 981: LD_STRING CyrusIn06
 983: PPUSH
 984: LD_INT 0
 986: PPUSH
 987: CALL_OW 30
 991: PUSH
 992: LD_INT 1
 994: EQUAL
 995: IFFALSE 1099
// begin veh = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_empty ] ] ) ;
 997: LD_ADDR_VAR 0 2
1001: PUSH
1002: LD_INT 22
1004: PUSH
1005: LD_INT 1
1007: PUSH
1008: EMPTY
1009: LIST
1010: LIST
1011: PUSH
1012: LD_INT 21
1014: PUSH
1015: LD_INT 2
1017: PUSH
1018: EMPTY
1019: LIST
1020: LIST
1021: PUSH
1022: LD_INT 58
1024: PUSH
1025: EMPTY
1026: LIST
1027: PUSH
1028: EMPTY
1029: LIST
1030: LIST
1031: LIST
1032: PPUSH
1033: CALL_OW 69
1037: ST_TO_ADDR
// Cyrus = PrepareUnit ( Cyrus , true ) ;
1038: LD_ADDR_EXP 4
1042: PUSH
1043: LD_STRING Cyrus
1045: PPUSH
1046: LD_INT 1
1048: PPUSH
1049: CALL 5968 0 2
1053: ST_TO_ADDR
// if veh > 0 then
1054: LD_VAR 0 2
1058: PUSH
1059: LD_INT 0
1061: GREATER
1062: IFFALSE 1084
// begin PlaceHumanInUnit ( Cyrus , veh [ 1 ] ) ;
1064: LD_EXP 4
1068: PPUSH
1069: LD_VAR 0 2
1073: PUSH
1074: LD_INT 1
1076: ARRAY
1077: PPUSH
1078: CALL_OW 52
// end else
1082: GO 1099
// begin PlaceUnitArea ( Cyrus , PlayerSpawn , false ) ;
1084: LD_EXP 4
1088: PPUSH
1089: LD_INT 2
1091: PPUSH
1092: LD_INT 0
1094: PPUSH
1095: CALL_OW 49
// end ; end ; if LoadVariable ( FrankIn06 , 0 ) = 1 then
1099: LD_STRING FrankIn06
1101: PPUSH
1102: LD_INT 0
1104: PPUSH
1105: CALL_OW 30
1109: PUSH
1110: LD_INT 1
1112: EQUAL
1113: IFFALSE 1217
// begin veh = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_empty ] ] ) ;
1115: LD_ADDR_VAR 0 2
1119: PUSH
1120: LD_INT 22
1122: PUSH
1123: LD_INT 1
1125: PUSH
1126: EMPTY
1127: LIST
1128: LIST
1129: PUSH
1130: LD_INT 21
1132: PUSH
1133: LD_INT 2
1135: PUSH
1136: EMPTY
1137: LIST
1138: LIST
1139: PUSH
1140: LD_INT 58
1142: PUSH
1143: EMPTY
1144: LIST
1145: PUSH
1146: EMPTY
1147: LIST
1148: LIST
1149: LIST
1150: PPUSH
1151: CALL_OW 69
1155: ST_TO_ADDR
// Frank = PrepareUnit ( Frank , true ) ;
1156: LD_ADDR_EXP 5
1160: PUSH
1161: LD_STRING Frank
1163: PPUSH
1164: LD_INT 1
1166: PPUSH
1167: CALL 5968 0 2
1171: ST_TO_ADDR
// if veh > 0 then
1172: LD_VAR 0 2
1176: PUSH
1177: LD_INT 0
1179: GREATER
1180: IFFALSE 1202
// begin PlaceHumanInUnit ( Frank , veh [ 1 ] ) ;
1182: LD_EXP 5
1186: PPUSH
1187: LD_VAR 0 2
1191: PUSH
1192: LD_INT 1
1194: ARRAY
1195: PPUSH
1196: CALL_OW 52
// end else
1200: GO 1217
// begin PlaceUnitArea ( Frank , PlayerSpawn , false ) ;
1202: LD_EXP 5
1206: PPUSH
1207: LD_INT 2
1209: PPUSH
1210: LD_INT 0
1212: PPUSH
1213: CALL_OW 49
// end ; end ; if LoadVariable ( BrownIn06 , 0 ) = 1 then
1217: LD_STRING BrownIn06
1219: PPUSH
1220: LD_INT 0
1222: PPUSH
1223: CALL_OW 30
1227: PUSH
1228: LD_INT 1
1230: EQUAL
1231: IFFALSE 1335
// begin veh = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_empty ] ] ) ;
1233: LD_ADDR_VAR 0 2
1237: PUSH
1238: LD_INT 22
1240: PUSH
1241: LD_INT 1
1243: PUSH
1244: EMPTY
1245: LIST
1246: LIST
1247: PUSH
1248: LD_INT 21
1250: PUSH
1251: LD_INT 2
1253: PUSH
1254: EMPTY
1255: LIST
1256: LIST
1257: PUSH
1258: LD_INT 58
1260: PUSH
1261: EMPTY
1262: LIST
1263: PUSH
1264: EMPTY
1265: LIST
1266: LIST
1267: LIST
1268: PPUSH
1269: CALL_OW 69
1273: ST_TO_ADDR
// Brown = PrepareUnit ( Brown , true ) ;
1274: LD_ADDR_EXP 6
1278: PUSH
1279: LD_STRING Brown
1281: PPUSH
1282: LD_INT 1
1284: PPUSH
1285: CALL 5968 0 2
1289: ST_TO_ADDR
// if veh > 0 then
1290: LD_VAR 0 2
1294: PUSH
1295: LD_INT 0
1297: GREATER
1298: IFFALSE 1320
// begin PlaceHumanInUnit ( Brown , veh [ 1 ] ) ;
1300: LD_EXP 6
1304: PPUSH
1305: LD_VAR 0 2
1309: PUSH
1310: LD_INT 1
1312: ARRAY
1313: PPUSH
1314: CALL_OW 52
// end else
1318: GO 1335
// begin PlaceUnitArea ( Brown , PlayerSpawn , false ) ;
1320: LD_EXP 6
1324: PPUSH
1325: LD_INT 2
1327: PPUSH
1328: LD_INT 0
1330: PPUSH
1331: CALL_OW 49
// end ; end ; if LoadVariable ( DonaldsonIn06 , 0 ) = 1 then
1335: LD_STRING DonaldsonIn06
1337: PPUSH
1338: LD_INT 0
1340: PPUSH
1341: CALL_OW 30
1345: PUSH
1346: LD_INT 1
1348: EQUAL
1349: IFFALSE 1453
// begin veh = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_empty ] ] ) ;
1351: LD_ADDR_VAR 0 2
1355: PUSH
1356: LD_INT 22
1358: PUSH
1359: LD_INT 1
1361: PUSH
1362: EMPTY
1363: LIST
1364: LIST
1365: PUSH
1366: LD_INT 21
1368: PUSH
1369: LD_INT 2
1371: PUSH
1372: EMPTY
1373: LIST
1374: LIST
1375: PUSH
1376: LD_INT 58
1378: PUSH
1379: EMPTY
1380: LIST
1381: PUSH
1382: EMPTY
1383: LIST
1384: LIST
1385: LIST
1386: PPUSH
1387: CALL_OW 69
1391: ST_TO_ADDR
// Donaldson = PrepareUnit ( Donaldson , true ) ;
1392: LD_ADDR_EXP 7
1396: PUSH
1397: LD_STRING Donaldson
1399: PPUSH
1400: LD_INT 1
1402: PPUSH
1403: CALL 5968 0 2
1407: ST_TO_ADDR
// if veh > 0 then
1408: LD_VAR 0 2
1412: PUSH
1413: LD_INT 0
1415: GREATER
1416: IFFALSE 1438
// begin PlaceHumanInUnit ( Donaldson , veh [ 1 ] ) ;
1418: LD_EXP 7
1422: PPUSH
1423: LD_VAR 0 2
1427: PUSH
1428: LD_INT 1
1430: ARRAY
1431: PPUSH
1432: CALL_OW 52
// end else
1436: GO 1453
// begin PlaceUnitArea ( Donaldson , PlayerSpawn , false ) ;
1438: LD_EXP 7
1442: PPUSH
1443: LD_INT 2
1445: PPUSH
1446: LD_INT 0
1448: PPUSH
1449: CALL_OW 49
// end ; end ; if LoadVariable ( GladstoneIn06 , 0 ) = 1 then
1453: LD_STRING GladstoneIn06
1455: PPUSH
1456: LD_INT 0
1458: PPUSH
1459: CALL_OW 30
1463: PUSH
1464: LD_INT 1
1466: EQUAL
1467: IFFALSE 1571
// begin veh = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_empty ] ] ) ;
1469: LD_ADDR_VAR 0 2
1473: PUSH
1474: LD_INT 22
1476: PUSH
1477: LD_INT 1
1479: PUSH
1480: EMPTY
1481: LIST
1482: LIST
1483: PUSH
1484: LD_INT 21
1486: PUSH
1487: LD_INT 2
1489: PUSH
1490: EMPTY
1491: LIST
1492: LIST
1493: PUSH
1494: LD_INT 58
1496: PUSH
1497: EMPTY
1498: LIST
1499: PUSH
1500: EMPTY
1501: LIST
1502: LIST
1503: LIST
1504: PPUSH
1505: CALL_OW 69
1509: ST_TO_ADDR
// Gladstone = PrepareUnit ( Gladstone , true ) ;
1510: LD_ADDR_EXP 8
1514: PUSH
1515: LD_STRING Gladstone
1517: PPUSH
1518: LD_INT 1
1520: PPUSH
1521: CALL 5968 0 2
1525: ST_TO_ADDR
// if veh > 0 then
1526: LD_VAR 0 2
1530: PUSH
1531: LD_INT 0
1533: GREATER
1534: IFFALSE 1556
// begin PlaceHumanInUnit ( Gladstone , veh [ 1 ] ) ;
1536: LD_EXP 8
1540: PPUSH
1541: LD_VAR 0 2
1545: PUSH
1546: LD_INT 1
1548: ARRAY
1549: PPUSH
1550: CALL_OW 52
// end else
1554: GO 1571
// begin PlaceUnitArea ( Gladstone , PlayerSpawn , false ) ;
1556: LD_EXP 8
1560: PPUSH
1561: LD_INT 2
1563: PPUSH
1564: LD_INT 0
1566: PPUSH
1567: CALL_OW 49
// end ; end ; CenterNowOnXY ( 66 , 4 ) ;
1571: LD_INT 66
1573: PPUSH
1574: LD_INT 4
1576: PPUSH
1577: CALL_OW 86
// end ;
1581: LD_VAR 0 1
1585: RET
// export function PrepareVehicles ; var i , j , veh , vehicles , cargoList ; begin
1586: LD_INT 0
1588: PPUSH
1589: PPUSH
1590: PPUSH
1591: PPUSH
1592: PPUSH
1593: PPUSH
// vehicles = LoadVariable ( 06_VehiclesIn06_1 , [ ] ) ;
1594: LD_ADDR_VAR 0 5
1598: PUSH
1599: LD_STRING 06_VehiclesIn06_1
1601: PPUSH
1602: EMPTY
1603: PPUSH
1604: CALL_OW 30
1608: ST_TO_ADDR
// resources = LoadVariable ( 06_ResourcesInCargo06_1 , [ ] ) ;
1609: LD_ADDR_EXP 40
1613: PUSH
1614: LD_STRING 06_ResourcesInCargo06_1
1616: PPUSH
1617: EMPTY
1618: PPUSH
1619: CALL_OW 30
1623: ST_TO_ADDR
// cargoList = [ ] ;
1624: LD_ADDR_VAR 0 6
1628: PUSH
1629: EMPTY
1630: ST_TO_ADDR
// uc_side = 1 ;
1631: LD_ADDR_OWVAR 20
1635: PUSH
1636: LD_INT 1
1638: ST_TO_ADDR
// if vehicles > 0 then
1639: LD_VAR 0 5
1643: PUSH
1644: LD_INT 0
1646: GREATER
1647: IFFALSE 2002
// begin for i := 1 to vehicles do
1649: LD_ADDR_VAR 0 2
1653: PUSH
1654: DOUBLE
1655: LD_INT 1
1657: DEC
1658: ST_TO_ADDR
1659: LD_VAR 0 5
1663: PUSH
1664: FOR_TO
1665: IFFALSE 1814
// begin uc_nation = vehicles [ i ] [ 1 ] ;
1667: LD_ADDR_OWVAR 21
1671: PUSH
1672: LD_VAR 0 5
1676: PUSH
1677: LD_VAR 0 2
1681: ARRAY
1682: PUSH
1683: LD_INT 1
1685: ARRAY
1686: ST_TO_ADDR
// vc_chassis = vehicles [ i ] [ 2 ] ;
1687: LD_ADDR_OWVAR 37
1691: PUSH
1692: LD_VAR 0 5
1696: PUSH
1697: LD_VAR 0 2
1701: ARRAY
1702: PUSH
1703: LD_INT 2
1705: ARRAY
1706: ST_TO_ADDR
// vc_engine = vehicles [ i ] [ 3 ] ;
1707: LD_ADDR_OWVAR 39
1711: PUSH
1712: LD_VAR 0 5
1716: PUSH
1717: LD_VAR 0 2
1721: ARRAY
1722: PUSH
1723: LD_INT 3
1725: ARRAY
1726: ST_TO_ADDR
// vc_control = vehicles [ i ] [ 4 ] ;
1727: LD_ADDR_OWVAR 38
1731: PUSH
1732: LD_VAR 0 5
1736: PUSH
1737: LD_VAR 0 2
1741: ARRAY
1742: PUSH
1743: LD_INT 4
1745: ARRAY
1746: ST_TO_ADDR
// vc_weapon = vehicles [ i ] [ 5 ] ;
1747: LD_ADDR_OWVAR 40
1751: PUSH
1752: LD_VAR 0 5
1756: PUSH
1757: LD_VAR 0 2
1761: ARRAY
1762: PUSH
1763: LD_INT 5
1765: ARRAY
1766: ST_TO_ADDR
// vc_fuel_battery = 40 ;
1767: LD_ADDR_OWVAR 41
1771: PUSH
1772: LD_INT 40
1774: ST_TO_ADDR
// veh = CreateVehicle ;
1775: LD_ADDR_VAR 0 4
1779: PUSH
1780: CALL_OW 45
1784: ST_TO_ADDR
// SetDir ( veh , 3 ) ;
1785: LD_VAR 0 4
1789: PPUSH
1790: LD_INT 3
1792: PPUSH
1793: CALL_OW 233
// PlaceUnitArea ( veh , PlayerSpawn , false ) ;
1797: LD_VAR 0 4
1801: PPUSH
1802: LD_INT 2
1804: PPUSH
1805: LD_INT 0
1807: PPUSH
1808: CALL_OW 49
// end ;
1812: GO 1664
1814: POP
1815: POP
// cargoList = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_weapon , us_cargo_bay ] ] ) ;
1816: LD_ADDR_VAR 0 6
1820: PUSH
1821: LD_INT 22
1823: PUSH
1824: LD_INT 1
1826: PUSH
1827: EMPTY
1828: LIST
1829: LIST
1830: PUSH
1831: LD_INT 21
1833: PUSH
1834: LD_INT 2
1836: PUSH
1837: EMPTY
1838: LIST
1839: LIST
1840: PUSH
1841: LD_INT 34
1843: PUSH
1844: LD_INT 12
1846: PUSH
1847: EMPTY
1848: LIST
1849: LIST
1850: PUSH
1851: EMPTY
1852: LIST
1853: LIST
1854: LIST
1855: PPUSH
1856: CALL_OW 69
1860: ST_TO_ADDR
// if cargoList > 0 then
1861: LD_VAR 0 6
1865: PUSH
1866: LD_INT 0
1868: GREATER
1869: IFFALSE 2002
// for i = 1 to cargoList do
1871: LD_ADDR_VAR 0 2
1875: PUSH
1876: DOUBLE
1877: LD_INT 1
1879: DEC
1880: ST_TO_ADDR
1881: LD_VAR 0 6
1885: PUSH
1886: FOR_TO
1887: IFFALSE 2000
// begin if resources > 0 then
1889: LD_EXP 40
1893: PUSH
1894: LD_INT 0
1896: GREATER
1897: IFFALSE 1998
// begin AddCargo ( cargoList [ i ] , 1 , resources [ i ] [ 1 ] ) ;
1899: LD_VAR 0 6
1903: PUSH
1904: LD_VAR 0 2
1908: ARRAY
1909: PPUSH
1910: LD_INT 1
1912: PPUSH
1913: LD_EXP 40
1917: PUSH
1918: LD_VAR 0 2
1922: ARRAY
1923: PUSH
1924: LD_INT 1
1926: ARRAY
1927: PPUSH
1928: CALL_OW 291
// AddCargo ( cargoList [ i ] , 2 , resources [ i ] [ 2 ] ) ;
1932: LD_VAR 0 6
1936: PUSH
1937: LD_VAR 0 2
1941: ARRAY
1942: PPUSH
1943: LD_INT 2
1945: PPUSH
1946: LD_EXP 40
1950: PUSH
1951: LD_VAR 0 2
1955: ARRAY
1956: PUSH
1957: LD_INT 2
1959: ARRAY
1960: PPUSH
1961: CALL_OW 291
// AddCargo ( cargoList [ i ] , 3 , resources [ i ] [ 3 ] ) ;
1965: LD_VAR 0 6
1969: PUSH
1970: LD_VAR 0 2
1974: ARRAY
1975: PPUSH
1976: LD_INT 3
1978: PPUSH
1979: LD_EXP 40
1983: PUSH
1984: LD_VAR 0 2
1988: ARRAY
1989: PUSH
1990: LD_INT 3
1992: ARRAY
1993: PPUSH
1994: CALL_OW 291
// end ; end ;
1998: GO 1886
2000: POP
2001: POP
// end ; end ;
2002: LD_VAR 0 1
2006: RET
// export function PrepareOthers ; var i , veh ; begin
2007: LD_INT 0
2009: PPUSH
2010: PPUSH
2011: PPUSH
// uc_side = 1 ;
2012: LD_ADDR_OWVAR 20
2016: PUSH
2017: LD_INT 1
2019: ST_TO_ADDR
// uc_nation = 1 ;
2020: LD_ADDR_OWVAR 21
2024: PUSH
2025: LD_INT 1
2027: ST_TO_ADDR
// others = CreateCharacterSet ( OthersIn06 ) ;
2028: LD_ADDR_EXP 11
2032: PUSH
2033: LD_STRING OthersIn06
2035: PPUSH
2036: CALL_OW 31
2040: ST_TO_ADDR
// for i in others do
2041: LD_ADDR_VAR 0 2
2045: PUSH
2046: LD_EXP 11
2050: PUSH
2051: FOR_IN
2052: IFFALSE 2142
// begin veh = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_empty ] ] ) ;
2054: LD_ADDR_VAR 0 3
2058: PUSH
2059: LD_INT 22
2061: PUSH
2062: LD_INT 1
2064: PUSH
2065: EMPTY
2066: LIST
2067: LIST
2068: PUSH
2069: LD_INT 21
2071: PUSH
2072: LD_INT 2
2074: PUSH
2075: EMPTY
2076: LIST
2077: LIST
2078: PUSH
2079: LD_INT 58
2081: PUSH
2082: EMPTY
2083: LIST
2084: PUSH
2085: EMPTY
2086: LIST
2087: LIST
2088: LIST
2089: PPUSH
2090: CALL_OW 69
2094: ST_TO_ADDR
// if veh > 0 then
2095: LD_VAR 0 3
2099: PUSH
2100: LD_INT 0
2102: GREATER
2103: IFFALSE 2125
// begin PlaceHumanInUnit ( i , veh [ 1 ] ) ;
2105: LD_VAR 0 2
2109: PPUSH
2110: LD_VAR 0 3
2114: PUSH
2115: LD_INT 1
2117: ARRAY
2118: PPUSH
2119: CALL_OW 52
// end else
2123: GO 2140
// begin PlaceUnitArea ( i , PlayerSpawn , false ) ;
2125: LD_VAR 0 2
2129: PPUSH
2130: LD_INT 2
2132: PPUSH
2133: LD_INT 0
2135: PPUSH
2136: CALL_OW 49
// end ; end ;
2140: GO 2051
2142: POP
2143: POP
// end ;
2144: LD_VAR 0 1
2148: RET
// export function PreparePlayerApemans ; var i , veh ; begin
2149: LD_INT 0
2151: PPUSH
2152: PPUSH
2153: PPUSH
// uc_side = 1 ;
2154: LD_ADDR_OWVAR 20
2158: PUSH
2159: LD_INT 1
2161: ST_TO_ADDR
// uc_nation = 0 ;
2162: LD_ADDR_OWVAR 21
2166: PUSH
2167: LD_INT 0
2169: ST_TO_ADDR
// ape = CreateCharacterSet ( ApeIn06 ) ;
2170: LD_ADDR_EXP 12
2174: PUSH
2175: LD_STRING ApeIn06
2177: PPUSH
2178: CALL_OW 31
2182: ST_TO_ADDR
// for i in ape do
2183: LD_ADDR_VAR 0 2
2187: PUSH
2188: LD_EXP 12
2192: PUSH
2193: FOR_IN
2194: IFFALSE 2213
// PlaceUnitArea ( i , PlayerSpawn , false ) ;
2196: LD_VAR 0 2
2200: PPUSH
2201: LD_INT 2
2203: PPUSH
2204: LD_INT 0
2206: PPUSH
2207: CALL_OW 49
2211: GO 2193
2213: POP
2214: POP
// end ;
2215: LD_VAR 0 1
2219: RET
// export function PrepareDenis ; var xy , i ; begin
2220: LD_INT 0
2222: PPUSH
2223: PPUSH
2224: PPUSH
// uc_side = 4 ;
2225: LD_ADDR_OWVAR 20
2229: PUSH
2230: LD_INT 4
2232: ST_TO_ADDR
// uc_nation = 1 ;
2233: LD_ADDR_OWVAR 21
2237: PUSH
2238: LD_INT 1
2240: ST_TO_ADDR
// xy := [ [ 63 , 1 ] , [ 70 , 1 ] , [ 83 , 1 ] , [ 16 , 1 ] , [ 27 , 1 ] , [ 38 , 1 ] , [ 5 , 1 ] , [ 54 , 1 ] ] ;
2241: LD_ADDR_VAR 0 2
2245: PUSH
2246: LD_INT 63
2248: PUSH
2249: LD_INT 1
2251: PUSH
2252: EMPTY
2253: LIST
2254: LIST
2255: PUSH
2256: LD_INT 70
2258: PUSH
2259: LD_INT 1
2261: PUSH
2262: EMPTY
2263: LIST
2264: LIST
2265: PUSH
2266: LD_INT 83
2268: PUSH
2269: LD_INT 1
2271: PUSH
2272: EMPTY
2273: LIST
2274: LIST
2275: PUSH
2276: LD_INT 16
2278: PUSH
2279: LD_INT 1
2281: PUSH
2282: EMPTY
2283: LIST
2284: LIST
2285: PUSH
2286: LD_INT 27
2288: PUSH
2289: LD_INT 1
2291: PUSH
2292: EMPTY
2293: LIST
2294: LIST
2295: PUSH
2296: LD_INT 38
2298: PUSH
2299: LD_INT 1
2301: PUSH
2302: EMPTY
2303: LIST
2304: LIST
2305: PUSH
2306: LD_INT 5
2308: PUSH
2309: LD_INT 1
2311: PUSH
2312: EMPTY
2313: LIST
2314: LIST
2315: PUSH
2316: LD_INT 54
2318: PUSH
2319: LD_INT 1
2321: PUSH
2322: EMPTY
2323: LIST
2324: LIST
2325: PUSH
2326: EMPTY
2327: LIST
2328: LIST
2329: LIST
2330: LIST
2331: LIST
2332: LIST
2333: LIST
2334: LIST
2335: ST_TO_ADDR
// Denis = PrepareUnit ( Denis , true ) ;
2336: LD_ADDR_EXP 9
2340: PUSH
2341: LD_STRING Denis
2343: PPUSH
2344: LD_INT 1
2346: PPUSH
2347: CALL 5968 0 2
2351: ST_TO_ADDR
// for i = 1 to xy do
2352: LD_ADDR_VAR 0 3
2356: PUSH
2357: DOUBLE
2358: LD_INT 1
2360: DEC
2361: ST_TO_ADDR
2362: LD_VAR 0 2
2366: PUSH
2367: FOR_TO
2368: IFFALSE 2467
// if HexInfo ( xy [ i ] [ 1 ] , xy [ i ] [ 2 ] ) = 0 then
2370: LD_VAR 0 2
2374: PUSH
2375: LD_VAR 0 3
2379: ARRAY
2380: PUSH
2381: LD_INT 1
2383: ARRAY
2384: PPUSH
2385: LD_VAR 0 2
2389: PUSH
2390: LD_VAR 0 3
2394: ARRAY
2395: PUSH
2396: LD_INT 2
2398: ARRAY
2399: PPUSH
2400: CALL_OW 428
2404: PUSH
2405: LD_INT 0
2407: EQUAL
2408: IFFALSE 2465
// begin PlaceUnitXY ( Denis , xy [ i ] [ 1 ] , xy [ i ] [ 2 ] , false ) ;
2410: LD_EXP 9
2414: PPUSH
2415: LD_VAR 0 2
2419: PUSH
2420: LD_VAR 0 3
2424: ARRAY
2425: PUSH
2426: LD_INT 1
2428: ARRAY
2429: PPUSH
2430: LD_VAR 0 2
2434: PUSH
2435: LD_VAR 0 3
2439: ARRAY
2440: PUSH
2441: LD_INT 2
2443: ARRAY
2444: PPUSH
2445: LD_INT 0
2447: PPUSH
2448: CALL_OW 48
// if IsPlaced ( Denis ) then
2452: LD_EXP 9
2456: PPUSH
2457: CALL_OW 305
2461: IFFALSE 2465
// break ;
2463: GO 2467
// end ;
2465: GO 2367
2467: POP
2468: POP
// SetClass ( Denis , 4 ) ;
2469: LD_EXP 9
2473: PPUSH
2474: LD_INT 4
2476: PPUSH
2477: CALL_OW 336
// SetLives ( Denis , 750 ) ;
2481: LD_EXP 9
2485: PPUSH
2486: LD_INT 750
2488: PPUSH
2489: CALL_OW 234
// end ;
2493: LD_VAR 0 1
2497: RET
// export function HarrisonSupport ; var un , veh , area , dir ; begin
2498: LD_INT 0
2500: PPUSH
2501: PPUSH
2502: PPUSH
2503: PPUSH
2504: PPUSH
// area := HarrisonSupportArea ;
2505: LD_ADDR_VAR 0 4
2509: PUSH
2510: LD_INT 3
2512: ST_TO_ADDR
// dir := 2 ;
2513: LD_ADDR_VAR 0 5
2517: PUSH
2518: LD_INT 2
2520: ST_TO_ADDR
// if FilterUnitsInArea ( area , [ f_type , unit_building ] ) then
2521: LD_VAR 0 4
2525: PPUSH
2526: LD_INT 21
2528: PUSH
2529: LD_INT 3
2531: PUSH
2532: EMPTY
2533: LIST
2534: LIST
2535: PPUSH
2536: CALL_OW 70
2540: IFFALSE 2558
// begin area := HarrisonSupportArea2 ;
2542: LD_ADDR_VAR 0 4
2546: PUSH
2547: LD_INT 31
2549: ST_TO_ADDR
// dir := 1 ;
2550: LD_ADDR_VAR 0 5
2554: PUSH
2555: LD_INT 1
2557: ST_TO_ADDR
// end ; uc_side = 1 ;
2558: LD_ADDR_OWVAR 20
2562: PUSH
2563: LD_INT 1
2565: ST_TO_ADDR
// uc_nation = 1 ;
2566: LD_ADDR_OWVAR 21
2570: PUSH
2571: LD_INT 1
2573: ST_TO_ADDR
// vc_engine = 1 ;
2574: LD_ADDR_OWVAR 39
2578: PUSH
2579: LD_INT 1
2581: ST_TO_ADDR
// vc_control = 1 ;
2582: LD_ADDR_OWVAR 38
2586: PUSH
2587: LD_INT 1
2589: ST_TO_ADDR
// vc_weapon = [ us_gatling_gun , us_gatling_gun , us_machine_gun ] [ Difficulty ] ;
2590: LD_ADDR_OWVAR 40
2594: PUSH
2595: LD_INT 4
2597: PUSH
2598: LD_INT 4
2600: PUSH
2601: LD_INT 2
2603: PUSH
2604: EMPTY
2605: LIST
2606: LIST
2607: LIST
2608: PUSH
2609: LD_OWVAR 67
2613: ARRAY
2614: ST_TO_ADDR
// vc_chassis = 2 ;
2615: LD_ADDR_OWVAR 37
2619: PUSH
2620: LD_INT 2
2622: ST_TO_ADDR
// veh = CreateVehicle ;
2623: LD_ADDR_VAR 0 3
2627: PUSH
2628: CALL_OW 45
2632: ST_TO_ADDR
// SetDir ( veh , dir ) ;
2633: LD_VAR 0 3
2637: PPUSH
2638: LD_VAR 0 5
2642: PPUSH
2643: CALL_OW 233
// PlaceUnitArea ( veh , area , false ) ;
2647: LD_VAR 0 3
2651: PPUSH
2652: LD_VAR 0 4
2656: PPUSH
2657: LD_INT 0
2659: PPUSH
2660: CALL_OW 49
// SetFuel ( veh , 50 ) ;
2664: LD_VAR 0 3
2668: PPUSH
2669: LD_INT 50
2671: PPUSH
2672: CALL_OW 240
// hc_class := 2 ;
2676: LD_ADDR_OWVAR 28
2680: PUSH
2681: LD_INT 2
2683: ST_TO_ADDR
// hc_sex := sex_male ;
2684: LD_ADDR_OWVAR 27
2688: PUSH
2689: LD_INT 1
2691: ST_TO_ADDR
// hc_gallery := SecondCharsGal ;
2692: LD_ADDR_OWVAR 33
2696: PUSH
2697: LD_STRING SecondCharsGal
2699: ST_TO_ADDR
// hc_face_number := 52 ;
2700: LD_ADDR_OWVAR 34
2704: PUSH
2705: LD_INT 52
2707: ST_TO_ADDR
// hc_name := Craig Brown ;
2708: LD_ADDR_OWVAR 26
2712: PUSH
2713: LD_STRING Craig Brown
2715: ST_TO_ADDR
// hc_attr := [ 10 , 10 ] ;
2716: LD_ADDR_OWVAR 29
2720: PUSH
2721: LD_INT 10
2723: PUSH
2724: LD_INT 10
2726: PUSH
2727: EMPTY
2728: LIST
2729: LIST
2730: ST_TO_ADDR
// hc_basic_skills := [ 0 , 2 , 0 , 0 ] ;
2731: LD_ADDR_OWVAR 30
2735: PUSH
2736: LD_INT 0
2738: PUSH
2739: LD_INT 2
2741: PUSH
2742: LD_INT 0
2744: PUSH
2745: LD_INT 0
2747: PUSH
2748: EMPTY
2749: LIST
2750: LIST
2751: LIST
2752: LIST
2753: ST_TO_ADDR
// hc_skills := [ 2 , 3 , 0 , 0 ] ;
2754: LD_ADDR_OWVAR 31
2758: PUSH
2759: LD_INT 2
2761: PUSH
2762: LD_INT 3
2764: PUSH
2765: LD_INT 0
2767: PUSH
2768: LD_INT 0
2770: PUSH
2771: EMPTY
2772: LIST
2773: LIST
2774: LIST
2775: LIST
2776: ST_TO_ADDR
// HarrSupp1 = CreateHuman ;
2777: LD_ADDR_EXP 17
2781: PUSH
2782: CALL_OW 44
2786: ST_TO_ADDR
// PlaceHumanInUnit ( HarrSupp1 , veh ) ;
2787: LD_EXP 17
2791: PPUSH
2792: LD_VAR 0 3
2796: PPUSH
2797: CALL_OW 52
// vc_engine = 1 ;
2801: LD_ADDR_OWVAR 39
2805: PUSH
2806: LD_INT 1
2808: ST_TO_ADDR
// vc_control = 1 ;
2809: LD_ADDR_OWVAR 38
2813: PUSH
2814: LD_INT 1
2816: ST_TO_ADDR
// vc_weapon = us_light_gun ;
2817: LD_ADDR_OWVAR 40
2821: PUSH
2822: LD_INT 3
2824: ST_TO_ADDR
// vc_chassis = 2 ;
2825: LD_ADDR_OWVAR 37
2829: PUSH
2830: LD_INT 2
2832: ST_TO_ADDR
// veh = CreateVehicle ;
2833: LD_ADDR_VAR 0 3
2837: PUSH
2838: CALL_OW 45
2842: ST_TO_ADDR
// SetDir ( veh , dir ) ;
2843: LD_VAR 0 3
2847: PPUSH
2848: LD_VAR 0 5
2852: PPUSH
2853: CALL_OW 233
// PlaceUnitArea ( veh , area , false ) ;
2857: LD_VAR 0 3
2861: PPUSH
2862: LD_VAR 0 4
2866: PPUSH
2867: LD_INT 0
2869: PPUSH
2870: CALL_OW 49
// SetFuel ( veh , 50 ) ;
2874: LD_VAR 0 3
2878: PPUSH
2879: LD_INT 50
2881: PPUSH
2882: CALL_OW 240
// hc_class := 1 ;
2886: LD_ADDR_OWVAR 28
2890: PUSH
2891: LD_INT 1
2893: ST_TO_ADDR
// hc_sex := sex_female ;
2894: LD_ADDR_OWVAR 27
2898: PUSH
2899: LD_INT 2
2901: ST_TO_ADDR
// hc_gallery := SecondCharsGal ;
2902: LD_ADDR_OWVAR 33
2906: PUSH
2907: LD_STRING SecondCharsGal
2909: ST_TO_ADDR
// hc_face_number := 45 ;
2910: LD_ADDR_OWVAR 34
2914: PUSH
2915: LD_INT 45
2917: ST_TO_ADDR
// hc_attr := [ 11 , 10 ] ;
2918: LD_ADDR_OWVAR 29
2922: PUSH
2923: LD_INT 11
2925: PUSH
2926: LD_INT 10
2928: PUSH
2929: EMPTY
2930: LIST
2931: LIST
2932: ST_TO_ADDR
// hc_name := Ingrid Jonsson ;
2933: LD_ADDR_OWVAR 26
2937: PUSH
2938: LD_STRING Ingrid Jonsson
2940: ST_TO_ADDR
// hc_basic_skills := [ 1 , 1 , 0 , 0 ] ;
2941: LD_ADDR_OWVAR 30
2945: PUSH
2946: LD_INT 1
2948: PUSH
2949: LD_INT 1
2951: PUSH
2952: LD_INT 0
2954: PUSH
2955: LD_INT 0
2957: PUSH
2958: EMPTY
2959: LIST
2960: LIST
2961: LIST
2962: LIST
2963: ST_TO_ADDR
// hc_skills := [ 3 , 1 , 1 , 0 ] ;
2964: LD_ADDR_OWVAR 31
2968: PUSH
2969: LD_INT 3
2971: PUSH
2972: LD_INT 1
2974: PUSH
2975: LD_INT 1
2977: PUSH
2978: LD_INT 0
2980: PUSH
2981: EMPTY
2982: LIST
2983: LIST
2984: LIST
2985: LIST
2986: ST_TO_ADDR
// HarrSupp2 = CreateHuman ;
2987: LD_ADDR_EXP 18
2991: PUSH
2992: CALL_OW 44
2996: ST_TO_ADDR
// PlaceHumanInUnit ( HarrSupp2 , veh ) ;
2997: LD_EXP 18
3001: PPUSH
3002: LD_VAR 0 3
3006: PPUSH
3007: CALL_OW 52
// end ;
3011: LD_VAR 0 1
3015: RET
// export function PrepareJoan ; var i , j , tmp , rnd ; begin
3016: LD_INT 0
3018: PPUSH
3019: PPUSH
3020: PPUSH
3021: PPUSH
3022: PPUSH
// j = 0 ;
3023: LD_ADDR_VAR 0 3
3027: PUSH
3028: LD_INT 0
3030: ST_TO_ADDR
// repeat wait ( 0 0$1 ) ;
3031: LD_INT 35
3033: PPUSH
3034: CALL_OW 67
// for i in FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_sex , 1 ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) do
3038: LD_ADDR_VAR 0 2
3042: PUSH
3043: LD_INT 22
3045: PUSH
3046: LD_INT 1
3048: PUSH
3049: EMPTY
3050: LIST
3051: LIST
3052: PUSH
3053: LD_INT 21
3055: PUSH
3056: LD_INT 1
3058: PUSH
3059: EMPTY
3060: LIST
3061: LIST
3062: PUSH
3063: LD_INT 26
3065: PUSH
3066: LD_INT 1
3068: PUSH
3069: EMPTY
3070: LIST
3071: LIST
3072: PUSH
3073: LD_INT 2
3075: PUSH
3076: LD_INT 25
3078: PUSH
3079: LD_INT 1
3081: PUSH
3082: EMPTY
3083: LIST
3084: LIST
3085: PUSH
3086: LD_INT 25
3088: PUSH
3089: LD_INT 2
3091: PUSH
3092: EMPTY
3093: LIST
3094: LIST
3095: PUSH
3096: LD_INT 25
3098: PUSH
3099: LD_INT 3
3101: PUSH
3102: EMPTY
3103: LIST
3104: LIST
3105: PUSH
3106: LD_INT 25
3108: PUSH
3109: LD_INT 4
3111: PUSH
3112: EMPTY
3113: LIST
3114: LIST
3115: PUSH
3116: EMPTY
3117: LIST
3118: LIST
3119: LIST
3120: LIST
3121: LIST
3122: PUSH
3123: EMPTY
3124: LIST
3125: LIST
3126: LIST
3127: LIST
3128: PPUSH
3129: CALL_OW 69
3133: PUSH
3134: FOR_IN
3135: IFFALSE 3261
// begin if not FilterAllUnits ( [ [ f_side , 3 ] , [ f_or , [ f_type , unit_human ] , [ f_type , unit_vehicle ] , [ f_type , unit_building ] , [ f_occupied ] ] , [ f_dist , i , 25 ] ] ) and GetDistUnits ( i , JMM ) < 15 then
3137: LD_INT 22
3139: PUSH
3140: LD_INT 3
3142: PUSH
3143: EMPTY
3144: LIST
3145: LIST
3146: PUSH
3147: LD_INT 2
3149: PUSH
3150: LD_INT 21
3152: PUSH
3153: LD_INT 1
3155: PUSH
3156: EMPTY
3157: LIST
3158: LIST
3159: PUSH
3160: LD_INT 21
3162: PUSH
3163: LD_INT 2
3165: PUSH
3166: EMPTY
3167: LIST
3168: LIST
3169: PUSH
3170: LD_INT 21
3172: PUSH
3173: LD_INT 3
3175: PUSH
3176: EMPTY
3177: LIST
3178: LIST
3179: PUSH
3180: LD_INT 59
3182: PUSH
3183: EMPTY
3184: LIST
3185: PUSH
3186: EMPTY
3187: LIST
3188: LIST
3189: LIST
3190: LIST
3191: LIST
3192: PUSH
3193: LD_INT 91
3195: PUSH
3196: LD_VAR 0 2
3200: PUSH
3201: LD_INT 25
3203: PUSH
3204: EMPTY
3205: LIST
3206: LIST
3207: LIST
3208: PUSH
3209: EMPTY
3210: LIST
3211: LIST
3212: LIST
3213: PPUSH
3214: CALL_OW 69
3218: NOT
3219: PUSH
3220: LD_VAR 0 2
3224: PPUSH
3225: LD_EXP 1
3229: PPUSH
3230: CALL_OW 296
3234: PUSH
3235: LD_INT 15
3237: LESS
3238: AND
3239: IFFALSE 3259
// begin tmp = i ;
3241: LD_ADDR_VAR 0 4
3245: PUSH
3246: LD_VAR 0 2
3250: ST_TO_ADDR
// j = 1 ;
3251: LD_ADDR_VAR 0 3
3255: PUSH
3256: LD_INT 1
3258: ST_TO_ADDR
// end ; end ;
3259: GO 3134
3261: POP
3262: POP
// until j = 1 ;
3263: LD_VAR 0 3
3267: PUSH
3268: LD_INT 1
3270: EQUAL
3271: IFFALSE 3031
// blockSpawn = 1 ;
3273: LD_ADDR_EXP 29
3277: PUSH
3278: LD_INT 1
3280: ST_TO_ADDR
// uc_side = 4 ;
3281: LD_ADDR_OWVAR 20
3285: PUSH
3286: LD_INT 4
3288: ST_TO_ADDR
// Joan = PrepareUnit ( Joan , false ) ;
3289: LD_ADDR_EXP 15
3293: PUSH
3294: LD_STRING Joan
3296: PPUSH
3297: LD_INT 0
3299: PPUSH
3300: CALL 5968 0 2
3304: ST_TO_ADDR
// PlaceUnitXYR ( Joan , GetX ( tmp ) , GetY ( tmp ) , 5 , true ) ;
3305: LD_EXP 15
3309: PPUSH
3310: LD_VAR 0 4
3314: PPUSH
3315: CALL_OW 250
3319: PPUSH
3320: LD_VAR 0 4
3324: PPUSH
3325: CALL_OW 251
3329: PPUSH
3330: LD_INT 5
3332: PPUSH
3333: LD_INT 1
3335: PPUSH
3336: CALL_OW 50
// SetLives ( Joan , 250 ) ;
3340: LD_EXP 15
3344: PPUSH
3345: LD_INT 250
3347: PPUSH
3348: CALL_OW 234
// InGameOn ;
3352: CALL_OW 8
// CenterNowOnUnits ( Joan ) ;
3356: LD_EXP 15
3360: PPUSH
3361: CALL_OW 87
// wait ( 0 0$2 ) ;
3365: LD_INT 70
3367: PPUSH
3368: CALL_OW 67
// ComExitVehicle ( tmp ) ;
3372: LD_VAR 0 4
3376: PPUSH
3377: CALL_OW 121
// ComExitBuilding ( tmp ) ;
3381: LD_VAR 0 4
3385: PPUSH
3386: CALL_OW 122
// wait ( 0 0$1 ) ;
3390: LD_INT 35
3392: PPUSH
3393: CALL_OW 67
// ComMoveUnit ( tmp , Joan ) ;
3397: LD_VAR 0 4
3401: PPUSH
3402: LD_EXP 15
3406: PPUSH
3407: CALL_OW 112
// wait ( 0 0$2 ) ;
3411: LD_INT 70
3413: PPUSH
3414: CALL_OW 67
// DialogueOn ;
3418: CALL_OW 6
// if tmp = JMM then
3422: LD_VAR 0 4
3426: PUSH
3427: LD_EXP 1
3431: EQUAL
3432: IFFALSE 3581
// begin ComTurnUnit ( JMM , Joan ) ;
3434: LD_EXP 1
3438: PPUSH
3439: LD_EXP 15
3443: PPUSH
3444: CALL_OW 119
// Say ( JMM , D5b-JMM-1 ) ;
3448: LD_EXP 1
3452: PPUSH
3453: LD_STRING D5b-JMM-1
3455: PPUSH
3456: CALL_OW 88
// DialogueOff ;
3460: CALL_OW 7
// SetLives ( Joan , 500 ) ;
3464: LD_EXP 15
3468: PPUSH
3469: LD_INT 500
3471: PPUSH
3472: CALL_OW 234
// ComTurnUnit ( Joan , JMM ) ;
3476: LD_EXP 15
3480: PPUSH
3481: LD_EXP 1
3485: PPUSH
3486: CALL_OW 119
// ComTurnUnit ( JMM , Joan ) ;
3490: LD_EXP 1
3494: PPUSH
3495: LD_EXP 15
3499: PPUSH
3500: CALL_OW 119
// wait ( 0 0$1 ) ;
3504: LD_INT 35
3506: PPUSH
3507: CALL_OW 67
// DialogueOn ;
3511: CALL_OW 6
// Say ( Joan , D5b-Joan-1 ) ;
3515: LD_EXP 15
3519: PPUSH
3520: LD_STRING D5b-Joan-1
3522: PPUSH
3523: CALL_OW 88
// Say ( JMM , D5b-JMM-2 ) ;
3527: LD_EXP 1
3531: PPUSH
3532: LD_STRING D5b-JMM-2
3534: PPUSH
3535: CALL_OW 88
// Say ( Joan , D5b-Joan-2 ) ;
3539: LD_EXP 15
3543: PPUSH
3544: LD_STRING D5b-Joan-2
3546: PPUSH
3547: CALL_OW 88
// Say ( JMM , D5b-JMM-3 ) ;
3551: LD_EXP 1
3555: PPUSH
3556: LD_STRING D5b-JMM-3
3558: PPUSH
3559: CALL_OW 88
// Say ( Joan , D5b-Joan-3 ) ;
3563: LD_EXP 15
3567: PPUSH
3568: LD_STRING D5b-Joan-3
3570: PPUSH
3571: CALL_OW 88
// DialogueOff ;
3575: CALL_OW 7
// end else
3579: GO 3916
// begin ComTurnUnit ( tmp , Joan ) ;
3581: LD_VAR 0 4
3585: PPUSH
3586: LD_EXP 15
3590: PPUSH
3591: CALL_OW 119
// Say ( tmp , D5a-Sol1-1 ) ;
3595: LD_VAR 0 4
3599: PPUSH
3600: LD_STRING D5a-Sol1-1
3602: PPUSH
3603: CALL_OW 88
// DialogueOff ;
3607: CALL_OW 7
// SetLives ( Joan , 500 ) ;
3611: LD_EXP 15
3615: PPUSH
3616: LD_INT 500
3618: PPUSH
3619: CALL_OW 234
// ComTurnUnit ( Joan , tmp ) ;
3623: LD_EXP 15
3627: PPUSH
3628: LD_VAR 0 4
3632: PPUSH
3633: CALL_OW 119
// ComTurnUnit ( tmp , Joan ) ;
3637: LD_VAR 0 4
3641: PPUSH
3642: LD_EXP 15
3646: PPUSH
3647: CALL_OW 119
// wait ( 0 0$1 ) ;
3651: LD_INT 35
3653: PPUSH
3654: CALL_OW 67
// DialogueOn ;
3658: CALL_OW 6
// Say ( Joan , D5a-Joan-1 ) ;
3662: LD_EXP 15
3666: PPUSH
3667: LD_STRING D5a-Joan-1
3669: PPUSH
3670: CALL_OW 88
// Say ( tmp , D5a-Sol1-2 ) ;
3674: LD_VAR 0 4
3678: PPUSH
3679: LD_STRING D5a-Sol1-2
3681: PPUSH
3682: CALL_OW 88
// Say ( Joan , D5a-Joan-2 ) ;
3686: LD_EXP 15
3690: PPUSH
3691: LD_STRING D5a-Joan-2
3693: PPUSH
3694: CALL_OW 88
// Say ( tmp , D5a-Sol1-3 ) ;
3698: LD_VAR 0 4
3702: PPUSH
3703: LD_STRING D5a-Sol1-3
3705: PPUSH
3706: CALL_OW 88
// Say ( Joan , D5a-Joan-3 ) ;
3710: LD_EXP 15
3714: PPUSH
3715: LD_STRING D5a-Joan-3
3717: PPUSH
3718: CALL_OW 88
// Say ( tmp , D5a-Sol1-4 ) ;
3722: LD_VAR 0 4
3726: PPUSH
3727: LD_STRING D5a-Sol1-4
3729: PPUSH
3730: CALL_OW 88
// DialogueOff ;
3734: CALL_OW 7
// ComExitVehicle ( JMM ) ;
3738: LD_EXP 1
3742: PPUSH
3743: CALL_OW 121
// ComExitBuilding ( JMM ) ;
3747: LD_EXP 1
3751: PPUSH
3752: CALL_OW 122
// wait ( 0 0$1 ) ;
3756: LD_INT 35
3758: PPUSH
3759: CALL_OW 67
// repeat wait ( 0 0$1 ) ;
3763: LD_INT 35
3765: PPUSH
3766: CALL_OW 67
// ComMoveUnit ( [ Joan , tmp ] , JMM ) ;
3770: LD_EXP 15
3774: PUSH
3775: LD_VAR 0 4
3779: PUSH
3780: EMPTY
3781: LIST
3782: LIST
3783: PPUSH
3784: LD_EXP 1
3788: PPUSH
3789: CALL_OW 112
// until GetDistUnits ( Joan , JMM ) < 5 ;
3793: LD_EXP 15
3797: PPUSH
3798: LD_EXP 1
3802: PPUSH
3803: CALL_OW 296
3807: PUSH
3808: LD_INT 5
3810: LESS
3811: IFFALSE 3763
// ComTurnUnit ( Joan , JMM ) ;
3813: LD_EXP 15
3817: PPUSH
3818: LD_EXP 1
3822: PPUSH
3823: CALL_OW 119
// ComTurnUnit ( JMM , Joan ) ;
3827: LD_EXP 1
3831: PPUSH
3832: LD_EXP 15
3836: PPUSH
3837: CALL_OW 119
// wait ( 0 0$1 ) ;
3841: LD_INT 35
3843: PPUSH
3844: CALL_OW 67
// DialogueOn ;
3848: CALL_OW 6
// Say ( Joan , D5a-Joan-4 ) ;
3852: LD_EXP 15
3856: PPUSH
3857: LD_STRING D5a-Joan-4
3859: PPUSH
3860: CALL_OW 88
// Say ( JMM , D5a-JMM-4 ) ;
3864: LD_EXP 1
3868: PPUSH
3869: LD_STRING D5a-JMM-4
3871: PPUSH
3872: CALL_OW 88
// Say ( Joan , D5a-Joan-5 ) ;
3876: LD_EXP 15
3880: PPUSH
3881: LD_STRING D5a-Joan-5
3883: PPUSH
3884: CALL_OW 88
// Say ( JMM , D5a-JMM-5 ) ;
3888: LD_EXP 1
3892: PPUSH
3893: LD_STRING D5a-JMM-5
3895: PPUSH
3896: CALL_OW 88
// Say ( Joan , D5a-Joan-6 ) ;
3900: LD_EXP 15
3904: PPUSH
3905: LD_STRING D5a-Joan-6
3907: PPUSH
3908: CALL_OW 88
// DialogueOff ;
3912: CALL_OW 7
// end ; DialogueOn ;
3916: CALL_OW 6
// Say ( JMM , D6-JMM-1 ) ;
3920: LD_EXP 1
3924: PPUSH
3925: LD_STRING D6-JMM-1
3927: PPUSH
3928: CALL_OW 88
// Say ( Joan , D6-Joan-1 ) ;
3932: LD_EXP 15
3936: PPUSH
3937: LD_STRING D6-Joan-1
3939: PPUSH
3940: CALL_OW 88
// Say ( JMM , D6-JMM-2 ) ;
3944: LD_EXP 1
3948: PPUSH
3949: LD_STRING D6-JMM-2
3951: PPUSH
3952: CALL_OW 88
// Say ( Joan , D6-Joan-2 ) ;
3956: LD_EXP 15
3960: PPUSH
3961: LD_STRING D6-Joan-2
3963: PPUSH
3964: CALL_OW 88
// Say ( JMM , D6-JMM-3 ) ;
3968: LD_EXP 1
3972: PPUSH
3973: LD_STRING D6-JMM-3
3975: PPUSH
3976: CALL_OW 88
// Say ( Joan , D6-Joan-3 ) ;
3980: LD_EXP 15
3984: PPUSH
3985: LD_STRING D6-Joan-3
3987: PPUSH
3988: CALL_OW 88
// Say ( JMM , D6-JMM-4 ) ;
3992: LD_EXP 1
3996: PPUSH
3997: LD_STRING D6-JMM-4
3999: PPUSH
4000: CALL_OW 88
// DialogueOff ;
4004: CALL_OW 7
// InGameOff ;
4008: CALL_OW 9
// SetSide ( Joan , 1 ) ;
4012: LD_EXP 15
4016: PPUSH
4017: LD_INT 1
4019: PPUSH
4020: CALL_OW 235
// ChangeMissionObjectives ( MJ ) ;
4024: LD_STRING MJ
4026: PPUSH
4027: CALL_OW 337
// JoanStatus = 1 ;
4031: LD_ADDR_EXP 16
4035: PUSH
4036: LD_INT 1
4038: ST_TO_ADDR
// blockSpawn = 0 ;
4039: LD_ADDR_EXP 29
4043: PUSH
4044: LD_INT 0
4046: ST_TO_ADDR
// end ;
4047: LD_VAR 0 1
4051: RET
// export function PrepareRandoms ( number ) ; var un ; begin
4052: LD_INT 0
4054: PPUSH
4055: PPUSH
// repeat wait ( 0 0$7 ) ;
4056: LD_INT 245
4058: PPUSH
4059: CALL_OW 67
// until blockSpawn = 0 ;
4063: LD_EXP 29
4067: PUSH
4068: LD_INT 0
4070: EQUAL
4071: IFFALSE 4056
// uc_side = 1 ;
4073: LD_ADDR_OWVAR 20
4077: PUSH
4078: LD_INT 1
4080: ST_TO_ADDR
// uc_nation = 1 ;
4081: LD_ADDR_OWVAR 21
4085: PUSH
4086: LD_INT 1
4088: ST_TO_ADDR
// InitHc ;
4089: CALL_OW 19
// if number = 1 then
4093: LD_VAR 0 1
4097: PUSH
4098: LD_INT 1
4100: EQUAL
4101: IFFALSE 4277
// begin hc_class := 3 ;
4103: LD_ADDR_OWVAR 28
4107: PUSH
4108: LD_INT 3
4110: ST_TO_ADDR
// hc_sex := sex_male ;
4111: LD_ADDR_OWVAR 27
4115: PUSH
4116: LD_INT 1
4118: ST_TO_ADDR
// hc_gallery := SecondCharsGal ;
4119: LD_ADDR_OWVAR 33
4123: PUSH
4124: LD_STRING SecondCharsGal
4126: ST_TO_ADDR
// hc_face_number := 55 ;
4127: LD_ADDR_OWVAR 34
4131: PUSH
4132: LD_INT 55
4134: ST_TO_ADDR
// hc_name := George McCarthy ;
4135: LD_ADDR_OWVAR 26
4139: PUSH
4140: LD_STRING George McCarthy
4142: ST_TO_ADDR
// hc_attr := [ 11 , 10 ] ;
4143: LD_ADDR_OWVAR 29
4147: PUSH
4148: LD_INT 11
4150: PUSH
4151: LD_INT 10
4153: PUSH
4154: EMPTY
4155: LIST
4156: LIST
4157: ST_TO_ADDR
// hc_basic_skills := [ 0 , 0 , 2 , 0 ] ;
4158: LD_ADDR_OWVAR 30
4162: PUSH
4163: LD_INT 0
4165: PUSH
4166: LD_INT 0
4168: PUSH
4169: LD_INT 2
4171: PUSH
4172: LD_INT 0
4174: PUSH
4175: EMPTY
4176: LIST
4177: LIST
4178: LIST
4179: LIST
4180: ST_TO_ADDR
// hc_skills := [ 1 , 2 , 3 , 1 ] ;
4181: LD_ADDR_OWVAR 31
4185: PUSH
4186: LD_INT 1
4188: PUSH
4189: LD_INT 2
4191: PUSH
4192: LD_INT 3
4194: PUSH
4195: LD_INT 1
4197: PUSH
4198: EMPTY
4199: LIST
4200: LIST
4201: LIST
4202: LIST
4203: ST_TO_ADDR
// un = CreateHuman ;
4204: LD_ADDR_VAR 0 3
4208: PUSH
4209: CALL_OW 44
4213: ST_TO_ADDR
// PlaceUnitArea ( un , NewPeopleSpawn1 , true ) ;
4214: LD_VAR 0 3
4218: PPUSH
4219: LD_INT 23
4221: PPUSH
4222: LD_INT 1
4224: PPUSH
4225: CALL_OW 49
// CenterNowOnUnits ( un ) ;
4229: LD_VAR 0 3
4233: PPUSH
4234: CALL_OW 87
// wait ( 0 0$1 ) ;
4238: LD_INT 35
4240: PPUSH
4241: CALL_OW 67
// DialogueOn ;
4245: CALL_OW 6
// Say ( un , D11d-Sol4-1 ) ;
4249: LD_VAR 0 3
4253: PPUSH
4254: LD_STRING D11d-Sol4-1
4256: PPUSH
4257: CALL_OW 88
// Say ( JMM , D11d-JMM-1 ) ;
4261: LD_EXP 1
4265: PPUSH
4266: LD_STRING D11d-JMM-1
4268: PPUSH
4269: CALL_OW 88
// DialogueOff ;
4273: CALL_OW 7
// end ; if number = 2 then
4277: LD_VAR 0 1
4281: PUSH
4282: LD_INT 2
4284: EQUAL
4285: IFFALSE 4461
// begin hc_class := 1 ;
4287: LD_ADDR_OWVAR 28
4291: PUSH
4292: LD_INT 1
4294: ST_TO_ADDR
// hc_sex := sex_male ;
4295: LD_ADDR_OWVAR 27
4299: PUSH
4300: LD_INT 1
4302: ST_TO_ADDR
// hc_gallery := AmGalRemake ;
4303: LD_ADDR_OWVAR 33
4307: PUSH
4308: LD_STRING AmGalRemake
4310: ST_TO_ADDR
// hc_face_number := 7 ;
4311: LD_ADDR_OWVAR 34
4315: PUSH
4316: LD_INT 7
4318: ST_TO_ADDR
// hc_name := Bobby Jordan ;
4319: LD_ADDR_OWVAR 26
4323: PUSH
4324: LD_STRING Bobby Jordan
4326: ST_TO_ADDR
// hc_attr := [ 9 , 11 ] ;
4327: LD_ADDR_OWVAR 29
4331: PUSH
4332: LD_INT 9
4334: PUSH
4335: LD_INT 11
4337: PUSH
4338: EMPTY
4339: LIST
4340: LIST
4341: ST_TO_ADDR
// hc_basic_skills := [ 1 , 0 , 0 , 1 ] ;
4342: LD_ADDR_OWVAR 30
4346: PUSH
4347: LD_INT 1
4349: PUSH
4350: LD_INT 0
4352: PUSH
4353: LD_INT 0
4355: PUSH
4356: LD_INT 1
4358: PUSH
4359: EMPTY
4360: LIST
4361: LIST
4362: LIST
4363: LIST
4364: ST_TO_ADDR
// hc_skills := [ 2 , 1 , 1 , 1 ] ;
4365: LD_ADDR_OWVAR 31
4369: PUSH
4370: LD_INT 2
4372: PUSH
4373: LD_INT 1
4375: PUSH
4376: LD_INT 1
4378: PUSH
4379: LD_INT 1
4381: PUSH
4382: EMPTY
4383: LIST
4384: LIST
4385: LIST
4386: LIST
4387: ST_TO_ADDR
// un = CreateHuman ;
4388: LD_ADDR_VAR 0 3
4392: PUSH
4393: CALL_OW 44
4397: ST_TO_ADDR
// PlaceUnitArea ( un , NewPeopleSpawn2 , true ) ;
4398: LD_VAR 0 3
4402: PPUSH
4403: LD_INT 24
4405: PPUSH
4406: LD_INT 1
4408: PPUSH
4409: CALL_OW 49
// wait ( 0 0$1 ) ;
4413: LD_INT 35
4415: PPUSH
4416: CALL_OW 67
// CenterNowOnUnits ( un ) ;
4420: LD_VAR 0 3
4424: PPUSH
4425: CALL_OW 87
// DialogueOn ;
4429: CALL_OW 6
// Say ( un , D11b-Sol3-1 ) ;
4433: LD_VAR 0 3
4437: PPUSH
4438: LD_STRING D11b-Sol3-1
4440: PPUSH
4441: CALL_OW 88
// Say ( JMM , D11b-JMM-1 ) ;
4445: LD_EXP 1
4449: PPUSH
4450: LD_STRING D11b-JMM-1
4452: PPUSH
4453: CALL_OW 88
// DialogueOff ;
4457: CALL_OW 7
// end ; if number = 3 then
4461: LD_VAR 0 1
4465: PUSH
4466: LD_INT 3
4468: EQUAL
4469: IFFALSE 4633
// begin hc_class := 1 ;
4471: LD_ADDR_OWVAR 28
4475: PUSH
4476: LD_INT 1
4478: ST_TO_ADDR
// hc_sex := sex_male ;
4479: LD_ADDR_OWVAR 27
4483: PUSH
4484: LD_INT 1
4486: ST_TO_ADDR
// hc_gallery := DJ ;
4487: LD_ADDR_OWVAR 33
4491: PUSH
4492: LD_STRING DJ
4494: ST_TO_ADDR
// hc_face_number := 1 ;
4495: LD_ADDR_OWVAR 34
4499: PUSH
4500: LD_INT 1
4502: ST_TO_ADDR
// hc_name := Darius Dajay ;
4503: LD_ADDR_OWVAR 26
4507: PUSH
4508: LD_STRING Darius Dajay
4510: ST_TO_ADDR
// hc_attr := [ 11 , 11 ] ;
4511: LD_ADDR_OWVAR 29
4515: PUSH
4516: LD_INT 11
4518: PUSH
4519: LD_INT 11
4521: PUSH
4522: EMPTY
4523: LIST
4524: LIST
4525: ST_TO_ADDR
// hc_basic_skills := [ 2 , 0 , 0 , 0 ] ;
4526: LD_ADDR_OWVAR 30
4530: PUSH
4531: LD_INT 2
4533: PUSH
4534: LD_INT 0
4536: PUSH
4537: LD_INT 0
4539: PUSH
4540: LD_INT 0
4542: PUSH
4543: EMPTY
4544: LIST
4545: LIST
4546: LIST
4547: LIST
4548: ST_TO_ADDR
// hc_skills := [ 4 , 0 , 1 , 0 ] ;
4549: LD_ADDR_OWVAR 31
4553: PUSH
4554: LD_INT 4
4556: PUSH
4557: LD_INT 0
4559: PUSH
4560: LD_INT 1
4562: PUSH
4563: LD_INT 0
4565: PUSH
4566: EMPTY
4567: LIST
4568: LIST
4569: LIST
4570: LIST
4571: ST_TO_ADDR
// un = CreateHuman ;
4572: LD_ADDR_VAR 0 3
4576: PUSH
4577: CALL_OW 44
4581: ST_TO_ADDR
// PlaceUnitArea ( un , NewPeopleSpawn3 , true ) ;
4582: LD_VAR 0 3
4586: PPUSH
4587: LD_INT 25
4589: PPUSH
4590: LD_INT 1
4592: PPUSH
4593: CALL_OW 49
// CenterNowOnUnits ( un ) ;
4597: LD_VAR 0 3
4601: PPUSH
4602: CALL_OW 87
// wait ( 0 0$1 ) ;
4606: LD_INT 35
4608: PPUSH
4609: CALL_OW 67
// DialogueOn ;
4613: CALL_OW 6
// Say ( un , D11f-Sol5-1 ) ;
4617: LD_VAR 0 3
4621: PPUSH
4622: LD_STRING D11f-Sol5-1
4624: PPUSH
4625: CALL_OW 88
// DialogueOff ;
4629: CALL_OW 7
// end ; if number = 4 then
4633: LD_VAR 0 1
4637: PUSH
4638: LD_INT 4
4640: EQUAL
4641: IFFALSE 4805
// begin hc_class := 3 ;
4643: LD_ADDR_OWVAR 28
4647: PUSH
4648: LD_INT 3
4650: ST_TO_ADDR
// hc_sex := sex_female ;
4651: LD_ADDR_OWVAR 27
4655: PUSH
4656: LD_INT 2
4658: ST_TO_ADDR
// hc_gallery := SecondCharsGal ;
4659: LD_ADDR_OWVAR 33
4663: PUSH
4664: LD_STRING SecondCharsGal
4666: ST_TO_ADDR
// hc_face_number := 46 ;
4667: LD_ADDR_OWVAR 34
4671: PUSH
4672: LD_INT 46
4674: ST_TO_ADDR
// hc_name := Sylvia Creak ;
4675: LD_ADDR_OWVAR 26
4679: PUSH
4680: LD_STRING Sylvia Creak
4682: ST_TO_ADDR
// hc_attr := [ 10 , 9 ] ;
4683: LD_ADDR_OWVAR 29
4687: PUSH
4688: LD_INT 10
4690: PUSH
4691: LD_INT 9
4693: PUSH
4694: EMPTY
4695: LIST
4696: LIST
4697: ST_TO_ADDR
// hc_basic_skills := [ 0 , 1 , 1 , 1 ] ;
4698: LD_ADDR_OWVAR 30
4702: PUSH
4703: LD_INT 0
4705: PUSH
4706: LD_INT 1
4708: PUSH
4709: LD_INT 1
4711: PUSH
4712: LD_INT 1
4714: PUSH
4715: EMPTY
4716: LIST
4717: LIST
4718: LIST
4719: LIST
4720: ST_TO_ADDR
// hc_skills := [ 1 , 3 , 1 , 1 ] ;
4721: LD_ADDR_OWVAR 31
4725: PUSH
4726: LD_INT 1
4728: PUSH
4729: LD_INT 3
4731: PUSH
4732: LD_INT 1
4734: PUSH
4735: LD_INT 1
4737: PUSH
4738: EMPTY
4739: LIST
4740: LIST
4741: LIST
4742: LIST
4743: ST_TO_ADDR
// un = CreateHuman ;
4744: LD_ADDR_VAR 0 3
4748: PUSH
4749: CALL_OW 44
4753: ST_TO_ADDR
// PlaceUnitArea ( un , NewPeopleSpawn4 , true ) ;
4754: LD_VAR 0 3
4758: PPUSH
4759: LD_INT 26
4761: PPUSH
4762: LD_INT 1
4764: PPUSH
4765: CALL_OW 49
// CenterNowOnUnits ( un ) ;
4769: LD_VAR 0 3
4773: PPUSH
4774: CALL_OW 87
// wait ( 0 0$1 ) ;
4778: LD_INT 35
4780: PPUSH
4781: CALL_OW 67
// DialogueOn ;
4785: CALL_OW 6
// Say ( un , D11e-FSol4-1 ) ;
4789: LD_VAR 0 3
4793: PPUSH
4794: LD_STRING D11e-FSol4-1
4796: PPUSH
4797: CALL_OW 88
// DialogueOff ;
4801: CALL_OW 7
// end ; if number = 5 then
4805: LD_VAR 0 1
4809: PUSH
4810: LD_INT 5
4812: EQUAL
4813: IFFALSE 4989
// begin hc_class := 1 ;
4815: LD_ADDR_OWVAR 28
4819: PUSH
4820: LD_INT 1
4822: ST_TO_ADDR
// hc_sex := sex_female ;
4823: LD_ADDR_OWVAR 27
4827: PUSH
4828: LD_INT 2
4830: ST_TO_ADDR
// hc_gallery := SecondCharsGal ;
4831: LD_ADDR_OWVAR 33
4835: PUSH
4836: LD_STRING SecondCharsGal
4838: ST_TO_ADDR
// hc_face_number := 37 ;
4839: LD_ADDR_OWVAR 34
4843: PUSH
4844: LD_INT 37
4846: ST_TO_ADDR
// hc_name := Margherite Simpson ;
4847: LD_ADDR_OWVAR 26
4851: PUSH
4852: LD_STRING Margherite Simpson
4854: ST_TO_ADDR
// hc_attr := [ 11 , 10 ] ;
4855: LD_ADDR_OWVAR 29
4859: PUSH
4860: LD_INT 11
4862: PUSH
4863: LD_INT 10
4865: PUSH
4866: EMPTY
4867: LIST
4868: LIST
4869: ST_TO_ADDR
// hc_basic_skills := [ 1 , 1 , 0 , 0 ] ;
4870: LD_ADDR_OWVAR 30
4874: PUSH
4875: LD_INT 1
4877: PUSH
4878: LD_INT 1
4880: PUSH
4881: LD_INT 0
4883: PUSH
4884: LD_INT 0
4886: PUSH
4887: EMPTY
4888: LIST
4889: LIST
4890: LIST
4891: LIST
4892: ST_TO_ADDR
// hc_skills := [ 1 , 1 , 1 , 1 ] ;
4893: LD_ADDR_OWVAR 31
4897: PUSH
4898: LD_INT 1
4900: PUSH
4901: LD_INT 1
4903: PUSH
4904: LD_INT 1
4906: PUSH
4907: LD_INT 1
4909: PUSH
4910: EMPTY
4911: LIST
4912: LIST
4913: LIST
4914: LIST
4915: ST_TO_ADDR
// un = CreateHuman ;
4916: LD_ADDR_VAR 0 3
4920: PUSH
4921: CALL_OW 44
4925: ST_TO_ADDR
// PlaceUnitArea ( un , NewPeopleSpawn5 , true ) ;
4926: LD_VAR 0 3
4930: PPUSH
4931: LD_INT 27
4933: PPUSH
4934: LD_INT 1
4936: PPUSH
4937: CALL_OW 49
// CenterNowOnUnits ( un ) ;
4941: LD_VAR 0 3
4945: PPUSH
4946: CALL_OW 87
// wait ( 0 0$1 ) ;
4950: LD_INT 35
4952: PPUSH
4953: CALL_OW 67
// DialogueOn ;
4957: CALL_OW 6
// Say ( un , D11c-FSol3-1 ) ;
4961: LD_VAR 0 3
4965: PPUSH
4966: LD_STRING D11c-FSol3-1
4968: PPUSH
4969: CALL_OW 88
// Say ( JMM , D11c-JMM-1 ) ;
4973: LD_EXP 1
4977: PPUSH
4978: LD_STRING D11c-JMM-1
4980: PPUSH
4981: CALL_OW 88
// DialogueOff ;
4985: CALL_OW 7
// end ; if number = 6 then
4989: LD_VAR 0 1
4993: PUSH
4994: LD_INT 6
4996: EQUAL
4997: IFFALSE 5171
// begin hc_class := 1 ;
4999: LD_ADDR_OWVAR 28
5003: PUSH
5004: LD_INT 1
5006: ST_TO_ADDR
// hc_sex := sex_male ;
5007: LD_ADDR_OWVAR 27
5011: PUSH
5012: LD_INT 1
5014: ST_TO_ADDR
// hc_gallery := AmGalRemake ;
5015: LD_ADDR_OWVAR 33
5019: PUSH
5020: LD_STRING AmGalRemake
5022: ST_TO_ADDR
// hc_face_number := 1 ;
5023: LD_ADDR_OWVAR 34
5027: PUSH
5028: LD_INT 1
5030: ST_TO_ADDR
// hc_name := Charles Brown ;
5031: LD_ADDR_OWVAR 26
5035: PUSH
5036: LD_STRING Charles Brown
5038: ST_TO_ADDR
// hc_attr := [ 12 , 11 ] ;
5039: LD_ADDR_OWVAR 29
5043: PUSH
5044: LD_INT 12
5046: PUSH
5047: LD_INT 11
5049: PUSH
5050: EMPTY
5051: LIST
5052: LIST
5053: ST_TO_ADDR
// hc_basic_skills := [ 2 , 0 , 0 , 0 ] ;
5054: LD_ADDR_OWVAR 30
5058: PUSH
5059: LD_INT 2
5061: PUSH
5062: LD_INT 0
5064: PUSH
5065: LD_INT 0
5067: PUSH
5068: LD_INT 0
5070: PUSH
5071: EMPTY
5072: LIST
5073: LIST
5074: LIST
5075: LIST
5076: ST_TO_ADDR
// hc_skills := [ 3 , 0 , 1 , 1 ] ;
5077: LD_ADDR_OWVAR 31
5081: PUSH
5082: LD_INT 3
5084: PUSH
5085: LD_INT 0
5087: PUSH
5088: LD_INT 1
5090: PUSH
5091: LD_INT 1
5093: PUSH
5094: EMPTY
5095: LIST
5096: LIST
5097: LIST
5098: LIST
5099: ST_TO_ADDR
// un = CreateHuman ;
5100: LD_ADDR_VAR 0 3
5104: PUSH
5105: CALL_OW 44
5109: ST_TO_ADDR
// PlaceUnitArea ( un , NewPeopleSpawn6 , true ) ;
5110: LD_VAR 0 3
5114: PPUSH
5115: LD_INT 28
5117: PPUSH
5118: LD_INT 1
5120: PPUSH
5121: CALL_OW 49
// CenterNowOnUnits ( un ) ;
5125: LD_VAR 0 3
5129: PPUSH
5130: CALL_OW 87
// wait ( 0 0$1 ) ;
5134: LD_INT 35
5136: PPUSH
5137: CALL_OW 67
// DialogueOn ;
5141: CALL_OW 6
// Say ( un , D4-Sol1-5 ) ;
5145: LD_VAR 0 3
5149: PPUSH
5150: LD_STRING D4-Sol1-5
5152: PPUSH
5153: CALL_OW 88
// DialogueOff ;
5157: CALL_OW 7
// tempCharles = un ;
5161: LD_ADDR_EXP 13
5165: PUSH
5166: LD_VAR 0 3
5170: ST_TO_ADDR
// end ; if number = 7 then
5171: LD_VAR 0 1
5175: PUSH
5176: LD_INT 7
5178: EQUAL
5179: IFFALSE 5429
// begin hc_class := 1 ;
5181: LD_ADDR_OWVAR 28
5185: PUSH
5186: LD_INT 1
5188: ST_TO_ADDR
// hc_sex := sex_female ;
5189: LD_ADDR_OWVAR 27
5193: PUSH
5194: LD_INT 2
5196: ST_TO_ADDR
// hc_gallery := AmGalRemake ;
5197: LD_ADDR_OWVAR 33
5201: PUSH
5202: LD_STRING AmGalRemake
5204: ST_TO_ADDR
// hc_face_number := 2 ;
5205: LD_ADDR_OWVAR 34
5209: PUSH
5210: LD_INT 2
5212: ST_TO_ADDR
// hc_name := Rebecca Macdonald ;
5213: LD_ADDR_OWVAR 26
5217: PUSH
5218: LD_STRING Rebecca Macdonald
5220: ST_TO_ADDR
// hc_attr := [ 10 , 10 ] ;
5221: LD_ADDR_OWVAR 29
5225: PUSH
5226: LD_INT 10
5228: PUSH
5229: LD_INT 10
5231: PUSH
5232: EMPTY
5233: LIST
5234: LIST
5235: ST_TO_ADDR
// hc_basic_skills := [ 1 , 0 , 0 , 1 ] ;
5236: LD_ADDR_OWVAR 30
5240: PUSH
5241: LD_INT 1
5243: PUSH
5244: LD_INT 0
5246: PUSH
5247: LD_INT 0
5249: PUSH
5250: LD_INT 1
5252: PUSH
5253: EMPTY
5254: LIST
5255: LIST
5256: LIST
5257: LIST
5258: ST_TO_ADDR
// hc_skills := [ 1 , 0 , 0 , 1 ] ;
5259: LD_ADDR_OWVAR 31
5263: PUSH
5264: LD_INT 1
5266: PUSH
5267: LD_INT 0
5269: PUSH
5270: LD_INT 0
5272: PUSH
5273: LD_INT 1
5275: PUSH
5276: EMPTY
5277: LIST
5278: LIST
5279: LIST
5280: LIST
5281: ST_TO_ADDR
// un = CreateHuman ;
5282: LD_ADDR_VAR 0 3
5286: PUSH
5287: CALL_OW 44
5291: ST_TO_ADDR
// PlaceUnitArea ( un , NewPeopleSpawn7 , true ) ;
5292: LD_VAR 0 3
5296: PPUSH
5297: LD_INT 29
5299: PPUSH
5300: LD_INT 1
5302: PPUSH
5303: CALL_OW 49
// CenterNowOnUnits ( un ) ;
5307: LD_VAR 0 3
5311: PPUSH
5312: CALL_OW 87
// wait ( 0 0$1 ) ;
5316: LD_INT 35
5318: PPUSH
5319: CALL_OW 67
// if FilterUnitsInArea ( NewPeopleSpawn7Spot , [ f_side , 3 ] ) then
5323: LD_INT 30
5325: PPUSH
5326: LD_INT 22
5328: PUSH
5329: LD_INT 3
5331: PUSH
5332: EMPTY
5333: LIST
5334: LIST
5335: PPUSH
5336: CALL_OW 70
5340: IFFALSE 5429
// begin DialogueOn ;
5342: CALL_OW 6
// PlaceSeeing ( GetX ( un ) , GetY ( un ) , 1 , - 15 ) ;
5346: LD_VAR 0 3
5350: PPUSH
5351: CALL_OW 250
5355: PPUSH
5356: LD_VAR 0 3
5360: PPUSH
5361: CALL_OW 251
5365: PPUSH
5366: LD_INT 1
5368: PPUSH
5369: LD_INT 15
5371: NEG
5372: PPUSH
5373: CALL_OW 330
// RemoveSeeing ( GetX ( un ) , GetY ( un ) , 1 ) ;
5377: LD_VAR 0 3
5381: PPUSH
5382: CALL_OW 250
5386: PPUSH
5387: LD_VAR 0 3
5391: PPUSH
5392: CALL_OW 251
5396: PPUSH
5397: LD_INT 1
5399: PPUSH
5400: CALL_OW 331
// Say ( un , D11a-FSol2-1 ) ;
5404: LD_VAR 0 3
5408: PPUSH
5409: LD_STRING D11a-FSol2-1
5411: PPUSH
5412: CALL_OW 88
// ComCrawl ( un ) ;
5416: LD_VAR 0 3
5420: PPUSH
5421: CALL_OW 137
// DialogueOff ;
5425: CALL_OW 7
// end ; end ; ignoreTarget := ignoreTarget union un ;
5429: LD_ADDR_EXP 45
5433: PUSH
5434: LD_EXP 45
5438: PUSH
5439: LD_VAR 0 3
5443: UNION
5444: ST_TO_ADDR
// arrivals := arrivals union un ;
5445: LD_ADDR_EXP 46
5449: PUSH
5450: LD_EXP 46
5454: PUSH
5455: LD_VAR 0 3
5459: UNION
5460: ST_TO_ADDR
// end ;
5461: LD_VAR 0 2
5465: RET
// every 0 0$1 do var i ;
5466: GO 5468
5468: DISABLE
5469: LD_INT 0
5471: PPUSH
// begin enable ;
5472: ENABLE
// if not ignoreTarget then
5473: LD_EXP 45
5477: NOT
5478: IFFALSE 5482
// exit ;
5480: GO 5563
// for i in ignoreTarget do
5482: LD_ADDR_VAR 0 1
5486: PUSH
5487: LD_EXP 45
5491: PUSH
5492: FOR_IN
5493: IFFALSE 5561
// if ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_dist , i , 10 ] ] ) diff ignoreTarget ) > 1 then
5495: LD_INT 22
5497: PUSH
5498: LD_INT 1
5500: PUSH
5501: EMPTY
5502: LIST
5503: LIST
5504: PUSH
5505: LD_INT 91
5507: PUSH
5508: LD_VAR 0 1
5512: PUSH
5513: LD_INT 10
5515: PUSH
5516: EMPTY
5517: LIST
5518: LIST
5519: LIST
5520: PUSH
5521: EMPTY
5522: LIST
5523: LIST
5524: PPUSH
5525: CALL_OW 69
5529: PUSH
5530: LD_EXP 45
5534: DIFF
5535: PUSH
5536: LD_INT 1
5538: GREATER
5539: IFFALSE 5559
// begin ignoreTarget := ignoreTarget diff i ;
5541: LD_ADDR_EXP 45
5545: PUSH
5546: LD_EXP 45
5550: PUSH
5551: LD_VAR 0 1
5555: DIFF
5556: ST_TO_ADDR
// break ;
5557: GO 5561
// end ;
5559: GO 5492
5561: POP
5562: POP
// end ; end_of_file
5563: PPOPN 1
5565: END
// export function PrepareRussian ; var i ; begin
5566: LD_INT 0
5568: PPUSH
5569: PPUSH
// if Difficulty < 3 then
5570: LD_OWVAR 67
5574: PUSH
5575: LD_INT 3
5577: LESS
5578: IFFALSE 5595
// RemoveUnit ( HexInfo ( 130 , 81 ) ) ;
5580: LD_INT 130
5582: PPUSH
5583: LD_INT 81
5585: PPUSH
5586: CALL_OW 428
5590: PPUSH
5591: CALL_OW 64
// RespawnInside ( 3 , 3 , rudepo , rand ( RuSolMinLevel , RuSolMaxLevel ) , 2 , 4 ) ;
5595: LD_INT 3
5597: PPUSH
5598: LD_INT 3
5600: PPUSH
5601: LD_INT 2
5603: PPUSH
5604: LD_EXP 34
5608: PPUSH
5609: LD_EXP 35
5613: PPUSH
5614: CALL_OW 12
5618: PPUSH
5619: LD_INT 2
5621: PPUSH
5622: LD_INT 4
5624: PPUSH
5625: CALL 6160 0 6
// RespawnInside ( 3 , 3 , ruarm1 , rand ( RuSolMinLevel , RuSolMaxLevel ) , 1 , 4 ) ;
5629: LD_INT 3
5631: PPUSH
5632: LD_INT 3
5634: PPUSH
5635: LD_INT 8
5637: PPUSH
5638: LD_EXP 34
5642: PPUSH
5643: LD_EXP 35
5647: PPUSH
5648: CALL_OW 12
5652: PPUSH
5653: LD_INT 1
5655: PPUSH
5656: LD_INT 4
5658: PPUSH
5659: CALL 6160 0 6
// RespawnInside ( 3 , 3 , ruarm2 , rand ( RuSolMinLevel , RuSolMaxLevel ) , 1 , 2 ) ;
5663: LD_INT 3
5665: PPUSH
5666: LD_INT 3
5668: PPUSH
5669: LD_INT 67
5671: PPUSH
5672: LD_EXP 34
5676: PPUSH
5677: LD_EXP 35
5681: PPUSH
5682: CALL_OW 12
5686: PPUSH
5687: LD_INT 1
5689: PPUSH
5690: LD_INT 2
5692: PPUSH
5693: CALL 6160 0 6
// RespawnInside ( 3 , 3 , rufab , rand ( RuSolMinLevel , RuSolMaxLevel ) , 3 , 6 ) ;
5697: LD_INT 3
5699: PPUSH
5700: LD_INT 3
5702: PPUSH
5703: LD_INT 21
5705: PPUSH
5706: LD_EXP 34
5710: PPUSH
5711: LD_EXP 35
5715: PPUSH
5716: CALL_OW 12
5720: PPUSH
5721: LD_INT 3
5723: PPUSH
5724: LD_INT 6
5726: PPUSH
5727: CALL 6160 0 6
// RespawnInside ( 3 , 3 , rufabsupp , rand ( RuSolMinLevel , RuSolMaxLevel ) , 3 , 6 ) ;
5731: LD_INT 3
5733: PPUSH
5734: LD_INT 3
5736: PPUSH
5737: LD_INT 17
5739: PPUSH
5740: LD_EXP 34
5744: PPUSH
5745: LD_EXP 35
5749: PPUSH
5750: CALL_OW 12
5754: PPUSH
5755: LD_INT 3
5757: PPUSH
5758: LD_INT 6
5760: PPUSH
5761: CALL 6160 0 6
// RespawnInside ( 3 , 3 , rulab , rand ( RuSolMinLevel , RuSolMaxLevel ) , 4 , 2 ) ;
5765: LD_INT 3
5767: PPUSH
5768: LD_INT 3
5770: PPUSH
5771: LD_INT 32
5773: PPUSH
5774: LD_EXP 34
5778: PPUSH
5779: LD_EXP 35
5783: PPUSH
5784: CALL_OW 12
5788: PPUSH
5789: LD_INT 4
5791: PPUSH
5792: LD_INT 2
5794: PPUSH
5795: CALL 6160 0 6
// for i in FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_building ] , [ f_btype , b_bunker ] ] ) do
5799: LD_ADDR_VAR 0 2
5803: PUSH
5804: LD_INT 22
5806: PUSH
5807: LD_INT 3
5809: PUSH
5810: EMPTY
5811: LIST
5812: LIST
5813: PUSH
5814: LD_INT 21
5816: PUSH
5817: LD_INT 3
5819: PUSH
5820: EMPTY
5821: LIST
5822: LIST
5823: PUSH
5824: LD_INT 30
5826: PUSH
5827: LD_INT 32
5829: PUSH
5830: EMPTY
5831: LIST
5832: LIST
5833: PUSH
5834: EMPTY
5835: LIST
5836: LIST
5837: LIST
5838: PPUSH
5839: CALL_OW 69
5843: PUSH
5844: FOR_IN
5845: IFFALSE 5885
// RespawnInside ( 3 , 3 , i , rand ( RuSolMinLevel , RuSolMaxLevel ) , 1 , 1 ) ;
5847: LD_INT 3
5849: PPUSH
5850: LD_INT 3
5852: PPUSH
5853: LD_VAR 0 2
5857: PPUSH
5858: LD_EXP 34
5862: PPUSH
5863: LD_EXP 35
5867: PPUSH
5868: CALL_OW 12
5872: PPUSH
5873: LD_INT 1
5875: PPUSH
5876: LD_INT 1
5878: PPUSH
5879: CALL 6160 0 6
5883: GO 5844
5885: POP
5886: POP
// for i in FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_building ] , [ f_btype , 31 ] ] ) do
5887: LD_ADDR_VAR 0 2
5891: PUSH
5892: LD_INT 22
5894: PUSH
5895: LD_INT 3
5897: PUSH
5898: EMPTY
5899: LIST
5900: LIST
5901: PUSH
5902: LD_INT 21
5904: PUSH
5905: LD_INT 3
5907: PUSH
5908: EMPTY
5909: LIST
5910: LIST
5911: PUSH
5912: LD_INT 30
5914: PUSH
5915: LD_INT 31
5917: PUSH
5918: EMPTY
5919: LIST
5920: LIST
5921: PUSH
5922: EMPTY
5923: LIST
5924: LIST
5925: LIST
5926: PPUSH
5927: CALL_OW 69
5931: PUSH
5932: FOR_IN
5933: IFFALSE 5961
// PrepareSolBun ( rand ( RuSolMinLevel , RuSolMaxLevel ) , i ) ;
5935: LD_EXP 34
5939: PPUSH
5940: LD_EXP 35
5944: PPUSH
5945: CALL_OW 12
5949: PPUSH
5950: LD_VAR 0 2
5954: PPUSH
5955: CALL 6270 0 2
5959: GO 5932
5961: POP
5962: POP
// end ; end_of_file
5963: LD_VAR 0 1
5967: RET
// export function PrepareUnit ( ident , exist_mode ) ; var unit ; begin
5968: LD_INT 0
5970: PPUSH
5971: PPUSH
// if exist_mode then
5972: LD_VAR 0 2
5976: IFFALSE 6001
// begin unit := CreateCharacter ( mission_prefix_prev & ident ) ;
5978: LD_ADDR_VAR 0 4
5982: PUSH
5983: LD_EXP 44
5987: PUSH
5988: LD_VAR 0 1
5992: STR
5993: PPUSH
5994: CALL_OW 34
5998: ST_TO_ADDR
// end else
5999: GO 6016
// begin unit := NewCharacter ( ident ) ;
6001: LD_ADDR_VAR 0 4
6005: PUSH
6006: LD_VAR 0 1
6010: PPUSH
6011: CALL_OW 25
6015: ST_TO_ADDR
// end ; result := unit ;
6016: LD_ADDR_VAR 0 3
6020: PUSH
6021: LD_VAR 0 4
6025: ST_TO_ADDR
// end ;
6026: LD_VAR 0 3
6030: RET
// export function DialogRandom ( characters , dialogMID , dialogFID ) ; var i , speaker ; begin
6031: LD_INT 0
6033: PPUSH
6034: PPUSH
6035: PPUSH
// speaker := characters [ rand ( 1 , characters ) ] ;
6036: LD_ADDR_VAR 0 6
6040: PUSH
6041: LD_VAR 0 1
6045: PUSH
6046: LD_INT 1
6048: PPUSH
6049: LD_VAR 0 1
6053: PPUSH
6054: CALL_OW 12
6058: ARRAY
6059: ST_TO_ADDR
// if GetSex ( speaker ) = sex_male then
6060: LD_VAR 0 6
6064: PPUSH
6065: CALL_OW 258
6069: PUSH
6070: LD_INT 1
6072: EQUAL
6073: IFFALSE 6091
// Say ( speaker , dialogMID ) else
6075: LD_VAR 0 6
6079: PPUSH
6080: LD_VAR 0 2
6084: PPUSH
6085: CALL_OW 88
6089: GO 6105
// Say ( speaker , dialogFID ) ;
6091: LD_VAR 0 6
6095: PPUSH
6096: LD_VAR 0 3
6100: PPUSH
6101: CALL_OW 88
// result := speaker ;
6105: LD_ADDR_VAR 0 4
6109: PUSH
6110: LD_VAR 0 6
6114: ST_TO_ADDR
// end ;
6115: LD_VAR 0 4
6119: RET
// export function EnchancedSaveCharacters ( charactersList , ident ) ; var i ; begin
6120: LD_INT 0
6122: PPUSH
6123: PPUSH
// for i in charactersList do
6124: LD_ADDR_VAR 0 4
6128: PUSH
6129: LD_VAR 0 1
6133: PUSH
6134: FOR_IN
6135: IFFALSE 6153
// SaveCharacters ( i , ident ) ;
6137: LD_VAR 0 4
6141: PPUSH
6142: LD_VAR 0 2
6146: PPUSH
6147: CALL_OW 38
6151: GO 6134
6153: POP
6154: POP
// end ;
6155: LD_VAR 0 3
6159: RET
// export function RespawnInside ( side , nation , build , skill , class , count ) ; var i , l , un ; begin
6160: LD_INT 0
6162: PPUSH
6163: PPUSH
6164: PPUSH
6165: PPUSH
// for i = 1 to count do
6166: LD_ADDR_VAR 0 8
6170: PUSH
6171: DOUBLE
6172: LD_INT 1
6174: DEC
6175: ST_TO_ADDR
6176: LD_VAR 0 6
6180: PUSH
6181: FOR_TO
6182: IFFALSE 6263
// begin uc_side = side ;
6184: LD_ADDR_OWVAR 20
6188: PUSH
6189: LD_VAR 0 1
6193: ST_TO_ADDR
// uc_nation = nation ;
6194: LD_ADDR_OWVAR 21
6198: PUSH
6199: LD_VAR 0 2
6203: ST_TO_ADDR
// hc_gallery =  ;
6204: LD_ADDR_OWVAR 33
6208: PUSH
6209: LD_STRING 
6211: ST_TO_ADDR
// hc_name =  ;
6212: LD_ADDR_OWVAR 26
6216: PUSH
6217: LD_STRING 
6219: ST_TO_ADDR
// PrepareHuman ( false , class , skill ) ;
6220: LD_INT 0
6222: PPUSH
6223: LD_VAR 0 5
6227: PPUSH
6228: LD_VAR 0 4
6232: PPUSH
6233: CALL_OW 380
// un = CreateHuman ;
6237: LD_ADDR_VAR 0 10
6241: PUSH
6242: CALL_OW 44
6246: ST_TO_ADDR
// PlaceHumanInUnit ( un , build ) ;
6247: LD_VAR 0 10
6251: PPUSH
6252: LD_VAR 0 3
6256: PPUSH
6257: CALL_OW 52
// end ;
6261: GO 6181
6263: POP
6264: POP
// end ;
6265: LD_VAR 0 7
6269: RET
// export function PrepareSolBun ( skill , b ) ; var un , dir ; begin
6270: LD_INT 0
6272: PPUSH
6273: PPUSH
6274: PPUSH
// uc_side := GetSide ( b ) ;
6275: LD_ADDR_OWVAR 20
6279: PUSH
6280: LD_VAR 0 2
6284: PPUSH
6285: CALL_OW 255
6289: ST_TO_ADDR
// uc_nation := GetNation ( b ) ;
6290: LD_ADDR_OWVAR 21
6294: PUSH
6295: LD_VAR 0 2
6299: PPUSH
6300: CALL_OW 248
6304: ST_TO_ADDR
// PrepareHuman ( false , 1 , skill ) ;
6305: LD_INT 0
6307: PPUSH
6308: LD_INT 1
6310: PPUSH
6311: LD_VAR 0 1
6315: PPUSH
6316: CALL_OW 380
// dir := GetDir ( b ) - 3 ;
6320: LD_ADDR_VAR 0 5
6324: PUSH
6325: LD_VAR 0 2
6329: PPUSH
6330: CALL_OW 254
6334: PUSH
6335: LD_INT 3
6337: MINUS
6338: ST_TO_ADDR
// if dir < 0 then
6339: LD_VAR 0 5
6343: PUSH
6344: LD_INT 0
6346: LESS
6347: IFFALSE 6363
// dir := 6 + dir ;
6349: LD_ADDR_VAR 0 5
6353: PUSH
6354: LD_INT 6
6356: PUSH
6357: LD_VAR 0 5
6361: PLUS
6362: ST_TO_ADDR
// un := CreateHuman ;
6363: LD_ADDR_VAR 0 4
6367: PUSH
6368: CALL_OW 44
6372: ST_TO_ADDR
// SetDir ( un , dir ) ;
6373: LD_VAR 0 4
6377: PPUSH
6378: LD_VAR 0 5
6382: PPUSH
6383: CALL_OW 233
// PlaceHumanInUnit ( un , b ) ;
6387: LD_VAR 0 4
6391: PPUSH
6392: LD_VAR 0 2
6396: PPUSH
6397: CALL_OW 52
// end ;
6401: LD_VAR 0 3
6405: RET
// export function PrepareDifficulty ; begin
6406: LD_INT 0
6408: PPUSH
// if Difficulty = 1 then
6409: LD_OWVAR 67
6413: PUSH
6414: LD_INT 1
6416: EQUAL
6417: IFFALSE 6435
// begin RuSolMinLevel = 2 ;
6419: LD_ADDR_EXP 34
6423: PUSH
6424: LD_INT 2
6426: ST_TO_ADDR
// RuSolMaxLevel = 3 ;
6427: LD_ADDR_EXP 35
6431: PUSH
6432: LD_INT 3
6434: ST_TO_ADDR
// end ; if Difficulty = 2 then
6435: LD_OWVAR 67
6439: PUSH
6440: LD_INT 2
6442: EQUAL
6443: IFFALSE 6461
// begin RuSolMinLevel = 3 ;
6445: LD_ADDR_EXP 34
6449: PUSH
6450: LD_INT 3
6452: ST_TO_ADDR
// RuSolMaxLevel = 5 ;
6453: LD_ADDR_EXP 35
6457: PUSH
6458: LD_INT 5
6460: ST_TO_ADDR
// end ; if Difficulty = 3 then
6461: LD_OWVAR 67
6465: PUSH
6466: LD_INT 3
6468: EQUAL
6469: IFFALSE 6487
// begin RuSolMinLevel = 4 ;
6471: LD_ADDR_EXP 34
6475: PUSH
6476: LD_INT 4
6478: ST_TO_ADDR
// RuSolMaxLevel = 6 ;
6479: LD_ADDR_EXP 35
6483: PUSH
6484: LD_INT 6
6486: ST_TO_ADDR
// end ; end ;
6487: LD_VAR 0 1
6491: RET
// export function ShowQuery1 ; begin
6492: LD_INT 0
6494: PPUSH
// case query ( QKill ) of 1 :
6495: LD_STRING QKill
6497: PPUSH
6498: CALL_OW 97
6502: PUSH
6503: LD_INT 1
6505: DOUBLE
6506: EQUAL
6507: IFTRUE 6511
6509: GO 6522
6511: POP
// begin result = 1 ;
6512: LD_ADDR_VAR 0 1
6516: PUSH
6517: LD_INT 1
6519: ST_TO_ADDR
// end ; 2 :
6520: GO 6561
6522: LD_INT 2
6524: DOUBLE
6525: EQUAL
6526: IFTRUE 6530
6528: GO 6541
6530: POP
// begin result = 2 ;
6531: LD_ADDR_VAR 0 1
6535: PUSH
6536: LD_INT 2
6538: ST_TO_ADDR
// end ; 3 :
6539: GO 6561
6541: LD_INT 3
6543: DOUBLE
6544: EQUAL
6545: IFTRUE 6549
6547: GO 6560
6549: POP
// begin result = 3 ;
6550: LD_ADDR_VAR 0 1
6554: PUSH
6555: LD_INT 3
6557: ST_TO_ADDR
// end ; end ;
6558: GO 6561
6560: POP
// end ;
6561: LD_VAR 0 1
6565: RET
// export function ShowQuery2 ; begin
6566: LD_INT 0
6568: PPUSH
// case query ( QKill2 ) of 1 :
6569: LD_STRING QKill2
6571: PPUSH
6572: CALL_OW 97
6576: PUSH
6577: LD_INT 1
6579: DOUBLE
6580: EQUAL
6581: IFTRUE 6585
6583: GO 6596
6585: POP
// begin result = 1 ;
6586: LD_ADDR_VAR 0 1
6590: PUSH
6591: LD_INT 1
6593: ST_TO_ADDR
// end ; 2 :
6594: GO 6616
6596: LD_INT 2
6598: DOUBLE
6599: EQUAL
6600: IFTRUE 6604
6602: GO 6615
6604: POP
// begin result = 2 ;
6605: LD_ADDR_VAR 0 1
6609: PUSH
6610: LD_INT 2
6612: ST_TO_ADDR
// end ; end ;
6613: GO 6616
6615: POP
// end ;
6616: LD_VAR 0 1
6620: RET
// export function ResAllTechs ( side , lab , nation ) ; var i , tech , cout , ru_tech_list ; begin
6621: LD_INT 0
6623: PPUSH
6624: PPUSH
6625: PPUSH
6626: PPUSH
6627: PPUSH
// ru_tech_list := [ 48 , 49 , 50 , 20 , 1 , 51 , 52 , 69 , 39 , 34 , 40 , 53 , 71 , 57 , 58 , 44 , 32 , 27 , 23 , 33 , 59 , 54 , 55 , 56 , 63 , 64 , 65 , 30 , 31 , 21 , 22 , 25 ] ;
6628: LD_ADDR_VAR 0 8
6632: PUSH
6633: LD_INT 48
6635: PUSH
6636: LD_INT 49
6638: PUSH
6639: LD_INT 50
6641: PUSH
6642: LD_INT 20
6644: PUSH
6645: LD_INT 1
6647: PUSH
6648: LD_INT 51
6650: PUSH
6651: LD_INT 52
6653: PUSH
6654: LD_INT 69
6656: PUSH
6657: LD_INT 39
6659: PUSH
6660: LD_INT 34
6662: PUSH
6663: LD_INT 40
6665: PUSH
6666: LD_INT 53
6668: PUSH
6669: LD_INT 71
6671: PUSH
6672: LD_INT 57
6674: PUSH
6675: LD_INT 58
6677: PUSH
6678: LD_INT 44
6680: PUSH
6681: LD_INT 32
6683: PUSH
6684: LD_INT 27
6686: PUSH
6687: LD_INT 23
6689: PUSH
6690: LD_INT 33
6692: PUSH
6693: LD_INT 59
6695: PUSH
6696: LD_INT 54
6698: PUSH
6699: LD_INT 55
6701: PUSH
6702: LD_INT 56
6704: PUSH
6705: LD_INT 63
6707: PUSH
6708: LD_INT 64
6710: PUSH
6711: LD_INT 65
6713: PUSH
6714: LD_INT 30
6716: PUSH
6717: LD_INT 31
6719: PUSH
6720: LD_INT 21
6722: PUSH
6723: LD_INT 22
6725: PUSH
6726: LD_INT 25
6728: PUSH
6729: EMPTY
6730: LIST
6731: LIST
6732: LIST
6733: LIST
6734: LIST
6735: LIST
6736: LIST
6737: LIST
6738: LIST
6739: LIST
6740: LIST
6741: LIST
6742: LIST
6743: LIST
6744: LIST
6745: LIST
6746: LIST
6747: LIST
6748: LIST
6749: LIST
6750: LIST
6751: LIST
6752: LIST
6753: LIST
6754: LIST
6755: LIST
6756: LIST
6757: LIST
6758: LIST
6759: LIST
6760: LIST
6761: LIST
6762: ST_TO_ADDR
// for i = 1 to ru_tech_list do
6763: LD_ADDR_VAR 0 5
6767: PUSH
6768: DOUBLE
6769: LD_INT 1
6771: DEC
6772: ST_TO_ADDR
6773: LD_VAR 0 8
6777: PUSH
6778: FOR_TO
6779: IFFALSE 6855
// if GetTech ( ru_tech_list [ i ] , side ) = state_enabled and TechNationAvailable ( ru_tech_list [ i ] , nation ) = true then
6781: LD_VAR 0 8
6785: PUSH
6786: LD_VAR 0 5
6790: ARRAY
6791: PPUSH
6792: LD_VAR 0 1
6796: PPUSH
6797: CALL_OW 321
6801: PUSH
6802: LD_INT 1
6804: EQUAL
6805: PUSH
6806: LD_VAR 0 8
6810: PUSH
6811: LD_VAR 0 5
6815: ARRAY
6816: PPUSH
6817: LD_VAR 0 3
6821: PPUSH
6822: CALL_OW 482
6826: PUSH
6827: LD_INT 1
6829: EQUAL
6830: AND
6831: IFFALSE 6853
// AddComResearch ( lab , ru_tech_list [ i ] ) ;
6833: LD_VAR 0 2
6837: PPUSH
6838: LD_VAR 0 8
6842: PUSH
6843: LD_VAR 0 5
6847: ARRAY
6848: PPUSH
6849: CALL_OW 184
6853: GO 6778
6855: POP
6856: POP
// end ;
6857: LD_VAR 0 4
6861: RET
// export function BuildingVehicleAndAttackEnemy ( side , fabric , vehCount , weaponTab , engine , control , chassis ) ; var i , weapon ; begin
6862: LD_INT 0
6864: PPUSH
6865: PPUSH
6866: PPUSH
// if FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_vehicle ] ] ) <= vehCount then
6867: LD_INT 22
6869: PUSH
6870: LD_VAR 0 1
6874: PUSH
6875: EMPTY
6876: LIST
6877: LIST
6878: PUSH
6879: LD_INT 21
6881: PUSH
6882: LD_INT 2
6884: PUSH
6885: EMPTY
6886: LIST
6887: LIST
6888: PUSH
6889: EMPTY
6890: LIST
6891: LIST
6892: PPUSH
6893: CALL_OW 69
6897: PUSH
6898: LD_VAR 0 3
6902: LESSEQUAL
6903: IFFALSE 7011
// begin for i = 1 to vehCount do
6905: LD_ADDR_VAR 0 9
6909: PUSH
6910: DOUBLE
6911: LD_INT 1
6913: DEC
6914: ST_TO_ADDR
6915: LD_VAR 0 3
6919: PUSH
6920: FOR_TO
6921: IFFALSE 7009
// begin weapon = weaponTab [ i ] ;
6923: LD_ADDR_VAR 0 10
6927: PUSH
6928: LD_VAR 0 4
6932: PUSH
6933: LD_VAR 0 9
6937: ARRAY
6938: ST_TO_ADDR
// if weapon = 46 then
6939: LD_VAR 0 10
6943: PUSH
6944: LD_INT 46
6946: EQUAL
6947: IFFALSE 6978
// begin AddComConstruct ( fabric , 24 , engine , control , weapon ) ;
6949: LD_VAR 0 2
6953: PPUSH
6954: LD_INT 24
6956: PPUSH
6957: LD_VAR 0 5
6961: PPUSH
6962: LD_VAR 0 6
6966: PPUSH
6967: LD_VAR 0 10
6971: PPUSH
6972: CALL_OW 185
// end else
6976: GO 7007
// begin AddComConstruct ( fabric , chassis , engine , control , weapon ) ;
6978: LD_VAR 0 2
6982: PPUSH
6983: LD_VAR 0 7
6987: PPUSH
6988: LD_VAR 0 5
6992: PPUSH
6993: LD_VAR 0 6
6997: PPUSH
6998: LD_VAR 0 10
7002: PPUSH
7003: CALL_OW 185
// end ; end ;
7007: GO 6920
7009: POP
7010: POP
// end ; end ;
7011: LD_VAR 0 8
7015: RET
// export function RepairVehicles ( side , area , repX , repY ) ; var i , j , damageVehicles ; begin
7016: LD_INT 0
7018: PPUSH
7019: PPUSH
7020: PPUSH
7021: PPUSH
// damageVehicles = FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_not , [ f_lives , 650 ] ] ] ) ;
7022: LD_ADDR_VAR 0 8
7026: PUSH
7027: LD_INT 22
7029: PUSH
7030: LD_VAR 0 1
7034: PUSH
7035: EMPTY
7036: LIST
7037: LIST
7038: PUSH
7039: LD_INT 21
7041: PUSH
7042: LD_INT 2
7044: PUSH
7045: EMPTY
7046: LIST
7047: LIST
7048: PUSH
7049: LD_INT 3
7051: PUSH
7052: LD_INT 24
7054: PUSH
7055: LD_INT 650
7057: PUSH
7058: EMPTY
7059: LIST
7060: LIST
7061: PUSH
7062: EMPTY
7063: LIST
7064: LIST
7065: PUSH
7066: EMPTY
7067: LIST
7068: LIST
7069: LIST
7070: PPUSH
7071: CALL_OW 69
7075: ST_TO_ADDR
// if damageVehicles > 0 then
7076: LD_VAR 0 8
7080: PUSH
7081: LD_INT 0
7083: GREATER
7084: IFFALSE 7105
// ComMoveXY ( damageVehicles , repX , repY ) ;
7086: LD_VAR 0 8
7090: PPUSH
7091: LD_VAR 0 3
7095: PPUSH
7096: LD_VAR 0 4
7100: PPUSH
7101: CALL_OW 111
// if UnitFilter ( damageVehicles , [ [ f_inarea , area ] , [ f_not , [ f_empty ] ] ] ) > 0 then
7105: LD_VAR 0 8
7109: PPUSH
7110: LD_INT 95
7112: PUSH
7113: LD_VAR 0 2
7117: PUSH
7118: EMPTY
7119: LIST
7120: LIST
7121: PUSH
7122: LD_INT 3
7124: PUSH
7125: LD_INT 58
7127: PUSH
7128: EMPTY
7129: LIST
7130: PUSH
7131: EMPTY
7132: LIST
7133: LIST
7134: PUSH
7135: EMPTY
7136: LIST
7137: LIST
7138: PPUSH
7139: CALL_OW 72
7143: PUSH
7144: LD_INT 0
7146: GREATER
7147: IFFALSE 7214
// for i in UnitFilter ( damageVehicles , [ [ f_inarea , area ] , [ f_not , [ f_empty ] ] ] ) do
7149: LD_ADDR_VAR 0 6
7153: PUSH
7154: LD_VAR 0 8
7158: PPUSH
7159: LD_INT 95
7161: PUSH
7162: LD_VAR 0 2
7166: PUSH
7167: EMPTY
7168: LIST
7169: LIST
7170: PUSH
7171: LD_INT 3
7173: PUSH
7174: LD_INT 58
7176: PUSH
7177: EMPTY
7178: LIST
7179: PUSH
7180: EMPTY
7181: LIST
7182: LIST
7183: PUSH
7184: EMPTY
7185: LIST
7186: LIST
7187: PPUSH
7188: CALL_OW 72
7192: PUSH
7193: FOR_IN
7194: IFFALSE 7212
// ComExitVehicle ( UnitsInside ( i ) ) ;
7196: LD_VAR 0 6
7200: PPUSH
7201: CALL_OW 313
7205: PPUSH
7206: CALL_OW 121
7210: GO 7193
7212: POP
7213: POP
// end ;
7214: LD_VAR 0 5
7218: RET
// export function AttackVehicles ( side , meetArea , wayX , wayY ) ; var i , j , vehiclesOK , target1 , target2 , seeEnemy ; begin
7219: LD_INT 0
7221: PPUSH
7222: PPUSH
7223: PPUSH
7224: PPUSH
7225: PPUSH
7226: PPUSH
7227: PPUSH
// vehiclesOK = FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_lives , 660 ] , [ f_not , [ f_empty ] , [ f_or , [ f_weapon , 43 ] , [ f_weapon , 44 ] , [ f_weapon , 46 ] ] ] ] ) ;
7228: LD_ADDR_VAR 0 8
7232: PUSH
7233: LD_INT 22
7235: PUSH
7236: LD_VAR 0 1
7240: PUSH
7241: EMPTY
7242: LIST
7243: LIST
7244: PUSH
7245: LD_INT 21
7247: PUSH
7248: LD_INT 2
7250: PUSH
7251: EMPTY
7252: LIST
7253: LIST
7254: PUSH
7255: LD_INT 24
7257: PUSH
7258: LD_INT 660
7260: PUSH
7261: EMPTY
7262: LIST
7263: LIST
7264: PUSH
7265: LD_INT 3
7267: PUSH
7268: LD_INT 58
7270: PUSH
7271: EMPTY
7272: LIST
7273: PUSH
7274: LD_INT 2
7276: PUSH
7277: LD_INT 34
7279: PUSH
7280: LD_INT 43
7282: PUSH
7283: EMPTY
7284: LIST
7285: LIST
7286: PUSH
7287: LD_INT 34
7289: PUSH
7290: LD_INT 44
7292: PUSH
7293: EMPTY
7294: LIST
7295: LIST
7296: PUSH
7297: LD_INT 34
7299: PUSH
7300: LD_INT 46
7302: PUSH
7303: EMPTY
7304: LIST
7305: LIST
7306: PUSH
7307: EMPTY
7308: LIST
7309: LIST
7310: LIST
7311: LIST
7312: PUSH
7313: EMPTY
7314: LIST
7315: LIST
7316: LIST
7317: PUSH
7318: EMPTY
7319: LIST
7320: LIST
7321: LIST
7322: LIST
7323: PPUSH
7324: CALL_OW 69
7328: ST_TO_ADDR
// if FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_lives , 1000 ] , [ f_not , [ f_empty ] , [ f_or , [ f_weapon , 43 ] , [ f_weapon , 44 ] , [ f_weapon , 46 ] ] ] ] ) = [ 5 , 6 , 6 ] [ Difficulty ] then
7329: LD_INT 22
7331: PUSH
7332: LD_VAR 0 1
7336: PUSH
7337: EMPTY
7338: LIST
7339: LIST
7340: PUSH
7341: LD_INT 21
7343: PUSH
7344: LD_INT 2
7346: PUSH
7347: EMPTY
7348: LIST
7349: LIST
7350: PUSH
7351: LD_INT 24
7353: PUSH
7354: LD_INT 1000
7356: PUSH
7357: EMPTY
7358: LIST
7359: LIST
7360: PUSH
7361: LD_INT 3
7363: PUSH
7364: LD_INT 58
7366: PUSH
7367: EMPTY
7368: LIST
7369: PUSH
7370: LD_INT 2
7372: PUSH
7373: LD_INT 34
7375: PUSH
7376: LD_INT 43
7378: PUSH
7379: EMPTY
7380: LIST
7381: LIST
7382: PUSH
7383: LD_INT 34
7385: PUSH
7386: LD_INT 44
7388: PUSH
7389: EMPTY
7390: LIST
7391: LIST
7392: PUSH
7393: LD_INT 34
7395: PUSH
7396: LD_INT 46
7398: PUSH
7399: EMPTY
7400: LIST
7401: LIST
7402: PUSH
7403: EMPTY
7404: LIST
7405: LIST
7406: LIST
7407: LIST
7408: PUSH
7409: EMPTY
7410: LIST
7411: LIST
7412: LIST
7413: PUSH
7414: EMPTY
7415: LIST
7416: LIST
7417: LIST
7418: LIST
7419: PPUSH
7420: CALL_OW 69
7424: PUSH
7425: LD_INT 5
7427: PUSH
7428: LD_INT 6
7430: PUSH
7431: LD_INT 6
7433: PUSH
7434: EMPTY
7435: LIST
7436: LIST
7437: LIST
7438: PUSH
7439: LD_OWVAR 67
7443: ARRAY
7444: EQUAL
7445: IFFALSE 7701
// if seeEnemy = 0 then
7447: LD_VAR 0 11
7451: PUSH
7452: LD_INT 0
7454: EQUAL
7455: IFFALSE 7701
// repeat wait ( 0 0$1 ) ;
7457: LD_INT 35
7459: PPUSH
7460: CALL_OW 67
// vehiclesOK = FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_lives , 660 ] , [ f_not , [ f_empty ] , [ f_or , [ f_weapon , 43 ] , [ f_weapon , 44 ] , [ f_weapon , 46 ] ] ] ] ) ;
7464: LD_ADDR_VAR 0 8
7468: PUSH
7469: LD_INT 22
7471: PUSH
7472: LD_VAR 0 1
7476: PUSH
7477: EMPTY
7478: LIST
7479: LIST
7480: PUSH
7481: LD_INT 21
7483: PUSH
7484: LD_INT 2
7486: PUSH
7487: EMPTY
7488: LIST
7489: LIST
7490: PUSH
7491: LD_INT 24
7493: PUSH
7494: LD_INT 660
7496: PUSH
7497: EMPTY
7498: LIST
7499: LIST
7500: PUSH
7501: LD_INT 3
7503: PUSH
7504: LD_INT 58
7506: PUSH
7507: EMPTY
7508: LIST
7509: PUSH
7510: LD_INT 2
7512: PUSH
7513: LD_INT 34
7515: PUSH
7516: LD_INT 43
7518: PUSH
7519: EMPTY
7520: LIST
7521: LIST
7522: PUSH
7523: LD_INT 34
7525: PUSH
7526: LD_INT 44
7528: PUSH
7529: EMPTY
7530: LIST
7531: LIST
7532: PUSH
7533: LD_INT 34
7535: PUSH
7536: LD_INT 46
7538: PUSH
7539: EMPTY
7540: LIST
7541: LIST
7542: PUSH
7543: EMPTY
7544: LIST
7545: LIST
7546: LIST
7547: LIST
7548: PUSH
7549: EMPTY
7550: LIST
7551: LIST
7552: LIST
7553: PUSH
7554: EMPTY
7555: LIST
7556: LIST
7557: LIST
7558: LIST
7559: PPUSH
7560: CALL_OW 69
7564: ST_TO_ADDR
// if not FilterAllUnits ( [ [ f_side , side ] , [ f_inarea , meetArea ] ] ) and seeEnemy = 0 then
7565: LD_INT 22
7567: PUSH
7568: LD_VAR 0 1
7572: PUSH
7573: EMPTY
7574: LIST
7575: LIST
7576: PUSH
7577: LD_INT 95
7579: PUSH
7580: LD_VAR 0 2
7584: PUSH
7585: EMPTY
7586: LIST
7587: LIST
7588: PUSH
7589: EMPTY
7590: LIST
7591: LIST
7592: PPUSH
7593: CALL_OW 69
7597: NOT
7598: PUSH
7599: LD_VAR 0 11
7603: PUSH
7604: LD_INT 0
7606: EQUAL
7607: AND
7608: IFFALSE 7663
// for i := 1 to wayX do
7610: LD_ADDR_VAR 0 6
7614: PUSH
7615: DOUBLE
7616: LD_INT 1
7618: DEC
7619: ST_TO_ADDR
7620: LD_VAR 0 3
7624: PUSH
7625: FOR_TO
7626: IFFALSE 7661
// ComAgressiveMove ( vehiclesOK , wayX [ i ] , wayY [ i ] ) ;
7628: LD_VAR 0 8
7632: PPUSH
7633: LD_VAR 0 3
7637: PUSH
7638: LD_VAR 0 6
7642: ARRAY
7643: PPUSH
7644: LD_VAR 0 4
7648: PUSH
7649: LD_VAR 0 6
7653: ARRAY
7654: PPUSH
7655: CALL_OW 114
7659: GO 7625
7661: POP
7662: POP
// until FilterAllUnits ( [ [ f_side , side ] , [ f_inarea , meetArea ] ] ) > 0 ;
7663: LD_INT 22
7665: PUSH
7666: LD_VAR 0 1
7670: PUSH
7671: EMPTY
7672: LIST
7673: LIST
7674: PUSH
7675: LD_INT 95
7677: PUSH
7678: LD_VAR 0 2
7682: PUSH
7683: EMPTY
7684: LIST
7685: LIST
7686: PUSH
7687: EMPTY
7688: LIST
7689: LIST
7690: PPUSH
7691: CALL_OW 69
7695: PUSH
7696: LD_INT 0
7698: GREATER
7699: IFFALSE 7457
// seeEnemy = 1 ;
7701: LD_ADDR_VAR 0 11
7705: PUSH
7706: LD_INT 1
7708: ST_TO_ADDR
// repeat wait ( 0 0$1 ) ;
7709: LD_INT 35
7711: PPUSH
7712: CALL_OW 67
// for j in vehiclesOK do
7716: LD_ADDR_VAR 0 7
7720: PUSH
7721: LD_VAR 0 8
7725: PUSH
7726: FOR_IN
7727: IFFALSE 7940
// begin target1 := NearestUnitToUnit ( FilterAllUnits ( [ [ f_enemy , side ] , [ f_see , 1 ] ] ) diff ignoreTarget , j ) ;
7729: LD_ADDR_VAR 0 9
7733: PUSH
7734: LD_INT 81
7736: PUSH
7737: LD_VAR 0 1
7741: PUSH
7742: EMPTY
7743: LIST
7744: LIST
7745: PUSH
7746: LD_INT 101
7748: PUSH
7749: LD_INT 1
7751: PUSH
7752: EMPTY
7753: LIST
7754: LIST
7755: PUSH
7756: EMPTY
7757: LIST
7758: LIST
7759: PPUSH
7760: CALL_OW 69
7764: PUSH
7765: LD_EXP 45
7769: DIFF
7770: PPUSH
7771: LD_VAR 0 7
7775: PPUSH
7776: CALL_OW 74
7780: ST_TO_ADDR
// target2 := NearestUnitToUnit ( FilterAllUnits ( [ [ [ f_enemy , side ] , [ f_see , 1 ] , [ f_or , [ f_occupied ] , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] ] ] ) diff ignoreTarget , j ) ;
7781: LD_ADDR_VAR 0 10
7785: PUSH
7786: LD_INT 81
7788: PUSH
7789: LD_VAR 0 1
7793: PUSH
7794: EMPTY
7795: LIST
7796: LIST
7797: PUSH
7798: LD_INT 101
7800: PUSH
7801: LD_INT 1
7803: PUSH
7804: EMPTY
7805: LIST
7806: LIST
7807: PUSH
7808: LD_INT 2
7810: PUSH
7811: LD_INT 59
7813: PUSH
7814: EMPTY
7815: LIST
7816: PUSH
7817: LD_INT 21
7819: PUSH
7820: LD_INT 1
7822: PUSH
7823: EMPTY
7824: LIST
7825: LIST
7826: PUSH
7827: LD_INT 21
7829: PUSH
7830: LD_INT 2
7832: PUSH
7833: EMPTY
7834: LIST
7835: LIST
7836: PUSH
7837: EMPTY
7838: LIST
7839: LIST
7840: LIST
7841: LIST
7842: PUSH
7843: EMPTY
7844: LIST
7845: LIST
7846: LIST
7847: PUSH
7848: EMPTY
7849: LIST
7850: PPUSH
7851: CALL_OW 69
7855: PUSH
7856: LD_EXP 45
7860: DIFF
7861: PPUSH
7862: LD_VAR 0 7
7866: PPUSH
7867: CALL_OW 74
7871: ST_TO_ADDR
// if GetDistUnits ( j , target1 ) + 8 < GetDistUnits ( j , target2 ) then
7872: LD_VAR 0 7
7876: PPUSH
7877: LD_VAR 0 9
7881: PPUSH
7882: CALL_OW 296
7886: PUSH
7887: LD_INT 8
7889: PLUS
7890: PUSH
7891: LD_VAR 0 7
7895: PPUSH
7896: LD_VAR 0 10
7900: PPUSH
7901: CALL_OW 296
7905: LESS
7906: IFFALSE 7924
// ComAttackUnit ( j , target1 ) else
7908: LD_VAR 0 7
7912: PPUSH
7913: LD_VAR 0 9
7917: PPUSH
7918: CALL_OW 115
7922: GO 7938
// ComAttackUnit ( j , target2 ) ;
7924: LD_VAR 0 7
7928: PPUSH
7929: LD_VAR 0 10
7933: PPUSH
7934: CALL_OW 115
// end ;
7938: GO 7726
7940: POP
7941: POP
// until FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_lives , 1000 ] , [ f_not , [ f_empty ] , [ f_or , [ f_weapon , 43 ] , [ f_weapon , 44 ] , [ f_weapon , 46 ] ] ] ] ) = 0 ;
7942: LD_INT 22
7944: PUSH
7945: LD_VAR 0 1
7949: PUSH
7950: EMPTY
7951: LIST
7952: LIST
7953: PUSH
7954: LD_INT 21
7956: PUSH
7957: LD_INT 2
7959: PUSH
7960: EMPTY
7961: LIST
7962: LIST
7963: PUSH
7964: LD_INT 24
7966: PUSH
7967: LD_INT 1000
7969: PUSH
7970: EMPTY
7971: LIST
7972: LIST
7973: PUSH
7974: LD_INT 3
7976: PUSH
7977: LD_INT 58
7979: PUSH
7980: EMPTY
7981: LIST
7982: PUSH
7983: LD_INT 2
7985: PUSH
7986: LD_INT 34
7988: PUSH
7989: LD_INT 43
7991: PUSH
7992: EMPTY
7993: LIST
7994: LIST
7995: PUSH
7996: LD_INT 34
7998: PUSH
7999: LD_INT 44
8001: PUSH
8002: EMPTY
8003: LIST
8004: LIST
8005: PUSH
8006: LD_INT 34
8008: PUSH
8009: LD_INT 46
8011: PUSH
8012: EMPTY
8013: LIST
8014: LIST
8015: PUSH
8016: EMPTY
8017: LIST
8018: LIST
8019: LIST
8020: LIST
8021: PUSH
8022: EMPTY
8023: LIST
8024: LIST
8025: LIST
8026: PUSH
8027: EMPTY
8028: LIST
8029: LIST
8030: LIST
8031: LIST
8032: PPUSH
8033: CALL_OW 69
8037: PUSH
8038: LD_INT 0
8040: EQUAL
8041: IFFALSE 7709
// seeEnemy = 0 ;
8043: LD_ADDR_VAR 0 11
8047: PUSH
8048: LD_INT 0
8050: ST_TO_ADDR
// end ;
8051: LD_VAR 0 5
8055: RET
// export function RepairAndRebuildBase ( side , building , area , destroyedBuildings ) ; var buildings_list , i , engineerOkInside , engineerOkOutside , j ; begin
8056: LD_INT 0
8058: PPUSH
8059: PPUSH
8060: PPUSH
8061: PPUSH
8062: PPUSH
8063: PPUSH
// engineerOkInside = UnitsInside ( building ) ;
8064: LD_ADDR_VAR 0 8
8068: PUSH
8069: LD_VAR 0 2
8073: PPUSH
8074: CALL_OW 313
8078: ST_TO_ADDR
// engineerOkOutside = FilterUnitsInArea ( area , [ [ f_side , side ] , [ f_class , 2 ] , [ f_lives , 750 ] , [ f_not , [ f_inside ] ] ] ) ;
8079: LD_ADDR_VAR 0 9
8083: PUSH
8084: LD_VAR 0 3
8088: PPUSH
8089: LD_INT 22
8091: PUSH
8092: LD_VAR 0 1
8096: PUSH
8097: EMPTY
8098: LIST
8099: LIST
8100: PUSH
8101: LD_INT 25
8103: PUSH
8104: LD_INT 2
8106: PUSH
8107: EMPTY
8108: LIST
8109: LIST
8110: PUSH
8111: LD_INT 24
8113: PUSH
8114: LD_INT 750
8116: PUSH
8117: EMPTY
8118: LIST
8119: LIST
8120: PUSH
8121: LD_INT 3
8123: PUSH
8124: LD_INT 54
8126: PUSH
8127: EMPTY
8128: LIST
8129: PUSH
8130: EMPTY
8131: LIST
8132: LIST
8133: PUSH
8134: EMPTY
8135: LIST
8136: LIST
8137: LIST
8138: LIST
8139: PPUSH
8140: CALL_OW 70
8144: ST_TO_ADDR
// buildings_list = FilterUnitsInArea ( area , [ [ [ f_side , side ] , [ f_type , unit_building ] , [ f_not , [ f_lives , 1000 ] ] ] ] ) ;
8145: LD_ADDR_VAR 0 6
8149: PUSH
8150: LD_VAR 0 3
8154: PPUSH
8155: LD_INT 22
8157: PUSH
8158: LD_VAR 0 1
8162: PUSH
8163: EMPTY
8164: LIST
8165: LIST
8166: PUSH
8167: LD_INT 21
8169: PUSH
8170: LD_INT 3
8172: PUSH
8173: EMPTY
8174: LIST
8175: LIST
8176: PUSH
8177: LD_INT 3
8179: PUSH
8180: LD_INT 24
8182: PUSH
8183: LD_INT 1000
8185: PUSH
8186: EMPTY
8187: LIST
8188: LIST
8189: PUSH
8190: EMPTY
8191: LIST
8192: LIST
8193: PUSH
8194: EMPTY
8195: LIST
8196: LIST
8197: LIST
8198: PUSH
8199: EMPTY
8200: LIST
8201: PPUSH
8202: CALL_OW 70
8206: ST_TO_ADDR
// if not buildings_list and not FilterAllUnits ( [ [ f_side , side ] , [ f_class , 2 ] , [ f_lives , 250 ] ] ) then
8207: LD_VAR 0 6
8211: NOT
8212: PUSH
8213: LD_INT 22
8215: PUSH
8216: LD_VAR 0 1
8220: PUSH
8221: EMPTY
8222: LIST
8223: LIST
8224: PUSH
8225: LD_INT 25
8227: PUSH
8228: LD_INT 2
8230: PUSH
8231: EMPTY
8232: LIST
8233: LIST
8234: PUSH
8235: LD_INT 24
8237: PUSH
8238: LD_INT 250
8240: PUSH
8241: EMPTY
8242: LIST
8243: LIST
8244: PUSH
8245: EMPTY
8246: LIST
8247: LIST
8248: LIST
8249: PPUSH
8250: CALL_OW 69
8254: NOT
8255: AND
8256: IFFALSE 8260
// exit ;
8258: GO 8442
// if buildings_list > 0 and engineerOkInside then
8260: LD_VAR 0 6
8264: PUSH
8265: LD_INT 0
8267: GREATER
8268: PUSH
8269: LD_VAR 0 8
8273: AND
8274: IFFALSE 8285
// ComExitBuilding ( engineerOkInside ) ;
8276: LD_VAR 0 8
8280: PPUSH
8281: CALL_OW 122
// if buildings_list > 0 and engineerOkOutside > 0 then
8285: LD_VAR 0 6
8289: PUSH
8290: LD_INT 0
8292: GREATER
8293: PUSH
8294: LD_VAR 0 9
8298: PUSH
8299: LD_INT 0
8301: GREATER
8302: AND
8303: IFFALSE 8323
// ComRepairBuilding ( engineerOkOutside , buildings_list [ 1 ] ) ;
8305: LD_VAR 0 9
8309: PPUSH
8310: LD_VAR 0 6
8314: PUSH
8315: LD_INT 1
8317: ARRAY
8318: PPUSH
8319: CALL_OW 130
// if buildings_list = 0 and destroyedBuildings = 0 and engineerOkOutside > 0 then
8323: LD_VAR 0 6
8327: PUSH
8328: LD_INT 0
8330: EQUAL
8331: PUSH
8332: LD_VAR 0 4
8336: PUSH
8337: LD_INT 0
8339: EQUAL
8340: AND
8341: PUSH
8342: LD_VAR 0 9
8346: PUSH
8347: LD_INT 0
8349: GREATER
8350: AND
8351: IFFALSE 8367
// ComEnterUnit ( engineerOkOutside , building ) ;
8353: LD_VAR 0 9
8357: PPUSH
8358: LD_VAR 0 2
8362: PPUSH
8363: CALL_OW 120
// if engineerOkOutside > 0 and buildings_list = 0 and destroyedBuildings > 0 then
8367: LD_VAR 0 9
8371: PUSH
8372: LD_INT 0
8374: GREATER
8375: PUSH
8376: LD_VAR 0 6
8380: PUSH
8381: LD_INT 0
8383: EQUAL
8384: AND
8385: PUSH
8386: LD_VAR 0 4
8390: PUSH
8391: LD_INT 0
8393: GREATER
8394: AND
8395: IFFALSE 8442
// ComBuild ( engineerOkOutside , destroyedBuildings [ 1 ] , destroyedBuildings [ 2 ] , destroyedBuildings [ 3 ] , destroyedBuildings [ 4 ] ) ;
8397: LD_VAR 0 9
8401: PPUSH
8402: LD_VAR 0 4
8406: PUSH
8407: LD_INT 1
8409: ARRAY
8410: PPUSH
8411: LD_VAR 0 4
8415: PUSH
8416: LD_INT 2
8418: ARRAY
8419: PPUSH
8420: LD_VAR 0 4
8424: PUSH
8425: LD_INT 3
8427: ARRAY
8428: PPUSH
8429: LD_VAR 0 4
8433: PUSH
8434: LD_INT 4
8436: ARRAY
8437: PPUSH
8438: CALL_OW 145
// end ;
8442: LD_VAR 0 5
8446: RET
// export function HealUnitInBase ( side , healArea , baseArea , build ) ; var sci_list , sci_listOutside , i , j , damageUnits , unitsToHeal , tmp , rnd ; begin
8447: LD_INT 0
8449: PPUSH
8450: PPUSH
8451: PPUSH
8452: PPUSH
8453: PPUSH
8454: PPUSH
8455: PPUSH
8456: PPUSH
8457: PPUSH
// sci_list = FilterAllUnits ( [ [ f_side , side ] , [ f_class , 4 ] , [ f_nation , 2 ] , [ f_lives , 251 ] ] ) ;
8458: LD_ADDR_VAR 0 6
8462: PUSH
8463: LD_INT 22
8465: PUSH
8466: LD_VAR 0 1
8470: PUSH
8471: EMPTY
8472: LIST
8473: LIST
8474: PUSH
8475: LD_INT 25
8477: PUSH
8478: LD_INT 4
8480: PUSH
8481: EMPTY
8482: LIST
8483: LIST
8484: PUSH
8485: LD_INT 23
8487: PUSH
8488: LD_INT 2
8490: PUSH
8491: EMPTY
8492: LIST
8493: LIST
8494: PUSH
8495: LD_INT 24
8497: PUSH
8498: LD_INT 251
8500: PUSH
8501: EMPTY
8502: LIST
8503: LIST
8504: PUSH
8505: EMPTY
8506: LIST
8507: LIST
8508: LIST
8509: LIST
8510: PPUSH
8511: CALL_OW 69
8515: ST_TO_ADDR
// sci_listOutside = FilterUnitsInArea ( baseArea , [ [ f_side , side ] , [ f_nation , 2 ] , [ f_class , 4 ] , [ f_ok ] ] ) ;
8516: LD_ADDR_VAR 0 7
8520: PUSH
8521: LD_VAR 0 3
8525: PPUSH
8526: LD_INT 22
8528: PUSH
8529: LD_VAR 0 1
8533: PUSH
8534: EMPTY
8535: LIST
8536: LIST
8537: PUSH
8538: LD_INT 23
8540: PUSH
8541: LD_INT 2
8543: PUSH
8544: EMPTY
8545: LIST
8546: LIST
8547: PUSH
8548: LD_INT 25
8550: PUSH
8551: LD_INT 4
8553: PUSH
8554: EMPTY
8555: LIST
8556: LIST
8557: PUSH
8558: LD_INT 50
8560: PUSH
8561: EMPTY
8562: LIST
8563: PUSH
8564: EMPTY
8565: LIST
8566: LIST
8567: LIST
8568: LIST
8569: PPUSH
8570: CALL_OW 70
8574: ST_TO_ADDR
// damageUnits = FilterUnitsInArea ( baseArea , [ [ f_side , side ] , [ f_type , unit_human ] , [ f_not , [ f_class , 3 ] ] , [ f_not , [ f_lives , 750 ] ] ] ) ;
8575: LD_ADDR_VAR 0 10
8579: PUSH
8580: LD_VAR 0 3
8584: PPUSH
8585: LD_INT 22
8587: PUSH
8588: LD_VAR 0 1
8592: PUSH
8593: EMPTY
8594: LIST
8595: LIST
8596: PUSH
8597: LD_INT 21
8599: PUSH
8600: LD_INT 1
8602: PUSH
8603: EMPTY
8604: LIST
8605: LIST
8606: PUSH
8607: LD_INT 3
8609: PUSH
8610: LD_INT 25
8612: PUSH
8613: LD_INT 3
8615: PUSH
8616: EMPTY
8617: LIST
8618: LIST
8619: PUSH
8620: EMPTY
8621: LIST
8622: LIST
8623: PUSH
8624: LD_INT 3
8626: PUSH
8627: LD_INT 24
8629: PUSH
8630: LD_INT 750
8632: PUSH
8633: EMPTY
8634: LIST
8635: LIST
8636: PUSH
8637: EMPTY
8638: LIST
8639: LIST
8640: PUSH
8641: EMPTY
8642: LIST
8643: LIST
8644: LIST
8645: LIST
8646: PPUSH
8647: CALL_OW 70
8651: ST_TO_ADDR
// unitsToHeal = FilterUnitsInArea ( healArea , [ [ f_side , side ] , [ f_type , unit_human ] , [ f_not , [ f_class , 3 ] ] , [ f_not , [ f_lives , 1000 ] ] ] ) ;
8652: LD_ADDR_VAR 0 11
8656: PUSH
8657: LD_VAR 0 2
8661: PPUSH
8662: LD_INT 22
8664: PUSH
8665: LD_VAR 0 1
8669: PUSH
8670: EMPTY
8671: LIST
8672: LIST
8673: PUSH
8674: LD_INT 21
8676: PUSH
8677: LD_INT 1
8679: PUSH
8680: EMPTY
8681: LIST
8682: LIST
8683: PUSH
8684: LD_INT 3
8686: PUSH
8687: LD_INT 25
8689: PUSH
8690: LD_INT 3
8692: PUSH
8693: EMPTY
8694: LIST
8695: LIST
8696: PUSH
8697: EMPTY
8698: LIST
8699: LIST
8700: PUSH
8701: LD_INT 3
8703: PUSH
8704: LD_INT 24
8706: PUSH
8707: LD_INT 1000
8709: PUSH
8710: EMPTY
8711: LIST
8712: LIST
8713: PUSH
8714: EMPTY
8715: LIST
8716: LIST
8717: PUSH
8718: EMPTY
8719: LIST
8720: LIST
8721: LIST
8722: LIST
8723: PPUSH
8724: CALL_OW 70
8728: ST_TO_ADDR
// if not damageUnits and not unitsToHeal and not sci_list then
8729: LD_VAR 0 10
8733: NOT
8734: PUSH
8735: LD_VAR 0 11
8739: NOT
8740: AND
8741: PUSH
8742: LD_VAR 0 6
8746: NOT
8747: AND
8748: IFFALSE 8752
// exit ;
8750: GO 8986
// if damageUnits > 0 and sci_list > 0 then
8752: LD_VAR 0 10
8756: PUSH
8757: LD_INT 0
8759: GREATER
8760: PUSH
8761: LD_VAR 0 6
8765: PUSH
8766: LD_INT 0
8768: GREATER
8769: AND
8770: IFFALSE 8786
// ComMoveToArea ( damageUnits , healArea ) ;
8772: LD_VAR 0 10
8776: PPUSH
8777: LD_VAR 0 2
8781: PPUSH
8782: CALL_OW 113
// if unitsToHeal > 0 and sci_list > 0 then
8786: LD_VAR 0 11
8790: PUSH
8791: LD_INT 0
8793: GREATER
8794: PUSH
8795: LD_VAR 0 6
8799: PUSH
8800: LD_INT 0
8802: GREATER
8803: AND
8804: IFFALSE 8815
// ComExitBuilding ( sci_list ) ;
8806: LD_VAR 0 6
8810: PPUSH
8811: CALL_OW 122
// if unitsToHeal > 0 and sci_listOutside > 0 then
8815: LD_VAR 0 11
8819: PUSH
8820: LD_INT 0
8822: GREATER
8823: PUSH
8824: LD_VAR 0 7
8828: PUSH
8829: LD_INT 0
8831: GREATER
8832: AND
8833: IFFALSE 8853
// ComHeal ( sci_listOutside , unitsToHeal [ 1 ] ) ;
8835: LD_VAR 0 7
8839: PPUSH
8840: LD_VAR 0 11
8844: PUSH
8845: LD_INT 1
8847: ARRAY
8848: PPUSH
8849: CALL_OW 128
// if damageUnits = 0 and unitsToHeal = 0 and sci_listOutside > 0 then
8853: LD_VAR 0 10
8857: PUSH
8858: LD_INT 0
8860: EQUAL
8861: PUSH
8862: LD_VAR 0 11
8866: PUSH
8867: LD_INT 0
8869: EQUAL
8870: AND
8871: PUSH
8872: LD_VAR 0 7
8876: PUSH
8877: LD_INT 0
8879: GREATER
8880: AND
8881: IFFALSE 8986
// begin tmp = FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_building ] , [ f_btype , b_lab_full ] ] ) ;
8883: LD_ADDR_VAR 0 12
8887: PUSH
8888: LD_INT 22
8890: PUSH
8891: LD_VAR 0 1
8895: PUSH
8896: EMPTY
8897: LIST
8898: LIST
8899: PUSH
8900: LD_INT 21
8902: PUSH
8903: LD_INT 3
8905: PUSH
8906: EMPTY
8907: LIST
8908: LIST
8909: PUSH
8910: LD_INT 30
8912: PUSH
8913: LD_INT 8
8915: PUSH
8916: EMPTY
8917: LIST
8918: LIST
8919: PUSH
8920: EMPTY
8921: LIST
8922: LIST
8923: LIST
8924: PPUSH
8925: CALL_OW 69
8929: ST_TO_ADDR
// rnd = rand ( 1 , tmp ) ;
8930: LD_ADDR_VAR 0 13
8934: PUSH
8935: LD_INT 1
8937: PPUSH
8938: LD_VAR 0 12
8942: PPUSH
8943: CALL_OW 12
8947: ST_TO_ADDR
// ComEnterUnit ( UnitFilter ( sci_listOutside , [ f_not , [ f_hastask ] ] ) , tmp [ rnd ] ) ;
8948: LD_VAR 0 7
8952: PPUSH
8953: LD_INT 3
8955: PUSH
8956: LD_INT 60
8958: PUSH
8959: EMPTY
8960: LIST
8961: PUSH
8962: EMPTY
8963: LIST
8964: LIST
8965: PPUSH
8966: CALL_OW 72
8970: PPUSH
8971: LD_VAR 0 12
8975: PUSH
8976: LD_VAR 0 13
8980: ARRAY
8981: PPUSH
8982: CALL_OW 120
// end ; end ;
8986: LD_VAR 0 5
8990: RET
// export function DefendDepot ( side , build ) ; var i , j , tmpTab ; begin
8991: LD_INT 0
8993: PPUSH
8994: PPUSH
8995: PPUSH
8996: PPUSH
// tmpTab = [ ] ;
8997: LD_ADDR_VAR 0 6
9001: PUSH
9002: EMPTY
9003: ST_TO_ADDR
// if FilterAllUnits ( [ [ f_side , side ] , [ f_btype , b_bunker ] ] ) > 0 then
9004: LD_INT 22
9006: PUSH
9007: LD_VAR 0 1
9011: PUSH
9012: EMPTY
9013: LIST
9014: LIST
9015: PUSH
9016: LD_INT 30
9018: PUSH
9019: LD_INT 32
9021: PUSH
9022: EMPTY
9023: LIST
9024: LIST
9025: PUSH
9026: EMPTY
9027: LIST
9028: LIST
9029: PPUSH
9030: CALL_OW 69
9034: PUSH
9035: LD_INT 0
9037: GREATER
9038: IFFALSE 9121
// begin for i in FilterAllUnits ( [ [ f_side , side ] , [ f_btype , b_bunker ] ] ) do
9040: LD_ADDR_VAR 0 4
9044: PUSH
9045: LD_INT 22
9047: PUSH
9048: LD_VAR 0 1
9052: PUSH
9053: EMPTY
9054: LIST
9055: LIST
9056: PUSH
9057: LD_INT 30
9059: PUSH
9060: LD_INT 32
9062: PUSH
9063: EMPTY
9064: LIST
9065: LIST
9066: PUSH
9067: EMPTY
9068: LIST
9069: LIST
9070: PPUSH
9071: CALL_OW 69
9075: PUSH
9076: FOR_IN
9077: IFFALSE 9119
// begin for j in UnitsInside ( i ) do
9079: LD_ADDR_VAR 0 5
9083: PUSH
9084: LD_VAR 0 4
9088: PPUSH
9089: CALL_OW 313
9093: PUSH
9094: FOR_IN
9095: IFFALSE 9115
// tmpTab = tmpTab ^ j ;
9097: LD_ADDR_VAR 0 6
9101: PUSH
9102: LD_VAR 0 6
9106: PUSH
9107: LD_VAR 0 5
9111: ADD
9112: ST_TO_ADDR
9113: GO 9094
9115: POP
9116: POP
// end ;
9117: GO 9076
9119: POP
9120: POP
// end ; ComAgressiveMove ( tmpTab , GetX ( build ) , GetY ( build ) ) ;
9121: LD_VAR 0 6
9125: PPUSH
9126: LD_VAR 0 2
9130: PPUSH
9131: CALL_OW 250
9135: PPUSH
9136: LD_VAR 0 2
9140: PPUSH
9141: CALL_OW 251
9145: PPUSH
9146: CALL_OW 114
// end ;
9150: LD_VAR 0 3
9154: RET
// export function CollectCrates ( side , cargo , cratesArea ) ; var clear_crates , cargo_list , crate_list ; begin
9155: LD_INT 0
9157: PPUSH
9158: PPUSH
9159: PPUSH
9160: PPUSH
// enable ;
9161: ENABLE
// crate_list = GetListOfCratesInArea ( cratesArea ) ;
9162: LD_ADDR_VAR 0 7
9166: PUSH
9167: LD_VAR 0 3
9171: PPUSH
9172: CALL_OW 435
9176: ST_TO_ADDR
// cargo_list = FilterAllUnits ( [ [ f_side , side ] , [ f_weapon , cargo ] ] ) ;
9177: LD_ADDR_VAR 0 6
9181: PUSH
9182: LD_INT 22
9184: PUSH
9185: LD_VAR 0 1
9189: PUSH
9190: EMPTY
9191: LIST
9192: LIST
9193: PUSH
9194: LD_INT 34
9196: PUSH
9197: LD_VAR 0 2
9201: PUSH
9202: EMPTY
9203: LIST
9204: LIST
9205: PUSH
9206: EMPTY
9207: LIST
9208: LIST
9209: PPUSH
9210: CALL_OW 69
9214: ST_TO_ADDR
// if cargo_list > 0 and GetListOfCratesInArea ( cratesArea ) and crate_list > 0 then
9215: LD_VAR 0 6
9219: PUSH
9220: LD_INT 0
9222: GREATER
9223: PUSH
9224: LD_VAR 0 3
9228: PPUSH
9229: CALL_OW 435
9233: AND
9234: PUSH
9235: LD_VAR 0 7
9239: PUSH
9240: LD_INT 0
9242: GREATER
9243: AND
9244: IFFALSE 9293
// begin AddComCollect ( cargo_list [ 1 ] , crate_list [ 1 ] , crate_list [ 2 ] ) ;
9246: LD_VAR 0 6
9250: PUSH
9251: LD_INT 1
9253: ARRAY
9254: PPUSH
9255: LD_VAR 0 7
9259: PUSH
9260: LD_INT 1
9262: ARRAY
9263: PPUSH
9264: LD_VAR 0 7
9268: PUSH
9269: LD_INT 2
9271: ARRAY
9272: PPUSH
9273: CALL_OW 177
// SetFuel ( cargo_list [ 1 ] , 100 ) ;
9277: LD_VAR 0 6
9281: PUSH
9282: LD_INT 1
9284: ARRAY
9285: PPUSH
9286: LD_INT 100
9288: PPUSH
9289: CALL_OW 240
// end ; end ;
9293: LD_VAR 0 4
9297: RET
// export function EnterBunkerOrBarrack ( side , area ) ; var i , j , soldiers_list , turretList , temp , barrackList , insideUnits ; begin
9298: LD_INT 0
9300: PPUSH
9301: PPUSH
9302: PPUSH
9303: PPUSH
9304: PPUSH
9305: PPUSH
9306: PPUSH
9307: PPUSH
// soldiers_list = FilterUnitsInArea ( area , [ [ f_side , side ] , [ f_outside ] , [ f_lives , 700 ] , [ f_not , [ f_hastask ] ] , [ f_or , [ f_class , 1 ] , [ f_class , 5 ] , [ f_class , 8 ] , [ f_class , 9 ] ] ] ) ;
9308: LD_ADDR_VAR 0 6
9312: PUSH
9313: LD_VAR 0 2
9317: PPUSH
9318: LD_INT 22
9320: PUSH
9321: LD_VAR 0 1
9325: PUSH
9326: EMPTY
9327: LIST
9328: LIST
9329: PUSH
9330: LD_INT 56
9332: PUSH
9333: EMPTY
9334: LIST
9335: PUSH
9336: LD_INT 24
9338: PUSH
9339: LD_INT 700
9341: PUSH
9342: EMPTY
9343: LIST
9344: LIST
9345: PUSH
9346: LD_INT 3
9348: PUSH
9349: LD_INT 60
9351: PUSH
9352: EMPTY
9353: LIST
9354: PUSH
9355: EMPTY
9356: LIST
9357: LIST
9358: PUSH
9359: LD_INT 2
9361: PUSH
9362: LD_INT 25
9364: PUSH
9365: LD_INT 1
9367: PUSH
9368: EMPTY
9369: LIST
9370: LIST
9371: PUSH
9372: LD_INT 25
9374: PUSH
9375: LD_INT 5
9377: PUSH
9378: EMPTY
9379: LIST
9380: LIST
9381: PUSH
9382: LD_INT 25
9384: PUSH
9385: LD_INT 8
9387: PUSH
9388: EMPTY
9389: LIST
9390: LIST
9391: PUSH
9392: LD_INT 25
9394: PUSH
9395: LD_INT 9
9397: PUSH
9398: EMPTY
9399: LIST
9400: LIST
9401: PUSH
9402: EMPTY
9403: LIST
9404: LIST
9405: LIST
9406: LIST
9407: LIST
9408: PUSH
9409: EMPTY
9410: LIST
9411: LIST
9412: LIST
9413: LIST
9414: LIST
9415: PPUSH
9416: CALL_OW 70
9420: ST_TO_ADDR
// turretList = FilterUnitsInArea ( area , [ [ f_side , side ] , [ f_btype , b_bunker ] , [ f_empty ] , [ f_lives , 251 ] ] ) ;
9421: LD_ADDR_VAR 0 7
9425: PUSH
9426: LD_VAR 0 2
9430: PPUSH
9431: LD_INT 22
9433: PUSH
9434: LD_VAR 0 1
9438: PUSH
9439: EMPTY
9440: LIST
9441: LIST
9442: PUSH
9443: LD_INT 30
9445: PUSH
9446: LD_INT 32
9448: PUSH
9449: EMPTY
9450: LIST
9451: LIST
9452: PUSH
9453: LD_INT 58
9455: PUSH
9456: EMPTY
9457: LIST
9458: PUSH
9459: LD_INT 24
9461: PUSH
9462: LD_INT 251
9464: PUSH
9465: EMPTY
9466: LIST
9467: LIST
9468: PUSH
9469: EMPTY
9470: LIST
9471: LIST
9472: LIST
9473: LIST
9474: PPUSH
9475: CALL_OW 70
9479: ST_TO_ADDR
// barrackList = FilterUnitsInArea ( area , [ [ f_side , side ] , [ f_or , [ f_btype , 4 ] , [ f_btype , 5 ] ] , [ f_lives , 251 ] ] ) ;
9480: LD_ADDR_VAR 0 9
9484: PUSH
9485: LD_VAR 0 2
9489: PPUSH
9490: LD_INT 22
9492: PUSH
9493: LD_VAR 0 1
9497: PUSH
9498: EMPTY
9499: LIST
9500: LIST
9501: PUSH
9502: LD_INT 2
9504: PUSH
9505: LD_INT 30
9507: PUSH
9508: LD_INT 4
9510: PUSH
9511: EMPTY
9512: LIST
9513: LIST
9514: PUSH
9515: LD_INT 30
9517: PUSH
9518: LD_INT 5
9520: PUSH
9521: EMPTY
9522: LIST
9523: LIST
9524: PUSH
9525: EMPTY
9526: LIST
9527: LIST
9528: LIST
9529: PUSH
9530: LD_INT 24
9532: PUSH
9533: LD_INT 251
9535: PUSH
9536: EMPTY
9537: LIST
9538: LIST
9539: PUSH
9540: EMPTY
9541: LIST
9542: LIST
9543: LIST
9544: PPUSH
9545: CALL_OW 70
9549: ST_TO_ADDR
// if barrackList > 0 then
9550: LD_VAR 0 9
9554: PUSH
9555: LD_INT 0
9557: GREATER
9558: IFFALSE 9706
// begin if turretList = 0 then
9560: LD_VAR 0 7
9564: PUSH
9565: LD_INT 0
9567: EQUAL
9568: IFFALSE 9610
// begin if soldiers_list > 0 then
9570: LD_VAR 0 6
9574: PUSH
9575: LD_INT 0
9577: GREATER
9578: IFFALSE 9608
// ComEnterUnit ( soldiers_list , barrackList [ Rand ( 1 , barrackList ) ] ) ;
9580: LD_VAR 0 6
9584: PPUSH
9585: LD_VAR 0 9
9589: PUSH
9590: LD_INT 1
9592: PPUSH
9593: LD_VAR 0 9
9597: PPUSH
9598: CALL_OW 12
9602: ARRAY
9603: PPUSH
9604: CALL_OW 120
// end else
9608: GO 9706
// begin for i in barrackList do
9610: LD_ADDR_VAR 0 4
9614: PUSH
9615: LD_VAR 0 9
9619: PUSH
9620: FOR_IN
9621: IFFALSE 9704
// begin insideUnits = UnitsInside ( i ) ;
9623: LD_ADDR_VAR 0 10
9627: PUSH
9628: LD_VAR 0 4
9632: PPUSH
9633: CALL_OW 313
9637: ST_TO_ADDR
// if insideUnits > 0 then
9638: LD_VAR 0 10
9642: PUSH
9643: LD_INT 0
9645: GREATER
9646: IFFALSE 9670
// ComEnterUnit ( insideUnits [ 1 ] , turretList [ 1 ] ) ;
9648: LD_VAR 0 10
9652: PUSH
9653: LD_INT 1
9655: ARRAY
9656: PPUSH
9657: LD_VAR 0 7
9661: PUSH
9662: LD_INT 1
9664: ARRAY
9665: PPUSH
9666: CALL_OW 120
// if soldiers_list > 0 then
9670: LD_VAR 0 6
9674: PUSH
9675: LD_INT 0
9677: GREATER
9678: IFFALSE 9702
// ComEnterUnit ( soldiers_list [ 1 ] , turretList [ 1 ] ) ;
9680: LD_VAR 0 6
9684: PUSH
9685: LD_INT 1
9687: ARRAY
9688: PPUSH
9689: LD_VAR 0 7
9693: PUSH
9694: LD_INT 1
9696: ARRAY
9697: PPUSH
9698: CALL_OW 120
// end ;
9702: GO 9620
9704: POP
9705: POP
// end ; end ; end ;
9706: LD_VAR 0 3
9710: RET
// export function AttackNearBuildings ( side , enemySide ) ; var i , j , turretsList , enemyBuildings ; begin
9711: LD_INT 0
9713: PPUSH
9714: PPUSH
9715: PPUSH
9716: PPUSH
9717: PPUSH
// turretsList = FilterAllUnits ( [ [ f_side , side ] , [ f_or , [ f_btype , 31 ] , [ f_btype , 32 ] , [ f_btype , 33 ] , [ f_btype , 4 ] , [ f_btype , 5 ] ] ] ) ;
9718: LD_ADDR_VAR 0 6
9722: PUSH
9723: LD_INT 22
9725: PUSH
9726: LD_VAR 0 1
9730: PUSH
9731: EMPTY
9732: LIST
9733: LIST
9734: PUSH
9735: LD_INT 2
9737: PUSH
9738: LD_INT 30
9740: PUSH
9741: LD_INT 31
9743: PUSH
9744: EMPTY
9745: LIST
9746: LIST
9747: PUSH
9748: LD_INT 30
9750: PUSH
9751: LD_INT 32
9753: PUSH
9754: EMPTY
9755: LIST
9756: LIST
9757: PUSH
9758: LD_INT 30
9760: PUSH
9761: LD_INT 33
9763: PUSH
9764: EMPTY
9765: LIST
9766: LIST
9767: PUSH
9768: LD_INT 30
9770: PUSH
9771: LD_INT 4
9773: PUSH
9774: EMPTY
9775: LIST
9776: LIST
9777: PUSH
9778: LD_INT 30
9780: PUSH
9781: LD_INT 5
9783: PUSH
9784: EMPTY
9785: LIST
9786: LIST
9787: PUSH
9788: EMPTY
9789: LIST
9790: LIST
9791: LIST
9792: LIST
9793: LIST
9794: LIST
9795: PUSH
9796: EMPTY
9797: LIST
9798: LIST
9799: PPUSH
9800: CALL_OW 69
9804: ST_TO_ADDR
// enemyBuildings = FilterAllUnits ( [ [ f_side , enemySide ] , [ f_type , unit_building ] , [ f_empty ] ] ) ;
9805: LD_ADDR_VAR 0 7
9809: PUSH
9810: LD_INT 22
9812: PUSH
9813: LD_VAR 0 2
9817: PUSH
9818: EMPTY
9819: LIST
9820: LIST
9821: PUSH
9822: LD_INT 21
9824: PUSH
9825: LD_INT 3
9827: PUSH
9828: EMPTY
9829: LIST
9830: LIST
9831: PUSH
9832: LD_INT 58
9834: PUSH
9835: EMPTY
9836: LIST
9837: PUSH
9838: EMPTY
9839: LIST
9840: LIST
9841: LIST
9842: PPUSH
9843: CALL_OW 69
9847: ST_TO_ADDR
// if turretsList > 0 and enemyBuildings > 0 then
9848: LD_VAR 0 6
9852: PUSH
9853: LD_INT 0
9855: GREATER
9856: PUSH
9857: LD_VAR 0 7
9861: PUSH
9862: LD_INT 0
9864: GREATER
9865: AND
9866: IFFALSE 9936
// begin for i in turretsList do
9868: LD_ADDR_VAR 0 4
9872: PUSH
9873: LD_VAR 0 6
9877: PUSH
9878: FOR_IN
9879: IFFALSE 9934
// begin for j in enemyBuildings do
9881: LD_ADDR_VAR 0 5
9885: PUSH
9886: LD_VAR 0 7
9890: PUSH
9891: FOR_IN
9892: IFFALSE 9930
// begin if GetDistUnits ( i , j ) < 20 then
9894: LD_VAR 0 4
9898: PPUSH
9899: LD_VAR 0 5
9903: PPUSH
9904: CALL_OW 296
9908: PUSH
9909: LD_INT 20
9911: LESS
9912: IFFALSE 9928
// begin ComAttackUnit ( i , j ) ;
9914: LD_VAR 0 4
9918: PPUSH
9919: LD_VAR 0 5
9923: PPUSH
9924: CALL_OW 115
// end ; end ;
9928: GO 9891
9930: POP
9931: POP
// end ;
9932: GO 9878
9934: POP
9935: POP
// end ; end ;
9936: LD_VAR 0 3
9940: RET
// export function CraneRepairBuild ( side , repairArea , destroyedBuildings ) ; var i , mechTmp , vehicleTmp , crane_list , buildings_list ; begin
9941: LD_INT 0
9943: PPUSH
9944: PPUSH
9945: PPUSH
9946: PPUSH
9947: PPUSH
9948: PPUSH
// crane_list = FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_weapon , ru_crane ] ] ) ;
9949: LD_ADDR_VAR 0 8
9953: PUSH
9954: LD_INT 22
9956: PUSH
9957: LD_VAR 0 1
9961: PUSH
9962: EMPTY
9963: LIST
9964: LIST
9965: PUSH
9966: LD_INT 21
9968: PUSH
9969: LD_INT 2
9971: PUSH
9972: EMPTY
9973: LIST
9974: LIST
9975: PUSH
9976: LD_INT 34
9978: PUSH
9979: LD_INT 52
9981: PUSH
9982: EMPTY
9983: LIST
9984: LIST
9985: PUSH
9986: EMPTY
9987: LIST
9988: LIST
9989: LIST
9990: PPUSH
9991: CALL_OW 69
9995: ST_TO_ADDR
// buildings_list = FilterAllUnits ( [ [ [ f_side , side ] , [ f_type , unit_building ] , [ f_not , [ f_lives , 1000 ] ] ] ] ) ;
9996: LD_ADDR_VAR 0 9
10000: PUSH
10001: LD_INT 22
10003: PUSH
10004: LD_VAR 0 1
10008: PUSH
10009: EMPTY
10010: LIST
10011: LIST
10012: PUSH
10013: LD_INT 21
10015: PUSH
10016: LD_INT 3
10018: PUSH
10019: EMPTY
10020: LIST
10021: LIST
10022: PUSH
10023: LD_INT 3
10025: PUSH
10026: LD_INT 24
10028: PUSH
10029: LD_INT 1000
10031: PUSH
10032: EMPTY
10033: LIST
10034: LIST
10035: PUSH
10036: EMPTY
10037: LIST
10038: LIST
10039: PUSH
10040: EMPTY
10041: LIST
10042: LIST
10043: LIST
10044: PUSH
10045: EMPTY
10046: LIST
10047: PPUSH
10048: CALL_OW 69
10052: ST_TO_ADDR
// if buildings_list > 0 and UnitFilter ( crane_list , [ f_lives , 750 ] ) > 0 then
10053: LD_VAR 0 9
10057: PUSH
10058: LD_INT 0
10060: GREATER
10061: PUSH
10062: LD_VAR 0 8
10066: PPUSH
10067: LD_INT 24
10069: PUSH
10070: LD_INT 750
10072: PUSH
10073: EMPTY
10074: LIST
10075: LIST
10076: PPUSH
10077: CALL_OW 72
10081: PUSH
10082: LD_INT 0
10084: GREATER
10085: AND
10086: IFFALSE 10121
// ComRepairBuilding ( UnitFilter ( crane_list , [ f_lives , 750 ] ) , buildings_list [ 1 ] ) ;
10088: LD_VAR 0 8
10092: PPUSH
10093: LD_INT 24
10095: PUSH
10096: LD_INT 750
10098: PUSH
10099: EMPTY
10100: LIST
10101: LIST
10102: PPUSH
10103: CALL_OW 72
10107: PPUSH
10108: LD_VAR 0 9
10112: PUSH
10113: LD_INT 1
10115: ARRAY
10116: PPUSH
10117: CALL_OW 130
// if UnitFilter ( crane_list , [ f_not , [ f_lives , 750 ] ] ) > 0 then
10121: LD_VAR 0 8
10125: PPUSH
10126: LD_INT 3
10128: PUSH
10129: LD_INT 24
10131: PUSH
10132: LD_INT 750
10134: PUSH
10135: EMPTY
10136: LIST
10137: LIST
10138: PUSH
10139: EMPTY
10140: LIST
10141: LIST
10142: PPUSH
10143: CALL_OW 72
10147: PUSH
10148: LD_INT 0
10150: GREATER
10151: IFFALSE 10189
// ComMoveToArea ( UnitFilter ( crane_list , [ f_not , [ f_lives , 750 ] ] ) , repairArea ) ;
10153: LD_VAR 0 8
10157: PPUSH
10158: LD_INT 3
10160: PUSH
10161: LD_INT 24
10163: PUSH
10164: LD_INT 750
10166: PUSH
10167: EMPTY
10168: LIST
10169: LIST
10170: PUSH
10171: EMPTY
10172: LIST
10173: LIST
10174: PPUSH
10175: CALL_OW 72
10179: PPUSH
10180: LD_VAR 0 2
10184: PPUSH
10185: CALL_OW 113
// if crane_list > 0 and buildings_list = 0 and destroyedBuildings > 0 then
10189: LD_VAR 0 8
10193: PUSH
10194: LD_INT 0
10196: GREATER
10197: PUSH
10198: LD_VAR 0 9
10202: PUSH
10203: LD_INT 0
10205: EQUAL
10206: AND
10207: PUSH
10208: LD_VAR 0 3
10212: PUSH
10213: LD_INT 0
10215: GREATER
10216: AND
10217: IFFALSE 10264
// AddComCraneBuild ( crane_list , destroyedBuildings [ 1 ] , destroyedBuildings [ 2 ] , destroyedBuildings [ 3 ] , destroyedBuildings [ 4 ] ) ;
10219: LD_VAR 0 8
10223: PPUSH
10224: LD_VAR 0 3
10228: PUSH
10229: LD_INT 1
10231: ARRAY
10232: PPUSH
10233: LD_VAR 0 3
10237: PUSH
10238: LD_INT 2
10240: ARRAY
10241: PPUSH
10242: LD_VAR 0 3
10246: PUSH
10247: LD_INT 3
10249: ARRAY
10250: PPUSH
10251: LD_VAR 0 3
10255: PUSH
10256: LD_INT 4
10258: ARRAY
10259: PPUSH
10260: CALL_OW 567
// if FilterUnitsInArea ( repairArea , [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_weapon , ru_crane ] , [ f_not , [ f_lives , 750 ] ] ] ) > 0 then
10264: LD_VAR 0 2
10268: PPUSH
10269: LD_INT 22
10271: PUSH
10272: LD_VAR 0 1
10276: PUSH
10277: EMPTY
10278: LIST
10279: LIST
10280: PUSH
10281: LD_INT 21
10283: PUSH
10284: LD_INT 2
10286: PUSH
10287: EMPTY
10288: LIST
10289: LIST
10290: PUSH
10291: LD_INT 34
10293: PUSH
10294: LD_INT 52
10296: PUSH
10297: EMPTY
10298: LIST
10299: LIST
10300: PUSH
10301: LD_INT 3
10303: PUSH
10304: LD_INT 24
10306: PUSH
10307: LD_INT 750
10309: PUSH
10310: EMPTY
10311: LIST
10312: LIST
10313: PUSH
10314: EMPTY
10315: LIST
10316: LIST
10317: PUSH
10318: EMPTY
10319: LIST
10320: LIST
10321: LIST
10322: LIST
10323: PPUSH
10324: CALL_OW 70
10328: PUSH
10329: LD_INT 0
10331: GREATER
10332: IFFALSE 10534
// begin for i in FilterUnitsInArea ( repairArea , [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_weapon , ru_crane ] , [ f_not , [ f_lives , 750 ] ] ] ) do
10334: LD_ADDR_VAR 0 5
10338: PUSH
10339: LD_VAR 0 2
10343: PPUSH
10344: LD_INT 22
10346: PUSH
10347: LD_VAR 0 1
10351: PUSH
10352: EMPTY
10353: LIST
10354: LIST
10355: PUSH
10356: LD_INT 21
10358: PUSH
10359: LD_INT 2
10361: PUSH
10362: EMPTY
10363: LIST
10364: LIST
10365: PUSH
10366: LD_INT 34
10368: PUSH
10369: LD_INT 52
10371: PUSH
10372: EMPTY
10373: LIST
10374: LIST
10375: PUSH
10376: LD_INT 3
10378: PUSH
10379: LD_INT 24
10381: PUSH
10382: LD_INT 750
10384: PUSH
10385: EMPTY
10386: LIST
10387: LIST
10388: PUSH
10389: EMPTY
10390: LIST
10391: LIST
10392: PUSH
10393: EMPTY
10394: LIST
10395: LIST
10396: LIST
10397: LIST
10398: PPUSH
10399: CALL_OW 70
10403: PUSH
10404: FOR_IN
10405: IFFALSE 10532
// begin mechTmp = UnitsInside ( i ) ;
10407: LD_ADDR_VAR 0 6
10411: PUSH
10412: LD_VAR 0 5
10416: PPUSH
10417: CALL_OW 313
10421: ST_TO_ADDR
// ComExitVehicle ( mechTmp ) ;
10422: LD_VAR 0 6
10426: PPUSH
10427: CALL_OW 121
// AddComRepairVehicle ( mechTmp , vehicleTmp ) ;
10431: LD_VAR 0 6
10435: PPUSH
10436: LD_VAR 0 7
10440: PPUSH
10441: CALL_OW 189
// wait ( 0 0$2 ) ;
10445: LD_INT 70
10447: PPUSH
10448: CALL_OW 67
// AddComEnterUnit ( mechTmp , FilterUnitsInArea ( repairArea , [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_weapon , ru_crane ] , [ f_lives , 1000 ] , [ f_empty ] ] ) [ 1 ] ) ;
10452: LD_VAR 0 6
10456: PPUSH
10457: LD_VAR 0 2
10461: PPUSH
10462: LD_INT 22
10464: PUSH
10465: LD_VAR 0 1
10469: PUSH
10470: EMPTY
10471: LIST
10472: LIST
10473: PUSH
10474: LD_INT 21
10476: PUSH
10477: LD_INT 2
10479: PUSH
10480: EMPTY
10481: LIST
10482: LIST
10483: PUSH
10484: LD_INT 34
10486: PUSH
10487: LD_INT 52
10489: PUSH
10490: EMPTY
10491: LIST
10492: LIST
10493: PUSH
10494: LD_INT 24
10496: PUSH
10497: LD_INT 1000
10499: PUSH
10500: EMPTY
10501: LIST
10502: LIST
10503: PUSH
10504: LD_INT 58
10506: PUSH
10507: EMPTY
10508: LIST
10509: PUSH
10510: EMPTY
10511: LIST
10512: LIST
10513: LIST
10514: LIST
10515: LIST
10516: PPUSH
10517: CALL_OW 70
10521: PUSH
10522: LD_INT 1
10524: ARRAY
10525: PPUSH
10526: CALL_OW 180
// end ;
10530: GO 10404
10532: POP
10533: POP
// end ; end ;
10534: LD_VAR 0 4
10538: RET
// export function RespawnAttackInfantry ( side , nation , soldierCount , sniperCount , bazookCount , mortalCount , medicCount , skil , spawnArea , healArea , targetSide , strategy ) ; var i , j , un , damageUnit_list , medic_list , soldiersOK_list , enemyUnits , und , target1 , target2 ; begin
10539: LD_INT 0
10541: PPUSH
10542: PPUSH
10543: PPUSH
10544: PPUSH
10545: PPUSH
10546: PPUSH
10547: PPUSH
10548: PPUSH
10549: PPUSH
10550: PPUSH
10551: PPUSH
// for i = 1 to medicCount do
10552: LD_ADDR_VAR 0 14
10556: PUSH
10557: DOUBLE
10558: LD_INT 1
10560: DEC
10561: ST_TO_ADDR
10562: LD_VAR 0 7
10566: PUSH
10567: FOR_TO
10568: IFFALSE 10650
// begin uc_side = side ;
10570: LD_ADDR_OWVAR 20
10574: PUSH
10575: LD_VAR 0 1
10579: ST_TO_ADDR
// uc_nation = nation ;
10580: LD_ADDR_OWVAR 21
10584: PUSH
10585: LD_VAR 0 2
10589: ST_TO_ADDR
// hc_name =  ;
10590: LD_ADDR_OWVAR 26
10594: PUSH
10595: LD_STRING 
10597: ST_TO_ADDR
// hc_gallery =  ;
10598: LD_ADDR_OWVAR 33
10602: PUSH
10603: LD_STRING 
10605: ST_TO_ADDR
// PrepareHuman ( false , 4 , skil ) ;
10606: LD_INT 0
10608: PPUSH
10609: LD_INT 4
10611: PPUSH
10612: LD_VAR 0 8
10616: PPUSH
10617: CALL_OW 380
// un = CreateHuman ;
10621: LD_ADDR_VAR 0 16
10625: PUSH
10626: CALL_OW 44
10630: ST_TO_ADDR
// PlaceUnitArea ( un , spawnArea , false ) ;
10631: LD_VAR 0 16
10635: PPUSH
10636: LD_VAR 0 9
10640: PPUSH
10641: LD_INT 0
10643: PPUSH
10644: CALL_OW 49
// end ;
10648: GO 10567
10650: POP
10651: POP
// for i = 1 to soldierCount do
10652: LD_ADDR_VAR 0 14
10656: PUSH
10657: DOUBLE
10658: LD_INT 1
10660: DEC
10661: ST_TO_ADDR
10662: LD_VAR 0 3
10666: PUSH
10667: FOR_TO
10668: IFFALSE 10750
// begin uc_side = side ;
10670: LD_ADDR_OWVAR 20
10674: PUSH
10675: LD_VAR 0 1
10679: ST_TO_ADDR
// uc_nation = nation ;
10680: LD_ADDR_OWVAR 21
10684: PUSH
10685: LD_VAR 0 2
10689: ST_TO_ADDR
// hc_name =  ;
10690: LD_ADDR_OWVAR 26
10694: PUSH
10695: LD_STRING 
10697: ST_TO_ADDR
// hc_gallery =  ;
10698: LD_ADDR_OWVAR 33
10702: PUSH
10703: LD_STRING 
10705: ST_TO_ADDR
// PrepareHuman ( false , 1 , skil ) ;
10706: LD_INT 0
10708: PPUSH
10709: LD_INT 1
10711: PPUSH
10712: LD_VAR 0 8
10716: PPUSH
10717: CALL_OW 380
// un = CreateHuman ;
10721: LD_ADDR_VAR 0 16
10725: PUSH
10726: CALL_OW 44
10730: ST_TO_ADDR
// PlaceUnitArea ( un , spawnArea , false ) ;
10731: LD_VAR 0 16
10735: PPUSH
10736: LD_VAR 0 9
10740: PPUSH
10741: LD_INT 0
10743: PPUSH
10744: CALL_OW 49
// end ;
10748: GO 10667
10750: POP
10751: POP
// for i = 1 to sniperCount do
10752: LD_ADDR_VAR 0 14
10756: PUSH
10757: DOUBLE
10758: LD_INT 1
10760: DEC
10761: ST_TO_ADDR
10762: LD_VAR 0 4
10766: PUSH
10767: FOR_TO
10768: IFFALSE 10850
// begin uc_side = side ;
10770: LD_ADDR_OWVAR 20
10774: PUSH
10775: LD_VAR 0 1
10779: ST_TO_ADDR
// uc_nation = nation ;
10780: LD_ADDR_OWVAR 21
10784: PUSH
10785: LD_VAR 0 2
10789: ST_TO_ADDR
// hc_name =  ;
10790: LD_ADDR_OWVAR 26
10794: PUSH
10795: LD_STRING 
10797: ST_TO_ADDR
// hc_gallery =  ;
10798: LD_ADDR_OWVAR 33
10802: PUSH
10803: LD_STRING 
10805: ST_TO_ADDR
// PrepareHuman ( false , 5 , skil ) ;
10806: LD_INT 0
10808: PPUSH
10809: LD_INT 5
10811: PPUSH
10812: LD_VAR 0 8
10816: PPUSH
10817: CALL_OW 380
// un = CreateHuman ;
10821: LD_ADDR_VAR 0 16
10825: PUSH
10826: CALL_OW 44
10830: ST_TO_ADDR
// PlaceUnitArea ( un , spawnArea , false ) ;
10831: LD_VAR 0 16
10835: PPUSH
10836: LD_VAR 0 9
10840: PPUSH
10841: LD_INT 0
10843: PPUSH
10844: CALL_OW 49
// end ;
10848: GO 10767
10850: POP
10851: POP
// for i = 1 to bazookCount do
10852: LD_ADDR_VAR 0 14
10856: PUSH
10857: DOUBLE
10858: LD_INT 1
10860: DEC
10861: ST_TO_ADDR
10862: LD_VAR 0 5
10866: PUSH
10867: FOR_TO
10868: IFFALSE 10950
// begin uc_side = side ;
10870: LD_ADDR_OWVAR 20
10874: PUSH
10875: LD_VAR 0 1
10879: ST_TO_ADDR
// uc_nation = nation ;
10880: LD_ADDR_OWVAR 21
10884: PUSH
10885: LD_VAR 0 2
10889: ST_TO_ADDR
// hc_name =  ;
10890: LD_ADDR_OWVAR 26
10894: PUSH
10895: LD_STRING 
10897: ST_TO_ADDR
// hc_gallery =  ;
10898: LD_ADDR_OWVAR 33
10902: PUSH
10903: LD_STRING 
10905: ST_TO_ADDR
// PrepareHuman ( false , 9 , skil ) ;
10906: LD_INT 0
10908: PPUSH
10909: LD_INT 9
10911: PPUSH
10912: LD_VAR 0 8
10916: PPUSH
10917: CALL_OW 380
// un = CreateHuman ;
10921: LD_ADDR_VAR 0 16
10925: PUSH
10926: CALL_OW 44
10930: ST_TO_ADDR
// PlaceUnitArea ( un , spawnArea , false ) ;
10931: LD_VAR 0 16
10935: PPUSH
10936: LD_VAR 0 9
10940: PPUSH
10941: LD_INT 0
10943: PPUSH
10944: CALL_OW 49
// end ;
10948: GO 10867
10950: POP
10951: POP
// for i = 1 to mortalCount do
10952: LD_ADDR_VAR 0 14
10956: PUSH
10957: DOUBLE
10958: LD_INT 1
10960: DEC
10961: ST_TO_ADDR
10962: LD_VAR 0 6
10966: PUSH
10967: FOR_TO
10968: IFFALSE 11050
// begin uc_side = side ;
10970: LD_ADDR_OWVAR 20
10974: PUSH
10975: LD_VAR 0 1
10979: ST_TO_ADDR
// uc_nation = nation ;
10980: LD_ADDR_OWVAR 21
10984: PUSH
10985: LD_VAR 0 2
10989: ST_TO_ADDR
// hc_name =  ;
10990: LD_ADDR_OWVAR 26
10994: PUSH
10995: LD_STRING 
10997: ST_TO_ADDR
// hc_gallery =  ;
10998: LD_ADDR_OWVAR 33
11002: PUSH
11003: LD_STRING 
11005: ST_TO_ADDR
// PrepareHuman ( false , 8 , skil ) ;
11006: LD_INT 0
11008: PPUSH
11009: LD_INT 8
11011: PPUSH
11012: LD_VAR 0 8
11016: PPUSH
11017: CALL_OW 380
// un = CreateHuman ;
11021: LD_ADDR_VAR 0 16
11025: PUSH
11026: CALL_OW 44
11030: ST_TO_ADDR
// PlaceUnitArea ( un , spawnArea , false ) ;
11031: LD_VAR 0 16
11035: PPUSH
11036: LD_VAR 0 9
11040: PPUSH
11041: LD_INT 0
11043: PPUSH
11044: CALL_OW 49
// end ;
11048: GO 10967
11050: POP
11051: POP
// soldiersOK_list = FilterAllUnits ( [ [ f_side , side ] , [ f_or , [ f_class , 1 ] , [ f_class , 5 ] , [ f_class , 8 ] , [ f_class , 9 ] ] ] ) ;
11052: LD_ADDR_VAR 0 19
11056: PUSH
11057: LD_INT 22
11059: PUSH
11060: LD_VAR 0 1
11064: PUSH
11065: EMPTY
11066: LIST
11067: LIST
11068: PUSH
11069: LD_INT 2
11071: PUSH
11072: LD_INT 25
11074: PUSH
11075: LD_INT 1
11077: PUSH
11078: EMPTY
11079: LIST
11080: LIST
11081: PUSH
11082: LD_INT 25
11084: PUSH
11085: LD_INT 5
11087: PUSH
11088: EMPTY
11089: LIST
11090: LIST
11091: PUSH
11092: LD_INT 25
11094: PUSH
11095: LD_INT 8
11097: PUSH
11098: EMPTY
11099: LIST
11100: LIST
11101: PUSH
11102: LD_INT 25
11104: PUSH
11105: LD_INT 9
11107: PUSH
11108: EMPTY
11109: LIST
11110: LIST
11111: PUSH
11112: EMPTY
11113: LIST
11114: LIST
11115: LIST
11116: LIST
11117: LIST
11118: PUSH
11119: EMPTY
11120: LIST
11121: LIST
11122: PPUSH
11123: CALL_OW 69
11127: ST_TO_ADDR
// medic_list = FilterAllUnits ( [ [ f_side , side ] , [ f_class , 4 ] ] ) ;
11128: LD_ADDR_VAR 0 18
11132: PUSH
11133: LD_INT 22
11135: PUSH
11136: LD_VAR 0 1
11140: PUSH
11141: EMPTY
11142: LIST
11143: LIST
11144: PUSH
11145: LD_INT 25
11147: PUSH
11148: LD_INT 4
11150: PUSH
11151: EMPTY
11152: LIST
11153: LIST
11154: PUSH
11155: EMPTY
11156: LIST
11157: LIST
11158: PPUSH
11159: CALL_OW 69
11163: ST_TO_ADDR
// for i in medic_list do
11164: LD_ADDR_VAR 0 14
11168: PUSH
11169: LD_VAR 0 18
11173: PUSH
11174: FOR_IN
11175: IFFALSE 11193
// ComMoveToArea ( i , healArea ) ;
11177: LD_VAR 0 14
11181: PPUSH
11182: LD_VAR 0 10
11186: PPUSH
11187: CALL_OW 113
11191: GO 11174
11193: POP
11194: POP
// if strategy = 1 then
11195: LD_VAR 0 12
11199: PUSH
11200: LD_INT 1
11202: EQUAL
11203: IFFALSE 11920
// begin repeat wait ( 0 0$3 ) ;
11205: LD_INT 105
11207: PPUSH
11208: CALL_OW 67
// for i in soldiersOK_list do
11212: LD_ADDR_VAR 0 14
11216: PUSH
11217: LD_VAR 0 19
11221: PUSH
11222: FOR_IN
11223: IFFALSE 11257
// begin AddComAgressiveMove ( i , 80 , 109 ) ;
11225: LD_VAR 0 14
11229: PPUSH
11230: LD_INT 80
11232: PPUSH
11233: LD_INT 109
11235: PPUSH
11236: CALL_OW 174
// AddComAgressiveMove ( i , 39 , 49 ) ;
11240: LD_VAR 0 14
11244: PPUSH
11245: LD_INT 39
11247: PPUSH
11248: LD_INT 49
11250: PPUSH
11251: CALL_OW 174
// end ;
11255: GO 11222
11257: POP
11258: POP
// until FilterUnitsInArea ( AttackArea1 , [ f_side , side ] ) > 0 ;
11259: LD_INT 13
11261: PPUSH
11262: LD_INT 22
11264: PUSH
11265: LD_VAR 0 1
11269: PUSH
11270: EMPTY
11271: LIST
11272: LIST
11273: PPUSH
11274: CALL_OW 70
11278: PUSH
11279: LD_INT 0
11281: GREATER
11282: IFFALSE 11205
// repeat wait ( 0 0$1 ) ;
11284: LD_INT 35
11286: PPUSH
11287: CALL_OW 67
// damageUnit_list = FilterAllUnits ( [ [ f_side , side ] , [ f_and , [ f_not , [ f_lives , 550 ] ] , [ f_lives , 250 ] ] ] ) ;
11291: LD_ADDR_VAR 0 17
11295: PUSH
11296: LD_INT 22
11298: PUSH
11299: LD_VAR 0 1
11303: PUSH
11304: EMPTY
11305: LIST
11306: LIST
11307: PUSH
11308: LD_INT 1
11310: PUSH
11311: LD_INT 3
11313: PUSH
11314: LD_INT 24
11316: PUSH
11317: LD_INT 550
11319: PUSH
11320: EMPTY
11321: LIST
11322: LIST
11323: PUSH
11324: EMPTY
11325: LIST
11326: LIST
11327: PUSH
11328: LD_INT 24
11330: PUSH
11331: LD_INT 250
11333: PUSH
11334: EMPTY
11335: LIST
11336: LIST
11337: PUSH
11338: EMPTY
11339: LIST
11340: LIST
11341: LIST
11342: PUSH
11343: EMPTY
11344: LIST
11345: LIST
11346: PPUSH
11347: CALL_OW 69
11351: ST_TO_ADDR
// soldiersOK_list = FilterAllUnits ( [ [ f_side , side ] , [ f_or , [ f_class , 1 ] , [ f_class , 5 ] , [ f_class , 8 ] , [ f_class , 9 ] ] , [ f_lives , 1000 ] ] ) ;
11352: LD_ADDR_VAR 0 19
11356: PUSH
11357: LD_INT 22
11359: PUSH
11360: LD_VAR 0 1
11364: PUSH
11365: EMPTY
11366: LIST
11367: LIST
11368: PUSH
11369: LD_INT 2
11371: PUSH
11372: LD_INT 25
11374: PUSH
11375: LD_INT 1
11377: PUSH
11378: EMPTY
11379: LIST
11380: LIST
11381: PUSH
11382: LD_INT 25
11384: PUSH
11385: LD_INT 5
11387: PUSH
11388: EMPTY
11389: LIST
11390: LIST
11391: PUSH
11392: LD_INT 25
11394: PUSH
11395: LD_INT 8
11397: PUSH
11398: EMPTY
11399: LIST
11400: LIST
11401: PUSH
11402: LD_INT 25
11404: PUSH
11405: LD_INT 9
11407: PUSH
11408: EMPTY
11409: LIST
11410: LIST
11411: PUSH
11412: EMPTY
11413: LIST
11414: LIST
11415: LIST
11416: LIST
11417: LIST
11418: PUSH
11419: LD_INT 24
11421: PUSH
11422: LD_INT 1000
11424: PUSH
11425: EMPTY
11426: LIST
11427: LIST
11428: PUSH
11429: EMPTY
11430: LIST
11431: LIST
11432: LIST
11433: PPUSH
11434: CALL_OW 69
11438: ST_TO_ADDR
// if medicCount > 0 then
11439: LD_VAR 0 7
11443: PUSH
11444: LD_INT 0
11446: GREATER
11447: IFFALSE 11521
// begin if damageUnit_list > 0 then
11449: LD_VAR 0 17
11453: PUSH
11454: LD_INT 0
11456: GREATER
11457: IFFALSE 11521
// begin for i in damageUnit_list do
11459: LD_ADDR_VAR 0 14
11463: PUSH
11464: LD_VAR 0 17
11468: PUSH
11469: FOR_IN
11470: IFFALSE 11519
// begin ComMoveToArea ( i , healArea ) ;
11472: LD_VAR 0 14
11476: PPUSH
11477: LD_VAR 0 10
11481: PPUSH
11482: CALL_OW 113
// for j in medic_list do
11486: LD_ADDR_VAR 0 15
11490: PUSH
11491: LD_VAR 0 18
11495: PUSH
11496: FOR_IN
11497: IFFALSE 11515
// AddComHeal ( j , i ) ;
11499: LD_VAR 0 15
11503: PPUSH
11504: LD_VAR 0 14
11508: PPUSH
11509: CALL_OW 188
11513: GO 11496
11515: POP
11516: POP
// end ;
11517: GO 11469
11519: POP
11520: POP
// end ; end ; for i in soldiersOK_list do
11521: LD_ADDR_VAR 0 14
11525: PUSH
11526: LD_VAR 0 19
11530: PUSH
11531: FOR_IN
11532: IFFALSE 11714
// begin target1 := NearestUnitToUnit ( FilterAllUnits ( [ f_side , targetSide ] ) diff ignoreTarget , i ) ;
11534: LD_ADDR_VAR 0 22
11538: PUSH
11539: LD_INT 22
11541: PUSH
11542: LD_VAR 0 11
11546: PUSH
11547: EMPTY
11548: LIST
11549: LIST
11550: PPUSH
11551: CALL_OW 69
11555: PUSH
11556: LD_EXP 45
11560: DIFF
11561: PPUSH
11562: LD_VAR 0 14
11566: PPUSH
11567: CALL_OW 74
11571: ST_TO_ADDR
// target2 := NearestUnitToUnit ( FilterAllUnits ( [ [ [ f_side , targetSide ] , [ f_or , [ f_occupied ] , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] ] ] ) , i ) ;
11572: LD_ADDR_VAR 0 23
11576: PUSH
11577: LD_INT 22
11579: PUSH
11580: LD_VAR 0 11
11584: PUSH
11585: EMPTY
11586: LIST
11587: LIST
11588: PUSH
11589: LD_INT 2
11591: PUSH
11592: LD_INT 59
11594: PUSH
11595: EMPTY
11596: LIST
11597: PUSH
11598: LD_INT 21
11600: PUSH
11601: LD_INT 1
11603: PUSH
11604: EMPTY
11605: LIST
11606: LIST
11607: PUSH
11608: LD_INT 21
11610: PUSH
11611: LD_INT 2
11613: PUSH
11614: EMPTY
11615: LIST
11616: LIST
11617: PUSH
11618: EMPTY
11619: LIST
11620: LIST
11621: LIST
11622: LIST
11623: PUSH
11624: EMPTY
11625: LIST
11626: LIST
11627: PUSH
11628: EMPTY
11629: LIST
11630: PPUSH
11631: CALL_OW 69
11635: PPUSH
11636: LD_VAR 0 14
11640: PPUSH
11641: CALL_OW 74
11645: ST_TO_ADDR
// if GetDistUnits ( i , target1 ) + 8 < GetDistUnits ( i , target2 ) then
11646: LD_VAR 0 14
11650: PPUSH
11651: LD_VAR 0 22
11655: PPUSH
11656: CALL_OW 296
11660: PUSH
11661: LD_INT 8
11663: PLUS
11664: PUSH
11665: LD_VAR 0 14
11669: PPUSH
11670: LD_VAR 0 23
11674: PPUSH
11675: CALL_OW 296
11679: LESS
11680: IFFALSE 11698
// begin ComAttackUnit ( i , target1 ) ;
11682: LD_VAR 0 14
11686: PPUSH
11687: LD_VAR 0 22
11691: PPUSH
11692: CALL_OW 115
// end else
11696: GO 11712
// begin ComAttackUnit ( i , target2 ) ;
11698: LD_VAR 0 14
11702: PPUSH
11703: LD_VAR 0 23
11707: PPUSH
11708: CALL_OW 115
// end ; end ;
11712: GO 11531
11714: POP
11715: POP
// for i in soldiersOK_list do
11716: LD_ADDR_VAR 0 14
11720: PUSH
11721: LD_VAR 0 19
11725: PUSH
11726: FOR_IN
11727: IFFALSE 11909
// begin target1 := NearestUnitToUnit ( FilterAllUnits ( [ f_side , targetSide ] ) diff ignoreTarget , i ) ;
11729: LD_ADDR_VAR 0 22
11733: PUSH
11734: LD_INT 22
11736: PUSH
11737: LD_VAR 0 11
11741: PUSH
11742: EMPTY
11743: LIST
11744: LIST
11745: PPUSH
11746: CALL_OW 69
11750: PUSH
11751: LD_EXP 45
11755: DIFF
11756: PPUSH
11757: LD_VAR 0 14
11761: PPUSH
11762: CALL_OW 74
11766: ST_TO_ADDR
// target2 := NearestUnitToUnit ( FilterAllUnits ( [ [ [ f_side , targetSide ] , [ f_or , [ f_occupied ] , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] ] ] ) , i ) ;
11767: LD_ADDR_VAR 0 23
11771: PUSH
11772: LD_INT 22
11774: PUSH
11775: LD_VAR 0 11
11779: PUSH
11780: EMPTY
11781: LIST
11782: LIST
11783: PUSH
11784: LD_INT 2
11786: PUSH
11787: LD_INT 59
11789: PUSH
11790: EMPTY
11791: LIST
11792: PUSH
11793: LD_INT 21
11795: PUSH
11796: LD_INT 1
11798: PUSH
11799: EMPTY
11800: LIST
11801: LIST
11802: PUSH
11803: LD_INT 21
11805: PUSH
11806: LD_INT 2
11808: PUSH
11809: EMPTY
11810: LIST
11811: LIST
11812: PUSH
11813: EMPTY
11814: LIST
11815: LIST
11816: LIST
11817: LIST
11818: PUSH
11819: EMPTY
11820: LIST
11821: LIST
11822: PUSH
11823: EMPTY
11824: LIST
11825: PPUSH
11826: CALL_OW 69
11830: PPUSH
11831: LD_VAR 0 14
11835: PPUSH
11836: CALL_OW 74
11840: ST_TO_ADDR
// if GetDistUnits ( i , target1 ) + 8 < GetDistUnits ( i , target2 ) then
11841: LD_VAR 0 14
11845: PPUSH
11846: LD_VAR 0 22
11850: PPUSH
11851: CALL_OW 296
11855: PUSH
11856: LD_INT 8
11858: PLUS
11859: PUSH
11860: LD_VAR 0 14
11864: PPUSH
11865: LD_VAR 0 23
11869: PPUSH
11870: CALL_OW 296
11874: LESS
11875: IFFALSE 11893
// begin ComAttackUnit ( i , target1 ) ;
11877: LD_VAR 0 14
11881: PPUSH
11882: LD_VAR 0 22
11886: PPUSH
11887: CALL_OW 115
// end else
11891: GO 11907
// begin ComAttackUnit ( i , target2 ) ;
11893: LD_VAR 0 14
11897: PPUSH
11898: LD_VAR 0 23
11902: PPUSH
11903: CALL_OW 115
// end ; end ;
11907: GO 11726
11909: POP
11910: POP
// until soldiersOK_list = [ ] ;
11911: LD_VAR 0 19
11915: PUSH
11916: EMPTY
11917: EQUAL
11918: IFFALSE 11284
// end ; if strategy = 2 then
11920: LD_VAR 0 12
11924: PUSH
11925: LD_INT 2
11927: EQUAL
11928: IFFALSE 12633
// begin repeat wait ( 0 0$1 ) ;
11930: LD_INT 35
11932: PPUSH
11933: CALL_OW 67
// for i in soldiersOK_list do
11937: LD_ADDR_VAR 0 14
11941: PUSH
11942: LD_VAR 0 19
11946: PUSH
11947: FOR_IN
11948: IFFALSE 11982
// begin AddComAgressiveMove ( i , 117 , 97 ) ;
11950: LD_VAR 0 14
11954: PPUSH
11955: LD_INT 117
11957: PPUSH
11958: LD_INT 97
11960: PPUSH
11961: CALL_OW 174
// AddComAgressiveMove ( i , 94 , 50 ) ;
11965: LD_VAR 0 14
11969: PPUSH
11970: LD_INT 94
11972: PPUSH
11973: LD_INT 50
11975: PPUSH
11976: CALL_OW 174
// end ;
11980: GO 11947
11982: POP
11983: POP
// until FilterUnitsInArea ( AttackArea2 , [ f_side , side ] ) > 0 ;
11984: LD_INT 14
11986: PPUSH
11987: LD_INT 22
11989: PUSH
11990: LD_VAR 0 1
11994: PUSH
11995: EMPTY
11996: LIST
11997: LIST
11998: PPUSH
11999: CALL_OW 70
12003: PUSH
12004: LD_INT 0
12006: GREATER
12007: IFFALSE 11930
// repeat wait ( 0 0$3 ) ;
12009: LD_INT 105
12011: PPUSH
12012: CALL_OW 67
// damageUnit_list = FilterAllUnits ( [ [ f_side , side ] , [ f_and , [ f_not , [ f_lives , 550 ] ] , [ f_lives , 250 ] ] ] ) ;
12016: LD_ADDR_VAR 0 17
12020: PUSH
12021: LD_INT 22
12023: PUSH
12024: LD_VAR 0 1
12028: PUSH
12029: EMPTY
12030: LIST
12031: LIST
12032: PUSH
12033: LD_INT 1
12035: PUSH
12036: LD_INT 3
12038: PUSH
12039: LD_INT 24
12041: PUSH
12042: LD_INT 550
12044: PUSH
12045: EMPTY
12046: LIST
12047: LIST
12048: PUSH
12049: EMPTY
12050: LIST
12051: LIST
12052: PUSH
12053: LD_INT 24
12055: PUSH
12056: LD_INT 250
12058: PUSH
12059: EMPTY
12060: LIST
12061: LIST
12062: PUSH
12063: EMPTY
12064: LIST
12065: LIST
12066: LIST
12067: PUSH
12068: EMPTY
12069: LIST
12070: LIST
12071: PPUSH
12072: CALL_OW 69
12076: ST_TO_ADDR
// soldiersOK_list = FilterAllUnits ( [ [ f_side , side ] , [ f_or , [ f_class , 1 ] , [ f_class , 5 ] , [ f_class , 8 ] , [ f_class , 9 ] ] , [ f_lives , 1000 ] ] ) ;
12077: LD_ADDR_VAR 0 19
12081: PUSH
12082: LD_INT 22
12084: PUSH
12085: LD_VAR 0 1
12089: PUSH
12090: EMPTY
12091: LIST
12092: LIST
12093: PUSH
12094: LD_INT 2
12096: PUSH
12097: LD_INT 25
12099: PUSH
12100: LD_INT 1
12102: PUSH
12103: EMPTY
12104: LIST
12105: LIST
12106: PUSH
12107: LD_INT 25
12109: PUSH
12110: LD_INT 5
12112: PUSH
12113: EMPTY
12114: LIST
12115: LIST
12116: PUSH
12117: LD_INT 25
12119: PUSH
12120: LD_INT 8
12122: PUSH
12123: EMPTY
12124: LIST
12125: LIST
12126: PUSH
12127: LD_INT 25
12129: PUSH
12130: LD_INT 9
12132: PUSH
12133: EMPTY
12134: LIST
12135: LIST
12136: PUSH
12137: EMPTY
12138: LIST
12139: LIST
12140: LIST
12141: LIST
12142: LIST
12143: PUSH
12144: LD_INT 24
12146: PUSH
12147: LD_INT 1000
12149: PUSH
12150: EMPTY
12151: LIST
12152: LIST
12153: PUSH
12154: EMPTY
12155: LIST
12156: LIST
12157: LIST
12158: PPUSH
12159: CALL_OW 69
12163: ST_TO_ADDR
// if medicCount > 0 then
12164: LD_VAR 0 7
12168: PUSH
12169: LD_INT 0
12171: GREATER
12172: IFFALSE 12246
// begin if damageUnit_list > 0 then
12174: LD_VAR 0 17
12178: PUSH
12179: LD_INT 0
12181: GREATER
12182: IFFALSE 12246
// begin for i in damageUnit_list do
12184: LD_ADDR_VAR 0 14
12188: PUSH
12189: LD_VAR 0 17
12193: PUSH
12194: FOR_IN
12195: IFFALSE 12244
// begin ComMoveToArea ( i , healArea ) ;
12197: LD_VAR 0 14
12201: PPUSH
12202: LD_VAR 0 10
12206: PPUSH
12207: CALL_OW 113
// for j in medic_list do
12211: LD_ADDR_VAR 0 15
12215: PUSH
12216: LD_VAR 0 18
12220: PUSH
12221: FOR_IN
12222: IFFALSE 12240
// AddComHeal ( j , i ) ;
12224: LD_VAR 0 15
12228: PPUSH
12229: LD_VAR 0 14
12233: PPUSH
12234: CALL_OW 188
12238: GO 12221
12240: POP
12241: POP
// end ;
12242: GO 12194
12244: POP
12245: POP
// end ; end ; for i in soldiersOK_list do
12246: LD_ADDR_VAR 0 14
12250: PUSH
12251: LD_VAR 0 19
12255: PUSH
12256: FOR_IN
12257: IFFALSE 12433
// begin target1 := NearestUnitToUnit ( FilterAllUnits ( [ f_side , targetSide ] ) , i ) ;
12259: LD_ADDR_VAR 0 22
12263: PUSH
12264: LD_INT 22
12266: PUSH
12267: LD_VAR 0 11
12271: PUSH
12272: EMPTY
12273: LIST
12274: LIST
12275: PPUSH
12276: CALL_OW 69
12280: PPUSH
12281: LD_VAR 0 14
12285: PPUSH
12286: CALL_OW 74
12290: ST_TO_ADDR
// target2 := NearestUnitToUnit ( FilterAllUnits ( [ [ [ f_side , targetSide ] , [ f_or , [ f_occupied ] , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] ] ] ) , i ) ;
12291: LD_ADDR_VAR 0 23
12295: PUSH
12296: LD_INT 22
12298: PUSH
12299: LD_VAR 0 11
12303: PUSH
12304: EMPTY
12305: LIST
12306: LIST
12307: PUSH
12308: LD_INT 2
12310: PUSH
12311: LD_INT 59
12313: PUSH
12314: EMPTY
12315: LIST
12316: PUSH
12317: LD_INT 21
12319: PUSH
12320: LD_INT 1
12322: PUSH
12323: EMPTY
12324: LIST
12325: LIST
12326: PUSH
12327: LD_INT 21
12329: PUSH
12330: LD_INT 2
12332: PUSH
12333: EMPTY
12334: LIST
12335: LIST
12336: PUSH
12337: EMPTY
12338: LIST
12339: LIST
12340: LIST
12341: LIST
12342: PUSH
12343: EMPTY
12344: LIST
12345: LIST
12346: PUSH
12347: EMPTY
12348: LIST
12349: PPUSH
12350: CALL_OW 69
12354: PPUSH
12355: LD_VAR 0 14
12359: PPUSH
12360: CALL_OW 74
12364: ST_TO_ADDR
// if GetDistUnits ( i , target1 ) + 8 < GetDistUnits ( i , target2 ) then
12365: LD_VAR 0 14
12369: PPUSH
12370: LD_VAR 0 22
12374: PPUSH
12375: CALL_OW 296
12379: PUSH
12380: LD_INT 8
12382: PLUS
12383: PUSH
12384: LD_VAR 0 14
12388: PPUSH
12389: LD_VAR 0 23
12393: PPUSH
12394: CALL_OW 296
12398: LESS
12399: IFFALSE 12417
// begin ComAttackUnit ( i , target1 ) ;
12401: LD_VAR 0 14
12405: PPUSH
12406: LD_VAR 0 22
12410: PPUSH
12411: CALL_OW 115
// end else
12415: GO 12431
// begin ComAttackUnit ( i , target2 ) ;
12417: LD_VAR 0 14
12421: PPUSH
12422: LD_VAR 0 23
12426: PPUSH
12427: CALL_OW 115
// end ; end ;
12431: GO 12256
12433: POP
12434: POP
// for i in soldiersOK_list do
12435: LD_ADDR_VAR 0 14
12439: PUSH
12440: LD_VAR 0 19
12444: PUSH
12445: FOR_IN
12446: IFFALSE 12622
// begin target1 := NearestUnitToUnit ( FilterAllUnits ( [ f_side , targetSide ] ) , i ) ;
12448: LD_ADDR_VAR 0 22
12452: PUSH
12453: LD_INT 22
12455: PUSH
12456: LD_VAR 0 11
12460: PUSH
12461: EMPTY
12462: LIST
12463: LIST
12464: PPUSH
12465: CALL_OW 69
12469: PPUSH
12470: LD_VAR 0 14
12474: PPUSH
12475: CALL_OW 74
12479: ST_TO_ADDR
// target2 := NearestUnitToUnit ( FilterAllUnits ( [ [ [ f_side , targetSide ] , [ f_or , [ f_occupied ] , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] ] ] ) , i ) ;
12480: LD_ADDR_VAR 0 23
12484: PUSH
12485: LD_INT 22
12487: PUSH
12488: LD_VAR 0 11
12492: PUSH
12493: EMPTY
12494: LIST
12495: LIST
12496: PUSH
12497: LD_INT 2
12499: PUSH
12500: LD_INT 59
12502: PUSH
12503: EMPTY
12504: LIST
12505: PUSH
12506: LD_INT 21
12508: PUSH
12509: LD_INT 1
12511: PUSH
12512: EMPTY
12513: LIST
12514: LIST
12515: PUSH
12516: LD_INT 21
12518: PUSH
12519: LD_INT 2
12521: PUSH
12522: EMPTY
12523: LIST
12524: LIST
12525: PUSH
12526: EMPTY
12527: LIST
12528: LIST
12529: LIST
12530: LIST
12531: PUSH
12532: EMPTY
12533: LIST
12534: LIST
12535: PUSH
12536: EMPTY
12537: LIST
12538: PPUSH
12539: CALL_OW 69
12543: PPUSH
12544: LD_VAR 0 14
12548: PPUSH
12549: CALL_OW 74
12553: ST_TO_ADDR
// if GetDistUnits ( i , target1 ) + 8 < GetDistUnits ( i , target2 ) then
12554: LD_VAR 0 14
12558: PPUSH
12559: LD_VAR 0 22
12563: PPUSH
12564: CALL_OW 296
12568: PUSH
12569: LD_INT 8
12571: PLUS
12572: PUSH
12573: LD_VAR 0 14
12577: PPUSH
12578: LD_VAR 0 23
12582: PPUSH
12583: CALL_OW 296
12587: LESS
12588: IFFALSE 12606
// begin ComAttackUnit ( i , target1 ) ;
12590: LD_VAR 0 14
12594: PPUSH
12595: LD_VAR 0 22
12599: PPUSH
12600: CALL_OW 115
// end else
12604: GO 12620
// begin ComAttackUnit ( i , target2 ) ;
12606: LD_VAR 0 14
12610: PPUSH
12611: LD_VAR 0 23
12615: PPUSH
12616: CALL_OW 115
// end ; end ;
12620: GO 12445
12622: POP
12623: POP
// until soldiersOK_list = [ ] ;
12624: LD_VAR 0 19
12628: PUSH
12629: EMPTY
12630: EQUAL
12631: IFFALSE 12009
// end ; end ; end_of_file
12633: LD_VAR 0 13
12637: RET
// every 0 0$01 do
12638: GO 12640
12640: DISABLE
// begin if FilterAllUnits ( [ [ f_side , 1 ] , [ f_class , 2 ] ] ) = 0 then
12641: LD_INT 22
12643: PUSH
12644: LD_INT 1
12646: PUSH
12647: EMPTY
12648: LIST
12649: LIST
12650: PUSH
12651: LD_INT 25
12653: PUSH
12654: LD_INT 2
12656: PUSH
12657: EMPTY
12658: LIST
12659: LIST
12660: PUSH
12661: EMPTY
12662: LIST
12663: LIST
12664: PPUSH
12665: CALL_OW 69
12669: PUSH
12670: LD_INT 0
12672: EQUAL
12673: IFFALSE 12687
// SetClass ( JMM , 2 ) ;
12675: LD_EXP 1
12679: PPUSH
12680: LD_INT 2
12682: PPUSH
12683: CALL_OW 336
// ChangeMissionObjectives ( M1 ) ;
12687: LD_STRING M1
12689: PPUSH
12690: CALL_OW 337
// case difficulty of 1 :
12694: LD_OWVAR 67
12698: PUSH
12699: LD_INT 1
12701: DOUBLE
12702: EQUAL
12703: IFTRUE 12707
12705: GO 12717
12707: POP
// ChangeMissionObjectives ( M1-1 ) ; 2 :
12708: LD_STRING M1-1
12710: PPUSH
12711: CALL_OW 337
12715: GO 12754
12717: LD_INT 2
12719: DOUBLE
12720: EQUAL
12721: IFTRUE 12725
12723: GO 12735
12725: POP
// ChangeMissionObjectives ( M1-2 ) ; 3 :
12726: LD_STRING M1-2
12728: PPUSH
12729: CALL_OW 337
12733: GO 12754
12735: LD_INT 3
12737: DOUBLE
12738: EQUAL
12739: IFTRUE 12743
12741: GO 12753
12743: POP
// ChangeMissionObjectives ( M1-3 ) ; end ;
12744: LD_STRING M1-3
12746: PPUSH
12747: CALL_OW 337
12751: GO 12754
12753: POP
// ChangeMissionObjectives ( M1cont ) ;
12754: LD_STRING M1cont
12756: PPUSH
12757: CALL_OW 337
// SaveForQuickRestart ;
12761: CALL_OW 22
// wait ( rand ( 0 0$15 , 0 0$20 ) ) ;
12765: LD_INT 525
12767: PPUSH
12768: LD_INT 700
12770: PPUSH
12771: CALL_OW 12
12775: PPUSH
12776: CALL_OW 67
// CreateCratesXYR ( 5 , 82 , 38 , 10 , true ) ;
12780: LD_INT 5
12782: PPUSH
12783: LD_INT 82
12785: PPUSH
12786: LD_INT 38
12788: PPUSH
12789: LD_INT 10
12791: PPUSH
12792: LD_INT 1
12794: PPUSH
12795: CALL_OW 56
// wait ( 0 0$14 ) ;
12799: LD_INT 490
12801: PPUSH
12802: CALL_OW 67
// firstCrateSpawn := true ;
12806: LD_ADDR_EXP 41
12810: PUSH
12811: LD_INT 1
12813: ST_TO_ADDR
// end ;
12814: END
// every 0 0$02 trigger firstCrateSpawn do
12815: LD_EXP 41
12819: IFFALSE 13182
12821: GO 12823
12823: DISABLE
// begin if IsOk ( Lisa ) then
12824: LD_EXP 2
12828: PPUSH
12829: CALL_OW 302
12833: IFFALSE 12849
// Say ( Lisa , DR0-Lisa-1 ) else
12835: LD_EXP 2
12839: PPUSH
12840: LD_STRING DR0-Lisa-1
12842: PPUSH
12843: CALL_OW 88
12847: GO 12995
// DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_sex , 1 ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) diff [ JMM , Gladstone , Frank , Brown , Donaldson , Cyrus , Bobby ] , DR0-Sol1-1 , DR0-Sol1-1 ) ;
12849: LD_INT 22
12851: PUSH
12852: LD_INT 1
12854: PUSH
12855: EMPTY
12856: LIST
12857: LIST
12858: PUSH
12859: LD_INT 21
12861: PUSH
12862: LD_INT 1
12864: PUSH
12865: EMPTY
12866: LIST
12867: LIST
12868: PUSH
12869: LD_INT 26
12871: PUSH
12872: LD_INT 1
12874: PUSH
12875: EMPTY
12876: LIST
12877: LIST
12878: PUSH
12879: LD_INT 2
12881: PUSH
12882: LD_INT 25
12884: PUSH
12885: LD_INT 1
12887: PUSH
12888: EMPTY
12889: LIST
12890: LIST
12891: PUSH
12892: LD_INT 25
12894: PUSH
12895: LD_INT 2
12897: PUSH
12898: EMPTY
12899: LIST
12900: LIST
12901: PUSH
12902: LD_INT 25
12904: PUSH
12905: LD_INT 3
12907: PUSH
12908: EMPTY
12909: LIST
12910: LIST
12911: PUSH
12912: LD_INT 25
12914: PUSH
12915: LD_INT 4
12917: PUSH
12918: EMPTY
12919: LIST
12920: LIST
12921: PUSH
12922: EMPTY
12923: LIST
12924: LIST
12925: LIST
12926: LIST
12927: LIST
12928: PUSH
12929: EMPTY
12930: LIST
12931: LIST
12932: LIST
12933: LIST
12934: PPUSH
12935: CALL_OW 69
12939: PUSH
12940: LD_EXP 1
12944: PUSH
12945: LD_EXP 8
12949: PUSH
12950: LD_EXP 5
12954: PUSH
12955: LD_EXP 6
12959: PUSH
12960: LD_EXP 7
12964: PUSH
12965: LD_EXP 4
12969: PUSH
12970: LD_EXP 3
12974: PUSH
12975: EMPTY
12976: LIST
12977: LIST
12978: LIST
12979: LIST
12980: LIST
12981: LIST
12982: LIST
12983: DIFF
12984: PPUSH
12985: LD_STRING DR0-Sol1-1
12987: PPUSH
12988: LD_STRING DR0-Sol1-1
12990: PPUSH
12991: CALL 6031 0 3
// DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_sex , 1 ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) diff [ JMM , Gladstone , Frank , Lisa , Brown , Donaldson , Cyrus , Bobby ] , DR0-Sol2-1 , DR0-Sol2-1 ) ;
12995: LD_INT 22
12997: PUSH
12998: LD_INT 1
13000: PUSH
13001: EMPTY
13002: LIST
13003: LIST
13004: PUSH
13005: LD_INT 21
13007: PUSH
13008: LD_INT 1
13010: PUSH
13011: EMPTY
13012: LIST
13013: LIST
13014: PUSH
13015: LD_INT 26
13017: PUSH
13018: LD_INT 1
13020: PUSH
13021: EMPTY
13022: LIST
13023: LIST
13024: PUSH
13025: LD_INT 2
13027: PUSH
13028: LD_INT 25
13030: PUSH
13031: LD_INT 1
13033: PUSH
13034: EMPTY
13035: LIST
13036: LIST
13037: PUSH
13038: LD_INT 25
13040: PUSH
13041: LD_INT 2
13043: PUSH
13044: EMPTY
13045: LIST
13046: LIST
13047: PUSH
13048: LD_INT 25
13050: PUSH
13051: LD_INT 3
13053: PUSH
13054: EMPTY
13055: LIST
13056: LIST
13057: PUSH
13058: LD_INT 25
13060: PUSH
13061: LD_INT 4
13063: PUSH
13064: EMPTY
13065: LIST
13066: LIST
13067: PUSH
13068: EMPTY
13069: LIST
13070: LIST
13071: LIST
13072: LIST
13073: LIST
13074: PUSH
13075: EMPTY
13076: LIST
13077: LIST
13078: LIST
13079: LIST
13080: PPUSH
13081: CALL_OW 69
13085: PUSH
13086: LD_EXP 1
13090: PUSH
13091: LD_EXP 8
13095: PUSH
13096: LD_EXP 5
13100: PUSH
13101: LD_EXP 2
13105: PUSH
13106: LD_EXP 6
13110: PUSH
13111: LD_EXP 7
13115: PUSH
13116: LD_EXP 4
13120: PUSH
13121: LD_EXP 3
13125: PUSH
13126: EMPTY
13127: LIST
13128: LIST
13129: LIST
13130: LIST
13131: LIST
13132: LIST
13133: LIST
13134: LIST
13135: DIFF
13136: PPUSH
13137: LD_STRING DR0-Sol2-1
13139: PPUSH
13140: LD_STRING DR0-Sol2-1
13142: PPUSH
13143: CALL 6031 0 3
// if IsOk ( Cyrus ) then
13147: LD_EXP 4
13151: PPUSH
13152: CALL_OW 302
13156: IFFALSE 13170
// Say ( Cyrus , DR0-Cyrus-1 ) ;
13158: LD_EXP 4
13162: PPUSH
13163: LD_STRING DR0-Cyrus-1
13165: PPUSH
13166: CALL_OW 88
// Say ( JMM , DR0-JMM-1 ) ;
13170: LD_EXP 1
13174: PPUSH
13175: LD_STRING DR0-JMM-1
13177: PPUSH
13178: CALL_OW 88
// end ;
13182: END
// every 5 5$0 trigger IsOk ( Frank ) and FilterAllUnits ( [ [ f_side , 1 ] , [ f_class , 16 ] ] ) > 0 and not InBattle ( 1 ) do
13183: LD_EXP 5
13187: PPUSH
13188: CALL_OW 302
13192: PUSH
13193: LD_INT 22
13195: PUSH
13196: LD_INT 1
13198: PUSH
13199: EMPTY
13200: LIST
13201: LIST
13202: PUSH
13203: LD_INT 25
13205: PUSH
13206: LD_INT 16
13208: PUSH
13209: EMPTY
13210: LIST
13211: LIST
13212: PUSH
13213: EMPTY
13214: LIST
13215: LIST
13216: PPUSH
13217: CALL_OW 69
13221: PUSH
13222: LD_INT 0
13224: GREATER
13225: AND
13226: PUSH
13227: LD_INT 1
13229: PPUSH
13230: CALL_OW 463
13234: NOT
13235: AND
13236: IFFALSE 13514
13238: GO 13240
13240: DISABLE
// begin DialogueOn ;
13241: CALL_OW 6
// Say ( Frank , D10-Frank-1 ) ;
13245: LD_EXP 5
13249: PPUSH
13250: LD_STRING D10-Frank-1
13252: PPUSH
13253: CALL_OW 88
// DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) diff [ JMM , Frank , Lisa ] , D10-Sol1-1 , D10-FSol1-1 ) ;
13257: LD_INT 22
13259: PUSH
13260: LD_INT 1
13262: PUSH
13263: EMPTY
13264: LIST
13265: LIST
13266: PUSH
13267: LD_INT 21
13269: PUSH
13270: LD_INT 1
13272: PUSH
13273: EMPTY
13274: LIST
13275: LIST
13276: PUSH
13277: LD_INT 2
13279: PUSH
13280: LD_INT 25
13282: PUSH
13283: LD_INT 1
13285: PUSH
13286: EMPTY
13287: LIST
13288: LIST
13289: PUSH
13290: LD_INT 25
13292: PUSH
13293: LD_INT 2
13295: PUSH
13296: EMPTY
13297: LIST
13298: LIST
13299: PUSH
13300: LD_INT 25
13302: PUSH
13303: LD_INT 3
13305: PUSH
13306: EMPTY
13307: LIST
13308: LIST
13309: PUSH
13310: LD_INT 25
13312: PUSH
13313: LD_INT 4
13315: PUSH
13316: EMPTY
13317: LIST
13318: LIST
13319: PUSH
13320: EMPTY
13321: LIST
13322: LIST
13323: LIST
13324: LIST
13325: LIST
13326: PUSH
13327: EMPTY
13328: LIST
13329: LIST
13330: LIST
13331: PPUSH
13332: CALL_OW 69
13336: PUSH
13337: LD_EXP 1
13341: PUSH
13342: LD_EXP 5
13346: PUSH
13347: LD_EXP 2
13351: PUSH
13352: EMPTY
13353: LIST
13354: LIST
13355: LIST
13356: DIFF
13357: PPUSH
13358: LD_STRING D10-Sol1-1
13360: PPUSH
13361: LD_STRING D10-FSol1-1
13363: PPUSH
13364: CALL 6031 0 3
// Say ( Frank , D10-Frank-2 ) ;
13368: LD_EXP 5
13372: PPUSH
13373: LD_STRING D10-Frank-2
13375: PPUSH
13376: CALL_OW 88
// if IsOK ( Lisa ) then
13380: LD_EXP 2
13384: PPUSH
13385: CALL_OW 302
13389: IFFALSE 13405
// begin Say ( Lisa , D10-Lisa-2 ) ;
13391: LD_EXP 2
13395: PPUSH
13396: LD_STRING D10-Lisa-2
13398: PPUSH
13399: CALL_OW 88
// end else
13403: GO 13510
// begin DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) diff [ JMM , Frank ] , D10-Sol1-2 , D10-FSol1-2 ) ;
13405: LD_INT 22
13407: PUSH
13408: LD_INT 1
13410: PUSH
13411: EMPTY
13412: LIST
13413: LIST
13414: PUSH
13415: LD_INT 21
13417: PUSH
13418: LD_INT 1
13420: PUSH
13421: EMPTY
13422: LIST
13423: LIST
13424: PUSH
13425: LD_INT 2
13427: PUSH
13428: LD_INT 25
13430: PUSH
13431: LD_INT 1
13433: PUSH
13434: EMPTY
13435: LIST
13436: LIST
13437: PUSH
13438: LD_INT 25
13440: PUSH
13441: LD_INT 2
13443: PUSH
13444: EMPTY
13445: LIST
13446: LIST
13447: PUSH
13448: LD_INT 25
13450: PUSH
13451: LD_INT 3
13453: PUSH
13454: EMPTY
13455: LIST
13456: LIST
13457: PUSH
13458: LD_INT 25
13460: PUSH
13461: LD_INT 4
13463: PUSH
13464: EMPTY
13465: LIST
13466: LIST
13467: PUSH
13468: EMPTY
13469: LIST
13470: LIST
13471: LIST
13472: LIST
13473: LIST
13474: PUSH
13475: EMPTY
13476: LIST
13477: LIST
13478: LIST
13479: PPUSH
13480: CALL_OW 69
13484: PUSH
13485: LD_EXP 1
13489: PUSH
13490: LD_EXP 5
13494: PUSH
13495: EMPTY
13496: LIST
13497: LIST
13498: DIFF
13499: PPUSH
13500: LD_STRING D10-Sol1-2
13502: PPUSH
13503: LD_STRING D10-FSol1-2
13505: PPUSH
13506: CALL 6031 0 3
// end ; DialogueOff ;
13510: CALL_OW 7
// end ;
13514: END
// every 10 10$30 trigger not InBattle ( 1 ) do
13515: LD_INT 1
13517: PPUSH
13518: CALL_OW 463
13522: NOT
13523: IFFALSE 13786
13525: GO 13527
13527: DISABLE
// begin HarrisonSupport ;
13528: CALL 2498 0 0
// CenterNowOnUnits ( IsInUnit ( HarrSupp1 ) ) ;
13532: LD_EXP 17
13536: PPUSH
13537: CALL_OW 310
13541: PPUSH
13542: CALL_OW 87
// Say ( HarrSupp1 , DEng-Eng1-1 ) ;
13546: LD_EXP 17
13550: PPUSH
13551: LD_STRING DEng-Eng1-1
13553: PPUSH
13554: CALL_OW 88
// wait ( 1 1$0 ) ;
13558: LD_INT 2100
13560: PPUSH
13561: CALL_OW 67
// DialogueOn ;
13565: CALL_OW 6
// SayRadio ( Harisson , DRem-Har-1 ) ;
13569: LD_EXP 14
13573: PPUSH
13574: LD_STRING DRem-Har-1
13576: PPUSH
13577: CALL_OW 94
// if contactWithRussian = 1 then
13581: LD_EXP 22
13585: PUSH
13586: LD_INT 1
13588: EQUAL
13589: IFFALSE 13605
// begin Say ( JMM , DRem-JMM-1 ) ;
13591: LD_EXP 1
13595: PPUSH
13596: LD_STRING DRem-JMM-1
13598: PPUSH
13599: CALL_OW 88
// end else
13603: GO 13617
// begin Say ( JMM , DRem-JMM-1a ) ;
13605: LD_EXP 1
13609: PPUSH
13610: LD_STRING DRem-JMM-1a
13612: PPUSH
13613: CALL_OW 88
// end ; SayRadio ( Harisson , DRem-Har-2 ) ;
13617: LD_EXP 14
13621: PPUSH
13622: LD_STRING DRem-Har-2
13624: PPUSH
13625: CALL_OW 94
// if LoadVariable ( DenisInDelta , 0 ) = 1 then
13629: LD_STRING DenisInDelta
13631: PPUSH
13632: LD_INT 0
13634: PPUSH
13635: CALL_OW 30
13639: PUSH
13640: LD_INT 1
13642: EQUAL
13643: IFFALSE 13659
// begin Say ( JMM , DRem-JMM-2 ) ;
13645: LD_EXP 1
13649: PPUSH
13650: LD_STRING DRem-JMM-2
13652: PPUSH
13653: CALL_OW 88
// end else
13657: GO 13671
// begin Say ( JMM , DRem-JMM-2a ) ;
13659: LD_EXP 1
13663: PPUSH
13664: LD_STRING DRem-JMM-2a
13666: PPUSH
13667: CALL_OW 88
// end ; SayRadio ( Harisson , DRem-Har-3 ) ;
13671: LD_EXP 14
13675: PPUSH
13676: LD_STRING DRem-Har-3
13678: PPUSH
13679: CALL_OW 94
// Say ( JMM , DRem-JMM-3 ) ;
13683: LD_EXP 1
13687: PPUSH
13688: LD_STRING DRem-JMM-3
13690: PPUSH
13691: CALL_OW 88
// SayRadio ( Harisson , DRem-Har-4 ) ;
13695: LD_EXP 14
13699: PPUSH
13700: LD_STRING DRem-Har-4
13702: PPUSH
13703: CALL_OW 94
// if LoadVariable ( DenisInDelta , 0 ) = 1 then
13707: LD_STRING DenisInDelta
13709: PPUSH
13710: LD_INT 0
13712: PPUSH
13713: CALL_OW 30
13717: PUSH
13718: LD_INT 1
13720: EQUAL
13721: IFFALSE 13749
// begin Say ( JMM , DRem-JMM-4 ) ;
13723: LD_EXP 1
13727: PPUSH
13728: LD_STRING DRem-JMM-4
13730: PPUSH
13731: CALL_OW 88
// SayRadio ( Harisson , DRem-Har-5 ) ;
13735: LD_EXP 14
13739: PPUSH
13740: LD_STRING DRem-Har-5
13742: PPUSH
13743: CALL_OW 94
// end else
13747: GO 13782
// begin SetRestrict ( 36 , 1 , true ) ;
13749: LD_INT 36
13751: PPUSH
13752: LD_INT 1
13754: PPUSH
13755: LD_INT 1
13757: PPUSH
13758: CALL_OW 324
// SetTech ( 15 , 1 , state_enabled ) ;
13762: LD_INT 15
13764: PPUSH
13765: LD_INT 1
13767: PPUSH
13768: LD_INT 1
13770: PPUSH
13771: CALL_OW 322
// ChangeMissionObjectives ( MR ) ;
13775: LD_STRING MR
13777: PPUSH
13778: CALL_OW 337
// end ; DialogueOff ;
13782: CALL_OW 7
// end ;
13786: END
// every 15 15$0 trigger LoadVariable ( DenisInDelta , 0 ) = 1 and not InBattle ( 1 ) do var tmp ;
13787: LD_STRING DenisInDelta
13789: PPUSH
13790: LD_INT 0
13792: PPUSH
13793: CALL_OW 30
13797: PUSH
13798: LD_INT 1
13800: EQUAL
13801: PUSH
13802: LD_INT 1
13804: PPUSH
13805: CALL_OW 463
13809: NOT
13810: AND
13811: IFFALSE 14044
13813: GO 13815
13815: DISABLE
13816: LD_INT 0
13818: PPUSH
// begin PrepareDenis ;
13819: CALL 2220 0 0
// CenterNowOnUnits ( Denis ) ;
13823: LD_EXP 9
13827: PPUSH
13828: CALL_OW 87
// tmp := FilterAllUnits ( [ f_side , 1 ] ) ;
13832: LD_ADDR_VAR 0 1
13836: PUSH
13837: LD_INT 22
13839: PUSH
13840: LD_INT 1
13842: PUSH
13843: EMPTY
13844: LIST
13845: LIST
13846: PPUSH
13847: CALL_OW 69
13851: ST_TO_ADDR
// ComMoveUnit ( Denis , NearestUnitToUnit ( tmp , Denis ) ) ;
13852: LD_EXP 9
13856: PPUSH
13857: LD_VAR 0 1
13861: PPUSH
13862: LD_EXP 9
13866: PPUSH
13867: CALL_OW 74
13871: PPUSH
13872: CALL_OW 112
// repeat wait ( 0 0$1 ) ;
13876: LD_INT 35
13878: PPUSH
13879: CALL_OW 67
// until FilterAllUnits ( [ [ f_side , 1 ] , [ f_dist , Denis , 10 ] ] ) ;
13883: LD_INT 22
13885: PUSH
13886: LD_INT 1
13888: PUSH
13889: EMPTY
13890: LIST
13891: LIST
13892: PUSH
13893: LD_INT 91
13895: PUSH
13896: LD_EXP 9
13900: PUSH
13901: LD_INT 10
13903: PUSH
13904: EMPTY
13905: LIST
13906: LIST
13907: LIST
13908: PUSH
13909: EMPTY
13910: LIST
13911: LIST
13912: PPUSH
13913: CALL_OW 69
13917: IFFALSE 13876
// SetSide ( Denis , 1 ) ;
13919: LD_EXP 9
13923: PPUSH
13924: LD_INT 1
13926: PPUSH
13927: CALL_OW 235
// DialogueOn ;
13931: CALL_OW 6
// Say ( Denis , DDen-Den-1 ) ;
13935: LD_EXP 9
13939: PPUSH
13940: LD_STRING DDen-Den-1
13942: PPUSH
13943: CALL_OW 88
// Say ( JMM , DDen-JMM-1 ) ;
13947: LD_EXP 1
13951: PPUSH
13952: LD_STRING DDen-JMM-1
13954: PPUSH
13955: CALL_OW 88
// Say ( Denis , DDen-Den-2 ) ;
13959: LD_EXP 9
13963: PPUSH
13964: LD_STRING DDen-Den-2
13966: PPUSH
13967: CALL_OW 88
// Say ( JMM , DDen-JMM-2 ) ;
13971: LD_EXP 1
13975: PPUSH
13976: LD_STRING DDen-JMM-2
13978: PPUSH
13979: CALL_OW 88
// Say ( Denis , DDen-Den-3 ) ;
13983: LD_EXP 9
13987: PPUSH
13988: LD_STRING DDen-Den-3
13990: PPUSH
13991: CALL_OW 88
// Say ( JMM , DDen-JMM-3 ) ;
13995: LD_EXP 1
13999: PPUSH
14000: LD_STRING DDen-JMM-3
14002: PPUSH
14003: CALL_OW 88
// DialogueOff ;
14007: CALL_OW 7
// SetRestrict ( 36 , 1 , true ) ;
14011: LD_INT 36
14013: PPUSH
14014: LD_INT 1
14016: PPUSH
14017: LD_INT 1
14019: PPUSH
14020: CALL_OW 324
// SetTech ( 15 , 1 , state_enabled ) ;
14024: LD_INT 15
14026: PPUSH
14027: LD_INT 1
14029: PPUSH
14030: LD_INT 1
14032: PPUSH
14033: CALL_OW 322
// ChangeMissionObjectives ( MR ) ;
14037: LD_STRING MR
14039: PPUSH
14040: CALL_OW 337
// end ;
14044: PPOPN 1
14046: END
// every 0 0$6 trigger CheckOptoLab and IsOk ( Denis ) and not InBattle ( 1 ) do
14047: CALL 14102 0 0
14051: PUSH
14052: LD_EXP 9
14056: PPUSH
14057: CALL_OW 302
14061: AND
14062: PUSH
14063: LD_INT 1
14065: PPUSH
14066: CALL_OW 463
14070: NOT
14071: AND
14072: IFFALSE 14101
14074: GO 14076
14076: DISABLE
// begin Say ( Denis , DR1-Den-1 ) ;
14077: LD_EXP 9
14081: PPUSH
14082: LD_STRING DR1-Den-1
14084: PPUSH
14085: CALL_OW 88
// Say ( JMM , DR1-JMM-1 ) ;
14089: LD_EXP 1
14093: PPUSH
14094: LD_STRING DR1-JMM-1
14096: PPUSH
14097: CALL_OW 88
// end ;
14101: END
// function CheckOptoLab ; var i ; begin
14102: LD_INT 0
14104: PPUSH
14105: PPUSH
// result = false ;
14106: LD_ADDR_VAR 0 1
14110: PUSH
14111: LD_INT 0
14113: ST_TO_ADDR
// for i in FilterAllUnits ( [ [ f_side , 1 ] , [ f_or , [ f_btype , b_lab_half ] , [ f_btype , b_lab_full ] ] ] ) do
14114: LD_ADDR_VAR 0 2
14118: PUSH
14119: LD_INT 22
14121: PUSH
14122: LD_INT 1
14124: PUSH
14125: EMPTY
14126: LIST
14127: LIST
14128: PUSH
14129: LD_INT 2
14131: PUSH
14132: LD_INT 30
14134: PUSH
14135: LD_INT 7
14137: PUSH
14138: EMPTY
14139: LIST
14140: LIST
14141: PUSH
14142: LD_INT 30
14144: PUSH
14145: LD_INT 8
14147: PUSH
14148: EMPTY
14149: LIST
14150: LIST
14151: PUSH
14152: EMPTY
14153: LIST
14154: LIST
14155: LIST
14156: PUSH
14157: EMPTY
14158: LIST
14159: LIST
14160: PPUSH
14161: CALL_OW 69
14165: PUSH
14166: FOR_IN
14167: IFFALSE 14219
// begin if ( GetLabKind ( i , 1 ) = b_lab_opto ) or ( GetLabKind ( i , 2 ) = b_lab_opto ) then
14169: LD_VAR 0 2
14173: PPUSH
14174: LD_INT 1
14176: PPUSH
14177: CALL_OW 268
14181: PUSH
14182: LD_INT 15
14184: EQUAL
14185: PUSH
14186: LD_VAR 0 2
14190: PPUSH
14191: LD_INT 2
14193: PPUSH
14194: CALL_OW 268
14198: PUSH
14199: LD_INT 15
14201: EQUAL
14202: OR
14203: IFFALSE 14215
// begin result = true ;
14205: LD_ADDR_VAR 0 1
14209: PUSH
14210: LD_INT 1
14212: ST_TO_ADDR
// break ;
14213: GO 14219
// end ; break ;
14215: GO 14219
// end ;
14217: GO 14166
14219: POP
14220: POP
// end ;
14221: LD_VAR 0 1
14225: RET
// every 0 0$1 trigger GetTech ( 15 , 1 ) = state_researched and IsOK ( Denis ) and not InBattle ( 1 ) do
14226: LD_INT 15
14228: PPUSH
14229: LD_INT 1
14231: PPUSH
14232: CALL_OW 321
14236: PUSH
14237: LD_INT 2
14239: EQUAL
14240: PUSH
14241: LD_EXP 9
14245: PPUSH
14246: CALL_OW 302
14250: AND
14251: PUSH
14252: LD_INT 1
14254: PPUSH
14255: CALL_OW 463
14259: NOT
14260: AND
14261: IFFALSE 14493
14263: GO 14265
14265: DISABLE
// begin DialogueOn ;
14266: CALL_OW 6
// if IsOK ( Denis ) then
14270: LD_EXP 9
14274: PPUSH
14275: CALL_OW 302
14279: IFFALSE 14295
// begin Say ( Denis , DR2-Den-1 ) ;
14281: LD_EXP 9
14285: PPUSH
14286: LD_STRING DR2-Den-1
14288: PPUSH
14289: CALL_OW 88
// end else
14293: GO 14354
// begin DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_class , 4 ] ] ) diff [ JMM ] , DR2-Sci1-1 , DR2-FSci1-1 ) ;
14295: LD_INT 22
14297: PUSH
14298: LD_INT 1
14300: PUSH
14301: EMPTY
14302: LIST
14303: LIST
14304: PUSH
14305: LD_INT 21
14307: PUSH
14308: LD_INT 1
14310: PUSH
14311: EMPTY
14312: LIST
14313: LIST
14314: PUSH
14315: LD_INT 25
14317: PUSH
14318: LD_INT 4
14320: PUSH
14321: EMPTY
14322: LIST
14323: LIST
14324: PUSH
14325: EMPTY
14326: LIST
14327: LIST
14328: LIST
14329: PPUSH
14330: CALL_OW 69
14334: PUSH
14335: LD_EXP 1
14339: PUSH
14340: EMPTY
14341: LIST
14342: DIFF
14343: PPUSH
14344: LD_STRING DR2-Sci1-1
14346: PPUSH
14347: LD_STRING DR2-FSci1-1
14349: PPUSH
14350: CALL 6031 0 3
// end ; Say ( JMM , DR2-JMM-1 ) ;
14354: LD_EXP 1
14358: PPUSH
14359: LD_STRING DR2-JMM-1
14361: PPUSH
14362: CALL_OW 88
// DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) diff [ JMM , Denis , Gladstone ] , DR2-Sol1-1 , DR2-Sol1-11 ) ;
14366: LD_INT 22
14368: PUSH
14369: LD_INT 1
14371: PUSH
14372: EMPTY
14373: LIST
14374: LIST
14375: PUSH
14376: LD_INT 21
14378: PUSH
14379: LD_INT 1
14381: PUSH
14382: EMPTY
14383: LIST
14384: LIST
14385: PUSH
14386: LD_INT 2
14388: PUSH
14389: LD_INT 25
14391: PUSH
14392: LD_INT 1
14394: PUSH
14395: EMPTY
14396: LIST
14397: LIST
14398: PUSH
14399: LD_INT 25
14401: PUSH
14402: LD_INT 2
14404: PUSH
14405: EMPTY
14406: LIST
14407: LIST
14408: PUSH
14409: LD_INT 25
14411: PUSH
14412: LD_INT 3
14414: PUSH
14415: EMPTY
14416: LIST
14417: LIST
14418: PUSH
14419: LD_INT 25
14421: PUSH
14422: LD_INT 4
14424: PUSH
14425: EMPTY
14426: LIST
14427: LIST
14428: PUSH
14429: EMPTY
14430: LIST
14431: LIST
14432: LIST
14433: LIST
14434: LIST
14435: PUSH
14436: EMPTY
14437: LIST
14438: LIST
14439: LIST
14440: PPUSH
14441: CALL_OW 69
14445: PUSH
14446: LD_EXP 1
14450: PUSH
14451: LD_EXP 9
14455: PUSH
14456: LD_EXP 8
14460: PUSH
14461: EMPTY
14462: LIST
14463: LIST
14464: LIST
14465: DIFF
14466: PPUSH
14467: LD_STRING DR2-Sol1-1
14469: PPUSH
14470: LD_STRING DR2-Sol1-11
14472: PPUSH
14473: CALL 6031 0 3
// Say ( JMM , DR2-JMM-2 ) ;
14477: LD_EXP 1
14481: PPUSH
14482: LD_STRING DR2-JMM-2
14484: PPUSH
14485: CALL_OW 88
// DialogueOff ;
14489: CALL_OW 7
// end ;
14493: END
// every 0 0$1 trigger FilterAllUnits ( [ [ f_side , 1 ] , [ f_btype , 36 ] ] ) = 0 and FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_control , control_remote ] ] ) > 0 and firstTower = 0 and not InBattle ( 1 ) do
14494: LD_INT 22
14496: PUSH
14497: LD_INT 1
14499: PUSH
14500: EMPTY
14501: LIST
14502: LIST
14503: PUSH
14504: LD_INT 30
14506: PUSH
14507: LD_INT 36
14509: PUSH
14510: EMPTY
14511: LIST
14512: LIST
14513: PUSH
14514: EMPTY
14515: LIST
14516: LIST
14517: PPUSH
14518: CALL_OW 69
14522: PUSH
14523: LD_INT 0
14525: EQUAL
14526: PUSH
14527: LD_INT 22
14529: PUSH
14530: LD_INT 1
14532: PUSH
14533: EMPTY
14534: LIST
14535: LIST
14536: PUSH
14537: LD_INT 21
14539: PUSH
14540: LD_INT 2
14542: PUSH
14543: EMPTY
14544: LIST
14545: LIST
14546: PUSH
14547: LD_INT 33
14549: PUSH
14550: LD_INT 2
14552: PUSH
14553: EMPTY
14554: LIST
14555: LIST
14556: PUSH
14557: EMPTY
14558: LIST
14559: LIST
14560: LIST
14561: PPUSH
14562: CALL_OW 69
14566: PUSH
14567: LD_INT 0
14569: GREATER
14570: AND
14571: PUSH
14572: LD_EXP 23
14576: PUSH
14577: LD_INT 0
14579: EQUAL
14580: AND
14581: PUSH
14582: LD_INT 1
14584: PPUSH
14585: CALL_OW 463
14589: NOT
14590: AND
14591: IFFALSE 14717
14593: GO 14595
14595: DISABLE
// begin DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_class , 3 ] ] ) diff [ JMM , Brown , Donaldson , Denis , Joan , Bobby , Cyrus , Lisa , Frank , Gladstone ] , D3a-Mech1-1 , D3a-Mech1-1 ) ;
14596: LD_INT 22
14598: PUSH
14599: LD_INT 1
14601: PUSH
14602: EMPTY
14603: LIST
14604: LIST
14605: PUSH
14606: LD_INT 21
14608: PUSH
14609: LD_INT 1
14611: PUSH
14612: EMPTY
14613: LIST
14614: LIST
14615: PUSH
14616: LD_INT 25
14618: PUSH
14619: LD_INT 3
14621: PUSH
14622: EMPTY
14623: LIST
14624: LIST
14625: PUSH
14626: EMPTY
14627: LIST
14628: LIST
14629: LIST
14630: PPUSH
14631: CALL_OW 69
14635: PUSH
14636: LD_EXP 1
14640: PUSH
14641: LD_EXP 6
14645: PUSH
14646: LD_EXP 7
14650: PUSH
14651: LD_EXP 9
14655: PUSH
14656: LD_EXP 15
14660: PUSH
14661: LD_EXP 3
14665: PUSH
14666: LD_EXP 4
14670: PUSH
14671: LD_EXP 2
14675: PUSH
14676: LD_EXP 5
14680: PUSH
14681: LD_EXP 8
14685: PUSH
14686: EMPTY
14687: LIST
14688: LIST
14689: LIST
14690: LIST
14691: LIST
14692: LIST
14693: LIST
14694: LIST
14695: LIST
14696: LIST
14697: DIFF
14698: PPUSH
14699: LD_STRING D3a-Mech1-1
14701: PPUSH
14702: LD_STRING D3a-Mech1-1
14704: PPUSH
14705: CALL 6031 0 3
// firstTower = 2 ;
14709: LD_ADDR_EXP 23
14713: PUSH
14714: LD_INT 2
14716: ST_TO_ADDR
// end ;
14717: END
// every 0 0$1 trigger FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_building ] ] ) = 0 do var i ;
14718: LD_INT 22
14720: PUSH
14721: LD_INT 3
14723: PUSH
14724: EMPTY
14725: LIST
14726: LIST
14727: PUSH
14728: LD_INT 21
14730: PUSH
14731: LD_INT 3
14733: PUSH
14734: EMPTY
14735: LIST
14736: LIST
14737: PUSH
14738: EMPTY
14739: LIST
14740: LIST
14741: PPUSH
14742: CALL_OW 69
14746: PUSH
14747: LD_INT 0
14749: EQUAL
14750: IFFALSE 14865
14752: GO 14754
14754: DISABLE
14755: LD_INT 0
14757: PPUSH
// begin for i in FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) do
14758: LD_ADDR_VAR 0 1
14762: PUSH
14763: LD_INT 22
14765: PUSH
14766: LD_INT 1
14768: PUSH
14769: EMPTY
14770: LIST
14771: LIST
14772: PUSH
14773: LD_INT 21
14775: PUSH
14776: LD_INT 1
14778: PUSH
14779: EMPTY
14780: LIST
14781: LIST
14782: PUSH
14783: LD_INT 2
14785: PUSH
14786: LD_INT 25
14788: PUSH
14789: LD_INT 1
14791: PUSH
14792: EMPTY
14793: LIST
14794: LIST
14795: PUSH
14796: LD_INT 25
14798: PUSH
14799: LD_INT 2
14801: PUSH
14802: EMPTY
14803: LIST
14804: LIST
14805: PUSH
14806: LD_INT 25
14808: PUSH
14809: LD_INT 3
14811: PUSH
14812: EMPTY
14813: LIST
14814: LIST
14815: PUSH
14816: LD_INT 25
14818: PUSH
14819: LD_INT 4
14821: PUSH
14822: EMPTY
14823: LIST
14824: LIST
14825: PUSH
14826: EMPTY
14827: LIST
14828: LIST
14829: LIST
14830: LIST
14831: LIST
14832: PUSH
14833: EMPTY
14834: LIST
14835: LIST
14836: LIST
14837: PPUSH
14838: CALL_OW 69
14842: PUSH
14843: FOR_IN
14844: IFFALSE 14863
// AddExperience ( i , 1 , 10000 ) ;
14846: LD_VAR 0 1
14850: PPUSH
14851: LD_INT 1
14853: PPUSH
14854: LD_INT 10000
14856: PPUSH
14857: CALL_OW 492
14861: GO 14843
14863: POP
14864: POP
// end ;
14865: PPOPN 1
14867: END
// every 0 0$1 trigger FilterAllUnits ( [ [ f_side , 1 ] , [ f_btype , 36 ] ] ) > 0 and FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_control , control_remote ] ] ) > 0 and CheckMehInside and not InBattle ( 1 ) do var i , j , tmpControlTowers , tmpRemoteVehs , tmpMechanicInside ;
14868: LD_INT 22
14870: PUSH
14871: LD_INT 1
14873: PUSH
14874: EMPTY
14875: LIST
14876: LIST
14877: PUSH
14878: LD_INT 30
14880: PUSH
14881: LD_INT 36
14883: PUSH
14884: EMPTY
14885: LIST
14886: LIST
14887: PUSH
14888: EMPTY
14889: LIST
14890: LIST
14891: PPUSH
14892: CALL_OW 69
14896: PUSH
14897: LD_INT 0
14899: GREATER
14900: PUSH
14901: LD_INT 22
14903: PUSH
14904: LD_INT 1
14906: PUSH
14907: EMPTY
14908: LIST
14909: LIST
14910: PUSH
14911: LD_INT 21
14913: PUSH
14914: LD_INT 2
14916: PUSH
14917: EMPTY
14918: LIST
14919: LIST
14920: PUSH
14921: LD_INT 33
14923: PUSH
14924: LD_INT 2
14926: PUSH
14927: EMPTY
14928: LIST
14929: LIST
14930: PUSH
14931: EMPTY
14932: LIST
14933: LIST
14934: LIST
14935: PPUSH
14936: CALL_OW 69
14940: PUSH
14941: LD_INT 0
14943: GREATER
14944: AND
14945: PUSH
14946: CALL 15538 0 0
14950: AND
14951: PUSH
14952: LD_INT 1
14954: PPUSH
14955: CALL_OW 463
14959: NOT
14960: AND
14961: IFFALSE 15535
14963: GO 14965
14965: DISABLE
14966: LD_INT 0
14968: PPUSH
14969: PPUSH
14970: PPUSH
14971: PPUSH
14972: PPUSH
// begin tmpControlTowers = FilterAllUnits ( [ [ f_side , 1 ] , [ f_btype , 36 ] ] ) ;
14973: LD_ADDR_VAR 0 3
14977: PUSH
14978: LD_INT 22
14980: PUSH
14981: LD_INT 1
14983: PUSH
14984: EMPTY
14985: LIST
14986: LIST
14987: PUSH
14988: LD_INT 30
14990: PUSH
14991: LD_INT 36
14993: PUSH
14994: EMPTY
14995: LIST
14996: LIST
14997: PUSH
14998: EMPTY
14999: LIST
15000: LIST
15001: PPUSH
15002: CALL_OW 69
15006: ST_TO_ADDR
// tmpRemoteVehs = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_control , control_remote ] ] ) ;
15007: LD_ADDR_VAR 0 4
15011: PUSH
15012: LD_INT 22
15014: PUSH
15015: LD_INT 1
15017: PUSH
15018: EMPTY
15019: LIST
15020: LIST
15021: PUSH
15022: LD_INT 21
15024: PUSH
15025: LD_INT 2
15027: PUSH
15028: EMPTY
15029: LIST
15030: LIST
15031: PUSH
15032: LD_INT 33
15034: PUSH
15035: LD_INT 2
15037: PUSH
15038: EMPTY
15039: LIST
15040: LIST
15041: PUSH
15042: EMPTY
15043: LIST
15044: LIST
15045: LIST
15046: PPUSH
15047: CALL_OW 69
15051: ST_TO_ADDR
// tmpMechanicInside = [ ] ;
15052: LD_ADDR_VAR 0 5
15056: PUSH
15057: EMPTY
15058: ST_TO_ADDR
// for i in tmpControlTowers do
15059: LD_ADDR_VAR 0 1
15063: PUSH
15064: LD_VAR 0 3
15068: PUSH
15069: FOR_IN
15070: IFFALSE 15533
// begin if IsInUnit ( JMM ) = i and GetClass ( JMM ) = 3 then
15072: LD_EXP 1
15076: PPUSH
15077: CALL_OW 310
15081: PUSH
15082: LD_VAR 0 1
15086: EQUAL
15087: PUSH
15088: LD_EXP 1
15092: PPUSH
15093: CALL_OW 257
15097: PUSH
15098: LD_INT 3
15100: EQUAL
15101: AND
15102: IFFALSE 15232
// begin InGameOn ;
15104: CALL_OW 8
// CenterNowOnUnits ( tmpRemoteVehs [ 1 ] ) ;
15108: LD_VAR 0 4
15112: PUSH
15113: LD_INT 1
15115: ARRAY
15116: PPUSH
15117: CALL_OW 87
// Say ( JMM , D4a-JMM-1 ) ;
15121: LD_EXP 1
15125: PPUSH
15126: LD_STRING D4a-JMM-1
15128: PPUSH
15129: CALL_OW 88
// LinkVehicleToHuman ( tmpRemoteVehs [ 1 ] , JMM ) ;
15133: LD_VAR 0 4
15137: PUSH
15138: LD_INT 1
15140: ARRAY
15141: PPUSH
15142: LD_EXP 1
15146: PPUSH
15147: CALL_OW 53
// wait ( 0 0$1 ) ;
15151: LD_INT 35
15153: PPUSH
15154: CALL_OW 67
// ComMoveXY ( tmpRemoteVehs [ 1 ] , GetX ( tmpRemoteVehs [ 1 ] ) + 3 , GetY ( tmpRemoteVehs [ 1 ] ) - 2 ) ;
15158: LD_VAR 0 4
15162: PUSH
15163: LD_INT 1
15165: ARRAY
15166: PPUSH
15167: LD_VAR 0 4
15171: PUSH
15172: LD_INT 1
15174: ARRAY
15175: PPUSH
15176: CALL_OW 250
15180: PUSH
15181: LD_INT 3
15183: PLUS
15184: PPUSH
15185: LD_VAR 0 4
15189: PUSH
15190: LD_INT 1
15192: ARRAY
15193: PPUSH
15194: CALL_OW 251
15198: PUSH
15199: LD_INT 2
15201: MINUS
15202: PPUSH
15203: CALL_OW 111
// wait ( 0 0$2 ) ;
15207: LD_INT 70
15209: PPUSH
15210: CALL_OW 67
// Say ( JMM , D4b-JMM-1 ) ;
15214: LD_EXP 1
15218: PPUSH
15219: LD_STRING D4b-JMM-1
15221: PPUSH
15222: CALL_OW 88
// InGameOff ;
15226: CALL_OW 9
// end else
15230: GO 15531
// begin InGameOn ;
15232: CALL_OW 8
// for j in UnitsInside ( i ) do
15236: LD_ADDR_VAR 0 2
15240: PUSH
15241: LD_VAR 0 1
15245: PPUSH
15246: CALL_OW 313
15250: PUSH
15251: FOR_IN
15252: IFFALSE 15287
// if GetClass ( j ) = 3 then
15254: LD_VAR 0 2
15258: PPUSH
15259: CALL_OW 257
15263: PUSH
15264: LD_INT 3
15266: EQUAL
15267: IFFALSE 15285
// tmpMechanicInside = tmpMechanicInside ^ j ;
15269: LD_ADDR_VAR 0 5
15273: PUSH
15274: LD_VAR 0 5
15278: PUSH
15279: LD_VAR 0 2
15283: ADD
15284: ST_TO_ADDR
15285: GO 15251
15287: POP
15288: POP
// if GetSex ( tmpMechanicInside [ 1 ] ) = 1 then
15289: LD_VAR 0 5
15293: PUSH
15294: LD_INT 1
15296: ARRAY
15297: PPUSH
15298: CALL_OW 258
15302: PUSH
15303: LD_INT 1
15305: EQUAL
15306: IFFALSE 15324
// Say ( tmpMechanicInside [ 1 ] , D4a-Mech1-1 ) ;
15308: LD_VAR 0 5
15312: PUSH
15313: LD_INT 1
15315: ARRAY
15316: PPUSH
15317: LD_STRING D4a-Mech1-1
15319: PPUSH
15320: CALL_OW 88
// if GetSex ( tmpMechanicInside [ 1 ] ) = 2 then
15324: LD_VAR 0 5
15328: PUSH
15329: LD_INT 1
15331: ARRAY
15332: PPUSH
15333: CALL_OW 258
15337: PUSH
15338: LD_INT 2
15340: EQUAL
15341: IFFALSE 15359
// Say ( tmpMechanicInside [ 1 ] , D4a-FMech1-1 ) ;
15343: LD_VAR 0 5
15347: PUSH
15348: LD_INT 1
15350: ARRAY
15351: PPUSH
15352: LD_STRING D4a-FMech1-1
15354: PPUSH
15355: CALL_OW 88
// CenterNowOnUnits ( tmpRemoteVehs [ 1 ] ) ;
15359: LD_VAR 0 4
15363: PUSH
15364: LD_INT 1
15366: ARRAY
15367: PPUSH
15368: CALL_OW 87
// LinkVehicleToHuman ( tmpRemoteVehs [ 1 ] , tmpMechanicInside [ 1 ] ) ;
15372: LD_VAR 0 4
15376: PUSH
15377: LD_INT 1
15379: ARRAY
15380: PPUSH
15381: LD_VAR 0 5
15385: PUSH
15386: LD_INT 1
15388: ARRAY
15389: PPUSH
15390: CALL_OW 53
// wait ( 0 0$1 ) ;
15394: LD_INT 35
15396: PPUSH
15397: CALL_OW 67
// ComMoveXY ( tmpRemoteVehs [ 1 ] , GetX ( tmpRemoteVehs [ 1 ] ) + 3 , GetY ( tmpRemoteVehs [ 1 ] ) - 2 ) ;
15401: LD_VAR 0 4
15405: PUSH
15406: LD_INT 1
15408: ARRAY
15409: PPUSH
15410: LD_VAR 0 4
15414: PUSH
15415: LD_INT 1
15417: ARRAY
15418: PPUSH
15419: CALL_OW 250
15423: PUSH
15424: LD_INT 3
15426: PLUS
15427: PPUSH
15428: LD_VAR 0 4
15432: PUSH
15433: LD_INT 1
15435: ARRAY
15436: PPUSH
15437: CALL_OW 251
15441: PUSH
15442: LD_INT 2
15444: MINUS
15445: PPUSH
15446: CALL_OW 111
// wait ( 0 0$2 ) ;
15450: LD_INT 70
15452: PPUSH
15453: CALL_OW 67
// if GetSex ( tmpMechanicInside [ 1 ] ) = 1 then
15457: LD_VAR 0 5
15461: PUSH
15462: LD_INT 1
15464: ARRAY
15465: PPUSH
15466: CALL_OW 258
15470: PUSH
15471: LD_INT 1
15473: EQUAL
15474: IFFALSE 15492
// Say ( tmpMechanicInside [ 1 ] , D4b-Mech1-1 ) ;
15476: LD_VAR 0 5
15480: PUSH
15481: LD_INT 1
15483: ARRAY
15484: PPUSH
15485: LD_STRING D4b-Mech1-1
15487: PPUSH
15488: CALL_OW 88
// if GetSex ( tmpMechanicInside [ 1 ] ) = 2 then
15492: LD_VAR 0 5
15496: PUSH
15497: LD_INT 1
15499: ARRAY
15500: PPUSH
15501: CALL_OW 258
15505: PUSH
15506: LD_INT 2
15508: EQUAL
15509: IFFALSE 15527
// Say ( tmpMechanicInside [ 1 ] , D4b-FMech1-1 ) ;
15511: LD_VAR 0 5
15515: PUSH
15516: LD_INT 1
15518: ARRAY
15519: PPUSH
15520: LD_STRING D4b-FMech1-1
15522: PPUSH
15523: CALL_OW 88
// InGameOff ;
15527: CALL_OW 9
// end ; end ;
15531: GO 15069
15533: POP
15534: POP
// end ;
15535: PPOPN 5
15537: END
// function CheckMehInside ; var i , j ; begin
15538: LD_INT 0
15540: PPUSH
15541: PPUSH
15542: PPUSH
// result = false ;
15543: LD_ADDR_VAR 0 1
15547: PUSH
15548: LD_INT 0
15550: ST_TO_ADDR
// for i in FilterAllUnits ( [ [ f_side , 1 ] , [ f_btype , 36 ] ] ) do
15551: LD_ADDR_VAR 0 2
15555: PUSH
15556: LD_INT 22
15558: PUSH
15559: LD_INT 1
15561: PUSH
15562: EMPTY
15563: LIST
15564: LIST
15565: PUSH
15566: LD_INT 30
15568: PUSH
15569: LD_INT 36
15571: PUSH
15572: EMPTY
15573: LIST
15574: LIST
15575: PUSH
15576: EMPTY
15577: LIST
15578: LIST
15579: PPUSH
15580: CALL_OW 69
15584: PUSH
15585: FOR_IN
15586: IFFALSE 15637
// begin for j in UnitsInside ( i ) do
15588: LD_ADDR_VAR 0 3
15592: PUSH
15593: LD_VAR 0 2
15597: PPUSH
15598: CALL_OW 313
15602: PUSH
15603: FOR_IN
15604: IFFALSE 15633
// begin if GetClass ( j ) = 3 then
15606: LD_VAR 0 3
15610: PPUSH
15611: CALL_OW 257
15615: PUSH
15616: LD_INT 3
15618: EQUAL
15619: IFFALSE 15631
// begin result = true ;
15621: LD_ADDR_VAR 0 1
15625: PUSH
15626: LD_INT 1
15628: ST_TO_ADDR
// break ;
15629: GO 15633
// end ; end ;
15631: GO 15603
15633: POP
15634: POP
// end ;
15635: GO 15585
15637: POP
15638: POP
// end ;
15639: LD_VAR 0 1
15643: RET
// every 25 25$0 do
15644: GO 15646
15646: DISABLE
// begin repeat wait ( 0 0$1 ) ;
15647: LD_INT 35
15649: PPUSH
15650: CALL_OW 67
// until not InBattle ( 1 ) ;
15654: LD_INT 1
15656: PPUSH
15657: CALL_OW 463
15661: NOT
15662: IFFALSE 15647
// PrepareKurt ;
15664: CALL 19222 0 0
// end ;
15668: END
// every 35 35$0 do
15669: GO 15671
15671: DISABLE
// begin repeat wait ( 0 0$1 ) ;
15672: LD_INT 35
15674: PPUSH
15675: CALL_OW 67
// until not InBattle ( 1 ) ;
15679: LD_INT 1
15681: PPUSH
15682: CALL_OW 463
15686: NOT
15687: IFFALSE 15672
// PrepareJoan ;
15689: CALL 3016 0 0
// wait ( 1 1$0 ) ;
15693: LD_INT 2100
15695: PPUSH
15696: CALL_OW 67
// if IsOK ( Lisa ) then
15700: LD_EXP 2
15704: PPUSH
15705: CALL_OW 302
15709: IFFALSE 15839
// begin DialogueOn ;
15711: CALL_OW 6
// Say ( Lisa , D7-Lisa-1 ) ;
15715: LD_EXP 2
15719: PPUSH
15720: LD_STRING D7-Lisa-1
15722: PPUSH
15723: CALL_OW 88
// Say ( JMM , D7-JMM-1 ) ;
15727: LD_EXP 1
15731: PPUSH
15732: LD_STRING D7-JMM-1
15734: PPUSH
15735: CALL_OW 88
// Say ( Lisa , D7-Lisa-2 ) ;
15739: LD_EXP 2
15743: PPUSH
15744: LD_STRING D7-Lisa-2
15746: PPUSH
15747: CALL_OW 88
// Say ( JMM , D7-JMM-2 ) ;
15751: LD_EXP 1
15755: PPUSH
15756: LD_STRING D7-JMM-2
15758: PPUSH
15759: CALL_OW 88
// Say ( Lisa , D7-Lisa-3 ) ;
15763: LD_EXP 2
15767: PPUSH
15768: LD_STRING D7-Lisa-3
15770: PPUSH
15771: CALL_OW 88
// Say ( JMM , D7-JMM-3 ) ;
15775: LD_EXP 1
15779: PPUSH
15780: LD_STRING D7-JMM-3
15782: PPUSH
15783: CALL_OW 88
// Say ( Lisa , D7-Lisa-4 ) ;
15787: LD_EXP 2
15791: PPUSH
15792: LD_STRING D7-Lisa-4
15794: PPUSH
15795: CALL_OW 88
// Say ( JMM , D7-JMM-4 ) ;
15799: LD_EXP 1
15803: PPUSH
15804: LD_STRING D7-JMM-4
15806: PPUSH
15807: CALL_OW 88
// Say ( JMM , D7-JMM-4a ) ;
15811: LD_EXP 1
15815: PPUSH
15816: LD_STRING D7-JMM-4a
15818: PPUSH
15819: CALL_OW 88
// Say ( Lisa , D7-Lisa-5 ) ;
15823: LD_EXP 2
15827: PPUSH
15828: LD_STRING D7-Lisa-5
15830: PPUSH
15831: CALL_OW 88
// DialogueOff ;
15835: CALL_OW 7
// end ; end ;
15839: END
// every 0 0$1 trigger tempCharles and FilterAllUnits ( [ [ f_side , 1 ] , [ f_dist , tempCharles , 10 ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) > 1 do
15840: LD_EXP 13
15844: PUSH
15845: LD_INT 22
15847: PUSH
15848: LD_INT 1
15850: PUSH
15851: EMPTY
15852: LIST
15853: LIST
15854: PUSH
15855: LD_INT 91
15857: PUSH
15858: LD_EXP 13
15862: PUSH
15863: LD_INT 10
15865: PUSH
15866: EMPTY
15867: LIST
15868: LIST
15869: LIST
15870: PUSH
15871: LD_INT 2
15873: PUSH
15874: LD_INT 25
15876: PUSH
15877: LD_INT 1
15879: PUSH
15880: EMPTY
15881: LIST
15882: LIST
15883: PUSH
15884: LD_INT 25
15886: PUSH
15887: LD_INT 2
15889: PUSH
15890: EMPTY
15891: LIST
15892: LIST
15893: PUSH
15894: LD_INT 25
15896: PUSH
15897: LD_INT 3
15899: PUSH
15900: EMPTY
15901: LIST
15902: LIST
15903: PUSH
15904: LD_INT 25
15906: PUSH
15907: LD_INT 4
15909: PUSH
15910: EMPTY
15911: LIST
15912: LIST
15913: PUSH
15914: EMPTY
15915: LIST
15916: LIST
15917: LIST
15918: LIST
15919: LIST
15920: PUSH
15921: EMPTY
15922: LIST
15923: LIST
15924: LIST
15925: PPUSH
15926: CALL_OW 69
15930: PUSH
15931: LD_INT 1
15933: GREATER
15934: AND
15935: IFFALSE 15952
15937: GO 15939
15939: DISABLE
// begin Say ( tempCharles , D5-Sol1-1 ) ;
15940: LD_EXP 13
15944: PPUSH
15945: LD_STRING D5-Sol1-1
15947: PPUSH
15948: CALL_OW 88
// end ;
15952: END
// every 0 0$1 trigger FilterAllUnits ( [ [ f_side , 1 ] , [ f_control , control_remote ] ] ) >= 2 do
15953: LD_INT 22
15955: PUSH
15956: LD_INT 1
15958: PUSH
15959: EMPTY
15960: LIST
15961: LIST
15962: PUSH
15963: LD_INT 33
15965: PUSH
15966: LD_INT 2
15968: PUSH
15969: EMPTY
15970: LIST
15971: LIST
15972: PUSH
15973: EMPTY
15974: LIST
15975: LIST
15976: PPUSH
15977: CALL_OW 69
15981: PUSH
15982: LD_INT 2
15984: GREATEREQUAL
15985: IFFALSE 16005
15987: GO 15989
15989: DISABLE
// begin ChangeMissionObjectives ( MRa ) ;
15990: LD_STRING MRa
15992: PPUSH
15993: CALL_OW 337
// remoteVehiclesBuild = 1 ;
15997: LD_ADDR_EXP 28
16001: PUSH
16002: LD_INT 1
16004: ST_TO_ADDR
// end ;
16005: END
// every 0 0$10 do var i , last ;
16006: GO 16008
16008: DISABLE
16009: LD_INT 0
16011: PPUSH
16012: PPUSH
// begin last := 7 ;
16013: LD_ADDR_VAR 0 2
16017: PUSH
16018: LD_INT 7
16020: ST_TO_ADDR
// for i = 1 to last do
16021: LD_ADDR_VAR 0 1
16025: PUSH
16026: DOUBLE
16027: LD_INT 1
16029: DEC
16030: ST_TO_ADDR
16031: LD_VAR 0 2
16035: PUSH
16036: FOR_TO
16037: IFFALSE 16065
// begin wait ( rand ( 3 3$00 , 7 7$00 ) ) ;
16039: LD_INT 6300
16041: PPUSH
16042: LD_INT 14700
16044: PPUSH
16045: CALL_OW 12
16049: PPUSH
16050: CALL_OW 67
// PrepareRandoms ( i ) ;
16054: LD_VAR 0 1
16058: PPUSH
16059: CALL 4052 0 1
// end ;
16063: GO 16036
16065: POP
16066: POP
// end ;
16067: PPOPN 2
16069: END
// every 5 5$20 do
16070: GO 16072
16072: DISABLE
// begin DialogueOn ;
16073: CALL_OW 6
// SayRadio ( DeltaDoctor , D12a-Sci-1 ) ;
16077: LD_EXP 10
16081: PPUSH
16082: LD_STRING D12a-Sci-1
16084: PPUSH
16085: CALL_OW 94
// Say ( JMM , D12a-JMM-1 ) ;
16089: LD_EXP 1
16093: PPUSH
16094: LD_STRING D12a-JMM-1
16096: PPUSH
16097: CALL_OW 88
// DialogueOff ;
16101: CALL_OW 7
// cratesStatus = 1 ;
16105: LD_ADDR_EXP 38
16109: PUSH
16110: LD_INT 1
16112: ST_TO_ADDR
// end ;
16113: END
// every 13 13$0 do
16114: GO 16116
16116: DISABLE
// begin DialogueOn ;
16117: CALL_OW 6
// SayRadio ( DeltaDoctor , D12b-Sci-1 ) ;
16121: LD_EXP 10
16125: PPUSH
16126: LD_STRING D12b-Sci-1
16128: PPUSH
16129: CALL_OW 94
// DialogueOff ;
16133: CALL_OW 7
// cratesStatus = 2 ;
16137: LD_ADDR_EXP 38
16141: PUSH
16142: LD_INT 2
16144: ST_TO_ADDR
// end ;
16145: END
// every 32 32$0 do
16146: GO 16148
16148: DISABLE
// begin DialogueOn ;
16149: CALL_OW 6
// SayRadio ( DeltaDoctor , D12c-Sci-1 ) ;
16153: LD_EXP 10
16157: PPUSH
16158: LD_STRING D12c-Sci-1
16160: PPUSH
16161: CALL_OW 94
// DialogueOff ;
16165: CALL_OW 7
// wait ( 3 3$0 ) ;
16169: LD_INT 6300
16171: PPUSH
16172: CALL_OW 67
// DialogueOn ;
16176: CALL_OW 6
// SayRadio ( DeltaDoctor , D12d-Sci-1 ) ;
16180: LD_EXP 10
16184: PPUSH
16185: LD_STRING D12d-Sci-1
16187: PPUSH
16188: CALL_OW 94
// DialogueOff ;
16192: CALL_OW 7
// cratesStatus = 1 ;
16196: LD_ADDR_EXP 38
16200: PUSH
16201: LD_INT 1
16203: ST_TO_ADDR
// end ;
16204: END
// every 42 42$0 do
16205: GO 16207
16207: DISABLE
// begin DialogueOn ;
16208: CALL_OW 6
// SayRadio ( DeltaDoctor , D12e-Sci-1 ) ;
16212: LD_EXP 10
16216: PPUSH
16217: LD_STRING D12e-Sci-1
16219: PPUSH
16220: CALL_OW 94
// Say ( JMM , D12e-JMM-1 ) ;
16224: LD_EXP 1
16228: PPUSH
16229: LD_STRING D12e-JMM-1
16231: PPUSH
16232: CALL_OW 88
// DialogueOff ;
16236: CALL_OW 7
// cratesStatus = 2 ;
16240: LD_ADDR_EXP 38
16244: PUSH
16245: LD_INT 2
16247: ST_TO_ADDR
// end ;
16248: END
// every 0 0$1 trigger FilterAllUnits ( [ [ f_side , 6 ] , [ f_type , unit_vehicle ] , [ f_weapon , 51 ] ] ) > 0 do var i ;
16249: LD_INT 22
16251: PUSH
16252: LD_INT 6
16254: PUSH
16255: EMPTY
16256: LIST
16257: LIST
16258: PUSH
16259: LD_INT 21
16261: PUSH
16262: LD_INT 2
16264: PUSH
16265: EMPTY
16266: LIST
16267: LIST
16268: PUSH
16269: LD_INT 34
16271: PUSH
16272: LD_INT 51
16274: PUSH
16275: EMPTY
16276: LIST
16277: LIST
16278: PUSH
16279: EMPTY
16280: LIST
16281: LIST
16282: LIST
16283: PPUSH
16284: CALL_OW 69
16288: PUSH
16289: LD_INT 0
16291: GREATER
16292: IFFALSE 16375
16294: GO 16296
16296: DISABLE
16297: LD_INT 0
16299: PPUSH
// begin enable ;
16300: ENABLE
// for i in FilterAllUnits ( [ [ f_side , 6 ] , [ f_or , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] ] ) do
16301: LD_ADDR_VAR 0 1
16305: PUSH
16306: LD_INT 22
16308: PUSH
16309: LD_INT 6
16311: PUSH
16312: EMPTY
16313: LIST
16314: LIST
16315: PUSH
16316: LD_INT 2
16318: PUSH
16319: LD_INT 21
16321: PUSH
16322: LD_INT 1
16324: PUSH
16325: EMPTY
16326: LIST
16327: LIST
16328: PUSH
16329: LD_INT 21
16331: PUSH
16332: LD_INT 2
16334: PUSH
16335: EMPTY
16336: LIST
16337: LIST
16338: PUSH
16339: EMPTY
16340: LIST
16341: LIST
16342: LIST
16343: PUSH
16344: EMPTY
16345: LIST
16346: LIST
16347: PPUSH
16348: CALL_OW 69
16352: PUSH
16353: FOR_IN
16354: IFFALSE 16373
// ComAgressiveMove ( i , 138 , 168 ) ;
16356: LD_VAR 0 1
16360: PPUSH
16361: LD_INT 138
16363: PPUSH
16364: LD_INT 168
16366: PPUSH
16367: CALL_OW 114
16371: GO 16353
16373: POP
16374: POP
// end ;
16375: PPOPN 1
16377: END
// every 0 0$1 do var i ;
16378: GO 16380
16380: DISABLE
16381: LD_INT 0
16383: PPUSH
// begin enable ;
16384: ENABLE
// for i in FilterUnitsInArea ( ConvoyEscape , [ [ f_or , [ f_side , 3 ] , [ f_side , 6 ] ] ] ) do
16385: LD_ADDR_VAR 0 1
16389: PUSH
16390: LD_INT 4
16392: PPUSH
16393: LD_INT 2
16395: PUSH
16396: LD_INT 22
16398: PUSH
16399: LD_INT 3
16401: PUSH
16402: EMPTY
16403: LIST
16404: LIST
16405: PUSH
16406: LD_INT 22
16408: PUSH
16409: LD_INT 6
16411: PUSH
16412: EMPTY
16413: LIST
16414: LIST
16415: PUSH
16416: EMPTY
16417: LIST
16418: LIST
16419: LIST
16420: PUSH
16421: EMPTY
16422: LIST
16423: PPUSH
16424: CALL_OW 70
16428: PUSH
16429: FOR_IN
16430: IFFALSE 16494
// begin if FilterUnitsInArea ( ConvoyEscape , [ [ f_side , 6 ] , [ f_weapon , 51 ] ] ) > 0 then
16432: LD_INT 4
16434: PPUSH
16435: LD_INT 22
16437: PUSH
16438: LD_INT 6
16440: PUSH
16441: EMPTY
16442: LIST
16443: LIST
16444: PUSH
16445: LD_INT 34
16447: PUSH
16448: LD_INT 51
16450: PUSH
16451: EMPTY
16452: LIST
16453: LIST
16454: PUSH
16455: EMPTY
16456: LIST
16457: LIST
16458: PPUSH
16459: CALL_OW 70
16463: PUSH
16464: LD_INT 0
16466: GREATER
16467: IFFALSE 16483
// sendedConvoys = sendedConvoys + 1 ;
16469: LD_ADDR_EXP 39
16473: PUSH
16474: LD_EXP 39
16478: PUSH
16479: LD_INT 1
16481: PLUS
16482: ST_TO_ADDR
// RemoveUnit ( i ) ;
16483: LD_VAR 0 1
16487: PPUSH
16488: CALL_OW 64
// end ;
16492: GO 16429
16494: POP
16495: POP
// end ; end_of_file
16496: PPOPN 1
16498: END
// on Contact ( side1 , side2 ) do begin if side1 = 1 and side2 = 3 then
16499: LD_VAR 0 1
16503: PUSH
16504: LD_INT 1
16506: EQUAL
16507: PUSH
16508: LD_VAR 0 2
16512: PUSH
16513: LD_INT 3
16515: EQUAL
16516: AND
16517: IFFALSE 16527
// contactWithRussian = 1 ;
16519: LD_ADDR_EXP 22
16523: PUSH
16524: LD_INT 1
16526: ST_TO_ADDR
// end ;
16527: PPOPN 2
16529: END
// on BuildingComplete ( building ) do begin if GetBType ( building ) = 36 and GetSide ( building ) = 1 and FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_control , control_remote ] ] ) = 0 and firstTower = 0 then
16530: LD_VAR 0 1
16534: PPUSH
16535: CALL_OW 266
16539: PUSH
16540: LD_INT 36
16542: EQUAL
16543: PUSH
16544: LD_VAR 0 1
16548: PPUSH
16549: CALL_OW 255
16553: PUSH
16554: LD_INT 1
16556: EQUAL
16557: AND
16558: PUSH
16559: LD_INT 22
16561: PUSH
16562: LD_INT 1
16564: PUSH
16565: EMPTY
16566: LIST
16567: LIST
16568: PUSH
16569: LD_INT 21
16571: PUSH
16572: LD_INT 2
16574: PUSH
16575: EMPTY
16576: LIST
16577: LIST
16578: PUSH
16579: LD_INT 33
16581: PUSH
16582: LD_INT 2
16584: PUSH
16585: EMPTY
16586: LIST
16587: LIST
16588: PUSH
16589: EMPTY
16590: LIST
16591: LIST
16592: LIST
16593: PPUSH
16594: CALL_OW 69
16598: PUSH
16599: LD_INT 0
16601: EQUAL
16602: AND
16603: PUSH
16604: LD_EXP 23
16608: PUSH
16609: LD_INT 0
16611: EQUAL
16612: AND
16613: IFFALSE 16693
// begin firstTower = 1 ;
16615: LD_ADDR_EXP 23
16619: PUSH
16620: LD_INT 1
16622: ST_TO_ADDR
// DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_class , 3 ] , [ f_sex , 1 ] ] ) diff [ JMM ] , D3b-Mech1-1 , D3b-Mech1-1 ) ;
16623: LD_INT 22
16625: PUSH
16626: LD_INT 1
16628: PUSH
16629: EMPTY
16630: LIST
16631: LIST
16632: PUSH
16633: LD_INT 21
16635: PUSH
16636: LD_INT 1
16638: PUSH
16639: EMPTY
16640: LIST
16641: LIST
16642: PUSH
16643: LD_INT 25
16645: PUSH
16646: LD_INT 3
16648: PUSH
16649: EMPTY
16650: LIST
16651: LIST
16652: PUSH
16653: LD_INT 26
16655: PUSH
16656: LD_INT 1
16658: PUSH
16659: EMPTY
16660: LIST
16661: LIST
16662: PUSH
16663: EMPTY
16664: LIST
16665: LIST
16666: LIST
16667: LIST
16668: PPUSH
16669: CALL_OW 69
16673: PUSH
16674: LD_EXP 1
16678: PUSH
16679: EMPTY
16680: LIST
16681: DIFF
16682: PPUSH
16683: LD_STRING D3b-Mech1-1
16685: PPUSH
16686: LD_STRING D3b-Mech1-1
16688: PPUSH
16689: CALL 6031 0 3
// end ; if GetBType ( building ) = 0 and GetSide ( building ) = 1 then
16693: LD_VAR 0 1
16697: PPUSH
16698: CALL_OW 266
16702: PUSH
16703: LD_INT 0
16705: EQUAL
16706: PUSH
16707: LD_VAR 0 1
16711: PPUSH
16712: CALL_OW 255
16716: PUSH
16717: LD_INT 1
16719: EQUAL
16720: AND
16721: IFFALSE 16735
// SetBName ( building , theta ) ;
16723: LD_VAR 0 1
16727: PPUSH
16728: LD_STRING theta
16730: PPUSH
16731: CALL_OW 500
// if GetSide ( building ) = 3 then
16735: LD_VAR 0 1
16739: PPUSH
16740: CALL_OW 255
16744: PUSH
16745: LD_INT 3
16747: EQUAL
16748: IFFALSE 16822
// begin ruDestroyedBuildings := Delete ( ruDestroyedBuildings , 1 ) ;
16750: LD_ADDR_EXP 31
16754: PUSH
16755: LD_EXP 31
16759: PPUSH
16760: LD_INT 1
16762: PPUSH
16763: CALL_OW 3
16767: ST_TO_ADDR
// ruDestroyedBuildings := Delete ( ruDestroyedBuildings , 1 ) ;
16768: LD_ADDR_EXP 31
16772: PUSH
16773: LD_EXP 31
16777: PPUSH
16778: LD_INT 1
16780: PPUSH
16781: CALL_OW 3
16785: ST_TO_ADDR
// ruDestroyedBuildings := Delete ( ruDestroyedBuildings , 1 ) ;
16786: LD_ADDR_EXP 31
16790: PUSH
16791: LD_EXP 31
16795: PPUSH
16796: LD_INT 1
16798: PPUSH
16799: CALL_OW 3
16803: ST_TO_ADDR
// ruDestroyedBuildings := Delete ( ruDestroyedBuildings , 1 ) ;
16804: LD_ADDR_EXP 31
16808: PUSH
16809: LD_EXP 31
16813: PPUSH
16814: LD_INT 1
16816: PPUSH
16817: CALL_OW 3
16821: ST_TO_ADDR
// end ; if GetSide ( building ) = 3 and [ GetBType ( building ) = 0 or GetBType ( building ) = 2 or GetBType ( building ) = 4 ] then
16822: LD_VAR 0 1
16826: PPUSH
16827: CALL_OW 255
16831: PUSH
16832: LD_INT 3
16834: EQUAL
16835: PUSH
16836: LD_VAR 0 1
16840: PPUSH
16841: CALL_OW 266
16845: PUSH
16846: LD_INT 0
16848: EQUAL
16849: PUSH
16850: LD_VAR 0 1
16854: PPUSH
16855: CALL_OW 266
16859: PUSH
16860: LD_INT 2
16862: EQUAL
16863: OR
16864: PUSH
16865: LD_VAR 0 1
16869: PPUSH
16870: CALL_OW 266
16874: PUSH
16875: LD_INT 4
16877: EQUAL
16878: OR
16879: PUSH
16880: EMPTY
16881: LIST
16882: AND
16883: IFFALSE 16894
// ComUpgrade ( building ) ;
16885: LD_VAR 0 1
16889: PPUSH
16890: CALL_OW 146
// if GetSide ( building ) = 3 and GetBType ( building ) = b_bunker then
16894: LD_VAR 0 1
16898: PPUSH
16899: CALL_OW 255
16903: PUSH
16904: LD_INT 3
16906: EQUAL
16907: PUSH
16908: LD_VAR 0 1
16912: PPUSH
16913: CALL_OW 266
16917: PUSH
16918: LD_INT 32
16920: EQUAL
16921: AND
16922: IFFALSE 16963
// begin AddComPlaceWeapon ( building , [ 42 , 43 , 44 , 46 ] [ Rand ( 1 , 4 ) ] ) ;
16924: LD_VAR 0 1
16928: PPUSH
16929: LD_INT 42
16931: PUSH
16932: LD_INT 43
16934: PUSH
16935: LD_INT 44
16937: PUSH
16938: LD_INT 46
16940: PUSH
16941: EMPTY
16942: LIST
16943: LIST
16944: LIST
16945: LIST
16946: PUSH
16947: LD_INT 1
16949: PPUSH
16950: LD_INT 4
16952: PPUSH
16953: CALL_OW 12
16957: ARRAY
16958: PPUSH
16959: CALL_OW 208
// end ; end ;
16963: PPOPN 1
16965: END
// on UnitDestroyed ( unit ) do begin if unit in FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_nation , 1 ] ] ) then
16966: LD_VAR 0 1
16970: PUSH
16971: LD_INT 22
16973: PUSH
16974: LD_INT 1
16976: PUSH
16977: EMPTY
16978: LIST
16979: LIST
16980: PUSH
16981: LD_INT 21
16983: PUSH
16984: LD_INT 1
16986: PUSH
16987: EMPTY
16988: LIST
16989: LIST
16990: PUSH
16991: LD_INT 23
16993: PUSH
16994: LD_INT 1
16996: PUSH
16997: EMPTY
16998: LIST
16999: LIST
17000: PUSH
17001: EMPTY
17002: LIST
17003: LIST
17004: LIST
17005: PPUSH
17006: CALL_OW 69
17010: IN
17011: IFFALSE 17027
// killCounter := killCounter + 1 ;
17013: LD_ADDR_EXP 47
17017: PUSH
17018: LD_EXP 47
17022: PUSH
17023: LD_INT 1
17025: PLUS
17026: ST_TO_ADDR
// if unit = JMM then
17027: LD_VAR 0 1
17031: PUSH
17032: LD_EXP 1
17036: EQUAL
17037: IFFALSE 17046
// YouLost ( JMM ) ;
17039: LD_STRING JMM
17041: PPUSH
17042: CALL_OW 104
// if unit = Joan then
17046: LD_VAR 0 1
17050: PUSH
17051: LD_EXP 15
17055: EQUAL
17056: IFFALSE 17066
// JoanStatus = 0 ;
17058: LD_ADDR_EXP 16
17062: PUSH
17063: LD_INT 0
17065: ST_TO_ADDR
// if GetSide ( unit ) = 1 and GetType ( unit ) = unit_human then
17066: LD_VAR 0 1
17070: PPUSH
17071: CALL_OW 255
17075: PUSH
17076: LD_INT 1
17078: EQUAL
17079: PUSH
17080: LD_VAR 0 1
17084: PPUSH
17085: CALL_OW 247
17089: PUSH
17090: LD_INT 1
17092: EQUAL
17093: AND
17094: IFFALSE 17170
// begin if GetClass ( unit ) = 1 or GetClass ( unit ) = 2 or GetClass ( unit ) = 3 or GetClass ( unit ) = 4 then
17096: LD_VAR 0 1
17100: PPUSH
17101: CALL_OW 257
17105: PUSH
17106: LD_INT 1
17108: EQUAL
17109: PUSH
17110: LD_VAR 0 1
17114: PPUSH
17115: CALL_OW 257
17119: PUSH
17120: LD_INT 2
17122: EQUAL
17123: OR
17124: PUSH
17125: LD_VAR 0 1
17129: PPUSH
17130: CALL_OW 257
17134: PUSH
17135: LD_INT 3
17137: EQUAL
17138: OR
17139: PUSH
17140: LD_VAR 0 1
17144: PPUSH
17145: CALL_OW 257
17149: PUSH
17150: LD_INT 4
17152: EQUAL
17153: OR
17154: IFFALSE 17170
// unitLost = unitLost + 1 ;
17156: LD_ADDR_EXP 30
17160: PUSH
17161: LD_EXP 30
17165: PUSH
17166: LD_INT 1
17168: PLUS
17169: ST_TO_ADDR
// end ; if GetSide ( unit ) = 3 and GetType ( unit ) = unit_building then
17170: LD_VAR 0 1
17174: PPUSH
17175: CALL_OW 255
17179: PUSH
17180: LD_INT 3
17182: EQUAL
17183: PUSH
17184: LD_VAR 0 1
17188: PPUSH
17189: CALL_OW 247
17193: PUSH
17194: LD_INT 3
17196: EQUAL
17197: AND
17198: IFFALSE 17890
// begin if GetBType ( unit ) = 31 or GetBType ( unit ) = 32 or GetBType ( unit ) = 36 or GetBType ( unit ) = 0 or GetBType ( unit ) = 24 or GetBType ( unit ) = 17 or GetBType ( unit ) = 25 or GetBType ( unit ) = 19 or GetBType ( unit ) = 20 or GetBType ( unit ) = 18 or GetBType ( unit ) = 21 or GetBType ( unit ) = 23 or GetBType ( unit ) = 16 or GetBType ( unit ) = 6 or GetBType ( unit ) = 29 or GetBType ( unit ) = 26 or GetBType ( unit ) = 30 or GetBType ( unit ) = 28 or GetBType ( unit ) = 27 or GetBType ( unit ) = 33 or GetBType ( unit ) = 2 or GetBType ( unit ) = 4 then
17200: LD_VAR 0 1
17204: PPUSH
17205: CALL_OW 266
17209: PUSH
17210: LD_INT 31
17212: EQUAL
17213: PUSH
17214: LD_VAR 0 1
17218: PPUSH
17219: CALL_OW 266
17223: PUSH
17224: LD_INT 32
17226: EQUAL
17227: OR
17228: PUSH
17229: LD_VAR 0 1
17233: PPUSH
17234: CALL_OW 266
17238: PUSH
17239: LD_INT 36
17241: EQUAL
17242: OR
17243: PUSH
17244: LD_VAR 0 1
17248: PPUSH
17249: CALL_OW 266
17253: PUSH
17254: LD_INT 0
17256: EQUAL
17257: OR
17258: PUSH
17259: LD_VAR 0 1
17263: PPUSH
17264: CALL_OW 266
17268: PUSH
17269: LD_INT 24
17271: EQUAL
17272: OR
17273: PUSH
17274: LD_VAR 0 1
17278: PPUSH
17279: CALL_OW 266
17283: PUSH
17284: LD_INT 17
17286: EQUAL
17287: OR
17288: PUSH
17289: LD_VAR 0 1
17293: PPUSH
17294: CALL_OW 266
17298: PUSH
17299: LD_INT 25
17301: EQUAL
17302: OR
17303: PUSH
17304: LD_VAR 0 1
17308: PPUSH
17309: CALL_OW 266
17313: PUSH
17314: LD_INT 19
17316: EQUAL
17317: OR
17318: PUSH
17319: LD_VAR 0 1
17323: PPUSH
17324: CALL_OW 266
17328: PUSH
17329: LD_INT 20
17331: EQUAL
17332: OR
17333: PUSH
17334: LD_VAR 0 1
17338: PPUSH
17339: CALL_OW 266
17343: PUSH
17344: LD_INT 18
17346: EQUAL
17347: OR
17348: PUSH
17349: LD_VAR 0 1
17353: PPUSH
17354: CALL_OW 266
17358: PUSH
17359: LD_INT 21
17361: EQUAL
17362: OR
17363: PUSH
17364: LD_VAR 0 1
17368: PPUSH
17369: CALL_OW 266
17373: PUSH
17374: LD_INT 23
17376: EQUAL
17377: OR
17378: PUSH
17379: LD_VAR 0 1
17383: PPUSH
17384: CALL_OW 266
17388: PUSH
17389: LD_INT 16
17391: EQUAL
17392: OR
17393: PUSH
17394: LD_VAR 0 1
17398: PPUSH
17399: CALL_OW 266
17403: PUSH
17404: LD_INT 6
17406: EQUAL
17407: OR
17408: PUSH
17409: LD_VAR 0 1
17413: PPUSH
17414: CALL_OW 266
17418: PUSH
17419: LD_INT 29
17421: EQUAL
17422: OR
17423: PUSH
17424: LD_VAR 0 1
17428: PPUSH
17429: CALL_OW 266
17433: PUSH
17434: LD_INT 26
17436: EQUAL
17437: OR
17438: PUSH
17439: LD_VAR 0 1
17443: PPUSH
17444: CALL_OW 266
17448: PUSH
17449: LD_INT 30
17451: EQUAL
17452: OR
17453: PUSH
17454: LD_VAR 0 1
17458: PPUSH
17459: CALL_OW 266
17463: PUSH
17464: LD_INT 28
17466: EQUAL
17467: OR
17468: PUSH
17469: LD_VAR 0 1
17473: PPUSH
17474: CALL_OW 266
17478: PUSH
17479: LD_INT 27
17481: EQUAL
17482: OR
17483: PUSH
17484: LD_VAR 0 1
17488: PPUSH
17489: CALL_OW 266
17493: PUSH
17494: LD_INT 33
17496: EQUAL
17497: OR
17498: PUSH
17499: LD_VAR 0 1
17503: PPUSH
17504: CALL_OW 266
17508: PUSH
17509: LD_INT 2
17511: EQUAL
17512: OR
17513: PUSH
17514: LD_VAR 0 1
17518: PPUSH
17519: CALL_OW 266
17523: PUSH
17524: LD_INT 4
17526: EQUAL
17527: OR
17528: IFFALSE 17614
// begin ruDestroyedBuildings = ruDestroyedBuildings ^ GetBType ( unit ) ;
17530: LD_ADDR_EXP 31
17534: PUSH
17535: LD_EXP 31
17539: PUSH
17540: LD_VAR 0 1
17544: PPUSH
17545: CALL_OW 266
17549: ADD
17550: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetX ( unit ) ;
17551: LD_ADDR_EXP 31
17555: PUSH
17556: LD_EXP 31
17560: PUSH
17561: LD_VAR 0 1
17565: PPUSH
17566: CALL_OW 250
17570: ADD
17571: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetY ( unit ) ;
17572: LD_ADDR_EXP 31
17576: PUSH
17577: LD_EXP 31
17581: PUSH
17582: LD_VAR 0 1
17586: PPUSH
17587: CALL_OW 251
17591: ADD
17592: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetDir ( unit ) ;
17593: LD_ADDR_EXP 31
17597: PUSH
17598: LD_EXP 31
17602: PUSH
17603: LD_VAR 0 1
17607: PPUSH
17608: CALL_OW 254
17612: ADD
17613: ST_TO_ADDR
// end ; if GetBType ( unit ) = 1 then
17614: LD_VAR 0 1
17618: PPUSH
17619: CALL_OW 266
17623: PUSH
17624: LD_INT 1
17626: EQUAL
17627: IFFALSE 17706
// begin ruDestroyedBuildings = ruDestroyedBuildings ^ 0 ;
17629: LD_ADDR_EXP 31
17633: PUSH
17634: LD_EXP 31
17638: PUSH
17639: LD_INT 0
17641: ADD
17642: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetX ( unit ) ;
17643: LD_ADDR_EXP 31
17647: PUSH
17648: LD_EXP 31
17652: PUSH
17653: LD_VAR 0 1
17657: PPUSH
17658: CALL_OW 250
17662: ADD
17663: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetY ( unit ) ;
17664: LD_ADDR_EXP 31
17668: PUSH
17669: LD_EXP 31
17673: PUSH
17674: LD_VAR 0 1
17678: PPUSH
17679: CALL_OW 251
17683: ADD
17684: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetDir ( unit ) ;
17685: LD_ADDR_EXP 31
17689: PUSH
17690: LD_EXP 31
17694: PUSH
17695: LD_VAR 0 1
17699: PPUSH
17700: CALL_OW 254
17704: ADD
17705: ST_TO_ADDR
// end ; if GetBType ( unit ) = 3 then
17706: LD_VAR 0 1
17710: PPUSH
17711: CALL_OW 266
17715: PUSH
17716: LD_INT 3
17718: EQUAL
17719: IFFALSE 17798
// begin ruDestroyedBuildings = ruDestroyedBuildings ^ 2 ;
17721: LD_ADDR_EXP 31
17725: PUSH
17726: LD_EXP 31
17730: PUSH
17731: LD_INT 2
17733: ADD
17734: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetX ( unit ) ;
17735: LD_ADDR_EXP 31
17739: PUSH
17740: LD_EXP 31
17744: PUSH
17745: LD_VAR 0 1
17749: PPUSH
17750: CALL_OW 250
17754: ADD
17755: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetY ( unit ) ;
17756: LD_ADDR_EXP 31
17760: PUSH
17761: LD_EXP 31
17765: PUSH
17766: LD_VAR 0 1
17770: PPUSH
17771: CALL_OW 251
17775: ADD
17776: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetDir ( unit ) ;
17777: LD_ADDR_EXP 31
17781: PUSH
17782: LD_EXP 31
17786: PUSH
17787: LD_VAR 0 1
17791: PPUSH
17792: CALL_OW 254
17796: ADD
17797: ST_TO_ADDR
// end ; if GetBType ( unit ) = 5 then
17798: LD_VAR 0 1
17802: PPUSH
17803: CALL_OW 266
17807: PUSH
17808: LD_INT 5
17810: EQUAL
17811: IFFALSE 17890
// begin ruDestroyedBuildings = ruDestroyedBuildings ^ 4 ;
17813: LD_ADDR_EXP 31
17817: PUSH
17818: LD_EXP 31
17822: PUSH
17823: LD_INT 4
17825: ADD
17826: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetX ( unit ) ;
17827: LD_ADDR_EXP 31
17831: PUSH
17832: LD_EXP 31
17836: PUSH
17837: LD_VAR 0 1
17841: PPUSH
17842: CALL_OW 250
17846: ADD
17847: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetY ( unit ) ;
17848: LD_ADDR_EXP 31
17852: PUSH
17853: LD_EXP 31
17857: PUSH
17858: LD_VAR 0 1
17862: PPUSH
17863: CALL_OW 251
17867: ADD
17868: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetDir ( unit ) ;
17869: LD_ADDR_EXP 31
17873: PUSH
17874: LD_EXP 31
17878: PUSH
17879: LD_VAR 0 1
17883: PPUSH
17884: CALL_OW 254
17888: ADD
17889: ST_TO_ADDR
// end ; end ; if ruMechCounter and GetClass ( unit ) = 3 and GetSide ( unit ) = 3 and IsOK ( rufab ) and GetSide ( rufab ) = 3 then
17890: LD_EXP 48
17894: PUSH
17895: LD_VAR 0 1
17899: PPUSH
17900: CALL_OW 257
17904: PUSH
17905: LD_INT 3
17907: EQUAL
17908: AND
17909: PUSH
17910: LD_VAR 0 1
17914: PPUSH
17915: CALL_OW 255
17919: PUSH
17920: LD_INT 3
17922: EQUAL
17923: AND
17924: PUSH
17925: LD_INT 21
17927: PPUSH
17928: CALL_OW 302
17932: AND
17933: PUSH
17934: LD_INT 21
17936: PPUSH
17937: CALL_OW 255
17941: PUSH
17942: LD_INT 3
17944: EQUAL
17945: AND
17946: IFFALSE 18028
// begin ruMechCounter := ruMechCounter - 1 ;
17948: LD_ADDR_EXP 48
17952: PUSH
17953: LD_EXP 48
17957: PUSH
17958: LD_INT 1
17960: MINUS
17961: ST_TO_ADDR
// uc_side = 3 ;
17962: LD_ADDR_OWVAR 20
17966: PUSH
17967: LD_INT 3
17969: ST_TO_ADDR
// uc_nation = 3 ;
17970: LD_ADDR_OWVAR 21
17974: PUSH
17975: LD_INT 3
17977: ST_TO_ADDR
// hc_gallery :=  ;
17978: LD_ADDR_OWVAR 33
17982: PUSH
17983: LD_STRING 
17985: ST_TO_ADDR
// hc_name :=  ;
17986: LD_ADDR_OWVAR 26
17990: PUSH
17991: LD_STRING 
17993: ST_TO_ADDR
// PrepareMechanic ( false , rand ( RuSolMinLevel , RuSolMaxLevel ) ) ;
17994: LD_INT 0
17996: PPUSH
17997: LD_EXP 34
18001: PPUSH
18002: LD_EXP 35
18006: PPUSH
18007: CALL_OW 12
18011: PPUSH
18012: CALL_OW 383
// PlaceHumanInUnit ( CreateHuman , rufab ) ;
18016: CALL_OW 44
18020: PPUSH
18021: LD_INT 21
18023: PPUSH
18024: CALL_OW 52
// end ; if GetSide ( unit ) = 3 and GetWeapon ( unit ) = ru_crane and IsOK ( rufab ) and GetSide ( rufab ) = 3 then
18028: LD_VAR 0 1
18032: PPUSH
18033: CALL_OW 255
18037: PUSH
18038: LD_INT 3
18040: EQUAL
18041: PUSH
18042: LD_VAR 0 1
18046: PPUSH
18047: CALL_OW 264
18051: PUSH
18052: LD_INT 52
18054: EQUAL
18055: AND
18056: PUSH
18057: LD_INT 21
18059: PPUSH
18060: CALL_OW 302
18064: AND
18065: PUSH
18066: LD_INT 21
18068: PPUSH
18069: CALL_OW 255
18073: PUSH
18074: LD_INT 3
18076: EQUAL
18077: AND
18078: IFFALSE 18099
// ComConstruct ( rufab , 22 , 1 , 1 , ru_crane ) ;
18080: LD_INT 21
18082: PPUSH
18083: LD_INT 22
18085: PPUSH
18086: LD_INT 1
18088: PPUSH
18089: LD_INT 1
18091: PPUSH
18092: LD_INT 52
18094: PPUSH
18095: CALL_OW 125
// end ;
18099: PPOPN 1
18101: END
// on VehicleConstructed ( vehicle , building ) do var i , un , crates ;
18102: LD_INT 0
18104: PPUSH
18105: PPUSH
18106: PPUSH
// begin if GetWeapon ( vehicle ) = 51 and GetSide ( vehicle ) = 3 then
18107: LD_VAR 0 1
18111: PPUSH
18112: CALL_OW 264
18116: PUSH
18117: LD_INT 51
18119: EQUAL
18120: PUSH
18121: LD_VAR 0 1
18125: PPUSH
18126: CALL_OW 255
18130: PUSH
18131: LD_INT 3
18133: EQUAL
18134: AND
18135: IFFALSE 18197
// begin crates = GetResourceType ( GetBase ( rudepo ) , 1 ) ;
18137: LD_ADDR_VAR 0 5
18141: PUSH
18142: LD_INT 2
18144: PPUSH
18145: CALL_OW 274
18149: PPUSH
18150: LD_INT 1
18152: PPUSH
18153: CALL_OW 275
18157: ST_TO_ADDR
// SetResourceType ( GetBase ( rudepo ) , 1 , crates - 100 ) ;
18158: LD_INT 2
18160: PPUSH
18161: CALL_OW 274
18165: PPUSH
18166: LD_INT 1
18168: PPUSH
18169: LD_VAR 0 5
18173: PUSH
18174: LD_INT 100
18176: MINUS
18177: PPUSH
18178: CALL_OW 277
// AddCargo ( vehicle , 1 , 100 ) ;
18182: LD_VAR 0 1
18186: PPUSH
18187: LD_INT 1
18189: PPUSH
18190: LD_INT 100
18192: PPUSH
18193: CALL_OW 291
// end ; if building = rufabsupp then
18197: LD_VAR 0 2
18201: PUSH
18202: LD_INT 17
18204: EQUAL
18205: IFFALSE 18219
// SetSide ( vehicle , 6 ) ;
18207: LD_VAR 0 1
18211: PPUSH
18212: LD_INT 6
18214: PPUSH
18215: CALL_OW 235
// end ;
18219: PPOPN 5
18221: END
// on ApemanTamed ( apeman , human ) do begin if GetSide ( apeman ) = 3 then
18222: LD_VAR 0 1
18226: PPUSH
18227: CALL_OW 255
18231: PUSH
18232: LD_INT 3
18234: EQUAL
18235: IFFALSE 18266
// begin tamedApemans = tamedApemans + 1 ;
18237: LD_ADDR_EXP 32
18241: PUSH
18242: LD_EXP 32
18246: PUSH
18247: LD_INT 1
18249: PLUS
18250: ST_TO_ADDR
// ComMoveXY ( apeman , 106 , 85 ) ;
18251: LD_VAR 0 1
18255: PPUSH
18256: LD_INT 106
18258: PPUSH
18259: LD_INT 85
18261: PPUSH
18262: CALL_OW 111
// end ; end ;
18266: PPOPN 2
18268: END
// on UnitGoesToRed ( unit ) do var i , tmpMeh ;
18269: LD_INT 0
18271: PPUSH
18272: PPUSH
// begin if GetSide ( unit ) = 3 and GetType ( unit ) = unit_vehicle then
18273: LD_VAR 0 1
18277: PPUSH
18278: CALL_OW 255
18282: PUSH
18283: LD_INT 3
18285: EQUAL
18286: PUSH
18287: LD_VAR 0 1
18291: PPUSH
18292: CALL_OW 247
18296: PUSH
18297: LD_INT 2
18299: EQUAL
18300: AND
18301: IFFALSE 18410
// if GetWeapon ( unit ) = 42 or GetWeapon ( unit ) = 43 or GetWeapon ( unit ) = 44 or GetWeapon ( unit ) = 46 then
18303: LD_VAR 0 1
18307: PPUSH
18308: CALL_OW 264
18312: PUSH
18313: LD_INT 42
18315: EQUAL
18316: PUSH
18317: LD_VAR 0 1
18321: PPUSH
18322: CALL_OW 264
18326: PUSH
18327: LD_INT 43
18329: EQUAL
18330: OR
18331: PUSH
18332: LD_VAR 0 1
18336: PPUSH
18337: CALL_OW 264
18341: PUSH
18342: LD_INT 44
18344: EQUAL
18345: OR
18346: PUSH
18347: LD_VAR 0 1
18351: PPUSH
18352: CALL_OW 264
18356: PUSH
18357: LD_INT 46
18359: EQUAL
18360: OR
18361: IFFALSE 18410
// AddComConstruct ( rufab , GetChassis ( unit ) , GetEngine ( unit ) , GetControl ( unit ) , GetWeapon ( unit ) ) ;
18363: LD_INT 21
18365: PPUSH
18366: LD_VAR 0 1
18370: PPUSH
18371: CALL_OW 265
18375: PPUSH
18376: LD_VAR 0 1
18380: PPUSH
18381: CALL_OW 262
18385: PPUSH
18386: LD_VAR 0 1
18390: PPUSH
18391: CALL_OW 263
18395: PPUSH
18396: LD_VAR 0 1
18400: PPUSH
18401: CALL_OW 264
18405: PPUSH
18406: CALL_OW 185
// end ;
18410: PPOPN 3
18412: END
// on LeaveVehicle ( vehicle , human ) do begin if GetSide ( vehicle ) = 3 and GetSide ( human ) = 3 and IsOk ( vehicle ) then
18413: LD_VAR 0 1
18417: PPUSH
18418: CALL_OW 255
18422: PUSH
18423: LD_INT 3
18425: EQUAL
18426: PUSH
18427: LD_VAR 0 2
18431: PPUSH
18432: CALL_OW 255
18436: PUSH
18437: LD_INT 3
18439: EQUAL
18440: AND
18441: PUSH
18442: LD_VAR 0 1
18446: PPUSH
18447: CALL_OW 302
18451: AND
18452: IFFALSE 18494
// begin ComRepairVehicle ( human , vehicle ) ;
18454: LD_VAR 0 2
18458: PPUSH
18459: LD_VAR 0 1
18463: PPUSH
18464: CALL_OW 129
// AddComEnterUnit ( human , vehicle ) ;
18468: LD_VAR 0 2
18472: PPUSH
18473: LD_VAR 0 1
18477: PPUSH
18478: CALL_OW 180
// SetFuel ( vehicle , 100 ) ;
18482: LD_VAR 0 1
18486: PPUSH
18487: LD_INT 100
18489: PPUSH
18490: CALL_OW 240
// end ; if GetSide ( vehicle ) = 3 and GetSide ( human ) = 3 and IsOK ( rufab ) and not IsOk ( vehicle ) then
18494: LD_VAR 0 1
18498: PPUSH
18499: CALL_OW 255
18503: PUSH
18504: LD_INT 3
18506: EQUAL
18507: PUSH
18508: LD_VAR 0 2
18512: PPUSH
18513: CALL_OW 255
18517: PUSH
18518: LD_INT 3
18520: EQUAL
18521: AND
18522: PUSH
18523: LD_INT 21
18525: PPUSH
18526: CALL_OW 302
18530: AND
18531: PUSH
18532: LD_VAR 0 1
18536: PPUSH
18537: CALL_OW 302
18541: NOT
18542: AND
18543: IFFALSE 18557
// ComEnterUnit ( human , rufab ) ;
18545: LD_VAR 0 2
18549: PPUSH
18550: LD_INT 21
18552: PPUSH
18553: CALL_OW 120
// end ;
18557: PPOPN 2
18559: END
// on EnterBuilding ( building , human ) do begin if building = rufab and GetSide ( human ) = 3 then
18560: LD_VAR 0 1
18564: PUSH
18565: LD_INT 21
18567: EQUAL
18568: PUSH
18569: LD_VAR 0 2
18573: PPUSH
18574: CALL_OW 255
18578: PUSH
18579: LD_INT 3
18581: EQUAL
18582: AND
18583: IFFALSE 18597
// SetLives ( human , 1000 ) ;
18585: LD_VAR 0 2
18589: PPUSH
18590: LD_INT 1000
18592: PPUSH
18593: CALL_OW 234
// end ;
18597: PPOPN 2
18599: END
// on Command ( cmd ) do begin SOS_Command ( cmd ) ;
18600: LD_VAR 0 1
18604: PPUSH
18605: CALL 24305 0 1
// end ; end_of_file
18609: PPOPN 1
18611: END
// every 0 0$30 trigger cratesStatus = 1 do
18612: LD_EXP 38
18616: PUSH
18617: LD_INT 1
18619: EQUAL
18620: IFFALSE 18703
18622: GO 18624
18624: DISABLE
// begin enable ;
18625: ENABLE
// wait ( [ 0 0$10 , 0 0$30 ] [ Rand ( 1 , 2 ) ] ) ;
18626: LD_INT 350
18628: PUSH
18629: LD_INT 1050
18631: PUSH
18632: EMPTY
18633: LIST
18634: LIST
18635: PUSH
18636: LD_INT 1
18638: PPUSH
18639: LD_INT 2
18641: PPUSH
18642: CALL_OW 12
18646: ARRAY
18647: PPUSH
18648: CALL_OW 67
// CreateCratesArea ( [ 4 , 5 ] [ Rand ( 1 , 2 ) ] , [ CratesSpawn1 , CratesSpawn2 ] [ rand ( 1 , 2 ) ] , true ) ;
18652: LD_INT 4
18654: PUSH
18655: LD_INT 5
18657: PUSH
18658: EMPTY
18659: LIST
18660: LIST
18661: PUSH
18662: LD_INT 1
18664: PPUSH
18665: LD_INT 2
18667: PPUSH
18668: CALL_OW 12
18672: ARRAY
18673: PPUSH
18674: LD_INT 6
18676: PUSH
18677: LD_INT 7
18679: PUSH
18680: EMPTY
18681: LIST
18682: LIST
18683: PUSH
18684: LD_INT 1
18686: PPUSH
18687: LD_INT 2
18689: PPUSH
18690: CALL_OW 12
18694: ARRAY
18695: PPUSH
18696: LD_INT 1
18698: PPUSH
18699: CALL_OW 55
// end ;
18703: END
// every 1 1$0 trigger cratesStatus = 2 do
18704: LD_EXP 38
18708: PUSH
18709: LD_INT 2
18711: EQUAL
18712: IFFALSE 18795
18714: GO 18716
18716: DISABLE
// begin enable ;
18717: ENABLE
// wait ( [ 1 1$30 , 2 2$10 ] [ Rand ( 1 , 2 ) ] ) ;
18718: LD_INT 3150
18720: PUSH
18721: LD_INT 4550
18723: PUSH
18724: EMPTY
18725: LIST
18726: LIST
18727: PUSH
18728: LD_INT 1
18730: PPUSH
18731: LD_INT 2
18733: PPUSH
18734: CALL_OW 12
18738: ARRAY
18739: PPUSH
18740: CALL_OW 67
// CreateCratesArea ( [ 2 , 5 ] [ Rand ( 1 , 2 ) ] , [ CratesSpawn1 , CratesSpawn2 ] [ rand ( 1 , 2 ) ] , true ) ;
18744: LD_INT 2
18746: PUSH
18747: LD_INT 5
18749: PUSH
18750: EMPTY
18751: LIST
18752: LIST
18753: PUSH
18754: LD_INT 1
18756: PPUSH
18757: LD_INT 2
18759: PPUSH
18760: CALL_OW 12
18764: ARRAY
18765: PPUSH
18766: LD_INT 6
18768: PUSH
18769: LD_INT 7
18771: PUSH
18772: EMPTY
18773: LIST
18774: LIST
18775: PUSH
18776: LD_INT 1
18778: PPUSH
18779: LD_INT 2
18781: PPUSH
18782: CALL_OW 12
18786: ARRAY
18787: PPUSH
18788: LD_INT 1
18790: PPUSH
18791: CALL_OW 55
// end ;
18795: END
// every 0 0$30 + 0 0$10 do
18796: GO 18798
18798: DISABLE
// begin CreateCratesArea ( [ 4 , 5 ] [ Rand ( 1 , 2 ) ] , CratesSpawn2 , true ) ;
18799: LD_INT 4
18801: PUSH
18802: LD_INT 5
18804: PUSH
18805: EMPTY
18806: LIST
18807: LIST
18808: PUSH
18809: LD_INT 1
18811: PPUSH
18812: LD_INT 2
18814: PPUSH
18815: CALL_OW 12
18819: ARRAY
18820: PPUSH
18821: LD_INT 7
18823: PPUSH
18824: LD_INT 1
18826: PPUSH
18827: CALL_OW 55
// Wait ( 0 0$15 ) ;
18831: LD_INT 525
18833: PPUSH
18834: CALL_OW 67
// CreateCratesArea ( [ 4 , 5 ] [ Rand ( 1 , 2 ) ] , CratesSpawn2 , true ) ;
18838: LD_INT 4
18840: PUSH
18841: LD_INT 5
18843: PUSH
18844: EMPTY
18845: LIST
18846: LIST
18847: PUSH
18848: LD_INT 1
18850: PPUSH
18851: LD_INT 2
18853: PPUSH
18854: CALL_OW 12
18858: ARRAY
18859: PPUSH
18860: LD_INT 7
18862: PPUSH
18863: LD_INT 1
18865: PPUSH
18866: CALL_OW 55
// Wait ( 0 0$20 ) ;
18870: LD_INT 700
18872: PPUSH
18873: CALL_OW 67
// CreateCratesArea ( [ 4 , 5 ] [ Rand ( 1 , 2 ) ] , CratesSpawn2 , true ) ;
18877: LD_INT 4
18879: PUSH
18880: LD_INT 5
18882: PUSH
18883: EMPTY
18884: LIST
18885: LIST
18886: PUSH
18887: LD_INT 1
18889: PPUSH
18890: LD_INT 2
18892: PPUSH
18893: CALL_OW 12
18897: ARRAY
18898: PPUSH
18899: LD_INT 7
18901: PPUSH
18902: LD_INT 1
18904: PPUSH
18905: CALL_OW 55
// end ; end_of_file
18909: END
// every 0 0$1 trigger timerStatus = 1 do var i , tmp , yourCrates ;
18910: LD_EXP 24
18914: PUSH
18915: LD_INT 1
18917: EQUAL
18918: IFFALSE 19219
18920: GO 18922
18922: DISABLE
18923: LD_INT 0
18925: PPUSH
18926: PPUSH
18927: PPUSH
// begin tmp = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
18928: LD_ADDR_VAR 0 2
18932: PUSH
18933: LD_INT 22
18935: PUSH
18936: LD_INT 1
18938: PUSH
18939: EMPTY
18940: LIST
18941: LIST
18942: PUSH
18943: LD_INT 21
18945: PUSH
18946: LD_INT 3
18948: PUSH
18949: EMPTY
18950: LIST
18951: LIST
18952: PUSH
18953: LD_INT 2
18955: PUSH
18956: LD_INT 30
18958: PUSH
18959: LD_INT 0
18961: PUSH
18962: EMPTY
18963: LIST
18964: LIST
18965: PUSH
18966: LD_INT 30
18968: PUSH
18969: LD_INT 1
18971: PUSH
18972: EMPTY
18973: LIST
18974: LIST
18975: PUSH
18976: EMPTY
18977: LIST
18978: LIST
18979: LIST
18980: PUSH
18981: EMPTY
18982: LIST
18983: LIST
18984: LIST
18985: PPUSH
18986: CALL_OW 69
18990: ST_TO_ADDR
// for i in tmp do
18991: LD_ADDR_VAR 0 1
18995: PUSH
18996: LD_VAR 0 2
19000: PUSH
19001: FOR_IN
19002: IFFALSE 19035
// yourCrates = yourCrates + GetResourceType ( GetBase ( i ) , 1 ) ;
19004: LD_ADDR_VAR 0 3
19008: PUSH
19009: LD_VAR 0 3
19013: PUSH
19014: LD_VAR 0 1
19018: PPUSH
19019: CALL_OW 274
19023: PPUSH
19024: LD_INT 1
19026: PPUSH
19027: CALL_OW 275
19031: PLUS
19032: ST_TO_ADDR
19033: GO 19001
19035: POP
19036: POP
// strings = [ ] ;
19037: LD_ADDR_EXP 27
19041: PUSH
19042: EMPTY
19043: ST_TO_ADDR
// if tmp = 0 then
19044: LD_VAR 0 2
19048: PUSH
19049: LD_INT 0
19051: EQUAL
19052: IFFALSE 19077
// strings = strings ^ [ #Am06-1 , needCrates ] ;
19054: LD_ADDR_EXP 27
19058: PUSH
19059: LD_EXP 27
19063: PUSH
19064: LD_STRING #Am06-1
19066: PUSH
19067: LD_EXP 25
19071: PUSH
19072: EMPTY
19073: LIST
19074: LIST
19075: ADD
19076: ST_TO_ADDR
// if tmp > 0 and needCrates > yourCrates then
19077: LD_VAR 0 2
19081: PUSH
19082: LD_INT 0
19084: GREATER
19085: PUSH
19086: LD_EXP 25
19090: PUSH
19091: LD_VAR 0 3
19095: GREATER
19096: AND
19097: IFFALSE 19128
// strings = strings ^ [ #Am06-1 , needCrates - yourCrates ] ;
19099: LD_ADDR_EXP 27
19103: PUSH
19104: LD_EXP 27
19108: PUSH
19109: LD_STRING #Am06-1
19111: PUSH
19112: LD_EXP 25
19116: PUSH
19117: LD_VAR 0 3
19121: MINUS
19122: PUSH
19123: EMPTY
19124: LIST
19125: LIST
19126: ADD
19127: ST_TO_ADDR
// if tmp > 0 and needCrates <= yourCrates then
19128: LD_VAR 0 2
19132: PUSH
19133: LD_INT 0
19135: GREATER
19136: PUSH
19137: LD_EXP 25
19141: PUSH
19142: LD_VAR 0 3
19146: LESSEQUAL
19147: AND
19148: IFFALSE 19171
// strings = strings ^ [ #Am06-1 , 0 ] ;
19150: LD_ADDR_EXP 27
19154: PUSH
19155: LD_EXP 27
19159: PUSH
19160: LD_STRING #Am06-1
19162: PUSH
19163: LD_INT 0
19165: PUSH
19166: EMPTY
19167: LIST
19168: LIST
19169: ADD
19170: ST_TO_ADDR
// timeToEnd = timeToEnd - 0 0$01 ;
19171: LD_ADDR_EXP 26
19175: PUSH
19176: LD_EXP 26
19180: PUSH
19181: LD_INT 35
19183: MINUS
19184: ST_TO_ADDR
// strings = strings ^ [ #Am06-2 , timeToEnd ] ;
19185: LD_ADDR_EXP 27
19189: PUSH
19190: LD_EXP 27
19194: PUSH
19195: LD_STRING #Am06-2
19197: PUSH
19198: LD_EXP 26
19202: PUSH
19203: EMPTY
19204: LIST
19205: LIST
19206: ADD
19207: ST_TO_ADDR
// display_strings = strings ;
19208: LD_ADDR_OWVAR 47
19212: PUSH
19213: LD_EXP 27
19217: ST_TO_ADDR
// enable ;
19218: ENABLE
// end ; end_of_file
19219: PPOPN 3
19221: END
// export function PrepareKurt ; var i , depot , tmp , rnd , dec , dec2 ; begin
19222: LD_INT 0
19224: PPUSH
19225: PPUSH
19226: PPUSH
19227: PPUSH
19228: PPUSH
19229: PPUSH
19230: PPUSH
// repeat depot := FilterAllUnits ( [ [ f_side , 1 ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
19231: LD_ADDR_VAR 0 3
19235: PUSH
19236: LD_INT 22
19238: PUSH
19239: LD_INT 1
19241: PUSH
19242: EMPTY
19243: LIST
19244: LIST
19245: PUSH
19246: LD_INT 2
19248: PUSH
19249: LD_INT 30
19251: PUSH
19252: LD_INT 0
19254: PUSH
19255: EMPTY
19256: LIST
19257: LIST
19258: PUSH
19259: LD_INT 30
19261: PUSH
19262: LD_INT 1
19264: PUSH
19265: EMPTY
19266: LIST
19267: LIST
19268: PUSH
19269: EMPTY
19270: LIST
19271: LIST
19272: LIST
19273: PUSH
19274: EMPTY
19275: LIST
19276: LIST
19277: PPUSH
19278: CALL_OW 69
19282: ST_TO_ADDR
// wait ( 0 0$1 ) ;
19283: LD_INT 35
19285: PPUSH
19286: CALL_OW 67
// until depot ;
19290: LD_VAR 0 3
19294: IFFALSE 19231
// repeat wait ( 0 0$1 ) ;
19296: LD_INT 35
19298: PPUSH
19299: CALL_OW 67
// tmp := FilterAllUnits ( [ [ f_side , 1 ] , [ f_dist , depot [ 1 ] , 15 ] , [ f_type , unit_human ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] , [ f_not , [ f_inside ] ] , [ f_not , [ f_driving ] ] ] ) diff ( [ Lisa , Bobby , Cyrus , Frank , Donaldson , Gladstone , Denis ] ^ arrivals ) ;
19303: LD_ADDR_VAR 0 4
19307: PUSH
19308: LD_INT 22
19310: PUSH
19311: LD_INT 1
19313: PUSH
19314: EMPTY
19315: LIST
19316: LIST
19317: PUSH
19318: LD_INT 91
19320: PUSH
19321: LD_VAR 0 3
19325: PUSH
19326: LD_INT 1
19328: ARRAY
19329: PUSH
19330: LD_INT 15
19332: PUSH
19333: EMPTY
19334: LIST
19335: LIST
19336: LIST
19337: PUSH
19338: LD_INT 21
19340: PUSH
19341: LD_INT 1
19343: PUSH
19344: EMPTY
19345: LIST
19346: LIST
19347: PUSH
19348: LD_INT 2
19350: PUSH
19351: LD_INT 25
19353: PUSH
19354: LD_INT 1
19356: PUSH
19357: EMPTY
19358: LIST
19359: LIST
19360: PUSH
19361: LD_INT 25
19363: PUSH
19364: LD_INT 2
19366: PUSH
19367: EMPTY
19368: LIST
19369: LIST
19370: PUSH
19371: LD_INT 25
19373: PUSH
19374: LD_INT 3
19376: PUSH
19377: EMPTY
19378: LIST
19379: LIST
19380: PUSH
19381: LD_INT 25
19383: PUSH
19384: LD_INT 4
19386: PUSH
19387: EMPTY
19388: LIST
19389: LIST
19390: PUSH
19391: EMPTY
19392: LIST
19393: LIST
19394: LIST
19395: LIST
19396: LIST
19397: PUSH
19398: LD_INT 3
19400: PUSH
19401: LD_INT 54
19403: PUSH
19404: EMPTY
19405: LIST
19406: PUSH
19407: EMPTY
19408: LIST
19409: LIST
19410: PUSH
19411: LD_INT 3
19413: PUSH
19414: LD_INT 55
19416: PUSH
19417: EMPTY
19418: LIST
19419: PUSH
19420: EMPTY
19421: LIST
19422: LIST
19423: PUSH
19424: EMPTY
19425: LIST
19426: LIST
19427: LIST
19428: LIST
19429: LIST
19430: LIST
19431: PPUSH
19432: CALL_OW 69
19436: PUSH
19437: LD_EXP 2
19441: PUSH
19442: LD_EXP 3
19446: PUSH
19447: LD_EXP 4
19451: PUSH
19452: LD_EXP 5
19456: PUSH
19457: LD_EXP 7
19461: PUSH
19462: LD_EXP 8
19466: PUSH
19467: LD_EXP 9
19471: PUSH
19472: EMPTY
19473: LIST
19474: LIST
19475: LIST
19476: LIST
19477: LIST
19478: LIST
19479: LIST
19480: PUSH
19481: LD_EXP 46
19485: ADD
19486: DIFF
19487: ST_TO_ADDR
// until tmp and not InBattle ( 1 ) ;
19488: LD_VAR 0 4
19492: PUSH
19493: LD_INT 1
19495: PPUSH
19496: CALL_OW 463
19500: NOT
19501: AND
19502: IFFALSE 19296
// tmp := tmp [ rand ( 1 , tmp ) ] ;
19504: LD_ADDR_VAR 0 4
19508: PUSH
19509: LD_VAR 0 4
19513: PUSH
19514: LD_INT 1
19516: PPUSH
19517: LD_VAR 0 4
19521: PPUSH
19522: CALL_OW 12
19526: ARRAY
19527: ST_TO_ADDR
// blockSpawn = 1 ;
19528: LD_ADDR_EXP 29
19532: PUSH
19533: LD_INT 1
19535: ST_TO_ADDR
// uc_side = 2 ;
19536: LD_ADDR_OWVAR 20
19540: PUSH
19541: LD_INT 2
19543: ST_TO_ADDR
// uc_nation = 2 ;
19544: LD_ADDR_OWVAR 21
19548: PUSH
19549: LD_INT 2
19551: ST_TO_ADDR
// Kurt = PrepareUnit ( Kurt , false ) ;
19552: LD_ADDR_EXP 19
19556: PUSH
19557: LD_STRING Kurt
19559: PPUSH
19560: LD_INT 0
19562: PPUSH
19563: CALL 5968 0 2
19567: ST_TO_ADDR
// PlaceUnitXYR ( Kurt , GetX ( tmp ) , GetY ( tmp ) , 5 , true ) ;
19568: LD_EXP 19
19572: PPUSH
19573: LD_VAR 0 4
19577: PPUSH
19578: CALL_OW 250
19582: PPUSH
19583: LD_VAR 0 4
19587: PPUSH
19588: CALL_OW 251
19592: PPUSH
19593: LD_INT 5
19595: PPUSH
19596: LD_INT 1
19598: PPUSH
19599: CALL_OW 50
// InGameOn ;
19603: CALL_OW 8
// CenterNowOnUnits ( Kurt ) ;
19607: LD_EXP 19
19611: PPUSH
19612: CALL_OW 87
// wait ( 0 0$2 ) ;
19616: LD_INT 70
19618: PPUSH
19619: CALL_OW 67
// ComTurnUnit ( Kurt , tmp ) ;
19623: LD_EXP 19
19627: PPUSH
19628: LD_VAR 0 4
19632: PPUSH
19633: CALL_OW 119
// ComMoveUnit ( tmp , Kurt ) ;
19637: LD_VAR 0 4
19641: PPUSH
19642: LD_EXP 19
19646: PPUSH
19647: CALL_OW 112
// wait ( 0 0$1 ) ;
19651: LD_INT 35
19653: PPUSH
19654: CALL_OW 67
// ComTurnUnit ( tmp , Kurt ) ;
19658: LD_VAR 0 4
19662: PPUSH
19663: LD_EXP 19
19667: PPUSH
19668: CALL_OW 119
// DialogueOn ;
19672: CALL_OW 6
// Say ( Kurt , D2-Kurt-1 ) ;
19676: LD_EXP 19
19680: PPUSH
19681: LD_STRING D2-Kurt-1
19683: PPUSH
19684: CALL_OW 88
// if tmp = JMM then
19688: LD_VAR 0 4
19692: PUSH
19693: LD_EXP 1
19697: EQUAL
19698: IFFALSE 19790
// begin Say ( JMM , D2-JMM-1 ) ;
19700: LD_EXP 1
19704: PPUSH
19705: LD_STRING D2-JMM-1
19707: PPUSH
19708: CALL_OW 88
// Say ( Kurt , D2-Kurt-2 ) ;
19712: LD_EXP 19
19716: PPUSH
19717: LD_STRING D2-Kurt-2
19719: PPUSH
19720: CALL_OW 88
// Say ( JMM , D2-JMM-2 ) ;
19724: LD_EXP 1
19728: PPUSH
19729: LD_STRING D2-JMM-2
19731: PPUSH
19732: CALL_OW 88
// Say ( Kurt , D2-Kurt-3 ) ;
19736: LD_EXP 19
19740: PPUSH
19741: LD_STRING D2-Kurt-3
19743: PPUSH
19744: CALL_OW 88
// Say ( JMM , D2-JMM-3 ) ;
19748: LD_EXP 1
19752: PPUSH
19753: LD_STRING D2-JMM-3
19755: PPUSH
19756: CALL_OW 88
// Say ( Kurt , D2-Kurt-4 ) ;
19760: LD_EXP 19
19764: PPUSH
19765: LD_STRING D2-Kurt-4
19767: PPUSH
19768: CALL_OW 88
// Say ( JMM , D2-JMM-4 ) ;
19772: LD_EXP 1
19776: PPUSH
19777: LD_STRING D2-JMM-4
19779: PPUSH
19780: CALL_OW 88
// DialogueOff ;
19784: CALL_OW 7
// end else
19788: GO 20100
// begin if GetSex ( tmp ) = 1 then
19790: LD_VAR 0 4
19794: PPUSH
19795: CALL_OW 258
19799: PUSH
19800: LD_INT 1
19802: EQUAL
19803: IFFALSE 19817
// Say ( tmp , D2-Sol1-1 ) ;
19805: LD_VAR 0 4
19809: PPUSH
19810: LD_STRING D2-Sol1-1
19812: PPUSH
19813: CALL_OW 88
// if GetSex ( tmp ) = 2 then
19817: LD_VAR 0 4
19821: PPUSH
19822: CALL_OW 258
19826: PUSH
19827: LD_INT 2
19829: EQUAL
19830: IFFALSE 19844
// Say ( tmp , D2-FSol1-1 ) ;
19832: LD_VAR 0 4
19836: PPUSH
19837: LD_STRING D2-FSol1-1
19839: PPUSH
19840: CALL_OW 88
// Say ( Kurt , D2-Kurt-2 ) ;
19844: LD_EXP 19
19848: PPUSH
19849: LD_STRING D2-Kurt-2
19851: PPUSH
19852: CALL_OW 88
// if GetSex ( tmp ) = 1 then
19856: LD_VAR 0 4
19860: PPUSH
19861: CALL_OW 258
19865: PUSH
19866: LD_INT 1
19868: EQUAL
19869: IFFALSE 19883
// Say ( tmp , D2-Sol1-2 ) ;
19871: LD_VAR 0 4
19875: PPUSH
19876: LD_STRING D2-Sol1-2
19878: PPUSH
19879: CALL_OW 88
// if GetSex ( tmp ) = 2 then
19883: LD_VAR 0 4
19887: PPUSH
19888: CALL_OW 258
19892: PUSH
19893: LD_INT 2
19895: EQUAL
19896: IFFALSE 19910
// Say ( tmp , D2-FSol1-2 ) ;
19898: LD_VAR 0 4
19902: PPUSH
19903: LD_STRING D2-FSol1-2
19905: PPUSH
19906: CALL_OW 88
// Say ( Kurt , D2-Kurt-3 ) ;
19910: LD_EXP 19
19914: PPUSH
19915: LD_STRING D2-Kurt-3
19917: PPUSH
19918: CALL_OW 88
// if GetSex ( tmp ) = 1 then
19922: LD_VAR 0 4
19926: PPUSH
19927: CALL_OW 258
19931: PUSH
19932: LD_INT 1
19934: EQUAL
19935: IFFALSE 19949
// Say ( tmp , D2-Sol1-3 ) ;
19937: LD_VAR 0 4
19941: PPUSH
19942: LD_STRING D2-Sol1-3
19944: PPUSH
19945: CALL_OW 88
// if GetSex ( tmp ) = 2 then
19949: LD_VAR 0 4
19953: PPUSH
19954: CALL_OW 258
19958: PUSH
19959: LD_INT 2
19961: EQUAL
19962: IFFALSE 19976
// Say ( tmp , D2-FSol1-3 ) ;
19964: LD_VAR 0 4
19968: PPUSH
19969: LD_STRING D2-FSol1-3
19971: PPUSH
19972: CALL_OW 88
// Say ( Kurt , D2-Kurt-4 ) ;
19976: LD_EXP 19
19980: PPUSH
19981: LD_STRING D2-Kurt-4
19983: PPUSH
19984: CALL_OW 88
// if GetSex ( tmp ) = 1 then
19988: LD_VAR 0 4
19992: PPUSH
19993: CALL_OW 258
19997: PUSH
19998: LD_INT 1
20000: EQUAL
20001: IFFALSE 20015
// Say ( tmp , D2-Sol1-4 ) ;
20003: LD_VAR 0 4
20007: PPUSH
20008: LD_STRING D2-Sol1-4
20010: PPUSH
20011: CALL_OW 88
// if GetSex ( tmp ) = 2 then
20015: LD_VAR 0 4
20019: PPUSH
20020: CALL_OW 258
20024: PUSH
20025: LD_INT 2
20027: EQUAL
20028: IFFALSE 20042
// Say ( tmp , D2-FSol1-4 ) ;
20030: LD_VAR 0 4
20034: PPUSH
20035: LD_STRING D2-FSol1-4
20037: PPUSH
20038: CALL_OW 88
// if GetSex ( tmp ) = 1 then
20042: LD_VAR 0 4
20046: PPUSH
20047: CALL_OW 258
20051: PUSH
20052: LD_INT 1
20054: EQUAL
20055: IFFALSE 20069
// Say ( tmp , D2-Sol1-5 ) ;
20057: LD_VAR 0 4
20061: PPUSH
20062: LD_STRING D2-Sol1-5
20064: PPUSH
20065: CALL_OW 88
// if GetSex ( tmp ) = 2 then
20069: LD_VAR 0 4
20073: PPUSH
20074: CALL_OW 258
20078: PUSH
20079: LD_INT 2
20081: EQUAL
20082: IFFALSE 20096
// Say ( tmp , D2-FSol1-5 ) ;
20084: LD_VAR 0 4
20088: PPUSH
20089: LD_STRING D2-FSol1-5
20091: PPUSH
20092: CALL_OW 88
// DialogueOff ;
20096: CALL_OW 7
// end ; dec = ShowQuery1 ;
20100: LD_ADDR_VAR 0 6
20104: PUSH
20105: CALL 6492 0 0
20109: ST_TO_ADDR
// if dec = 1 then
20110: LD_VAR 0 6
20114: PUSH
20115: LD_INT 1
20117: EQUAL
20118: IFFALSE 20160
// begin DialogueOn ;
20120: CALL_OW 6
// Say ( Kurt , D2a-Kurt-1 ) ;
20124: LD_EXP 19
20128: PPUSH
20129: LD_STRING D2a-Kurt-1
20131: PPUSH
20132: CALL_OW 88
// DialogueOff ;
20136: CALL_OW 7
// InGameOff ;
20140: CALL_OW 9
// SetAttitude ( 1 , 2 , att_enemy , true ) ;
20144: LD_INT 1
20146: PPUSH
20147: LD_INT 2
20149: PPUSH
20150: LD_INT 2
20152: PPUSH
20153: LD_INT 1
20155: PPUSH
20156: CALL_OW 80
// end ; if dec = 2 then
20160: LD_VAR 0 6
20164: PUSH
20165: LD_INT 2
20167: EQUAL
20168: IFFALSE 20668
// begin DialogueOn ;
20170: CALL_OW 6
// if tmp = JMM then
20174: LD_VAR 0 4
20178: PUSH
20179: LD_EXP 1
20183: EQUAL
20184: IFFALSE 20240
// begin Say ( JMM , D2b-JMM-1 ) ;
20186: LD_EXP 1
20190: PPUSH
20191: LD_STRING D2b-JMM-1
20193: PPUSH
20194: CALL_OW 88
// Say ( Kurt , D2b-Kurt-1 ) ;
20198: LD_EXP 19
20202: PPUSH
20203: LD_STRING D2b-Kurt-1
20205: PPUSH
20206: CALL_OW 88
// Say ( JMM , D2b-JMM-2 ) ;
20210: LD_EXP 1
20214: PPUSH
20215: LD_STRING D2b-JMM-2
20217: PPUSH
20218: CALL_OW 88
// Say ( Kurt , D2b-Kurt-2 ) ;
20222: LD_EXP 19
20226: PPUSH
20227: LD_STRING D2b-Kurt-2
20229: PPUSH
20230: CALL_OW 88
// DialogueOff ;
20234: CALL_OW 7
// end else
20238: GO 20430
// begin if GetSex ( tmp ) = 1 then
20240: LD_VAR 0 4
20244: PPUSH
20245: CALL_OW 258
20249: PUSH
20250: LD_INT 1
20252: EQUAL
20253: IFFALSE 20267
// Say ( tmp , D2b-Sol1-1 ) ;
20255: LD_VAR 0 4
20259: PPUSH
20260: LD_STRING D2b-Sol1-1
20262: PPUSH
20263: CALL_OW 88
// if GetSex ( tmp ) = 2 then
20267: LD_VAR 0 4
20271: PPUSH
20272: CALL_OW 258
20276: PUSH
20277: LD_INT 2
20279: EQUAL
20280: IFFALSE 20294
// Say ( tmp , D2b-FSol1-1 ) ;
20282: LD_VAR 0 4
20286: PPUSH
20287: LD_STRING D2b-FSol1-1
20289: PPUSH
20290: CALL_OW 88
// Say ( Kurt , D2b-Kurt-1 ) ;
20294: LD_EXP 19
20298: PPUSH
20299: LD_STRING D2b-Kurt-1
20301: PPUSH
20302: CALL_OW 88
// if GetSex ( tmp ) = 1 then
20306: LD_VAR 0 4
20310: PPUSH
20311: CALL_OW 258
20315: PUSH
20316: LD_INT 1
20318: EQUAL
20319: IFFALSE 20333
// Say ( tmp , D2b-Sol1-2 ) ;
20321: LD_VAR 0 4
20325: PPUSH
20326: LD_STRING D2b-Sol1-2
20328: PPUSH
20329: CALL_OW 88
// if GetSex ( tmp ) = 2 then
20333: LD_VAR 0 4
20337: PPUSH
20338: CALL_OW 258
20342: PUSH
20343: LD_INT 2
20345: EQUAL
20346: IFFALSE 20360
// Say ( tmp , D2b-FSol1-2 ) ;
20348: LD_VAR 0 4
20352: PPUSH
20353: LD_STRING D2b-FSol1-2
20355: PPUSH
20356: CALL_OW 88
// Say ( Kurt , D2b-Kurt-2 ) ;
20360: LD_EXP 19
20364: PPUSH
20365: LD_STRING D2b-Kurt-2
20367: PPUSH
20368: CALL_OW 88
// if GetSex ( tmp ) = 1 then
20372: LD_VAR 0 4
20376: PPUSH
20377: CALL_OW 258
20381: PUSH
20382: LD_INT 1
20384: EQUAL
20385: IFFALSE 20399
// Say ( tmp , D2c-Sol1-2 ) ;
20387: LD_VAR 0 4
20391: PPUSH
20392: LD_STRING D2c-Sol1-2
20394: PPUSH
20395: CALL_OW 88
// if GetSex ( tmp ) = 2 then
20399: LD_VAR 0 4
20403: PPUSH
20404: CALL_OW 258
20408: PUSH
20409: LD_INT 2
20411: EQUAL
20412: IFFALSE 20426
// Say ( tmp , D2c-FSol1-2 ) ;
20414: LD_VAR 0 4
20418: PPUSH
20419: LD_STRING D2c-FSol1-2
20421: PPUSH
20422: CALL_OW 88
// DialogueOff ;
20426: CALL_OW 7
// end ; dec2 = ShowQuery2 ;
20430: LD_ADDR_VAR 0 7
20434: PUSH
20435: CALL 6566 0 0
20439: ST_TO_ADDR
// if dec2 = 1 then
20440: LD_VAR 0 7
20444: PUSH
20445: LD_INT 1
20447: EQUAL
20448: IFFALSE 20490
// begin DialogueOn ;
20450: CALL_OW 6
// Say ( Kurt , D2a-Kurt-1 ) ;
20454: LD_EXP 19
20458: PPUSH
20459: LD_STRING D2a-Kurt-1
20461: PPUSH
20462: CALL_OW 88
// DialogueOff ;
20466: CALL_OW 7
// InGameOff ;
20470: CALL_OW 9
// SetAttitude ( 1 , 2 , att_enemy , true ) ;
20474: LD_INT 1
20476: PPUSH
20477: LD_INT 2
20479: PPUSH
20480: LD_INT 2
20482: PPUSH
20483: LD_INT 1
20485: PPUSH
20486: CALL_OW 80
// end ; if dec2 = 2 then
20490: LD_VAR 0 7
20494: PUSH
20495: LD_INT 2
20497: EQUAL
20498: IFFALSE 20668
// begin if tmp = JMM then
20500: LD_VAR 0 4
20504: PUSH
20505: LD_EXP 1
20509: EQUAL
20510: IFFALSE 20570
// begin DialogueOn ;
20512: CALL_OW 6
// Say ( JMM , D2c-JMM-1 ) ;
20516: LD_EXP 1
20520: PPUSH
20521: LD_STRING D2c-JMM-1
20523: PPUSH
20524: CALL_OW 88
// Say ( Kurt , D2c-Kurt-1 ) ;
20528: LD_EXP 19
20532: PPUSH
20533: LD_STRING D2c-Kurt-1
20535: PPUSH
20536: CALL_OW 88
// DialogueOff ;
20540: CALL_OW 7
// InGameOff ;
20544: CALL_OW 9
// ComMoveToArea ( Kurt , KurtEscape ) ;
20548: LD_EXP 19
20552: PPUSH
20553: LD_INT 8
20555: PPUSH
20556: CALL_OW 113
// readyToEscape = 1 ;
20560: LD_ADDR_EXP 21
20564: PUSH
20565: LD_INT 1
20567: ST_TO_ADDR
// end else
20568: GO 20668
// begin DialogueOn ;
20570: CALL_OW 6
// if GetSex ( tmp ) = 1 then
20574: LD_VAR 0 4
20578: PPUSH
20579: CALL_OW 258
20583: PUSH
20584: LD_INT 1
20586: EQUAL
20587: IFFALSE 20601
// Say ( tmp , D2c-Sol1-1 ) ;
20589: LD_VAR 0 4
20593: PPUSH
20594: LD_STRING D2c-Sol1-1
20596: PPUSH
20597: CALL_OW 88
// if GetSex ( tmp ) = 2 then
20601: LD_VAR 0 4
20605: PPUSH
20606: CALL_OW 258
20610: PUSH
20611: LD_INT 2
20613: EQUAL
20614: IFFALSE 20628
// Say ( tmp , D2c-FSol1-1 ) ;
20616: LD_VAR 0 4
20620: PPUSH
20621: LD_STRING D2c-FSol1-1
20623: PPUSH
20624: CALL_OW 88
// Say ( Kurt , D2c-Kurt-1 ) ;
20628: LD_EXP 19
20632: PPUSH
20633: LD_STRING D2c-Kurt-1
20635: PPUSH
20636: CALL_OW 88
// DialogueOff ;
20640: CALL_OW 7
// InGameOff ;
20644: CALL_OW 9
// ComMoveToArea ( Kurt , KurtEscape ) ;
20648: LD_EXP 19
20652: PPUSH
20653: LD_INT 8
20655: PPUSH
20656: CALL_OW 113
// readyToEscape = 1 ;
20660: LD_ADDR_EXP 21
20664: PUSH
20665: LD_INT 1
20667: ST_TO_ADDR
// end ; end ; end ; if dec = 3 then
20668: LD_VAR 0 6
20672: PUSH
20673: LD_INT 3
20675: EQUAL
20676: IFFALSE 20850
// begin DialogueOn ;
20678: CALL_OW 6
// if tmp = JMM then
20682: LD_VAR 0 4
20686: PUSH
20687: LD_EXP 1
20691: EQUAL
20692: IFFALSE 20752
// begin DialogueOn ;
20694: CALL_OW 6
// Say ( JMM , D2c-JMM-1 ) ;
20698: LD_EXP 1
20702: PPUSH
20703: LD_STRING D2c-JMM-1
20705: PPUSH
20706: CALL_OW 88
// Say ( Kurt , D2c-Kurt-1 ) ;
20710: LD_EXP 19
20714: PPUSH
20715: LD_STRING D2c-Kurt-1
20717: PPUSH
20718: CALL_OW 88
// DialogueOff ;
20722: CALL_OW 7
// InGameOff ;
20726: CALL_OW 9
// ComMoveToArea ( Kurt , KurtEscape ) ;
20730: LD_EXP 19
20734: PPUSH
20735: LD_INT 8
20737: PPUSH
20738: CALL_OW 113
// readyToEscape = 1 ;
20742: LD_ADDR_EXP 21
20746: PUSH
20747: LD_INT 1
20749: ST_TO_ADDR
// end else
20750: GO 20850
// begin DialogueOn ;
20752: CALL_OW 6
// if GetSex ( tmp ) = 1 then
20756: LD_VAR 0 4
20760: PPUSH
20761: CALL_OW 258
20765: PUSH
20766: LD_INT 1
20768: EQUAL
20769: IFFALSE 20783
// Say ( tmp , D2c-Sol1-1 ) ;
20771: LD_VAR 0 4
20775: PPUSH
20776: LD_STRING D2c-Sol1-1
20778: PPUSH
20779: CALL_OW 88
// if GetSex ( tmp ) = 2 then
20783: LD_VAR 0 4
20787: PPUSH
20788: CALL_OW 258
20792: PUSH
20793: LD_INT 2
20795: EQUAL
20796: IFFALSE 20810
// Say ( tmp , D2c-FSol1-1 ) ;
20798: LD_VAR 0 4
20802: PPUSH
20803: LD_STRING D2c-FSol1-1
20805: PPUSH
20806: CALL_OW 88
// Say ( Kurt , D2c-Kurt-1 ) ;
20810: LD_EXP 19
20814: PPUSH
20815: LD_STRING D2c-Kurt-1
20817: PPUSH
20818: CALL_OW 88
// DialogueOff ;
20822: CALL_OW 7
// InGameOff ;
20826: CALL_OW 9
// ComMoveToArea ( Kurt , KurtEscape ) ;
20830: LD_EXP 19
20834: PPUSH
20835: LD_INT 8
20837: PPUSH
20838: CALL_OW 113
// readyToEscape = 1 ;
20842: LD_ADDR_EXP 21
20846: PUSH
20847: LD_INT 1
20849: ST_TO_ADDR
// end ; end ; blockSpawn = 0 ;
20850: LD_ADDR_EXP 29
20854: PUSH
20855: LD_INT 0
20857: ST_TO_ADDR
// repeat wait ( 0 0$1 ) ;
20858: LD_INT 35
20860: PPUSH
20861: CALL_OW 67
// until ( IsInArea ( Kurt , KurtEscape ) and readyToEscape ) or IsDead ( Kurt ) ;
20865: LD_EXP 19
20869: PPUSH
20870: LD_INT 8
20872: PPUSH
20873: CALL_OW 308
20877: PUSH
20878: LD_EXP 21
20882: AND
20883: PUSH
20884: LD_EXP 19
20888: PPUSH
20889: CALL_OW 301
20893: OR
20894: IFFALSE 20858
// if IsDead ( Kurt ) then
20896: LD_EXP 19
20900: PPUSH
20901: CALL_OW 301
20905: IFFALSE 20909
// exit ;
20907: GO 20978
// RemoveUnit ( Kurt ) ;
20909: LD_EXP 19
20913: PPUSH
20914: CALL_OW 64
// SaveCharacters ( Kurt , Kurt ) ;
20918: LD_EXP 19
20922: PPUSH
20923: LD_STRING Kurt
20925: PPUSH
20926: CALL_OW 38
// if GetAttitude ( 1 , 2 ) = att_neutral then
20930: LD_INT 1
20932: PPUSH
20933: LD_INT 2
20935: PPUSH
20936: CALL_OW 81
20940: PUSH
20941: LD_INT 0
20943: EQUAL
20944: IFFALSE 20954
// KurtStatus = 1 ;
20946: LD_ADDR_EXP 20
20950: PUSH
20951: LD_INT 1
20953: ST_TO_ADDR
// if GetAttitude ( 1 , 2 ) = att_enemy then
20954: LD_INT 1
20956: PPUSH
20957: LD_INT 2
20959: PPUSH
20960: CALL_OW 81
20964: PUSH
20965: LD_INT 2
20967: EQUAL
20968: IFFALSE 20978
// KurtStatus = 2 ;
20970: LD_ADDR_EXP 20
20974: PUSH
20975: LD_INT 2
20977: ST_TO_ADDR
// end ; end_of_file
20978: LD_VAR 0 1
20982: RET
// every 0 0$1 do
20983: GO 20985
20985: DISABLE
// ResAllTechs ( 3 , rulab , 3 ) ;
20986: LD_INT 3
20988: PPUSH
20989: LD_INT 32
20991: PPUSH
20992: LD_INT 3
20994: PPUSH
20995: CALL 6621 0 3
20999: END
// export enemyWayX , enemyWayY ; every 3 3$0 do var rnd ;
21000: GO 21002
21002: DISABLE
21003: LD_INT 0
21005: PPUSH
// begin enemyWayX = [ ] ;
21006: LD_ADDR_EXP 49
21010: PUSH
21011: EMPTY
21012: ST_TO_ADDR
// enemyWayY = [ ] ;
21013: LD_ADDR_EXP 50
21017: PUSH
21018: EMPTY
21019: ST_TO_ADDR
// rnd = rand ( 1 , 2 ) ;
21020: LD_ADDR_VAR 0 1
21024: PUSH
21025: LD_INT 1
21027: PPUSH
21028: LD_INT 2
21030: PPUSH
21031: CALL_OW 12
21035: ST_TO_ADDR
// if rnd = 1 then
21036: LD_VAR 0 1
21040: PUSH
21041: LD_INT 1
21043: EQUAL
21044: IFFALSE 21084
// begin enemyWayX = [ 93 , 84 , 104 ] ;
21046: LD_ADDR_EXP 49
21050: PUSH
21051: LD_INT 93
21053: PUSH
21054: LD_INT 84
21056: PUSH
21057: LD_INT 104
21059: PUSH
21060: EMPTY
21061: LIST
21062: LIST
21063: LIST
21064: ST_TO_ADDR
// enemyWayY = [ 51 , 35 , 28 ] ;
21065: LD_ADDR_EXP 50
21069: PUSH
21070: LD_INT 51
21072: PUSH
21073: LD_INT 35
21075: PUSH
21076: LD_INT 28
21078: PUSH
21079: EMPTY
21080: LIST
21081: LIST
21082: LIST
21083: ST_TO_ADDR
// end ; if rnd = 2 then
21084: LD_VAR 0 1
21088: PUSH
21089: LD_INT 2
21091: EQUAL
21092: IFFALSE 21148
// begin enemyWayX = [ 93 , 52 , 34 , 28 , 30 ] ;
21094: LD_ADDR_EXP 49
21098: PUSH
21099: LD_INT 93
21101: PUSH
21102: LD_INT 52
21104: PUSH
21105: LD_INT 34
21107: PUSH
21108: LD_INT 28
21110: PUSH
21111: LD_INT 30
21113: PUSH
21114: EMPTY
21115: LIST
21116: LIST
21117: LIST
21118: LIST
21119: LIST
21120: ST_TO_ADDR
// enemyWayY = [ 51 , 45 , 35 , 26 , 20 ] ;
21121: LD_ADDR_EXP 50
21125: PUSH
21126: LD_INT 51
21128: PUSH
21129: LD_INT 45
21131: PUSH
21132: LD_INT 35
21134: PUSH
21135: LD_INT 26
21137: PUSH
21138: LD_INT 20
21140: PUSH
21141: EMPTY
21142: LIST
21143: LIST
21144: LIST
21145: LIST
21146: LIST
21147: ST_TO_ADDR
// end ; enable ;
21148: ENABLE
// end ;
21149: PPOPN 1
21151: END
// every 0 0$1 do
21152: GO 21154
21154: DISABLE
// begin enable ;
21155: ENABLE
// RepairAndRebuildBase ( 3 , rudepo , RussianBase , ruDestroyedBuildings ) ;
21156: LD_INT 3
21158: PPUSH
21159: LD_INT 2
21161: PPUSH
21162: LD_INT 10
21164: PPUSH
21165: LD_EXP 31
21169: PPUSH
21170: CALL 8056 0 4
// CraneRepairBuild ( 3 , RussianRepairArea , ruDestroyedBuildings ) ;
21174: LD_INT 3
21176: PPUSH
21177: LD_INT 12
21179: PPUSH
21180: LD_EXP 31
21184: PPUSH
21185: CALL 9941 0 3
// if disableHealAI = 0 then
21189: LD_EXP 33
21193: PUSH
21194: LD_INT 0
21196: EQUAL
21197: IFFALSE 21218
// HealUnitInBase ( 3 , RussianHealArea , RussianBase , [ rulab ] ) ;
21199: LD_INT 3
21201: PPUSH
21202: LD_INT 9
21204: PPUSH
21205: LD_INT 10
21207: PPUSH
21208: LD_INT 32
21210: PUSH
21211: EMPTY
21212: LIST
21213: PPUSH
21214: CALL 8447 0 4
// CollectCrates ( 3 , 51 , CratesSpawn1 ) ;
21218: LD_INT 3
21220: PPUSH
21221: LD_INT 51
21223: PPUSH
21224: LD_INT 6
21226: PPUSH
21227: CALL 9155 0 3
// RepairVehicles ( 3 , RussianRepairArea , 121 , 100 ) ;
21231: LD_INT 3
21233: PPUSH
21234: LD_INT 12
21236: PPUSH
21237: LD_INT 121
21239: PPUSH
21240: LD_INT 100
21242: PPUSH
21243: CALL 7016 0 4
// AttackVehicles ( 3 , RussianTanksSpot , enemyWayX , enemyWayY ) ;
21247: LD_INT 3
21249: PPUSH
21250: LD_INT 22
21252: PPUSH
21253: LD_EXP 49
21257: PPUSH
21258: LD_EXP 50
21262: PPUSH
21263: CALL 7219 0 4
// EnterBunkerOrBarrack ( 3 , RussianBase ) ;
21267: LD_INT 3
21269: PPUSH
21270: LD_INT 10
21272: PPUSH
21273: CALL 9298 0 2
// AttackNearBuildings ( 3 , 1 ) ;
21277: LD_INT 3
21279: PPUSH
21280: LD_INT 1
21282: PPUSH
21283: CALL 9711 0 2
// if IsDying ( rudepo ) or GetSide ( rudepo ) = 1 then
21287: LD_INT 2
21289: PPUSH
21290: CALL_OW 303
21294: PUSH
21295: LD_INT 2
21297: PPUSH
21298: CALL_OW 255
21302: PUSH
21303: LD_INT 1
21305: EQUAL
21306: OR
21307: IFFALSE 21319
// DefendDepot ( 3 , rudepo ) ;
21309: LD_INT 3
21311: PPUSH
21312: LD_INT 2
21314: PPUSH
21315: CALL 8991 0 2
// end ;
21319: END
// every 10 10$0 trigger FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_vehicle ] , [ f_driving ] , [ f_not , [ f_weapon , 51 ] ] ] ) = 0 and GetSide ( rufab ) = 3 and IsOk ( rufab ) and GetSide ( rudepo ) = 3 and IsOk ( rudepo ) do
21320: LD_INT 22
21322: PUSH
21323: LD_INT 3
21325: PUSH
21326: EMPTY
21327: LIST
21328: LIST
21329: PUSH
21330: LD_INT 21
21332: PUSH
21333: LD_INT 2
21335: PUSH
21336: EMPTY
21337: LIST
21338: LIST
21339: PUSH
21340: LD_INT 55
21342: PUSH
21343: EMPTY
21344: LIST
21345: PUSH
21346: LD_INT 3
21348: PUSH
21349: LD_INT 34
21351: PUSH
21352: LD_INT 51
21354: PUSH
21355: EMPTY
21356: LIST
21357: LIST
21358: PUSH
21359: EMPTY
21360: LIST
21361: LIST
21362: PUSH
21363: EMPTY
21364: LIST
21365: LIST
21366: LIST
21367: LIST
21368: PPUSH
21369: CALL_OW 69
21373: PUSH
21374: LD_INT 0
21376: EQUAL
21377: PUSH
21378: LD_INT 21
21380: PPUSH
21381: CALL_OW 255
21385: PUSH
21386: LD_INT 3
21388: EQUAL
21389: AND
21390: PUSH
21391: LD_INT 21
21393: PPUSH
21394: CALL_OW 302
21398: AND
21399: PUSH
21400: LD_INT 2
21402: PPUSH
21403: CALL_OW 255
21407: PUSH
21408: LD_INT 3
21410: EQUAL
21411: AND
21412: PUSH
21413: LD_INT 2
21415: PPUSH
21416: CALL_OW 302
21420: AND
21421: IFFALSE 21601
21423: GO 21425
21425: DISABLE
// begin enable ;
21426: ENABLE
// SetResourceType ( GetBase ( rudepo ) , 1 , 1000 ) ;
21427: LD_INT 2
21429: PPUSH
21430: CALL_OW 274
21434: PPUSH
21435: LD_INT 1
21437: PPUSH
21438: LD_INT 1000
21440: PPUSH
21441: CALL_OW 277
// BuildingVehicleAndAttackEnemy ( 3 , rufab , [ 4 , 5 , 6 ] [ Difficulty ] , [ [ 43 , 43 , 44 , 44 ] , [ 43 , 43 , 43 , 44 , 44 , 46 ] , [ 43 , 43 , 43 , 44 , 44 , 46 ] ] [ Difficulty ] , 1 , 1 , [ 22 , [ 22 , 24 ] [ Rand ( 1 , 2 ) ] , 24 ] [ Difficulty ] ) ;
21445: LD_INT 3
21447: PPUSH
21448: LD_INT 21
21450: PPUSH
21451: LD_INT 4
21453: PUSH
21454: LD_INT 5
21456: PUSH
21457: LD_INT 6
21459: PUSH
21460: EMPTY
21461: LIST
21462: LIST
21463: LIST
21464: PUSH
21465: LD_OWVAR 67
21469: ARRAY
21470: PPUSH
21471: LD_INT 43
21473: PUSH
21474: LD_INT 43
21476: PUSH
21477: LD_INT 44
21479: PUSH
21480: LD_INT 44
21482: PUSH
21483: EMPTY
21484: LIST
21485: LIST
21486: LIST
21487: LIST
21488: PUSH
21489: LD_INT 43
21491: PUSH
21492: LD_INT 43
21494: PUSH
21495: LD_INT 43
21497: PUSH
21498: LD_INT 44
21500: PUSH
21501: LD_INT 44
21503: PUSH
21504: LD_INT 46
21506: PUSH
21507: EMPTY
21508: LIST
21509: LIST
21510: LIST
21511: LIST
21512: LIST
21513: LIST
21514: PUSH
21515: LD_INT 43
21517: PUSH
21518: LD_INT 43
21520: PUSH
21521: LD_INT 43
21523: PUSH
21524: LD_INT 44
21526: PUSH
21527: LD_INT 44
21529: PUSH
21530: LD_INT 46
21532: PUSH
21533: EMPTY
21534: LIST
21535: LIST
21536: LIST
21537: LIST
21538: LIST
21539: LIST
21540: PUSH
21541: EMPTY
21542: LIST
21543: LIST
21544: LIST
21545: PUSH
21546: LD_OWVAR 67
21550: ARRAY
21551: PPUSH
21552: LD_INT 1
21554: PPUSH
21555: LD_INT 1
21557: PPUSH
21558: LD_INT 22
21560: PUSH
21561: LD_INT 22
21563: PUSH
21564: LD_INT 24
21566: PUSH
21567: EMPTY
21568: LIST
21569: LIST
21570: PUSH
21571: LD_INT 1
21573: PPUSH
21574: LD_INT 2
21576: PPUSH
21577: CALL_OW 12
21581: ARRAY
21582: PUSH
21583: LD_INT 24
21585: PUSH
21586: EMPTY
21587: LIST
21588: LIST
21589: LIST
21590: PUSH
21591: LD_OWVAR 67
21595: ARRAY
21596: PPUSH
21597: CALL 6862 0 7
// end ;
21601: END
// every 5 5$0 trigger GetSide ( rufabsupp ) = 3 and IsOk ( rufabsupp ) and GetSide ( rudepo ) = 3 and IsOk ( rudepo ) do
21602: LD_INT 17
21604: PPUSH
21605: CALL_OW 255
21609: PUSH
21610: LD_INT 3
21612: EQUAL
21613: PUSH
21614: LD_INT 17
21616: PPUSH
21617: CALL_OW 302
21621: AND
21622: PUSH
21623: LD_INT 2
21625: PPUSH
21626: CALL_OW 255
21630: PUSH
21631: LD_INT 3
21633: EQUAL
21634: AND
21635: PUSH
21636: LD_INT 2
21638: PPUSH
21639: CALL_OW 302
21643: AND
21644: IFFALSE 21711
21646: GO 21648
21648: DISABLE
// begin enable ;
21649: ENABLE
// AddComConstruct ( rufabsupp , 22 , 1 , 1 , [ 42 , 43 , 44 ] [ Rand ( 1 , 3 ) ] ) ;
21650: LD_INT 17
21652: PPUSH
21653: LD_INT 22
21655: PPUSH
21656: LD_INT 1
21658: PPUSH
21659: LD_INT 1
21661: PPUSH
21662: LD_INT 42
21664: PUSH
21665: LD_INT 43
21667: PUSH
21668: LD_INT 44
21670: PUSH
21671: EMPTY
21672: LIST
21673: LIST
21674: LIST
21675: PUSH
21676: LD_INT 1
21678: PPUSH
21679: LD_INT 3
21681: PPUSH
21682: CALL_OW 12
21686: ARRAY
21687: PPUSH
21688: CALL_OW 185
// AddComConstruct ( rufabsupp , 22 , 1 , 1 , ru_cargo_bay ) ;
21692: LD_INT 17
21694: PPUSH
21695: LD_INT 22
21697: PPUSH
21698: LD_INT 1
21700: PPUSH
21701: LD_INT 1
21703: PPUSH
21704: LD_INT 51
21706: PPUSH
21707: CALL_OW 185
// end ;
21711: END
// every 1 1$0 trigger IsOK ( rufabsupp ) and GetSide ( rufabsupp ) = 3 and IsOk ( rudepo ) and GetSide ( rudepo ) = 3 and not UnitsInside ( rufabsupp ) do var i ;
21712: LD_INT 17
21714: PPUSH
21715: CALL_OW 302
21719: PUSH
21720: LD_INT 17
21722: PPUSH
21723: CALL_OW 255
21727: PUSH
21728: LD_INT 3
21730: EQUAL
21731: AND
21732: PUSH
21733: LD_INT 2
21735: PPUSH
21736: CALL_OW 302
21740: AND
21741: PUSH
21742: LD_INT 2
21744: PPUSH
21745: CALL_OW 255
21749: PUSH
21750: LD_INT 3
21752: EQUAL
21753: AND
21754: PUSH
21755: LD_INT 17
21757: PPUSH
21758: CALL_OW 313
21762: NOT
21763: AND
21764: IFFALSE 21858
21766: GO 21768
21768: DISABLE
21769: LD_INT 0
21771: PPUSH
// begin for i = 1 to 6 do
21772: LD_ADDR_VAR 0 1
21776: PUSH
21777: DOUBLE
21778: LD_INT 1
21780: DEC
21781: ST_TO_ADDR
21782: LD_INT 6
21784: PUSH
21785: FOR_TO
21786: IFFALSE 21856
// begin uc_side = 3 ;
21788: LD_ADDR_OWVAR 20
21792: PUSH
21793: LD_INT 3
21795: ST_TO_ADDR
// uc_nation = 3 ;
21796: LD_ADDR_OWVAR 21
21800: PUSH
21801: LD_INT 3
21803: ST_TO_ADDR
// hc_gallery :=  ;
21804: LD_ADDR_OWVAR 33
21808: PUSH
21809: LD_STRING 
21811: ST_TO_ADDR
// hc_name :=  ;
21812: LD_ADDR_OWVAR 26
21816: PUSH
21817: LD_STRING 
21819: ST_TO_ADDR
// PrepareMechanic ( false , rand ( RuSolMinLevel , RuSolMaxLevel ) ) ;
21820: LD_INT 0
21822: PPUSH
21823: LD_EXP 34
21827: PPUSH
21828: LD_EXP 35
21832: PPUSH
21833: CALL_OW 12
21837: PPUSH
21838: CALL_OW 383
// PlaceHumanInUnit ( CreateHuman , rufabsupp ) ;
21842: CALL_OW 44
21846: PPUSH
21847: LD_INT 17
21849: PPUSH
21850: CALL_OW 52
// end ;
21854: GO 21785
21856: POP
21857: POP
// end ;
21858: PPOPN 1
21860: END
// every 2 2$0 do var i , j ;
21861: GO 21863
21863: DISABLE
21864: LD_INT 0
21866: PPUSH
21867: PPUSH
// begin wait ( [ 7 7$0 , 16 16$0 ] [ Rand ( 1 , 2 ) ] ) ;
21868: LD_INT 14700
21870: PUSH
21871: LD_INT 33600
21873: PUSH
21874: EMPTY
21875: LIST
21876: LIST
21877: PUSH
21878: LD_INT 1
21880: PPUSH
21881: LD_INT 2
21883: PPUSH
21884: CALL_OW 12
21888: ARRAY
21889: PPUSH
21890: CALL_OW 67
// disableHealAI = 1 ;
21894: LD_ADDR_EXP 33
21898: PUSH
21899: LD_INT 1
21901: ST_TO_ADDR
// for i in FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 4 ] ] ) do
21902: LD_ADDR_VAR 0 1
21906: PUSH
21907: LD_INT 22
21909: PUSH
21910: LD_INT 3
21912: PUSH
21913: EMPTY
21914: LIST
21915: LIST
21916: PUSH
21917: LD_INT 25
21919: PUSH
21920: LD_INT 4
21922: PUSH
21923: EMPTY
21924: LIST
21925: LIST
21926: PUSH
21927: EMPTY
21928: LIST
21929: LIST
21930: PPUSH
21931: CALL_OW 69
21935: PUSH
21936: FOR_IN
21937: IFFALSE 21950
// ComExitBuilding ( i ) ;
21939: LD_VAR 0 1
21943: PPUSH
21944: CALL_OW 122
21948: GO 21936
21950: POP
21951: POP
// wait ( 0 0$1 ) ;
21952: LD_INT 35
21954: PPUSH
21955: CALL_OW 67
// repeat wait ( 0 0$1 ) ;
21959: LD_INT 35
21961: PPUSH
21962: CALL_OW 67
// for i in FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 4 ] ] ) do
21966: LD_ADDR_VAR 0 1
21970: PUSH
21971: LD_INT 22
21973: PUSH
21974: LD_INT 3
21976: PUSH
21977: EMPTY
21978: LIST
21979: LIST
21980: PUSH
21981: LD_INT 25
21983: PUSH
21984: LD_INT 4
21986: PUSH
21987: EMPTY
21988: LIST
21989: LIST
21990: PUSH
21991: EMPTY
21992: LIST
21993: LIST
21994: PPUSH
21995: CALL_OW 69
21999: PUSH
22000: FOR_IN
22001: IFFALSE 22078
// begin for j in FilterUnitsInArea ( ApemansArea , [ [ f_side , 0 ] , [ f_class , 12 ] ] ) do
22003: LD_ADDR_VAR 0 2
22007: PUSH
22008: LD_INT 17
22010: PPUSH
22011: LD_INT 22
22013: PUSH
22014: LD_INT 0
22016: PUSH
22017: EMPTY
22018: LIST
22019: LIST
22020: PUSH
22021: LD_INT 25
22023: PUSH
22024: LD_INT 12
22026: PUSH
22027: EMPTY
22028: LIST
22029: LIST
22030: PUSH
22031: EMPTY
22032: LIST
22033: LIST
22034: PPUSH
22035: CALL_OW 70
22039: PUSH
22040: FOR_IN
22041: IFFALSE 22074
// begin AddComTameXY ( i , GetX ( j ) , GetY ( j ) ) ;
22043: LD_VAR 0 1
22047: PPUSH
22048: LD_VAR 0 2
22052: PPUSH
22053: CALL_OW 250
22057: PPUSH
22058: LD_VAR 0 2
22062: PPUSH
22063: CALL_OW 251
22067: PPUSH
22068: CALL_OW 191
// end ;
22072: GO 22040
22074: POP
22075: POP
// end ;
22076: GO 22000
22078: POP
22079: POP
// until FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 4 ] ] ) = 0 or tamedApemans >= [ 6 , 7 , 8 ] [ Difficulty ] or FilterUnitsInArea ( ApemansArea , [ [ f_side , 0 ] , [ f_class , 12 ] ] ) = 0 ;
22080: LD_INT 22
22082: PUSH
22083: LD_INT 3
22085: PUSH
22086: EMPTY
22087: LIST
22088: LIST
22089: PUSH
22090: LD_INT 25
22092: PUSH
22093: LD_INT 4
22095: PUSH
22096: EMPTY
22097: LIST
22098: LIST
22099: PUSH
22100: EMPTY
22101: LIST
22102: LIST
22103: PPUSH
22104: CALL_OW 69
22108: PUSH
22109: LD_INT 0
22111: EQUAL
22112: PUSH
22113: LD_EXP 32
22117: PUSH
22118: LD_INT 6
22120: PUSH
22121: LD_INT 7
22123: PUSH
22124: LD_INT 8
22126: PUSH
22127: EMPTY
22128: LIST
22129: LIST
22130: LIST
22131: PUSH
22132: LD_OWVAR 67
22136: ARRAY
22137: GREATEREQUAL
22138: OR
22139: PUSH
22140: LD_INT 17
22142: PPUSH
22143: LD_INT 22
22145: PUSH
22146: LD_INT 0
22148: PUSH
22149: EMPTY
22150: LIST
22151: LIST
22152: PUSH
22153: LD_INT 25
22155: PUSH
22156: LD_INT 12
22158: PUSH
22159: EMPTY
22160: LIST
22161: LIST
22162: PUSH
22163: EMPTY
22164: LIST
22165: LIST
22166: PPUSH
22167: CALL_OW 70
22171: PUSH
22172: LD_INT 0
22174: EQUAL
22175: OR
22176: IFFALSE 21959
// disableHealAI = 0 ;
22178: LD_ADDR_EXP 33
22182: PUSH
22183: LD_INT 0
22185: ST_TO_ADDR
// for i in FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 12 ] ] ) do
22186: LD_ADDR_VAR 0 1
22190: PUSH
22191: LD_INT 22
22193: PUSH
22194: LD_INT 3
22196: PUSH
22197: EMPTY
22198: LIST
22199: LIST
22200: PUSH
22201: LD_INT 25
22203: PUSH
22204: LD_INT 12
22206: PUSH
22207: EMPTY
22208: LIST
22209: LIST
22210: PUSH
22211: EMPTY
22212: LIST
22213: LIST
22214: PPUSH
22215: CALL_OW 69
22219: PUSH
22220: FOR_IN
22221: IFFALSE 22237
// SetClass ( i , 16 ) ;
22223: LD_VAR 0 1
22227: PPUSH
22228: LD_INT 16
22230: PPUSH
22231: CALL_OW 336
22235: GO 22220
22237: POP
22238: POP
// for i in FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 4 ] ] ) do
22239: LD_ADDR_VAR 0 1
22243: PUSH
22244: LD_INT 22
22246: PUSH
22247: LD_INT 3
22249: PUSH
22250: EMPTY
22251: LIST
22252: LIST
22253: PUSH
22254: LD_INT 25
22256: PUSH
22257: LD_INT 4
22259: PUSH
22260: EMPTY
22261: LIST
22262: LIST
22263: PUSH
22264: EMPTY
22265: LIST
22266: LIST
22267: PPUSH
22268: CALL_OW 69
22272: PUSH
22273: FOR_IN
22274: IFFALSE 22293
// ComMoveXY ( i , 113 , 94 ) ;
22276: LD_VAR 0 1
22280: PPUSH
22281: LD_INT 113
22283: PPUSH
22284: LD_INT 94
22286: PPUSH
22287: CALL_OW 111
22291: GO 22273
22293: POP
22294: POP
// end ;
22295: PPOPN 2
22297: END
// every 0 0$1 trigger GetSide ( rufab ) = 3 and IsOK ( rufab ) and FilterAllUnits ( [ [ f_side , 3 ] , [ f_weapon , ru_cargo_bay ] ] ) = 0 do
22298: LD_INT 21
22300: PPUSH
22301: CALL_OW 255
22305: PUSH
22306: LD_INT 3
22308: EQUAL
22309: PUSH
22310: LD_INT 21
22312: PPUSH
22313: CALL_OW 302
22317: AND
22318: PUSH
22319: LD_INT 22
22321: PUSH
22322: LD_INT 3
22324: PUSH
22325: EMPTY
22326: LIST
22327: LIST
22328: PUSH
22329: LD_INT 34
22331: PUSH
22332: LD_INT 51
22334: PUSH
22335: EMPTY
22336: LIST
22337: LIST
22338: PUSH
22339: EMPTY
22340: LIST
22341: LIST
22342: PPUSH
22343: CALL_OW 69
22347: PUSH
22348: LD_INT 0
22350: EQUAL
22351: AND
22352: IFFALSE 22384
22354: GO 22356
22356: DISABLE
// begin AddComConstruct ( rufab , 23 , 1 , 1 , ru_cargo_bay ) ;
22357: LD_INT 21
22359: PPUSH
22360: LD_INT 23
22362: PPUSH
22363: LD_INT 1
22365: PPUSH
22366: LD_INT 1
22368: PPUSH
22369: LD_INT 51
22371: PPUSH
22372: CALL_OW 185
// wait ( 5 5$0 ) ;
22376: LD_INT 10500
22378: PPUSH
22379: CALL_OW 67
// enable ;
22383: ENABLE
// end ; end_of_file
22384: END
// every 0 0$01 trigger timeToEnd <= 0 0$00 do var i , tmp , yourCrates ;
22385: LD_EXP 26
22389: PUSH
22390: LD_INT 0
22392: LESSEQUAL
22393: IFFALSE 22542
22395: GO 22397
22397: DISABLE
22398: LD_INT 0
22400: PPUSH
22401: PPUSH
22402: PPUSH
// begin tmp = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
22403: LD_ADDR_VAR 0 2
22407: PUSH
22408: LD_INT 22
22410: PUSH
22411: LD_INT 1
22413: PUSH
22414: EMPTY
22415: LIST
22416: LIST
22417: PUSH
22418: LD_INT 21
22420: PUSH
22421: LD_INT 3
22423: PUSH
22424: EMPTY
22425: LIST
22426: LIST
22427: PUSH
22428: LD_INT 2
22430: PUSH
22431: LD_INT 30
22433: PUSH
22434: LD_INT 0
22436: PUSH
22437: EMPTY
22438: LIST
22439: LIST
22440: PUSH
22441: LD_INT 30
22443: PUSH
22444: LD_INT 1
22446: PUSH
22447: EMPTY
22448: LIST
22449: LIST
22450: PUSH
22451: EMPTY
22452: LIST
22453: LIST
22454: LIST
22455: PUSH
22456: EMPTY
22457: LIST
22458: LIST
22459: LIST
22460: PPUSH
22461: CALL_OW 69
22465: ST_TO_ADDR
// for i in tmp do
22466: LD_ADDR_VAR 0 1
22470: PUSH
22471: LD_VAR 0 2
22475: PUSH
22476: FOR_IN
22477: IFFALSE 22510
// yourCrates = yourCrates + GetResourceType ( GetBase ( i ) , 1 ) ;
22479: LD_ADDR_VAR 0 3
22483: PUSH
22484: LD_VAR 0 3
22488: PUSH
22489: LD_VAR 0 1
22493: PPUSH
22494: CALL_OW 274
22498: PPUSH
22499: LD_INT 1
22501: PPUSH
22502: CALL_OW 275
22506: PLUS
22507: ST_TO_ADDR
22508: GO 22476
22510: POP
22511: POP
// if yourCrates >= needCrates then
22512: LD_VAR 0 3
22516: PUSH
22517: LD_EXP 25
22521: GREATEREQUAL
22522: IFFALSE 22535
// begin FinishMission ( yourCrates ) ;
22524: LD_VAR 0 3
22528: PPUSH
22529: CALL 22545 0 1
// end else
22533: GO 22542
// begin YouLost ( matmin ) ;
22535: LD_STRING matmin
22537: PPUSH
22538: CALL_OW 104
// end ; end ;
22542: PPOPN 3
22544: END
// export function FinishMission ( crates ) ; var m1 , m2 , m3 ; begin
22545: LD_INT 0
22547: PPUSH
22548: PPUSH
22549: PPUSH
22550: PPUSH
// if killCounter = 0 then
22551: LD_EXP 47
22555: PUSH
22556: LD_INT 0
22558: EQUAL
22559: IFFALSE 22568
// SetAchievement ( ACH_SURV ) ;
22561: LD_STRING ACH_SURV
22563: PPUSH
22564: CALL_OW 543
// if FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_building ] ] ) = 0 then
22568: LD_INT 22
22570: PUSH
22571: LD_INT 3
22573: PUSH
22574: EMPTY
22575: LIST
22576: LIST
22577: PUSH
22578: LD_INT 21
22580: PUSH
22581: LD_INT 3
22583: PUSH
22584: EMPTY
22585: LIST
22586: LIST
22587: PUSH
22588: EMPTY
22589: LIST
22590: LIST
22591: PPUSH
22592: CALL_OW 69
22596: PUSH
22597: LD_INT 0
22599: EQUAL
22600: IFFALSE 22616
// begin wait ( 3 ) ;
22602: LD_INT 3
22604: PPUSH
22605: CALL_OW 67
// SetAchievement ( ACH_BASEDESTROYER ) ;
22609: LD_STRING ACH_BASEDESTROYER
22611: PPUSH
22612: CALL_OW 543
// end ; m1 := false ;
22616: LD_ADDR_VAR 0 3
22620: PUSH
22621: LD_INT 0
22623: ST_TO_ADDR
// m2 := false ;
22624: LD_ADDR_VAR 0 4
22628: PUSH
22629: LD_INT 0
22631: ST_TO_ADDR
// m3 := false ;
22632: LD_ADDR_VAR 0 5
22636: PUSH
22637: LD_INT 0
22639: ST_TO_ADDR
// if crates + 100 > crates then
22640: LD_VAR 0 1
22644: PUSH
22645: LD_INT 100
22647: PLUS
22648: PUSH
22649: LD_VAR 0 1
22653: GREATER
22654: IFFALSE 22686
// begin AddMedal ( cans , 1 ) ;
22656: LD_STRING cans
22658: PPUSH
22659: LD_INT 1
22661: PPUSH
22662: CALL_OW 101
// SaveVariable ( 1 , 06_crates_1 ) ;
22666: LD_INT 1
22668: PPUSH
22669: LD_STRING 06_crates_1
22671: PPUSH
22672: CALL_OW 39
// m1 := true ;
22676: LD_ADDR_VAR 0 3
22680: PUSH
22681: LD_INT 1
22683: ST_TO_ADDR
// end else
22684: GO 22707
// begin AddMedal ( cans , - 1 ) ;
22686: LD_STRING cans
22688: PPUSH
22689: LD_INT 1
22691: NEG
22692: PPUSH
22693: CALL_OW 101
// SaveVariable ( 0 , 06_crates_1 ) ;
22697: LD_INT 0
22699: PPUSH
22700: LD_STRING 06_crates_1
22702: PPUSH
22703: CALL_OW 39
// end ; if unitLost < 3 then
22707: LD_EXP 30
22711: PUSH
22712: LD_INT 3
22714: LESS
22715: IFFALSE 22737
// begin AddMedal ( people , 1 ) ;
22717: LD_STRING people
22719: PPUSH
22720: LD_INT 1
22722: PPUSH
22723: CALL_OW 101
// m2 := true ;
22727: LD_ADDR_VAR 0 4
22731: PUSH
22732: LD_INT 1
22734: ST_TO_ADDR
// end else
22735: GO 22748
// begin AddMedal ( people , - 1 ) ;
22737: LD_STRING people
22739: PPUSH
22740: LD_INT 1
22742: NEG
22743: PPUSH
22744: CALL_OW 101
// end ; SaveVariable ( remoteVehiclesBuild , 06_remoteVehs_1 ) ;
22748: LD_EXP 28
22752: PPUSH
22753: LD_STRING 06_remoteVehs_1
22755: PPUSH
22756: CALL_OW 39
// if remoteVehiclesBuild = 1 then
22760: LD_EXP 28
22764: PUSH
22765: LD_INT 1
22767: EQUAL
22768: IFFALSE 22790
// begin AddMedal ( remote , 1 ) ;
22770: LD_STRING remote
22772: PPUSH
22773: LD_INT 1
22775: PPUSH
22776: CALL_OW 101
// m3 := true ;
22780: LD_ADDR_VAR 0 5
22784: PUSH
22785: LD_INT 1
22787: ST_TO_ADDR
// end else
22788: GO 22830
// begin if GetTech ( 18 , 1 ) = state_enabled then
22790: LD_INT 18
22792: PPUSH
22793: LD_INT 1
22795: PPUSH
22796: CALL_OW 321
22800: PUSH
22801: LD_INT 1
22803: EQUAL
22804: IFFALSE 22819
// begin AddMedal ( remote , - 1 ) ;
22806: LD_STRING remote
22808: PPUSH
22809: LD_INT 1
22811: NEG
22812: PPUSH
22813: CALL_OW 101
// end else
22817: GO 22830
// begin AddMedal ( remote , - 2 ) ;
22819: LD_STRING remote
22821: PPUSH
22822: LD_INT 2
22824: NEG
22825: PPUSH
22826: CALL_OW 101
// end ; end ; if m1 and m2 and m3 then
22830: LD_VAR 0 3
22834: PUSH
22835: LD_VAR 0 4
22839: AND
22840: PUSH
22841: LD_VAR 0 5
22845: AND
22846: IFFALSE 22862
// begin wait ( 3 ) ;
22848: LD_INT 3
22850: PPUSH
22851: CALL_OW 67
// SetAchievement ( ACH_ASPEED_6 ) ;
22855: LD_STRING ACH_ASPEED_6
22857: PPUSH
22858: CALL_OW 543
// end ; if Difficulty = 3 and m1 and m2 and m3 then
22862: LD_OWVAR 67
22866: PUSH
22867: LD_INT 3
22869: EQUAL
22870: PUSH
22871: LD_VAR 0 3
22875: AND
22876: PUSH
22877: LD_VAR 0 4
22881: AND
22882: PUSH
22883: LD_VAR 0 5
22887: AND
22888: IFFALSE 22900
// SetAchievementEX ( ACH_AMER , 6 ) ;
22890: LD_STRING ACH_AMER
22892: PPUSH
22893: LD_INT 6
22895: PPUSH
22896: CALL_OW 564
// SaveVariable ( KurtStatus , 06_KurtStatus_1 ) ;
22900: LD_EXP 20
22904: PPUSH
22905: LD_STRING 06_KurtStatus_1
22907: PPUSH
22908: CALL_OW 39
// GiveMedals ( Main ) ;
22912: LD_STRING Main
22914: PPUSH
22915: CALL_OW 102
// RewardPeople ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_ok ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) ) ;
22919: LD_INT 22
22921: PUSH
22922: LD_INT 1
22924: PUSH
22925: EMPTY
22926: LIST
22927: LIST
22928: PUSH
22929: LD_INT 21
22931: PUSH
22932: LD_INT 1
22934: PUSH
22935: EMPTY
22936: LIST
22937: LIST
22938: PUSH
22939: LD_INT 50
22941: PUSH
22942: EMPTY
22943: LIST
22944: PUSH
22945: LD_INT 2
22947: PUSH
22948: LD_INT 25
22950: PUSH
22951: LD_INT 1
22953: PUSH
22954: EMPTY
22955: LIST
22956: LIST
22957: PUSH
22958: LD_INT 25
22960: PUSH
22961: LD_INT 2
22963: PUSH
22964: EMPTY
22965: LIST
22966: LIST
22967: PUSH
22968: LD_INT 25
22970: PUSH
22971: LD_INT 3
22973: PUSH
22974: EMPTY
22975: LIST
22976: LIST
22977: PUSH
22978: LD_INT 25
22980: PUSH
22981: LD_INT 4
22983: PUSH
22984: EMPTY
22985: LIST
22986: LIST
22987: PUSH
22988: EMPTY
22989: LIST
22990: LIST
22991: LIST
22992: LIST
22993: LIST
22994: PUSH
22995: EMPTY
22996: LIST
22997: LIST
22998: LIST
22999: LIST
23000: PPUSH
23001: CALL_OW 69
23005: PPUSH
23006: CALL_OW 43
// SaveCharacters ( JMM , mission_prefix & JMM ) ;
23010: LD_EXP 1
23014: PPUSH
23015: LD_EXP 43
23019: PUSH
23020: LD_STRING JMM
23022: STR
23023: PPUSH
23024: CALL_OW 38
// EnchancedSaveCharacters ( Lisa , mission_prefix & Lisa ) ;
23028: LD_EXP 2
23032: PPUSH
23033: LD_EXP 43
23037: PUSH
23038: LD_STRING Lisa
23040: STR
23041: PPUSH
23042: CALL 6120 0 2
// EnchancedSaveCharacters ( Bobby , mission_prefix & Bobby ) ;
23046: LD_EXP 3
23050: PPUSH
23051: LD_EXP 43
23055: PUSH
23056: LD_STRING Bobby
23058: STR
23059: PPUSH
23060: CALL 6120 0 2
// EnchancedSaveCharacters ( Cyrus , mission_prefix & Cyrus ) ;
23064: LD_EXP 4
23068: PPUSH
23069: LD_EXP 43
23073: PUSH
23074: LD_STRING Cyrus
23076: STR
23077: PPUSH
23078: CALL 6120 0 2
// EnchancedSaveCharacters ( Frank , mission_prefix & Frank ) ;
23082: LD_EXP 5
23086: PPUSH
23087: LD_EXP 43
23091: PUSH
23092: LD_STRING Frank
23094: STR
23095: PPUSH
23096: CALL 6120 0 2
// EnchancedSaveCharacters ( Brown , mission_prefix & Brown ) ;
23100: LD_EXP 6
23104: PPUSH
23105: LD_EXP 43
23109: PUSH
23110: LD_STRING Brown
23112: STR
23113: PPUSH
23114: CALL 6120 0 2
// EnchancedSaveCharacters ( Donaldson , mission_prefix & Donaldson ) ;
23118: LD_EXP 7
23122: PPUSH
23123: LD_EXP 43
23127: PUSH
23128: LD_STRING Donaldson
23130: STR
23131: PPUSH
23132: CALL 6120 0 2
// EnchancedSaveCharacters ( Gladstone , mission_prefix & Gladstone ) ;
23136: LD_EXP 8
23140: PPUSH
23141: LD_EXP 43
23145: PUSH
23146: LD_STRING Gladstone
23148: STR
23149: PPUSH
23150: CALL 6120 0 2
// EnchancedSaveCharacters ( Denis , mission_prefix & Denis ) ;
23154: LD_EXP 9
23158: PPUSH
23159: LD_EXP 43
23163: PUSH
23164: LD_STRING Denis
23166: STR
23167: PPUSH
23168: CALL 6120 0 2
// EnchancedSaveCharacters ( Joan , mission_prefix & Joan ) ;
23172: LD_EXP 15
23176: PPUSH
23177: LD_EXP 43
23181: PUSH
23182: LD_STRING Joan
23184: STR
23185: PPUSH
23186: CALL 6120 0 2
// if IsLive ( Joan ) then
23190: LD_EXP 15
23194: PPUSH
23195: CALL_OW 300
23199: IFFALSE 23213
// SaveCharacters ( Joan , Joan ) ;
23201: LD_EXP 15
23205: PPUSH
23206: LD_STRING Joan
23208: PPUSH
23209: CALL_OW 38
// SaveVariable ( JoanStatus , 06_JoanStatus_1 ) ;
23213: LD_EXP 16
23217: PPUSH
23218: LD_STRING 06_JoanStatus_1
23220: PPUSH
23221: CALL_OW 39
// SaveCharacters ( FilterAllUnits ( [ [ f_ok ] , [ f_side , 1 ] , [ f_type , unit_human ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) diff [ JMM , Lisa , Bobby , Cyrus , Frank , Brown , Donaldson , Gladstone , Denis , Joan ] , 06_other_survivors ) ;
23225: LD_INT 50
23227: PUSH
23228: EMPTY
23229: LIST
23230: PUSH
23231: LD_INT 22
23233: PUSH
23234: LD_INT 1
23236: PUSH
23237: EMPTY
23238: LIST
23239: LIST
23240: PUSH
23241: LD_INT 21
23243: PUSH
23244: LD_INT 1
23246: PUSH
23247: EMPTY
23248: LIST
23249: LIST
23250: PUSH
23251: LD_INT 2
23253: PUSH
23254: LD_INT 25
23256: PUSH
23257: LD_INT 1
23259: PUSH
23260: EMPTY
23261: LIST
23262: LIST
23263: PUSH
23264: LD_INT 25
23266: PUSH
23267: LD_INT 2
23269: PUSH
23270: EMPTY
23271: LIST
23272: LIST
23273: PUSH
23274: LD_INT 25
23276: PUSH
23277: LD_INT 3
23279: PUSH
23280: EMPTY
23281: LIST
23282: LIST
23283: PUSH
23284: LD_INT 25
23286: PUSH
23287: LD_INT 4
23289: PUSH
23290: EMPTY
23291: LIST
23292: LIST
23293: PUSH
23294: EMPTY
23295: LIST
23296: LIST
23297: LIST
23298: LIST
23299: LIST
23300: PUSH
23301: EMPTY
23302: LIST
23303: LIST
23304: LIST
23305: LIST
23306: PPUSH
23307: CALL_OW 69
23311: PUSH
23312: LD_EXP 1
23316: PUSH
23317: LD_EXP 2
23321: PUSH
23322: LD_EXP 3
23326: PUSH
23327: LD_EXP 4
23331: PUSH
23332: LD_EXP 5
23336: PUSH
23337: LD_EXP 6
23341: PUSH
23342: LD_EXP 7
23346: PUSH
23347: LD_EXP 8
23351: PUSH
23352: LD_EXP 9
23356: PUSH
23357: LD_EXP 15
23361: PUSH
23362: EMPTY
23363: LIST
23364: LIST
23365: LIST
23366: LIST
23367: LIST
23368: LIST
23369: LIST
23370: LIST
23371: LIST
23372: LIST
23373: DIFF
23374: PPUSH
23375: LD_STRING 06_other_survivors
23377: PPUSH
23378: CALL_OW 38
// SaveCharacters ( FilterAllUnits ( [ [ f_ok ] , [ f_side , 1 ] , [ f_type , unit_human ] , [ f_or , [ f_class , 12 ] , [ f_class , 16 ] ] ] ) , 06_other_apemans ) ;
23382: LD_INT 50
23384: PUSH
23385: EMPTY
23386: LIST
23387: PUSH
23388: LD_INT 22
23390: PUSH
23391: LD_INT 1
23393: PUSH
23394: EMPTY
23395: LIST
23396: LIST
23397: PUSH
23398: LD_INT 21
23400: PUSH
23401: LD_INT 1
23403: PUSH
23404: EMPTY
23405: LIST
23406: LIST
23407: PUSH
23408: LD_INT 2
23410: PUSH
23411: LD_INT 25
23413: PUSH
23414: LD_INT 12
23416: PUSH
23417: EMPTY
23418: LIST
23419: LIST
23420: PUSH
23421: LD_INT 25
23423: PUSH
23424: LD_INT 16
23426: PUSH
23427: EMPTY
23428: LIST
23429: LIST
23430: PUSH
23431: EMPTY
23432: LIST
23433: LIST
23434: LIST
23435: PUSH
23436: EMPTY
23437: LIST
23438: LIST
23439: LIST
23440: LIST
23441: PPUSH
23442: CALL_OW 69
23446: PPUSH
23447: LD_STRING 06_other_apemans
23449: PPUSH
23450: CALL_OW 38
// YouWin ;
23454: CALL_OW 103
// end ; end_of_file
23458: LD_VAR 0 2
23462: RET
// every 1 1$0 trigger sendedConvoys = 3 do
23463: LD_EXP 39
23467: PUSH
23468: LD_INT 3
23470: EQUAL
23471: IFFALSE 23586
23473: GO 23475
23475: DISABLE
// begin enable ;
23476: ENABLE
// sendedConvoys = 0 ;
23477: LD_ADDR_EXP 39
23481: PUSH
23482: LD_INT 0
23484: ST_TO_ADDR
// RespawnAttackInfantry ( 6 , 3 , [ rand ( 5 , 10 ) , rand ( 5 , 11 ) , rand ( 8 , 12 ) ] [ Difficulty ] , 0 , 0 , 0 , 0 , rand ( RuSolMinLevel , RuSolMaxLevel ) , RussianAttackSpawn , AttackAreaHeal , 1 , rand ( 1 , 2 ) ) ;
23485: LD_INT 6
23487: PPUSH
23488: LD_INT 3
23490: PPUSH
23491: LD_INT 5
23493: PPUSH
23494: LD_INT 10
23496: PPUSH
23497: CALL_OW 12
23501: PUSH
23502: LD_INT 5
23504: PPUSH
23505: LD_INT 11
23507: PPUSH
23508: CALL_OW 12
23512: PUSH
23513: LD_INT 8
23515: PPUSH
23516: LD_INT 12
23518: PPUSH
23519: CALL_OW 12
23523: PUSH
23524: EMPTY
23525: LIST
23526: LIST
23527: LIST
23528: PUSH
23529: LD_OWVAR 67
23533: ARRAY
23534: PPUSH
23535: LD_INT 0
23537: PPUSH
23538: LD_INT 0
23540: PPUSH
23541: LD_INT 0
23543: PPUSH
23544: LD_INT 0
23546: PPUSH
23547: LD_EXP 34
23551: PPUSH
23552: LD_EXP 35
23556: PPUSH
23557: CALL_OW 12
23561: PPUSH
23562: LD_INT 16
23564: PPUSH
23565: LD_INT 15
23567: PPUSH
23568: LD_INT 1
23570: PPUSH
23571: LD_INT 1
23573: PPUSH
23574: LD_INT 2
23576: PPUSH
23577: CALL_OW 12
23581: PPUSH
23582: CALL 10539 0 12
// end ; end_of_file
23586: END
// export function PrepareNature ; var i , un ; begin
23587: LD_INT 0
23589: PPUSH
23590: PPUSH
23591: PPUSH
// for i = 1 to Difficulty + 2 do
23592: LD_ADDR_VAR 0 2
23596: PUSH
23597: DOUBLE
23598: LD_INT 1
23600: DEC
23601: ST_TO_ADDR
23602: LD_OWVAR 67
23606: PUSH
23607: LD_INT 2
23609: PLUS
23610: PUSH
23611: FOR_TO
23612: IFFALSE 23721
// begin hc_sex = sex_male ;
23614: LD_ADDR_OWVAR 27
23618: PUSH
23619: LD_INT 1
23621: ST_TO_ADDR
// uc_side = 0 ;
23622: LD_ADDR_OWVAR 20
23626: PUSH
23627: LD_INT 0
23629: ST_TO_ADDR
// uc_nation = nation_nature ;
23630: LD_ADDR_OWVAR 21
23634: PUSH
23635: LD_INT 0
23637: ST_TO_ADDR
// hc_class = class_tiger ;
23638: LD_ADDR_OWVAR 28
23642: PUSH
23643: LD_INT 14
23645: ST_TO_ADDR
// hc_skills = [ RuSolMaxLevel , 0 , 0 , 0 ] ;
23646: LD_ADDR_OWVAR 31
23650: PUSH
23651: LD_EXP 35
23655: PUSH
23656: LD_INT 0
23658: PUSH
23659: LD_INT 0
23661: PUSH
23662: LD_INT 0
23664: PUSH
23665: EMPTY
23666: LIST
23667: LIST
23668: LIST
23669: LIST
23670: ST_TO_ADDR
// hc_agressivity = rand ( - 5 , 5 ) * Difficulty ;
23671: LD_ADDR_OWVAR 35
23675: PUSH
23676: LD_INT 5
23678: NEG
23679: PPUSH
23680: LD_INT 5
23682: PPUSH
23683: CALL_OW 12
23687: PUSH
23688: LD_OWVAR 67
23692: MUL
23693: ST_TO_ADDR
// un = CreateHuman ;
23694: LD_ADDR_VAR 0 3
23698: PUSH
23699: CALL_OW 44
23703: ST_TO_ADDR
// PlaceUnitArea ( un , NatureArea , false ) ;
23704: LD_VAR 0 3
23708: PPUSH
23709: LD_INT 18
23711: PPUSH
23712: LD_INT 0
23714: PPUSH
23715: CALL_OW 49
// end ;
23719: GO 23611
23721: POP
23722: POP
// for i = 1 to rand ( 3 , 4 ) do
23723: LD_ADDR_VAR 0 2
23727: PUSH
23728: DOUBLE
23729: LD_INT 1
23731: DEC
23732: ST_TO_ADDR
23733: LD_INT 3
23735: PPUSH
23736: LD_INT 4
23738: PPUSH
23739: CALL_OW 12
23743: PUSH
23744: FOR_TO
23745: IFFALSE 23839
// begin hc_sex = sex_male ;
23747: LD_ADDR_OWVAR 27
23751: PUSH
23752: LD_INT 1
23754: ST_TO_ADDR
// uc_side = 0 ;
23755: LD_ADDR_OWVAR 20
23759: PUSH
23760: LD_INT 0
23762: ST_TO_ADDR
// uc_nation = nation_nature ;
23763: LD_ADDR_OWVAR 21
23767: PUSH
23768: LD_INT 0
23770: ST_TO_ADDR
// hc_class = 18 ;
23771: LD_ADDR_OWVAR 28
23775: PUSH
23776: LD_INT 18
23778: ST_TO_ADDR
// hc_skills = [ RuSolMaxLevel , 0 , 0 , 0 ] ;
23779: LD_ADDR_OWVAR 31
23783: PUSH
23784: LD_EXP 35
23788: PUSH
23789: LD_INT 0
23791: PUSH
23792: LD_INT 0
23794: PUSH
23795: LD_INT 0
23797: PUSH
23798: EMPTY
23799: LIST
23800: LIST
23801: LIST
23802: LIST
23803: ST_TO_ADDR
// hc_agressivity = 0 ;
23804: LD_ADDR_OWVAR 35
23808: PUSH
23809: LD_INT 0
23811: ST_TO_ADDR
// un = CreateHuman ;
23812: LD_ADDR_VAR 0 3
23816: PUSH
23817: CALL_OW 44
23821: ST_TO_ADDR
// PlaceUnitArea ( un , NatureArea , false ) ;
23822: LD_VAR 0 3
23826: PPUSH
23827: LD_INT 18
23829: PPUSH
23830: LD_INT 0
23832: PPUSH
23833: CALL_OW 49
// end ;
23837: GO 23744
23839: POP
23840: POP
// for i = 1 to rand ( 1 , 3 ) + Difficulty do
23841: LD_ADDR_VAR 0 2
23845: PUSH
23846: DOUBLE
23847: LD_INT 1
23849: DEC
23850: ST_TO_ADDR
23851: LD_INT 1
23853: PPUSH
23854: LD_INT 3
23856: PPUSH
23857: CALL_OW 12
23861: PUSH
23862: LD_OWVAR 67
23866: PLUS
23867: PUSH
23868: FOR_TO
23869: IFFALSE 24018
// begin hc_sex = sex_male ;
23871: LD_ADDR_OWVAR 27
23875: PUSH
23876: LD_INT 1
23878: ST_TO_ADDR
// uc_side = 0 ;
23879: LD_ADDR_OWVAR 20
23883: PUSH
23884: LD_INT 0
23886: ST_TO_ADDR
// uc_nation = nation_nature ;
23887: LD_ADDR_OWVAR 21
23891: PUSH
23892: LD_INT 0
23894: ST_TO_ADDR
// hc_class = class_apeman ;
23895: LD_ADDR_OWVAR 28
23899: PUSH
23900: LD_INT 12
23902: ST_TO_ADDR
// hc_skills = [ rand ( 2 , 5 ) , rand ( 0 , 2 ) , 0 , 0 ] ;
23903: LD_ADDR_OWVAR 31
23907: PUSH
23908: LD_INT 2
23910: PPUSH
23911: LD_INT 5
23913: PPUSH
23914: CALL_OW 12
23918: PUSH
23919: LD_INT 0
23921: PPUSH
23922: LD_INT 2
23924: PPUSH
23925: CALL_OW 12
23929: PUSH
23930: LD_INT 0
23932: PUSH
23933: LD_INT 0
23935: PUSH
23936: EMPTY
23937: LIST
23938: LIST
23939: LIST
23940: LIST
23941: ST_TO_ADDR
// hc_agressivity = [ rand ( 20 , 30 ) , rand ( 30 , 40 ) , rand ( 40 , 50 ) ] [ Difficulty ] ;
23942: LD_ADDR_OWVAR 35
23946: PUSH
23947: LD_INT 20
23949: PPUSH
23950: LD_INT 30
23952: PPUSH
23953: CALL_OW 12
23957: PUSH
23958: LD_INT 30
23960: PPUSH
23961: LD_INT 40
23963: PPUSH
23964: CALL_OW 12
23968: PUSH
23969: LD_INT 40
23971: PPUSH
23972: LD_INT 50
23974: PPUSH
23975: CALL_OW 12
23979: PUSH
23980: EMPTY
23981: LIST
23982: LIST
23983: LIST
23984: PUSH
23985: LD_OWVAR 67
23989: ARRAY
23990: ST_TO_ADDR
// un = CreateHuman ;
23991: LD_ADDR_VAR 0 3
23995: PUSH
23996: CALL_OW 44
24000: ST_TO_ADDR
// PlaceUnitArea ( un , ApemanSpawn1 , false ) ;
24001: LD_VAR 0 3
24005: PPUSH
24006: LD_INT 19
24008: PPUSH
24009: LD_INT 0
24011: PPUSH
24012: CALL_OW 49
// end ;
24016: GO 23868
24018: POP
24019: POP
// for i = 1 to rand ( 5 , 6 ) + Difficulty do
24020: LD_ADDR_VAR 0 2
24024: PUSH
24025: DOUBLE
24026: LD_INT 1
24028: DEC
24029: ST_TO_ADDR
24030: LD_INT 5
24032: PPUSH
24033: LD_INT 6
24035: PPUSH
24036: CALL_OW 12
24040: PUSH
24041: LD_OWVAR 67
24045: PLUS
24046: PUSH
24047: FOR_TO
24048: IFFALSE 24156
// begin hc_sex = sex_male ;
24050: LD_ADDR_OWVAR 27
24054: PUSH
24055: LD_INT 1
24057: ST_TO_ADDR
// uc_side = 0 ;
24058: LD_ADDR_OWVAR 20
24062: PUSH
24063: LD_INT 0
24065: ST_TO_ADDR
// uc_nation = nation_nature ;
24066: LD_ADDR_OWVAR 21
24070: PUSH
24071: LD_INT 0
24073: ST_TO_ADDR
// hc_class = class_apeman ;
24074: LD_ADDR_OWVAR 28
24078: PUSH
24079: LD_INT 12
24081: ST_TO_ADDR
// hc_skills = [ rand ( 2 , 5 ) , rand ( 0 , 2 ) , 0 , 0 ] ;
24082: LD_ADDR_OWVAR 31
24086: PUSH
24087: LD_INT 2
24089: PPUSH
24090: LD_INT 5
24092: PPUSH
24093: CALL_OW 12
24097: PUSH
24098: LD_INT 0
24100: PPUSH
24101: LD_INT 2
24103: PPUSH
24104: CALL_OW 12
24108: PUSH
24109: LD_INT 0
24111: PUSH
24112: LD_INT 0
24114: PUSH
24115: EMPTY
24116: LIST
24117: LIST
24118: LIST
24119: LIST
24120: ST_TO_ADDR
// hc_agressivity = 0 ;
24121: LD_ADDR_OWVAR 35
24125: PUSH
24126: LD_INT 0
24128: ST_TO_ADDR
// un = CreateHuman ;
24129: LD_ADDR_VAR 0 3
24133: PUSH
24134: CALL_OW 44
24138: ST_TO_ADDR
// PlaceUnitArea ( un , ApemanSpawn2 , false ) ;
24139: LD_VAR 0 3
24143: PPUSH
24144: LD_INT 20
24146: PPUSH
24147: LD_INT 0
24149: PPUSH
24150: CALL_OW 49
// end ;
24154: GO 24047
24156: POP
24157: POP
// end ; end_of_file end_of_file
24158: LD_VAR 0 1
24162: RET
// export ru_radar , ru_big_cargo_bay , us_hack , us_artillery , ar_bio_bomb ; every 1 do
24163: GO 24165
24165: DISABLE
// begin ru_radar := 98 ;
24166: LD_ADDR_EXP 51
24170: PUSH
24171: LD_INT 98
24173: ST_TO_ADDR
// ru_big_cargo_bay := 89 ;
24174: LD_ADDR_EXP 52
24178: PUSH
24179: LD_INT 89
24181: ST_TO_ADDR
// us_hack := 99 ;
24182: LD_ADDR_EXP 53
24186: PUSH
24187: LD_INT 99
24189: ST_TO_ADDR
// us_artillery := 97 ;
24190: LD_ADDR_EXP 54
24194: PUSH
24195: LD_INT 97
24197: ST_TO_ADDR
// ar_bio_bomb := 91 ;
24198: LD_ADDR_EXP 55
24202: PUSH
24203: LD_INT 91
24205: ST_TO_ADDR
// end ; end_of_file end_of_file end_of_file
24206: END
// export function SOS_UnitExtraDestroyed ( un , killerSide , killerUnit ) ; var i , eff , side ; begin
24207: LD_INT 0
24209: PPUSH
24210: PPUSH
24211: PPUSH
24212: PPUSH
// if GetWeapon ( un ) = ar_bio_bomb then
24213: LD_VAR 0 1
24217: PPUSH
24218: CALL_OW 264
24222: PUSH
24223: LD_EXP 55
24227: EQUAL
24228: IFFALSE 24300
// begin if GetTech ( tech_bio3 , GetSide ( un ) ) = state_researched then
24230: LD_INT 68
24232: PPUSH
24233: LD_VAR 0 1
24237: PPUSH
24238: CALL_OW 255
24242: PPUSH
24243: CALL_OW 321
24247: PUSH
24248: LD_INT 2
24250: EQUAL
24251: IFFALSE 24263
// eff := 70 else
24253: LD_ADDR_VAR 0 6
24257: PUSH
24258: LD_INT 70
24260: ST_TO_ADDR
24261: GO 24271
// eff := 30 ;
24263: LD_ADDR_VAR 0 6
24267: PUSH
24268: LD_INT 30
24270: ST_TO_ADDR
// ArtContamination ( GetX ( un ) , GetY ( un ) , eff ) ;
24271: LD_VAR 0 1
24275: PPUSH
24276: CALL_OW 250
24280: PPUSH
24281: LD_VAR 0 1
24285: PPUSH
24286: CALL_OW 251
24290: PPUSH
24291: LD_VAR 0 6
24295: PPUSH
24296: CALL_OW 495
// end ; end ;
24300: LD_VAR 0 4
24304: RET
// export function SOS_Command ( cmd ) ; var i , j , tmp , taskList , _taskList ; begin
24305: LD_INT 0
24307: PPUSH
24308: PPUSH
24309: PPUSH
24310: PPUSH
24311: PPUSH
24312: PPUSH
// if cmd = 124 then
24313: LD_VAR 0 1
24317: PUSH
24318: LD_INT 124
24320: EQUAL
24321: IFFALSE 24527
// begin tmp := FilterAllUnits ( [ f_or , [ f_weapon , ru_bulldozer ] , [ f_weapon , us_bulldozer ] ] ) ;
24323: LD_ADDR_VAR 0 5
24327: PUSH
24328: LD_INT 2
24330: PUSH
24331: LD_INT 34
24333: PUSH
24334: LD_INT 53
24336: PUSH
24337: EMPTY
24338: LIST
24339: LIST
24340: PUSH
24341: LD_INT 34
24343: PUSH
24344: LD_INT 14
24346: PUSH
24347: EMPTY
24348: LIST
24349: LIST
24350: PUSH
24351: EMPTY
24352: LIST
24353: LIST
24354: LIST
24355: PPUSH
24356: CALL_OW 69
24360: ST_TO_ADDR
// if not tmp then
24361: LD_VAR 0 5
24365: NOT
24366: IFFALSE 24370
// exit ;
24368: GO 24527
// for i in tmp do
24370: LD_ADDR_VAR 0 3
24374: PUSH
24375: LD_VAR 0 5
24379: PUSH
24380: FOR_IN
24381: IFFALSE 24525
// begin taskList := GetTaskList ( i ) ;
24383: LD_ADDR_VAR 0 6
24387: PUSH
24388: LD_VAR 0 3
24392: PPUSH
24393: CALL_OW 437
24397: ST_TO_ADDR
// if not taskList then
24398: LD_VAR 0 6
24402: NOT
24403: IFFALSE 24407
// continue ;
24405: GO 24380
// for j = 1 to taskList do
24407: LD_ADDR_VAR 0 4
24411: PUSH
24412: DOUBLE
24413: LD_INT 1
24415: DEC
24416: ST_TO_ADDR
24417: LD_VAR 0 6
24421: PUSH
24422: FOR_TO
24423: IFFALSE 24521
// if taskList [ j ] [ 1 ] = | then
24425: LD_VAR 0 6
24429: PUSH
24430: LD_VAR 0 4
24434: ARRAY
24435: PUSH
24436: LD_INT 1
24438: ARRAY
24439: PUSH
24440: LD_STRING |
24442: EQUAL
24443: IFFALSE 24519
// begin _taskList := Delete ( taskList , 1 ) ;
24445: LD_ADDR_VAR 0 7
24449: PUSH
24450: LD_VAR 0 6
24454: PPUSH
24455: LD_INT 1
24457: PPUSH
24458: CALL_OW 3
24462: ST_TO_ADDR
// SetTaskList ( i , _taskList ) ;
24463: LD_VAR 0 3
24467: PPUSH
24468: LD_VAR 0 7
24472: PPUSH
24473: CALL_OW 446
// CutTreeXYR ( i , taskList [ j ] [ 2 ] , taskList [ j ] [ 3 ] , 8 ) ;
24477: LD_VAR 0 3
24481: PPUSH
24482: LD_VAR 0 6
24486: PUSH
24487: LD_VAR 0 4
24491: ARRAY
24492: PUSH
24493: LD_INT 2
24495: ARRAY
24496: PPUSH
24497: LD_VAR 0 6
24501: PUSH
24502: LD_VAR 0 4
24506: ARRAY
24507: PUSH
24508: LD_INT 3
24510: ARRAY
24511: PPUSH
24512: LD_INT 8
24514: PPUSH
24515: CALL 24532 0 4
// end ;
24519: GO 24422
24521: POP
24522: POP
// end ;
24523: GO 24380
24525: POP
24526: POP
// end ; end ;
24527: LD_VAR 0 2
24531: RET
// function CutTreeXYR ( bulldozer , x , y , r ) ; var i , min_x , min_y , max_x , max_y , _x , _y , list ; begin
24532: LD_INT 0
24534: PPUSH
24535: PPUSH
24536: PPUSH
24537: PPUSH
24538: PPUSH
24539: PPUSH
24540: PPUSH
24541: PPUSH
24542: PPUSH
// if not bulldozer or not ValidHex ( x , y ) or not r then
24543: LD_VAR 0 1
24547: NOT
24548: PUSH
24549: LD_VAR 0 2
24553: PPUSH
24554: LD_VAR 0 3
24558: PPUSH
24559: CALL_OW 488
24563: NOT
24564: OR
24565: PUSH
24566: LD_VAR 0 4
24570: NOT
24571: OR
24572: IFFALSE 24576
// exit ;
24574: GO 24916
// list := [ ] ;
24576: LD_ADDR_VAR 0 13
24580: PUSH
24581: EMPTY
24582: ST_TO_ADDR
// if x - r < 0 then
24583: LD_VAR 0 2
24587: PUSH
24588: LD_VAR 0 4
24592: MINUS
24593: PUSH
24594: LD_INT 0
24596: LESS
24597: IFFALSE 24609
// min_x := 0 else
24599: LD_ADDR_VAR 0 7
24603: PUSH
24604: LD_INT 0
24606: ST_TO_ADDR
24607: GO 24625
// min_x := x - r ;
24609: LD_ADDR_VAR 0 7
24613: PUSH
24614: LD_VAR 0 2
24618: PUSH
24619: LD_VAR 0 4
24623: MINUS
24624: ST_TO_ADDR
// if y - r < 0 then
24625: LD_VAR 0 3
24629: PUSH
24630: LD_VAR 0 4
24634: MINUS
24635: PUSH
24636: LD_INT 0
24638: LESS
24639: IFFALSE 24651
// min_y := 0 else
24641: LD_ADDR_VAR 0 8
24645: PUSH
24646: LD_INT 0
24648: ST_TO_ADDR
24649: GO 24667
// min_y := y - r ;
24651: LD_ADDR_VAR 0 8
24655: PUSH
24656: LD_VAR 0 3
24660: PUSH
24661: LD_VAR 0 4
24665: MINUS
24666: ST_TO_ADDR
// max_x := x + r ;
24667: LD_ADDR_VAR 0 9
24671: PUSH
24672: LD_VAR 0 2
24676: PUSH
24677: LD_VAR 0 4
24681: PLUS
24682: ST_TO_ADDR
// max_y := y + r ;
24683: LD_ADDR_VAR 0 10
24687: PUSH
24688: LD_VAR 0 3
24692: PUSH
24693: LD_VAR 0 4
24697: PLUS
24698: ST_TO_ADDR
// for _x = min_x to max_x do
24699: LD_ADDR_VAR 0 11
24703: PUSH
24704: DOUBLE
24705: LD_VAR 0 7
24709: DEC
24710: ST_TO_ADDR
24711: LD_VAR 0 9
24715: PUSH
24716: FOR_TO
24717: IFFALSE 24834
// for _y = min_y to max_y do
24719: LD_ADDR_VAR 0 12
24723: PUSH
24724: DOUBLE
24725: LD_VAR 0 8
24729: DEC
24730: ST_TO_ADDR
24731: LD_VAR 0 10
24735: PUSH
24736: FOR_TO
24737: IFFALSE 24830
// begin if not ValidHex ( _x , _y ) then
24739: LD_VAR 0 11
24743: PPUSH
24744: LD_VAR 0 12
24748: PPUSH
24749: CALL_OW 488
24753: NOT
24754: IFFALSE 24758
// continue ;
24756: GO 24736
// if IsEnvironment ( _x , _y ) and IsEnvironmentDestroyable ( _x , _y ) then
24758: LD_VAR 0 11
24762: PPUSH
24763: LD_VAR 0 12
24767: PPUSH
24768: CALL_OW 351
24772: PUSH
24773: LD_VAR 0 11
24777: PPUSH
24778: LD_VAR 0 12
24782: PPUSH
24783: CALL_OW 554
24787: AND
24788: IFFALSE 24828
// list := Insert ( list , list + 1 , [ _x , _y ] ) ;
24790: LD_ADDR_VAR 0 13
24794: PUSH
24795: LD_VAR 0 13
24799: PPUSH
24800: LD_VAR 0 13
24804: PUSH
24805: LD_INT 1
24807: PLUS
24808: PPUSH
24809: LD_VAR 0 11
24813: PUSH
24814: LD_VAR 0 12
24818: PUSH
24819: EMPTY
24820: LIST
24821: LIST
24822: PPUSH
24823: CALL_OW 2
24827: ST_TO_ADDR
// end ;
24828: GO 24736
24830: POP
24831: POP
24832: GO 24716
24834: POP
24835: POP
// if not list then
24836: LD_VAR 0 13
24840: NOT
24841: IFFALSE 24845
// exit ;
24843: GO 24916
// for i in list do
24845: LD_ADDR_VAR 0 6
24849: PUSH
24850: LD_VAR 0 13
24854: PUSH
24855: FOR_IN
24856: IFFALSE 24914
// AddTaskList ( bulldozer , [ [ M , i [ 1 ] , i [ 2 ] , 0 , 0 , 0 , 0 ] ] ) ;
24858: LD_VAR 0 1
24862: PPUSH
24863: LD_STRING M
24865: PUSH
24866: LD_VAR 0 6
24870: PUSH
24871: LD_INT 1
24873: ARRAY
24874: PUSH
24875: LD_VAR 0 6
24879: PUSH
24880: LD_INT 2
24882: ARRAY
24883: PUSH
24884: LD_INT 0
24886: PUSH
24887: LD_INT 0
24889: PUSH
24890: LD_INT 0
24892: PUSH
24893: LD_INT 0
24895: PUSH
24896: EMPTY
24897: LIST
24898: LIST
24899: LIST
24900: LIST
24901: LIST
24902: LIST
24903: LIST
24904: PUSH
24905: EMPTY
24906: LIST
24907: PPUSH
24908: CALL_OW 447
24912: GO 24855
24914: POP
24915: POP
// end ;
24916: LD_VAR 0 5
24920: RET
