// export JMM , Lisa , Bobby , Cyrus , Frank , Brown , Donaldson , Gladstone , Denis , DeltaDoctor ; export others , ape , tempCharles ; export Harisson , Joan , JoanStatus ; export HarrSupp1 , HarrSupp2 ; export Kurt , KurtStatus , readyToEscape ; export contactWithRussian ; export firstTower ; export timerStatus ; export needCrates , timeToEnd , strings ; export remoteVehiclesBuild ; export blockSpawn ; export unitLost ; export ruDestroyedBuildings ; export tamedApemans ; export disableHealAI ; export RuSolMinLevel , RuSolMaxLevel ; export russianTanks , russianDamageTanks ; export cratesStatus ; export sendedConvoys ; export resources , firstCrateSpawn ; export debugMode ; export mission_prefix , mission_prefix_prev ; export ignoreTarget , arrivals , killCounter , ruMechCounter ; starting begin Resetfog ;
   0: CALL_OW 335
// AnimateTrees ( true ) ;
   4: LD_INT 1
   6: PPUSH
   7: CALL_OW 573
// RandomizeAll ;
  11: CALL_OW 11
// SetBName ( rudepo , sverdlov ) ;
  15: LD_INT 2
  17: PPUSH
  18: LD_STRING sverdlov
  20: PPUSH
  21: CALL_OW 500
// debugMode = 0 ;
  25: LD_ADDR_EXP 42
  29: PUSH
  30: LD_INT 0
  32: ST_TO_ADDR
// mission_prefix := 06c_ ;
  33: LD_ADDR_EXP 43
  37: PUSH
  38: LD_STRING 06c_
  40: ST_TO_ADDR
// mission_prefix_prev := 06_ ;
  41: LD_ADDR_EXP 44
  45: PUSH
  46: LD_STRING 06_
  48: ST_TO_ADDR
// contactWithRussian = 0 ;
  49: LD_ADDR_EXP 22
  53: PUSH
  54: LD_INT 0
  56: ST_TO_ADDR
// firstTower = 0 ;
  57: LD_ADDR_EXP 23
  61: PUSH
  62: LD_INT 0
  64: ST_TO_ADDR
// resources = [ ] ;
  65: LD_ADDR_EXP 40
  69: PUSH
  70: EMPTY
  71: ST_TO_ADDR
// firstCrateSpawn := false ;
  72: LD_ADDR_EXP 41
  76: PUSH
  77: LD_INT 0
  79: ST_TO_ADDR
// blockSpawn = 0 ;
  80: LD_ADDR_EXP 29
  84: PUSH
  85: LD_INT 0
  87: ST_TO_ADDR
// KurtStatus = 0 ;
  88: LD_ADDR_EXP 20
  92: PUSH
  93: LD_INT 0
  95: ST_TO_ADDR
// readyToEscape = 0 ;
  96: LD_ADDR_EXP 21
 100: PUSH
 101: LD_INT 0
 103: ST_TO_ADDR
// JoanStatus = 0 ;
 104: LD_ADDR_EXP 16
 108: PUSH
 109: LD_INT 0
 111: ST_TO_ADDR
// killCounter := 0 ;
 112: LD_ADDR_EXP 47
 116: PUSH
 117: LD_INT 0
 119: ST_TO_ADDR
// cratesStatus = 2 ;
 120: LD_ADDR_EXP 38
 124: PUSH
 125: LD_INT 2
 127: ST_TO_ADDR
// timerStatus = 1 ;
 128: LD_ADDR_EXP 24
 132: PUSH
 133: LD_INT 1
 135: ST_TO_ADDR
// needCrates = [ 350 , 500 , 700 ] [ Difficulty ] ;
 136: LD_ADDR_EXP 25
 140: PUSH
 141: LD_INT 350
 143: PUSH
 144: LD_INT 500
 146: PUSH
 147: LD_INT 700
 149: PUSH
 150: EMPTY
 151: LIST
 152: LIST
 153: LIST
 154: PUSH
 155: LD_OWVAR 67
 159: ARRAY
 160: ST_TO_ADDR
// timeToEnd = 50 50$00 ;
 161: LD_ADDR_EXP 26
 165: PUSH
 166: LD_INT 105000
 168: ST_TO_ADDR
// remoteVehiclesBuild = 0 ;
 169: LD_ADDR_EXP 28
 173: PUSH
 174: LD_INT 0
 176: ST_TO_ADDR
// ruMechCounter := [ 3 , 4 , 6 ] [ Difficulty ] ;
 177: LD_ADDR_EXP 48
 181: PUSH
 182: LD_INT 3
 184: PUSH
 185: LD_INT 4
 187: PUSH
 188: LD_INT 6
 190: PUSH
 191: EMPTY
 192: LIST
 193: LIST
 194: LIST
 195: PUSH
 196: LD_OWVAR 67
 200: ARRAY
 201: ST_TO_ADDR
// sendedConvoys = 0 ;
 202: LD_ADDR_EXP 39
 206: PUSH
 207: LD_INT 0
 209: ST_TO_ADDR
// tamedApemans = 0 ;
 210: LD_ADDR_EXP 32
 214: PUSH
 215: LD_INT 0
 217: ST_TO_ADDR
// ignoreTarget := [ ] ;
 218: LD_ADDR_EXP 45
 222: PUSH
 223: EMPTY
 224: ST_TO_ADDR
// arrivals := [ ] ;
 225: LD_ADDR_EXP 46
 229: PUSH
 230: EMPTY
 231: ST_TO_ADDR
// unitLost = 0 ;
 232: LD_ADDR_EXP 30
 236: PUSH
 237: LD_INT 0
 239: ST_TO_ADDR
// ruDestroyedBuildings = [ ] ;
 240: LD_ADDR_EXP 31
 244: PUSH
 245: EMPTY
 246: ST_TO_ADDR
// russianTanks = [ ] ;
 247: LD_ADDR_EXP 36
 251: PUSH
 252: EMPTY
 253: ST_TO_ADDR
// russianDamageTanks = [ ] ;
 254: LD_ADDR_EXP 37
 258: PUSH
 259: EMPTY
 260: ST_TO_ADDR
// disableHealAI = 0 ;
 261: LD_ADDR_EXP 33
 265: PUSH
 266: LD_INT 0
 268: ST_TO_ADDR
// strings = [ ] ;
 269: LD_ADDR_EXP 27
 273: PUSH
 274: EMPTY
 275: ST_TO_ADDR
// ChangeSideFog ( 4 , 1 ) ;
 276: LD_INT 4
 278: PPUSH
 279: LD_INT 1
 281: PPUSH
 282: CALL_OW 343
// PrepareDifficulty ;
 286: CALL 6589 0 0
// PrepareNature ;
 290: CALL 23894 0 0
// PrepareRussian ;
 294: CALL 5749 0 0
// PrepareVehicles ;
 298: CALL 1586 0 0
// PrepareHeroes ;
 302: CALL 594 0 0
// PrepareOthers ;
 306: CALL 2007 0 0
// PreparePlayerApemans ;
 310: CALL 2149 0 0
// end ;
 314: END
// every 0 0$1 trigger debugMode do var i ;
 315: LD_EXP 42
 319: IFFALSE 546
 321: GO 323
 323: DISABLE
 324: LD_INT 0
 326: PPUSH
// begin enable ;
 327: ENABLE
// fogoff ( true ) ;
 328: LD_INT 1
 330: PPUSH
 331: CALL_OW 344
// for i in FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] ] ) do
 335: LD_ADDR_VAR 0 1
 339: PUSH
 340: LD_INT 22
 342: PUSH
 343: LD_INT 1
 345: PUSH
 346: EMPTY
 347: LIST
 348: LIST
 349: PUSH
 350: LD_INT 21
 352: PUSH
 353: LD_INT 1
 355: PUSH
 356: EMPTY
 357: LIST
 358: LIST
 359: PUSH
 360: EMPTY
 361: LIST
 362: LIST
 363: PPUSH
 364: CALL_OW 69
 368: PUSH
 369: FOR_IN
 370: IFFALSE 386
// SetLives ( i , 1000 ) ;
 372: LD_VAR 0 1
 376: PPUSH
 377: LD_INT 1000
 379: PPUSH
 380: CALL_OW 234
 384: GO 369
 386: POP
 387: POP
// for i in FilterAllUnits ( [ [ f_side , 1 ] , [ f_btype , b_depot ] ] ) do
 388: LD_ADDR_VAR 0 1
 392: PUSH
 393: LD_INT 22
 395: PUSH
 396: LD_INT 1
 398: PUSH
 399: EMPTY
 400: LIST
 401: LIST
 402: PUSH
 403: LD_INT 30
 405: PUSH
 406: LD_INT 0
 408: PUSH
 409: EMPTY
 410: LIST
 411: LIST
 412: PUSH
 413: EMPTY
 414: LIST
 415: LIST
 416: PPUSH
 417: CALL_OW 69
 421: PUSH
 422: FOR_IN
 423: IFFALSE 447
// SetResourceType ( GetBase ( i ) , 1 , 9999 ) ;
 425: LD_VAR 0 1
 429: PPUSH
 430: CALL_OW 274
 434: PPUSH
 435: LD_INT 1
 437: PPUSH
 438: LD_INT 9999
 440: PPUSH
 441: CALL_OW 277
 445: GO 422
 447: POP
 448: POP
// for i in FilterAllUnits ( [ [ f_side , 1 ] , [ f_btype , b_depot ] ] ) do
 449: LD_ADDR_VAR 0 1
 453: PUSH
 454: LD_INT 22
 456: PUSH
 457: LD_INT 1
 459: PUSH
 460: EMPTY
 461: LIST
 462: LIST
 463: PUSH
 464: LD_INT 30
 466: PUSH
 467: LD_INT 0
 469: PUSH
 470: EMPTY
 471: LIST
 472: LIST
 473: PUSH
 474: EMPTY
 475: LIST
 476: LIST
 477: PPUSH
 478: CALL_OW 69
 482: PUSH
 483: FOR_IN
 484: IFFALSE 508
// SetResourceType ( GetBase ( i ) , 2 , 9999 ) ;
 486: LD_VAR 0 1
 490: PPUSH
 491: CALL_OW 274
 495: PPUSH
 496: LD_INT 2
 498: PPUSH
 499: LD_INT 9999
 501: PPUSH
 502: CALL_OW 277
 506: GO 483
 508: POP
 509: POP
// if IsSelected ( rudepo ) then
 510: LD_INT 2
 512: PPUSH
 513: CALL_OW 306
 517: IFFALSE 527
// your_side = 3 ;
 519: LD_ADDR_OWVAR 2
 523: PUSH
 524: LD_INT 3
 526: ST_TO_ADDR
// if IsSelected ( JMM ) then
 527: LD_EXP 1
 531: PPUSH
 532: CALL_OW 306
 536: IFFALSE 546
// your_side = 1 ;
 538: LD_ADDR_OWVAR 2
 542: PUSH
 543: LD_INT 1
 545: ST_TO_ADDR
// end ;
 546: PPOPN 1
 548: END
// every 0 0$1 trigger FilterAllUnits ( [ [ f_side , 1 ] , [ f_weapon , us_cargo_bay ] ] ) >= 3 do
 549: LD_INT 22
 551: PUSH
 552: LD_INT 1
 554: PUSH
 555: EMPTY
 556: LIST
 557: LIST
 558: PUSH
 559: LD_INT 34
 561: PUSH
 562: LD_INT 12
 564: PUSH
 565: EMPTY
 566: LIST
 567: LIST
 568: PUSH
 569: EMPTY
 570: LIST
 571: LIST
 572: PPUSH
 573: CALL_OW 69
 577: PUSH
 578: LD_INT 3
 580: GREATEREQUAL
 581: IFFALSE 593
 583: GO 585
 585: DISABLE
// SetAchievement ( ACH_FULLCARGO ) ; end_of_file
 586: LD_STRING ACH_FULLCARGO
 588: PPUSH
 589: CALL_OW 543
 593: END
// export function PrepareHeroes ; var veh ; begin
 594: LD_INT 0
 596: PPUSH
 597: PPUSH
// uc_side = 1 ;
 598: LD_ADDR_OWVAR 20
 602: PUSH
 603: LD_INT 1
 605: ST_TO_ADDR
// uc_nation = 1 ;
 606: LD_ADDR_OWVAR 21
 610: PUSH
 611: LD_INT 1
 613: ST_TO_ADDR
// JMM = PrepareUnit ( JMM , true ) ;
 614: LD_ADDR_EXP 1
 618: PUSH
 619: LD_STRING JMM
 621: PPUSH
 622: LD_INT 1
 624: PPUSH
 625: CALL 6151 0 2
 629: ST_TO_ADDR
// Harisson = PrepareUnit ( Harisson , false ) ;
 630: LD_ADDR_EXP 14
 634: PUSH
 635: LD_STRING Harisson
 637: PPUSH
 638: LD_INT 0
 640: PPUSH
 641: CALL 6151 0 2
 645: ST_TO_ADDR
// DeltaDoctor = CreateCharacter ( DeltaDoctor ) ;
 646: LD_ADDR_EXP 10
 650: PUSH
 651: LD_STRING DeltaDoctor
 653: PPUSH
 654: CALL_OW 34
 658: ST_TO_ADDR
// veh = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_empty ] ] ) ;
 659: LD_ADDR_VAR 0 2
 663: PUSH
 664: LD_INT 22
 666: PUSH
 667: LD_INT 1
 669: PUSH
 670: EMPTY
 671: LIST
 672: LIST
 673: PUSH
 674: LD_INT 21
 676: PUSH
 677: LD_INT 2
 679: PUSH
 680: EMPTY
 681: LIST
 682: LIST
 683: PUSH
 684: LD_INT 58
 686: PUSH
 687: EMPTY
 688: LIST
 689: PUSH
 690: EMPTY
 691: LIST
 692: LIST
 693: LIST
 694: PPUSH
 695: CALL_OW 69
 699: ST_TO_ADDR
// if veh > 0 then
 700: LD_VAR 0 2
 704: PUSH
 705: LD_INT 0
 707: GREATER
 708: IFFALSE 730
// begin PlaceHumanInUnit ( JMM , veh [ 1 ] ) ;
 710: LD_EXP 1
 714: PPUSH
 715: LD_VAR 0 2
 719: PUSH
 720: LD_INT 1
 722: ARRAY
 723: PPUSH
 724: CALL_OW 52
// end else
 728: GO 745
// begin PlaceUnitArea ( JMM , PlayerSpawn , false ) ;
 730: LD_EXP 1
 734: PPUSH
 735: LD_INT 2
 737: PPUSH
 738: LD_INT 0
 740: PPUSH
 741: CALL_OW 49
// end ; if LoadVariable ( LisaIn06 , 0 ) = 1 then
 745: LD_STRING LisaIn06
 747: PPUSH
 748: LD_INT 0
 750: PPUSH
 751: CALL_OW 30
 755: PUSH
 756: LD_INT 1
 758: EQUAL
 759: IFFALSE 863
// begin veh = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_empty ] ] ) ;
 761: LD_ADDR_VAR 0 2
 765: PUSH
 766: LD_INT 22
 768: PUSH
 769: LD_INT 1
 771: PUSH
 772: EMPTY
 773: LIST
 774: LIST
 775: PUSH
 776: LD_INT 21
 778: PUSH
 779: LD_INT 2
 781: PUSH
 782: EMPTY
 783: LIST
 784: LIST
 785: PUSH
 786: LD_INT 58
 788: PUSH
 789: EMPTY
 790: LIST
 791: PUSH
 792: EMPTY
 793: LIST
 794: LIST
 795: LIST
 796: PPUSH
 797: CALL_OW 69
 801: ST_TO_ADDR
// Lisa = PrepareUnit ( Lisa , true ) ;
 802: LD_ADDR_EXP 2
 806: PUSH
 807: LD_STRING Lisa
 809: PPUSH
 810: LD_INT 1
 812: PPUSH
 813: CALL 6151 0 2
 817: ST_TO_ADDR
// if veh > 0 then
 818: LD_VAR 0 2
 822: PUSH
 823: LD_INT 0
 825: GREATER
 826: IFFALSE 848
// begin PlaceHumanInUnit ( Lisa , veh [ 1 ] ) ;
 828: LD_EXP 2
 832: PPUSH
 833: LD_VAR 0 2
 837: PUSH
 838: LD_INT 1
 840: ARRAY
 841: PPUSH
 842: CALL_OW 52
// end else
 846: GO 863
// begin PlaceUnitArea ( Lisa , PlayerSpawn , false ) ;
 848: LD_EXP 2
 852: PPUSH
 853: LD_INT 2
 855: PPUSH
 856: LD_INT 0
 858: PPUSH
 859: CALL_OW 49
// end ; end ; if LoadVariable ( BobbyIn06 , 0 ) = 1 then
 863: LD_STRING BobbyIn06
 865: PPUSH
 866: LD_INT 0
 868: PPUSH
 869: CALL_OW 30
 873: PUSH
 874: LD_INT 1
 876: EQUAL
 877: IFFALSE 981
// begin veh = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_empty ] ] ) ;
 879: LD_ADDR_VAR 0 2
 883: PUSH
 884: LD_INT 22
 886: PUSH
 887: LD_INT 1
 889: PUSH
 890: EMPTY
 891: LIST
 892: LIST
 893: PUSH
 894: LD_INT 21
 896: PUSH
 897: LD_INT 2
 899: PUSH
 900: EMPTY
 901: LIST
 902: LIST
 903: PUSH
 904: LD_INT 58
 906: PUSH
 907: EMPTY
 908: LIST
 909: PUSH
 910: EMPTY
 911: LIST
 912: LIST
 913: LIST
 914: PPUSH
 915: CALL_OW 69
 919: ST_TO_ADDR
// Bobby = PrepareUnit ( Bobby , true ) ;
 920: LD_ADDR_EXP 3
 924: PUSH
 925: LD_STRING Bobby
 927: PPUSH
 928: LD_INT 1
 930: PPUSH
 931: CALL 6151 0 2
 935: ST_TO_ADDR
// if veh > 0 then
 936: LD_VAR 0 2
 940: PUSH
 941: LD_INT 0
 943: GREATER
 944: IFFALSE 966
// begin PlaceHumanInUnit ( Bobby , veh [ 1 ] ) ;
 946: LD_EXP 3
 950: PPUSH
 951: LD_VAR 0 2
 955: PUSH
 956: LD_INT 1
 958: ARRAY
 959: PPUSH
 960: CALL_OW 52
// end else
 964: GO 981
// begin PlaceUnitArea ( Bobby , PlayerSpawn , false ) ;
 966: LD_EXP 3
 970: PPUSH
 971: LD_INT 2
 973: PPUSH
 974: LD_INT 0
 976: PPUSH
 977: CALL_OW 49
// end ; end ; if LoadVariable ( CyrusIn06 , 0 ) = 1 then
 981: LD_STRING CyrusIn06
 983: PPUSH
 984: LD_INT 0
 986: PPUSH
 987: CALL_OW 30
 991: PUSH
 992: LD_INT 1
 994: EQUAL
 995: IFFALSE 1099
// begin veh = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_empty ] ] ) ;
 997: LD_ADDR_VAR 0 2
1001: PUSH
1002: LD_INT 22
1004: PUSH
1005: LD_INT 1
1007: PUSH
1008: EMPTY
1009: LIST
1010: LIST
1011: PUSH
1012: LD_INT 21
1014: PUSH
1015: LD_INT 2
1017: PUSH
1018: EMPTY
1019: LIST
1020: LIST
1021: PUSH
1022: LD_INT 58
1024: PUSH
1025: EMPTY
1026: LIST
1027: PUSH
1028: EMPTY
1029: LIST
1030: LIST
1031: LIST
1032: PPUSH
1033: CALL_OW 69
1037: ST_TO_ADDR
// Cyrus = PrepareUnit ( Cyrus , true ) ;
1038: LD_ADDR_EXP 4
1042: PUSH
1043: LD_STRING Cyrus
1045: PPUSH
1046: LD_INT 1
1048: PPUSH
1049: CALL 6151 0 2
1053: ST_TO_ADDR
// if veh > 0 then
1054: LD_VAR 0 2
1058: PUSH
1059: LD_INT 0
1061: GREATER
1062: IFFALSE 1084
// begin PlaceHumanInUnit ( Cyrus , veh [ 1 ] ) ;
1064: LD_EXP 4
1068: PPUSH
1069: LD_VAR 0 2
1073: PUSH
1074: LD_INT 1
1076: ARRAY
1077: PPUSH
1078: CALL_OW 52
// end else
1082: GO 1099
// begin PlaceUnitArea ( Cyrus , PlayerSpawn , false ) ;
1084: LD_EXP 4
1088: PPUSH
1089: LD_INT 2
1091: PPUSH
1092: LD_INT 0
1094: PPUSH
1095: CALL_OW 49
// end ; end ; if LoadVariable ( FrankIn06 , 0 ) = 1 then
1099: LD_STRING FrankIn06
1101: PPUSH
1102: LD_INT 0
1104: PPUSH
1105: CALL_OW 30
1109: PUSH
1110: LD_INT 1
1112: EQUAL
1113: IFFALSE 1217
// begin veh = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_empty ] ] ) ;
1115: LD_ADDR_VAR 0 2
1119: PUSH
1120: LD_INT 22
1122: PUSH
1123: LD_INT 1
1125: PUSH
1126: EMPTY
1127: LIST
1128: LIST
1129: PUSH
1130: LD_INT 21
1132: PUSH
1133: LD_INT 2
1135: PUSH
1136: EMPTY
1137: LIST
1138: LIST
1139: PUSH
1140: LD_INT 58
1142: PUSH
1143: EMPTY
1144: LIST
1145: PUSH
1146: EMPTY
1147: LIST
1148: LIST
1149: LIST
1150: PPUSH
1151: CALL_OW 69
1155: ST_TO_ADDR
// Frank = PrepareUnit ( Frank , true ) ;
1156: LD_ADDR_EXP 5
1160: PUSH
1161: LD_STRING Frank
1163: PPUSH
1164: LD_INT 1
1166: PPUSH
1167: CALL 6151 0 2
1171: ST_TO_ADDR
// if veh > 0 then
1172: LD_VAR 0 2
1176: PUSH
1177: LD_INT 0
1179: GREATER
1180: IFFALSE 1202
// begin PlaceHumanInUnit ( Frank , veh [ 1 ] ) ;
1182: LD_EXP 5
1186: PPUSH
1187: LD_VAR 0 2
1191: PUSH
1192: LD_INT 1
1194: ARRAY
1195: PPUSH
1196: CALL_OW 52
// end else
1200: GO 1217
// begin PlaceUnitArea ( Frank , PlayerSpawn , false ) ;
1202: LD_EXP 5
1206: PPUSH
1207: LD_INT 2
1209: PPUSH
1210: LD_INT 0
1212: PPUSH
1213: CALL_OW 49
// end ; end ; if LoadVariable ( BrownIn06 , 0 ) = 1 then
1217: LD_STRING BrownIn06
1219: PPUSH
1220: LD_INT 0
1222: PPUSH
1223: CALL_OW 30
1227: PUSH
1228: LD_INT 1
1230: EQUAL
1231: IFFALSE 1335
// begin veh = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_empty ] ] ) ;
1233: LD_ADDR_VAR 0 2
1237: PUSH
1238: LD_INT 22
1240: PUSH
1241: LD_INT 1
1243: PUSH
1244: EMPTY
1245: LIST
1246: LIST
1247: PUSH
1248: LD_INT 21
1250: PUSH
1251: LD_INT 2
1253: PUSH
1254: EMPTY
1255: LIST
1256: LIST
1257: PUSH
1258: LD_INT 58
1260: PUSH
1261: EMPTY
1262: LIST
1263: PUSH
1264: EMPTY
1265: LIST
1266: LIST
1267: LIST
1268: PPUSH
1269: CALL_OW 69
1273: ST_TO_ADDR
// Brown = PrepareUnit ( Brown , true ) ;
1274: LD_ADDR_EXP 6
1278: PUSH
1279: LD_STRING Brown
1281: PPUSH
1282: LD_INT 1
1284: PPUSH
1285: CALL 6151 0 2
1289: ST_TO_ADDR
// if veh > 0 then
1290: LD_VAR 0 2
1294: PUSH
1295: LD_INT 0
1297: GREATER
1298: IFFALSE 1320
// begin PlaceHumanInUnit ( Brown , veh [ 1 ] ) ;
1300: LD_EXP 6
1304: PPUSH
1305: LD_VAR 0 2
1309: PUSH
1310: LD_INT 1
1312: ARRAY
1313: PPUSH
1314: CALL_OW 52
// end else
1318: GO 1335
// begin PlaceUnitArea ( Brown , PlayerSpawn , false ) ;
1320: LD_EXP 6
1324: PPUSH
1325: LD_INT 2
1327: PPUSH
1328: LD_INT 0
1330: PPUSH
1331: CALL_OW 49
// end ; end ; if LoadVariable ( DonaldsonIn06 , 0 ) = 1 then
1335: LD_STRING DonaldsonIn06
1337: PPUSH
1338: LD_INT 0
1340: PPUSH
1341: CALL_OW 30
1345: PUSH
1346: LD_INT 1
1348: EQUAL
1349: IFFALSE 1453
// begin veh = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_empty ] ] ) ;
1351: LD_ADDR_VAR 0 2
1355: PUSH
1356: LD_INT 22
1358: PUSH
1359: LD_INT 1
1361: PUSH
1362: EMPTY
1363: LIST
1364: LIST
1365: PUSH
1366: LD_INT 21
1368: PUSH
1369: LD_INT 2
1371: PUSH
1372: EMPTY
1373: LIST
1374: LIST
1375: PUSH
1376: LD_INT 58
1378: PUSH
1379: EMPTY
1380: LIST
1381: PUSH
1382: EMPTY
1383: LIST
1384: LIST
1385: LIST
1386: PPUSH
1387: CALL_OW 69
1391: ST_TO_ADDR
// Donaldson = PrepareUnit ( Donaldson , true ) ;
1392: LD_ADDR_EXP 7
1396: PUSH
1397: LD_STRING Donaldson
1399: PPUSH
1400: LD_INT 1
1402: PPUSH
1403: CALL 6151 0 2
1407: ST_TO_ADDR
// if veh > 0 then
1408: LD_VAR 0 2
1412: PUSH
1413: LD_INT 0
1415: GREATER
1416: IFFALSE 1438
// begin PlaceHumanInUnit ( Donaldson , veh [ 1 ] ) ;
1418: LD_EXP 7
1422: PPUSH
1423: LD_VAR 0 2
1427: PUSH
1428: LD_INT 1
1430: ARRAY
1431: PPUSH
1432: CALL_OW 52
// end else
1436: GO 1453
// begin PlaceUnitArea ( Donaldson , PlayerSpawn , false ) ;
1438: LD_EXP 7
1442: PPUSH
1443: LD_INT 2
1445: PPUSH
1446: LD_INT 0
1448: PPUSH
1449: CALL_OW 49
// end ; end ; if LoadVariable ( GladstoneIn06 , 0 ) = 1 then
1453: LD_STRING GladstoneIn06
1455: PPUSH
1456: LD_INT 0
1458: PPUSH
1459: CALL_OW 30
1463: PUSH
1464: LD_INT 1
1466: EQUAL
1467: IFFALSE 1571
// begin veh = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_empty ] ] ) ;
1469: LD_ADDR_VAR 0 2
1473: PUSH
1474: LD_INT 22
1476: PUSH
1477: LD_INT 1
1479: PUSH
1480: EMPTY
1481: LIST
1482: LIST
1483: PUSH
1484: LD_INT 21
1486: PUSH
1487: LD_INT 2
1489: PUSH
1490: EMPTY
1491: LIST
1492: LIST
1493: PUSH
1494: LD_INT 58
1496: PUSH
1497: EMPTY
1498: LIST
1499: PUSH
1500: EMPTY
1501: LIST
1502: LIST
1503: LIST
1504: PPUSH
1505: CALL_OW 69
1509: ST_TO_ADDR
// Gladstone = PrepareUnit ( Gladstone , true ) ;
1510: LD_ADDR_EXP 8
1514: PUSH
1515: LD_STRING Gladstone
1517: PPUSH
1518: LD_INT 1
1520: PPUSH
1521: CALL 6151 0 2
1525: ST_TO_ADDR
// if veh > 0 then
1526: LD_VAR 0 2
1530: PUSH
1531: LD_INT 0
1533: GREATER
1534: IFFALSE 1556
// begin PlaceHumanInUnit ( Gladstone , veh [ 1 ] ) ;
1536: LD_EXP 8
1540: PPUSH
1541: LD_VAR 0 2
1545: PUSH
1546: LD_INT 1
1548: ARRAY
1549: PPUSH
1550: CALL_OW 52
// end else
1554: GO 1571
// begin PlaceUnitArea ( Gladstone , PlayerSpawn , false ) ;
1556: LD_EXP 8
1560: PPUSH
1561: LD_INT 2
1563: PPUSH
1564: LD_INT 0
1566: PPUSH
1567: CALL_OW 49
// end ; end ; CenterNowOnXY ( 66 , 4 ) ;
1571: LD_INT 66
1573: PPUSH
1574: LD_INT 4
1576: PPUSH
1577: CALL_OW 86
// end ;
1581: LD_VAR 0 1
1585: RET
// export function PrepareVehicles ; var i , j , veh , vehicles , cargoList ; begin
1586: LD_INT 0
1588: PPUSH
1589: PPUSH
1590: PPUSH
1591: PPUSH
1592: PPUSH
1593: PPUSH
// vehicles = LoadVariable ( 06_VehiclesIn06_1 , [ ] ) ;
1594: LD_ADDR_VAR 0 5
1598: PUSH
1599: LD_STRING 06_VehiclesIn06_1
1601: PPUSH
1602: EMPTY
1603: PPUSH
1604: CALL_OW 30
1608: ST_TO_ADDR
// resources = LoadVariable ( 06_ResourcesInCargo06_1 , [ ] ) ;
1609: LD_ADDR_EXP 40
1613: PUSH
1614: LD_STRING 06_ResourcesInCargo06_1
1616: PPUSH
1617: EMPTY
1618: PPUSH
1619: CALL_OW 30
1623: ST_TO_ADDR
// cargoList = [ ] ;
1624: LD_ADDR_VAR 0 6
1628: PUSH
1629: EMPTY
1630: ST_TO_ADDR
// uc_side = 1 ;
1631: LD_ADDR_OWVAR 20
1635: PUSH
1636: LD_INT 1
1638: ST_TO_ADDR
// if vehicles > 0 then
1639: LD_VAR 0 5
1643: PUSH
1644: LD_INT 0
1646: GREATER
1647: IFFALSE 2002
// begin for i := 1 to vehicles do
1649: LD_ADDR_VAR 0 2
1653: PUSH
1654: DOUBLE
1655: LD_INT 1
1657: DEC
1658: ST_TO_ADDR
1659: LD_VAR 0 5
1663: PUSH
1664: FOR_TO
1665: IFFALSE 1814
// begin uc_nation = vehicles [ i ] [ 1 ] ;
1667: LD_ADDR_OWVAR 21
1671: PUSH
1672: LD_VAR 0 5
1676: PUSH
1677: LD_VAR 0 2
1681: ARRAY
1682: PUSH
1683: LD_INT 1
1685: ARRAY
1686: ST_TO_ADDR
// vc_chassis = vehicles [ i ] [ 2 ] ;
1687: LD_ADDR_OWVAR 37
1691: PUSH
1692: LD_VAR 0 5
1696: PUSH
1697: LD_VAR 0 2
1701: ARRAY
1702: PUSH
1703: LD_INT 2
1705: ARRAY
1706: ST_TO_ADDR
// vc_engine = vehicles [ i ] [ 3 ] ;
1707: LD_ADDR_OWVAR 39
1711: PUSH
1712: LD_VAR 0 5
1716: PUSH
1717: LD_VAR 0 2
1721: ARRAY
1722: PUSH
1723: LD_INT 3
1725: ARRAY
1726: ST_TO_ADDR
// vc_control = vehicles [ i ] [ 4 ] ;
1727: LD_ADDR_OWVAR 38
1731: PUSH
1732: LD_VAR 0 5
1736: PUSH
1737: LD_VAR 0 2
1741: ARRAY
1742: PUSH
1743: LD_INT 4
1745: ARRAY
1746: ST_TO_ADDR
// vc_weapon = vehicles [ i ] [ 5 ] ;
1747: LD_ADDR_OWVAR 40
1751: PUSH
1752: LD_VAR 0 5
1756: PUSH
1757: LD_VAR 0 2
1761: ARRAY
1762: PUSH
1763: LD_INT 5
1765: ARRAY
1766: ST_TO_ADDR
// vc_fuel_battery = 40 ;
1767: LD_ADDR_OWVAR 41
1771: PUSH
1772: LD_INT 40
1774: ST_TO_ADDR
// veh = CreateVehicle ;
1775: LD_ADDR_VAR 0 4
1779: PUSH
1780: CALL_OW 45
1784: ST_TO_ADDR
// SetDir ( veh , 3 ) ;
1785: LD_VAR 0 4
1789: PPUSH
1790: LD_INT 3
1792: PPUSH
1793: CALL_OW 233
// PlaceUnitArea ( veh , PlayerSpawn , false ) ;
1797: LD_VAR 0 4
1801: PPUSH
1802: LD_INT 2
1804: PPUSH
1805: LD_INT 0
1807: PPUSH
1808: CALL_OW 49
// end ;
1812: GO 1664
1814: POP
1815: POP
// cargoList = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_weapon , us_cargo_bay ] ] ) ;
1816: LD_ADDR_VAR 0 6
1820: PUSH
1821: LD_INT 22
1823: PUSH
1824: LD_INT 1
1826: PUSH
1827: EMPTY
1828: LIST
1829: LIST
1830: PUSH
1831: LD_INT 21
1833: PUSH
1834: LD_INT 2
1836: PUSH
1837: EMPTY
1838: LIST
1839: LIST
1840: PUSH
1841: LD_INT 34
1843: PUSH
1844: LD_INT 12
1846: PUSH
1847: EMPTY
1848: LIST
1849: LIST
1850: PUSH
1851: EMPTY
1852: LIST
1853: LIST
1854: LIST
1855: PPUSH
1856: CALL_OW 69
1860: ST_TO_ADDR
// if cargoList > 0 then
1861: LD_VAR 0 6
1865: PUSH
1866: LD_INT 0
1868: GREATER
1869: IFFALSE 2002
// for i = 1 to cargoList do
1871: LD_ADDR_VAR 0 2
1875: PUSH
1876: DOUBLE
1877: LD_INT 1
1879: DEC
1880: ST_TO_ADDR
1881: LD_VAR 0 6
1885: PUSH
1886: FOR_TO
1887: IFFALSE 2000
// begin if resources > 0 then
1889: LD_EXP 40
1893: PUSH
1894: LD_INT 0
1896: GREATER
1897: IFFALSE 1998
// begin AddCargo ( cargoList [ i ] , 1 , resources [ i ] [ 1 ] ) ;
1899: LD_VAR 0 6
1903: PUSH
1904: LD_VAR 0 2
1908: ARRAY
1909: PPUSH
1910: LD_INT 1
1912: PPUSH
1913: LD_EXP 40
1917: PUSH
1918: LD_VAR 0 2
1922: ARRAY
1923: PUSH
1924: LD_INT 1
1926: ARRAY
1927: PPUSH
1928: CALL_OW 291
// AddCargo ( cargoList [ i ] , 2 , resources [ i ] [ 2 ] ) ;
1932: LD_VAR 0 6
1936: PUSH
1937: LD_VAR 0 2
1941: ARRAY
1942: PPUSH
1943: LD_INT 2
1945: PPUSH
1946: LD_EXP 40
1950: PUSH
1951: LD_VAR 0 2
1955: ARRAY
1956: PUSH
1957: LD_INT 2
1959: ARRAY
1960: PPUSH
1961: CALL_OW 291
// AddCargo ( cargoList [ i ] , 3 , resources [ i ] [ 3 ] ) ;
1965: LD_VAR 0 6
1969: PUSH
1970: LD_VAR 0 2
1974: ARRAY
1975: PPUSH
1976: LD_INT 3
1978: PPUSH
1979: LD_EXP 40
1983: PUSH
1984: LD_VAR 0 2
1988: ARRAY
1989: PUSH
1990: LD_INT 3
1992: ARRAY
1993: PPUSH
1994: CALL_OW 291
// end ; end ;
1998: GO 1886
2000: POP
2001: POP
// end ; end ;
2002: LD_VAR 0 1
2006: RET
// export function PrepareOthers ; var i , veh ; begin
2007: LD_INT 0
2009: PPUSH
2010: PPUSH
2011: PPUSH
// uc_side = 1 ;
2012: LD_ADDR_OWVAR 20
2016: PUSH
2017: LD_INT 1
2019: ST_TO_ADDR
// uc_nation = 1 ;
2020: LD_ADDR_OWVAR 21
2024: PUSH
2025: LD_INT 1
2027: ST_TO_ADDR
// others = CreateCharacterSet ( OthersIn06 ) ;
2028: LD_ADDR_EXP 11
2032: PUSH
2033: LD_STRING OthersIn06
2035: PPUSH
2036: CALL_OW 31
2040: ST_TO_ADDR
// for i in others do
2041: LD_ADDR_VAR 0 2
2045: PUSH
2046: LD_EXP 11
2050: PUSH
2051: FOR_IN
2052: IFFALSE 2142
// begin veh = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_empty ] ] ) ;
2054: LD_ADDR_VAR 0 3
2058: PUSH
2059: LD_INT 22
2061: PUSH
2062: LD_INT 1
2064: PUSH
2065: EMPTY
2066: LIST
2067: LIST
2068: PUSH
2069: LD_INT 21
2071: PUSH
2072: LD_INT 2
2074: PUSH
2075: EMPTY
2076: LIST
2077: LIST
2078: PUSH
2079: LD_INT 58
2081: PUSH
2082: EMPTY
2083: LIST
2084: PUSH
2085: EMPTY
2086: LIST
2087: LIST
2088: LIST
2089: PPUSH
2090: CALL_OW 69
2094: ST_TO_ADDR
// if veh > 0 then
2095: LD_VAR 0 3
2099: PUSH
2100: LD_INT 0
2102: GREATER
2103: IFFALSE 2125
// begin PlaceHumanInUnit ( i , veh [ 1 ] ) ;
2105: LD_VAR 0 2
2109: PPUSH
2110: LD_VAR 0 3
2114: PUSH
2115: LD_INT 1
2117: ARRAY
2118: PPUSH
2119: CALL_OW 52
// end else
2123: GO 2140
// begin PlaceUnitArea ( i , PlayerSpawn , false ) ;
2125: LD_VAR 0 2
2129: PPUSH
2130: LD_INT 2
2132: PPUSH
2133: LD_INT 0
2135: PPUSH
2136: CALL_OW 49
// end ; end ;
2140: GO 2051
2142: POP
2143: POP
// end ;
2144: LD_VAR 0 1
2148: RET
// export function PreparePlayerApemans ; var i , veh ; begin
2149: LD_INT 0
2151: PPUSH
2152: PPUSH
2153: PPUSH
// uc_side = 1 ;
2154: LD_ADDR_OWVAR 20
2158: PUSH
2159: LD_INT 1
2161: ST_TO_ADDR
// uc_nation = 0 ;
2162: LD_ADDR_OWVAR 21
2166: PUSH
2167: LD_INT 0
2169: ST_TO_ADDR
// ape = CreateCharacterSet ( ApeIn06 ) ;
2170: LD_ADDR_EXP 12
2174: PUSH
2175: LD_STRING ApeIn06
2177: PPUSH
2178: CALL_OW 31
2182: ST_TO_ADDR
// for i in ape do
2183: LD_ADDR_VAR 0 2
2187: PUSH
2188: LD_EXP 12
2192: PUSH
2193: FOR_IN
2194: IFFALSE 2213
// PlaceUnitArea ( i , PlayerSpawn , false ) ;
2196: LD_VAR 0 2
2200: PPUSH
2201: LD_INT 2
2203: PPUSH
2204: LD_INT 0
2206: PPUSH
2207: CALL_OW 49
2211: GO 2193
2213: POP
2214: POP
// end ;
2215: LD_VAR 0 1
2219: RET
// export function PrepareDenis ; var xy , i ; begin
2220: LD_INT 0
2222: PPUSH
2223: PPUSH
2224: PPUSH
// uc_side = 4 ;
2225: LD_ADDR_OWVAR 20
2229: PUSH
2230: LD_INT 4
2232: ST_TO_ADDR
// uc_nation = 1 ;
2233: LD_ADDR_OWVAR 21
2237: PUSH
2238: LD_INT 1
2240: ST_TO_ADDR
// xy := [ [ 63 , 1 ] , [ 70 , 1 ] , [ 83 , 1 ] , [ 16 , 1 ] , [ 27 , 1 ] , [ 38 , 1 ] , [ 5 , 1 ] , [ 54 , 1 ] ] ;
2241: LD_ADDR_VAR 0 2
2245: PUSH
2246: LD_INT 63
2248: PUSH
2249: LD_INT 1
2251: PUSH
2252: EMPTY
2253: LIST
2254: LIST
2255: PUSH
2256: LD_INT 70
2258: PUSH
2259: LD_INT 1
2261: PUSH
2262: EMPTY
2263: LIST
2264: LIST
2265: PUSH
2266: LD_INT 83
2268: PUSH
2269: LD_INT 1
2271: PUSH
2272: EMPTY
2273: LIST
2274: LIST
2275: PUSH
2276: LD_INT 16
2278: PUSH
2279: LD_INT 1
2281: PUSH
2282: EMPTY
2283: LIST
2284: LIST
2285: PUSH
2286: LD_INT 27
2288: PUSH
2289: LD_INT 1
2291: PUSH
2292: EMPTY
2293: LIST
2294: LIST
2295: PUSH
2296: LD_INT 38
2298: PUSH
2299: LD_INT 1
2301: PUSH
2302: EMPTY
2303: LIST
2304: LIST
2305: PUSH
2306: LD_INT 5
2308: PUSH
2309: LD_INT 1
2311: PUSH
2312: EMPTY
2313: LIST
2314: LIST
2315: PUSH
2316: LD_INT 54
2318: PUSH
2319: LD_INT 1
2321: PUSH
2322: EMPTY
2323: LIST
2324: LIST
2325: PUSH
2326: EMPTY
2327: LIST
2328: LIST
2329: LIST
2330: LIST
2331: LIST
2332: LIST
2333: LIST
2334: LIST
2335: ST_TO_ADDR
// Denis = PrepareUnit ( Denis , true ) ;
2336: LD_ADDR_EXP 9
2340: PUSH
2341: LD_STRING Denis
2343: PPUSH
2344: LD_INT 1
2346: PPUSH
2347: CALL 6151 0 2
2351: ST_TO_ADDR
// for i = 1 to xy do
2352: LD_ADDR_VAR 0 3
2356: PUSH
2357: DOUBLE
2358: LD_INT 1
2360: DEC
2361: ST_TO_ADDR
2362: LD_VAR 0 2
2366: PUSH
2367: FOR_TO
2368: IFFALSE 2467
// if HexInfo ( xy [ i ] [ 1 ] , xy [ i ] [ 2 ] ) = 0 then
2370: LD_VAR 0 2
2374: PUSH
2375: LD_VAR 0 3
2379: ARRAY
2380: PUSH
2381: LD_INT 1
2383: ARRAY
2384: PPUSH
2385: LD_VAR 0 2
2389: PUSH
2390: LD_VAR 0 3
2394: ARRAY
2395: PUSH
2396: LD_INT 2
2398: ARRAY
2399: PPUSH
2400: CALL_OW 428
2404: PUSH
2405: LD_INT 0
2407: EQUAL
2408: IFFALSE 2465
// begin PlaceUnitXY ( Denis , xy [ i ] [ 1 ] , xy [ i ] [ 2 ] , false ) ;
2410: LD_EXP 9
2414: PPUSH
2415: LD_VAR 0 2
2419: PUSH
2420: LD_VAR 0 3
2424: ARRAY
2425: PUSH
2426: LD_INT 1
2428: ARRAY
2429: PPUSH
2430: LD_VAR 0 2
2434: PUSH
2435: LD_VAR 0 3
2439: ARRAY
2440: PUSH
2441: LD_INT 2
2443: ARRAY
2444: PPUSH
2445: LD_INT 0
2447: PPUSH
2448: CALL_OW 48
// if IsPlaced ( Denis ) then
2452: LD_EXP 9
2456: PPUSH
2457: CALL_OW 305
2461: IFFALSE 2465
// break ;
2463: GO 2467
// end ;
2465: GO 2367
2467: POP
2468: POP
// SetClass ( Denis , 4 ) ;
2469: LD_EXP 9
2473: PPUSH
2474: LD_INT 4
2476: PPUSH
2477: CALL_OW 336
// SetLives ( Denis , 750 ) ;
2481: LD_EXP 9
2485: PPUSH
2486: LD_INT 750
2488: PPUSH
2489: CALL_OW 234
// end ;
2493: LD_VAR 0 1
2497: RET
// export function HarrisonSupport ; var un , veh , area , dir ; begin
2498: LD_INT 0
2500: PPUSH
2501: PPUSH
2502: PPUSH
2503: PPUSH
2504: PPUSH
// area := HarrisonSupportArea ;
2505: LD_ADDR_VAR 0 4
2509: PUSH
2510: LD_INT 3
2512: ST_TO_ADDR
// dir := 2 ;
2513: LD_ADDR_VAR 0 5
2517: PUSH
2518: LD_INT 2
2520: ST_TO_ADDR
// if FilterUnitsInArea ( area , [ f_type , unit_building ] ) then
2521: LD_VAR 0 4
2525: PPUSH
2526: LD_INT 21
2528: PUSH
2529: LD_INT 3
2531: PUSH
2532: EMPTY
2533: LIST
2534: LIST
2535: PPUSH
2536: CALL_OW 70
2540: IFFALSE 2558
// begin area := HarrisonSupportArea2 ;
2542: LD_ADDR_VAR 0 4
2546: PUSH
2547: LD_INT 31
2549: ST_TO_ADDR
// dir := 1 ;
2550: LD_ADDR_VAR 0 5
2554: PUSH
2555: LD_INT 1
2557: ST_TO_ADDR
// end ; uc_side = 1 ;
2558: LD_ADDR_OWVAR 20
2562: PUSH
2563: LD_INT 1
2565: ST_TO_ADDR
// uc_nation = 1 ;
2566: LD_ADDR_OWVAR 21
2570: PUSH
2571: LD_INT 1
2573: ST_TO_ADDR
// vc_engine = 1 ;
2574: LD_ADDR_OWVAR 39
2578: PUSH
2579: LD_INT 1
2581: ST_TO_ADDR
// vc_control = 1 ;
2582: LD_ADDR_OWVAR 38
2586: PUSH
2587: LD_INT 1
2589: ST_TO_ADDR
// vc_weapon = [ us_gatling_gun , us_gatling_gun , us_machine_gun ] [ Difficulty ] ;
2590: LD_ADDR_OWVAR 40
2594: PUSH
2595: LD_INT 4
2597: PUSH
2598: LD_INT 4
2600: PUSH
2601: LD_INT 2
2603: PUSH
2604: EMPTY
2605: LIST
2606: LIST
2607: LIST
2608: PUSH
2609: LD_OWVAR 67
2613: ARRAY
2614: ST_TO_ADDR
// vc_chassis = 2 ;
2615: LD_ADDR_OWVAR 37
2619: PUSH
2620: LD_INT 2
2622: ST_TO_ADDR
// veh = CreateVehicle ;
2623: LD_ADDR_VAR 0 3
2627: PUSH
2628: CALL_OW 45
2632: ST_TO_ADDR
// SetDir ( veh , dir ) ;
2633: LD_VAR 0 3
2637: PPUSH
2638: LD_VAR 0 5
2642: PPUSH
2643: CALL_OW 233
// PlaceUnitArea ( veh , area , false ) ;
2647: LD_VAR 0 3
2651: PPUSH
2652: LD_VAR 0 4
2656: PPUSH
2657: LD_INT 0
2659: PPUSH
2660: CALL_OW 49
// SetFuel ( veh , 50 ) ;
2664: LD_VAR 0 3
2668: PPUSH
2669: LD_INT 50
2671: PPUSH
2672: CALL_OW 240
// hc_class := 2 ;
2676: LD_ADDR_OWVAR 28
2680: PUSH
2681: LD_INT 2
2683: ST_TO_ADDR
// hc_sex := sex_male ;
2684: LD_ADDR_OWVAR 27
2688: PUSH
2689: LD_INT 1
2691: ST_TO_ADDR
// hc_gallery := SecondCharsGal ;
2692: LD_ADDR_OWVAR 33
2696: PUSH
2697: LD_STRING SecondCharsGal
2699: ST_TO_ADDR
// hc_face_number := 52 ;
2700: LD_ADDR_OWVAR 34
2704: PUSH
2705: LD_INT 52
2707: ST_TO_ADDR
// hc_name := Craig Brown ;
2708: LD_ADDR_OWVAR 26
2712: PUSH
2713: LD_STRING Craig Brown
2715: ST_TO_ADDR
// hc_attr := [ 10 , 10 ] ;
2716: LD_ADDR_OWVAR 29
2720: PUSH
2721: LD_INT 10
2723: PUSH
2724: LD_INT 10
2726: PUSH
2727: EMPTY
2728: LIST
2729: LIST
2730: ST_TO_ADDR
// hc_basic_skills := [ 0 , 2 , 0 , 0 ] ;
2731: LD_ADDR_OWVAR 30
2735: PUSH
2736: LD_INT 0
2738: PUSH
2739: LD_INT 2
2741: PUSH
2742: LD_INT 0
2744: PUSH
2745: LD_INT 0
2747: PUSH
2748: EMPTY
2749: LIST
2750: LIST
2751: LIST
2752: LIST
2753: ST_TO_ADDR
// hc_skills := [ 2 , 3 , 0 , 0 ] ;
2754: LD_ADDR_OWVAR 31
2758: PUSH
2759: LD_INT 2
2761: PUSH
2762: LD_INT 3
2764: PUSH
2765: LD_INT 0
2767: PUSH
2768: LD_INT 0
2770: PUSH
2771: EMPTY
2772: LIST
2773: LIST
2774: LIST
2775: LIST
2776: ST_TO_ADDR
// HarrSupp1 = CreateHuman ;
2777: LD_ADDR_EXP 17
2781: PUSH
2782: CALL_OW 44
2786: ST_TO_ADDR
// PlaceHumanInUnit ( HarrSupp1 , veh ) ;
2787: LD_EXP 17
2791: PPUSH
2792: LD_VAR 0 3
2796: PPUSH
2797: CALL_OW 52
// vc_engine = 1 ;
2801: LD_ADDR_OWVAR 39
2805: PUSH
2806: LD_INT 1
2808: ST_TO_ADDR
// vc_control = 1 ;
2809: LD_ADDR_OWVAR 38
2813: PUSH
2814: LD_INT 1
2816: ST_TO_ADDR
// vc_weapon = us_light_gun ;
2817: LD_ADDR_OWVAR 40
2821: PUSH
2822: LD_INT 3
2824: ST_TO_ADDR
// vc_chassis = 2 ;
2825: LD_ADDR_OWVAR 37
2829: PUSH
2830: LD_INT 2
2832: ST_TO_ADDR
// veh = CreateVehicle ;
2833: LD_ADDR_VAR 0 3
2837: PUSH
2838: CALL_OW 45
2842: ST_TO_ADDR
// SetDir ( veh , dir ) ;
2843: LD_VAR 0 3
2847: PPUSH
2848: LD_VAR 0 5
2852: PPUSH
2853: CALL_OW 233
// PlaceUnitArea ( veh , area , false ) ;
2857: LD_VAR 0 3
2861: PPUSH
2862: LD_VAR 0 4
2866: PPUSH
2867: LD_INT 0
2869: PPUSH
2870: CALL_OW 49
// SetFuel ( veh , 50 ) ;
2874: LD_VAR 0 3
2878: PPUSH
2879: LD_INT 50
2881: PPUSH
2882: CALL_OW 240
// hc_class := 1 ;
2886: LD_ADDR_OWVAR 28
2890: PUSH
2891: LD_INT 1
2893: ST_TO_ADDR
// hc_sex := sex_female ;
2894: LD_ADDR_OWVAR 27
2898: PUSH
2899: LD_INT 2
2901: ST_TO_ADDR
// hc_gallery := SecondCharsGal ;
2902: LD_ADDR_OWVAR 33
2906: PUSH
2907: LD_STRING SecondCharsGal
2909: ST_TO_ADDR
// hc_face_number := 45 ;
2910: LD_ADDR_OWVAR 34
2914: PUSH
2915: LD_INT 45
2917: ST_TO_ADDR
// hc_attr := [ 11 , 10 ] ;
2918: LD_ADDR_OWVAR 29
2922: PUSH
2923: LD_INT 11
2925: PUSH
2926: LD_INT 10
2928: PUSH
2929: EMPTY
2930: LIST
2931: LIST
2932: ST_TO_ADDR
// hc_name := Ingrid Jonsson ;
2933: LD_ADDR_OWVAR 26
2937: PUSH
2938: LD_STRING Ingrid Jonsson
2940: ST_TO_ADDR
// hc_basic_skills := [ 1 , 1 , 0 , 0 ] ;
2941: LD_ADDR_OWVAR 30
2945: PUSH
2946: LD_INT 1
2948: PUSH
2949: LD_INT 1
2951: PUSH
2952: LD_INT 0
2954: PUSH
2955: LD_INT 0
2957: PUSH
2958: EMPTY
2959: LIST
2960: LIST
2961: LIST
2962: LIST
2963: ST_TO_ADDR
// hc_skills := [ 3 , 1 , 1 , 0 ] ;
2964: LD_ADDR_OWVAR 31
2968: PUSH
2969: LD_INT 3
2971: PUSH
2972: LD_INT 1
2974: PUSH
2975: LD_INT 1
2977: PUSH
2978: LD_INT 0
2980: PUSH
2981: EMPTY
2982: LIST
2983: LIST
2984: LIST
2985: LIST
2986: ST_TO_ADDR
// HarrSupp2 = CreateHuman ;
2987: LD_ADDR_EXP 18
2991: PUSH
2992: CALL_OW 44
2996: ST_TO_ADDR
// PlaceHumanInUnit ( HarrSupp2 , veh ) ;
2997: LD_EXP 18
3001: PPUSH
3002: LD_VAR 0 3
3006: PPUSH
3007: CALL_OW 52
// end ;
3011: LD_VAR 0 1
3015: RET
// export function PrepareJoan ; var i , j , tmp , rnd ; begin
3016: LD_INT 0
3018: PPUSH
3019: PPUSH
3020: PPUSH
3021: PPUSH
3022: PPUSH
// j = 0 ;
3023: LD_ADDR_VAR 0 3
3027: PUSH
3028: LD_INT 0
3030: ST_TO_ADDR
// repeat wait ( 0 0$1 ) ;
3031: LD_INT 35
3033: PPUSH
3034: CALL_OW 67
// for i in FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_sex , 1 ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) do
3038: LD_ADDR_VAR 0 2
3042: PUSH
3043: LD_INT 22
3045: PUSH
3046: LD_INT 1
3048: PUSH
3049: EMPTY
3050: LIST
3051: LIST
3052: PUSH
3053: LD_INT 21
3055: PUSH
3056: LD_INT 1
3058: PUSH
3059: EMPTY
3060: LIST
3061: LIST
3062: PUSH
3063: LD_INT 26
3065: PUSH
3066: LD_INT 1
3068: PUSH
3069: EMPTY
3070: LIST
3071: LIST
3072: PUSH
3073: LD_INT 2
3075: PUSH
3076: LD_INT 25
3078: PUSH
3079: LD_INT 1
3081: PUSH
3082: EMPTY
3083: LIST
3084: LIST
3085: PUSH
3086: LD_INT 25
3088: PUSH
3089: LD_INT 2
3091: PUSH
3092: EMPTY
3093: LIST
3094: LIST
3095: PUSH
3096: LD_INT 25
3098: PUSH
3099: LD_INT 3
3101: PUSH
3102: EMPTY
3103: LIST
3104: LIST
3105: PUSH
3106: LD_INT 25
3108: PUSH
3109: LD_INT 4
3111: PUSH
3112: EMPTY
3113: LIST
3114: LIST
3115: PUSH
3116: EMPTY
3117: LIST
3118: LIST
3119: LIST
3120: LIST
3121: LIST
3122: PUSH
3123: EMPTY
3124: LIST
3125: LIST
3126: LIST
3127: LIST
3128: PPUSH
3129: CALL_OW 69
3133: PUSH
3134: FOR_IN
3135: IFFALSE 3261
// begin if not FilterAllUnits ( [ [ f_side , 3 ] , [ f_or , [ f_type , unit_human ] , [ f_type , unit_vehicle ] , [ f_type , unit_building ] , [ f_occupied ] ] , [ f_dist , i , 25 ] ] ) and GetDistUnits ( i , JMM ) < 15 then
3137: LD_INT 22
3139: PUSH
3140: LD_INT 3
3142: PUSH
3143: EMPTY
3144: LIST
3145: LIST
3146: PUSH
3147: LD_INT 2
3149: PUSH
3150: LD_INT 21
3152: PUSH
3153: LD_INT 1
3155: PUSH
3156: EMPTY
3157: LIST
3158: LIST
3159: PUSH
3160: LD_INT 21
3162: PUSH
3163: LD_INT 2
3165: PUSH
3166: EMPTY
3167: LIST
3168: LIST
3169: PUSH
3170: LD_INT 21
3172: PUSH
3173: LD_INT 3
3175: PUSH
3176: EMPTY
3177: LIST
3178: LIST
3179: PUSH
3180: LD_INT 59
3182: PUSH
3183: EMPTY
3184: LIST
3185: PUSH
3186: EMPTY
3187: LIST
3188: LIST
3189: LIST
3190: LIST
3191: LIST
3192: PUSH
3193: LD_INT 91
3195: PUSH
3196: LD_VAR 0 2
3200: PUSH
3201: LD_INT 25
3203: PUSH
3204: EMPTY
3205: LIST
3206: LIST
3207: LIST
3208: PUSH
3209: EMPTY
3210: LIST
3211: LIST
3212: LIST
3213: PPUSH
3214: CALL_OW 69
3218: NOT
3219: PUSH
3220: LD_VAR 0 2
3224: PPUSH
3225: LD_EXP 1
3229: PPUSH
3230: CALL_OW 296
3234: PUSH
3235: LD_INT 15
3237: LESS
3238: AND
3239: IFFALSE 3259
// begin tmp = i ;
3241: LD_ADDR_VAR 0 4
3245: PUSH
3246: LD_VAR 0 2
3250: ST_TO_ADDR
// j = 1 ;
3251: LD_ADDR_VAR 0 3
3255: PUSH
3256: LD_INT 1
3258: ST_TO_ADDR
// end ; end ;
3259: GO 3134
3261: POP
3262: POP
// until j = 1 ;
3263: LD_VAR 0 3
3267: PUSH
3268: LD_INT 1
3270: EQUAL
3271: IFFALSE 3031
// blockSpawn = 1 ;
3273: LD_ADDR_EXP 29
3277: PUSH
3278: LD_INT 1
3280: ST_TO_ADDR
// uc_side = 4 ;
3281: LD_ADDR_OWVAR 20
3285: PUSH
3286: LD_INT 4
3288: ST_TO_ADDR
// Joan = PrepareUnit ( Joan , false ) ;
3289: LD_ADDR_EXP 15
3293: PUSH
3294: LD_STRING Joan
3296: PPUSH
3297: LD_INT 0
3299: PPUSH
3300: CALL 6151 0 2
3304: ST_TO_ADDR
// PlaceUnitXYR ( Joan , GetX ( tmp ) , GetY ( tmp ) , 5 , true ) ;
3305: LD_EXP 15
3309: PPUSH
3310: LD_VAR 0 4
3314: PPUSH
3315: CALL_OW 250
3319: PPUSH
3320: LD_VAR 0 4
3324: PPUSH
3325: CALL_OW 251
3329: PPUSH
3330: LD_INT 5
3332: PPUSH
3333: LD_INT 1
3335: PPUSH
3336: CALL_OW 50
// SetLives ( Joan , 250 ) ;
3340: LD_EXP 15
3344: PPUSH
3345: LD_INT 250
3347: PPUSH
3348: CALL_OW 234
// InGameOn ;
3352: CALL_OW 8
// CenterNowOnUnits ( Joan ) ;
3356: LD_EXP 15
3360: PPUSH
3361: CALL_OW 87
// wait ( 0 0$2 ) ;
3365: LD_INT 70
3367: PPUSH
3368: CALL_OW 67
// ComExitVehicle ( tmp ) ;
3372: LD_VAR 0 4
3376: PPUSH
3377: CALL_OW 121
// ComExitBuilding ( tmp ) ;
3381: LD_VAR 0 4
3385: PPUSH
3386: CALL_OW 122
// wait ( 0 0$1 ) ;
3390: LD_INT 35
3392: PPUSH
3393: CALL_OW 67
// ComMoveUnit ( tmp , Joan ) ;
3397: LD_VAR 0 4
3401: PPUSH
3402: LD_EXP 15
3406: PPUSH
3407: CALL_OW 112
// wait ( 0 0$2 ) ;
3411: LD_INT 70
3413: PPUSH
3414: CALL_OW 67
// DialogueOn ;
3418: CALL_OW 6
// if tmp = JMM then
3422: LD_VAR 0 4
3426: PUSH
3427: LD_EXP 1
3431: EQUAL
3432: IFFALSE 3581
// begin ComTurnUnit ( JMM , Joan ) ;
3434: LD_EXP 1
3438: PPUSH
3439: LD_EXP 15
3443: PPUSH
3444: CALL_OW 119
// Say ( JMM , D5b-JMM-1 ) ;
3448: LD_EXP 1
3452: PPUSH
3453: LD_STRING D5b-JMM-1
3455: PPUSH
3456: CALL_OW 88
// DialogueOff ;
3460: CALL_OW 7
// SetLives ( Joan , 500 ) ;
3464: LD_EXP 15
3468: PPUSH
3469: LD_INT 500
3471: PPUSH
3472: CALL_OW 234
// ComTurnUnit ( Joan , JMM ) ;
3476: LD_EXP 15
3480: PPUSH
3481: LD_EXP 1
3485: PPUSH
3486: CALL_OW 119
// ComTurnUnit ( JMM , Joan ) ;
3490: LD_EXP 1
3494: PPUSH
3495: LD_EXP 15
3499: PPUSH
3500: CALL_OW 119
// wait ( 0 0$1 ) ;
3504: LD_INT 35
3506: PPUSH
3507: CALL_OW 67
// DialogueOn ;
3511: CALL_OW 6
// Say ( Joan , D5b-Joan-1 ) ;
3515: LD_EXP 15
3519: PPUSH
3520: LD_STRING D5b-Joan-1
3522: PPUSH
3523: CALL_OW 88
// Say ( JMM , D5b-JMM-2 ) ;
3527: LD_EXP 1
3531: PPUSH
3532: LD_STRING D5b-JMM-2
3534: PPUSH
3535: CALL_OW 88
// Say ( Joan , D5b-Joan-2 ) ;
3539: LD_EXP 15
3543: PPUSH
3544: LD_STRING D5b-Joan-2
3546: PPUSH
3547: CALL_OW 88
// Say ( JMM , D5b-JMM-3 ) ;
3551: LD_EXP 1
3555: PPUSH
3556: LD_STRING D5b-JMM-3
3558: PPUSH
3559: CALL_OW 88
// Say ( Joan , D5b-Joan-3 ) ;
3563: LD_EXP 15
3567: PPUSH
3568: LD_STRING D5b-Joan-3
3570: PPUSH
3571: CALL_OW 88
// DialogueOff ;
3575: CALL_OW 7
// end else
3579: GO 3916
// begin ComTurnUnit ( tmp , Joan ) ;
3581: LD_VAR 0 4
3585: PPUSH
3586: LD_EXP 15
3590: PPUSH
3591: CALL_OW 119
// Say ( tmp , D5a-Sol1-1 ) ;
3595: LD_VAR 0 4
3599: PPUSH
3600: LD_STRING D5a-Sol1-1
3602: PPUSH
3603: CALL_OW 88
// DialogueOff ;
3607: CALL_OW 7
// SetLives ( Joan , 500 ) ;
3611: LD_EXP 15
3615: PPUSH
3616: LD_INT 500
3618: PPUSH
3619: CALL_OW 234
// ComTurnUnit ( Joan , tmp ) ;
3623: LD_EXP 15
3627: PPUSH
3628: LD_VAR 0 4
3632: PPUSH
3633: CALL_OW 119
// ComTurnUnit ( tmp , Joan ) ;
3637: LD_VAR 0 4
3641: PPUSH
3642: LD_EXP 15
3646: PPUSH
3647: CALL_OW 119
// wait ( 0 0$1 ) ;
3651: LD_INT 35
3653: PPUSH
3654: CALL_OW 67
// DialogueOn ;
3658: CALL_OW 6
// Say ( Joan , D5a-Joan-1 ) ;
3662: LD_EXP 15
3666: PPUSH
3667: LD_STRING D5a-Joan-1
3669: PPUSH
3670: CALL_OW 88
// Say ( tmp , D5a-Sol1-2 ) ;
3674: LD_VAR 0 4
3678: PPUSH
3679: LD_STRING D5a-Sol1-2
3681: PPUSH
3682: CALL_OW 88
// Say ( Joan , D5a-Joan-2 ) ;
3686: LD_EXP 15
3690: PPUSH
3691: LD_STRING D5a-Joan-2
3693: PPUSH
3694: CALL_OW 88
// Say ( tmp , D5a-Sol1-3 ) ;
3698: LD_VAR 0 4
3702: PPUSH
3703: LD_STRING D5a-Sol1-3
3705: PPUSH
3706: CALL_OW 88
// Say ( Joan , D5a-Joan-3 ) ;
3710: LD_EXP 15
3714: PPUSH
3715: LD_STRING D5a-Joan-3
3717: PPUSH
3718: CALL_OW 88
// Say ( tmp , D5a-Sol1-4 ) ;
3722: LD_VAR 0 4
3726: PPUSH
3727: LD_STRING D5a-Sol1-4
3729: PPUSH
3730: CALL_OW 88
// DialogueOff ;
3734: CALL_OW 7
// ComExitVehicle ( JMM ) ;
3738: LD_EXP 1
3742: PPUSH
3743: CALL_OW 121
// ComExitBuilding ( JMM ) ;
3747: LD_EXP 1
3751: PPUSH
3752: CALL_OW 122
// wait ( 0 0$1 ) ;
3756: LD_INT 35
3758: PPUSH
3759: CALL_OW 67
// repeat wait ( 0 0$1 ) ;
3763: LD_INT 35
3765: PPUSH
3766: CALL_OW 67
// ComMoveUnit ( [ Joan , tmp ] , JMM ) ;
3770: LD_EXP 15
3774: PUSH
3775: LD_VAR 0 4
3779: PUSH
3780: EMPTY
3781: LIST
3782: LIST
3783: PPUSH
3784: LD_EXP 1
3788: PPUSH
3789: CALL_OW 112
// until GetDistUnits ( Joan , JMM ) < 5 ;
3793: LD_EXP 15
3797: PPUSH
3798: LD_EXP 1
3802: PPUSH
3803: CALL_OW 296
3807: PUSH
3808: LD_INT 5
3810: LESS
3811: IFFALSE 3763
// ComTurnUnit ( Joan , JMM ) ;
3813: LD_EXP 15
3817: PPUSH
3818: LD_EXP 1
3822: PPUSH
3823: CALL_OW 119
// ComTurnUnit ( JMM , Joan ) ;
3827: LD_EXP 1
3831: PPUSH
3832: LD_EXP 15
3836: PPUSH
3837: CALL_OW 119
// wait ( 0 0$1 ) ;
3841: LD_INT 35
3843: PPUSH
3844: CALL_OW 67
// DialogueOn ;
3848: CALL_OW 6
// Say ( Joan , D5a-Joan-4 ) ;
3852: LD_EXP 15
3856: PPUSH
3857: LD_STRING D5a-Joan-4
3859: PPUSH
3860: CALL_OW 88
// Say ( JMM , D5a-JMM-4 ) ;
3864: LD_EXP 1
3868: PPUSH
3869: LD_STRING D5a-JMM-4
3871: PPUSH
3872: CALL_OW 88
// Say ( Joan , D5a-Joan-5 ) ;
3876: LD_EXP 15
3880: PPUSH
3881: LD_STRING D5a-Joan-5
3883: PPUSH
3884: CALL_OW 88
// Say ( JMM , D5a-JMM-5 ) ;
3888: LD_EXP 1
3892: PPUSH
3893: LD_STRING D5a-JMM-5
3895: PPUSH
3896: CALL_OW 88
// Say ( Joan , D5a-Joan-6 ) ;
3900: LD_EXP 15
3904: PPUSH
3905: LD_STRING D5a-Joan-6
3907: PPUSH
3908: CALL_OW 88
// DialogueOff ;
3912: CALL_OW 7
// end ; DialogueOn ;
3916: CALL_OW 6
// Say ( JMM , D6-JMM-1 ) ;
3920: LD_EXP 1
3924: PPUSH
3925: LD_STRING D6-JMM-1
3927: PPUSH
3928: CALL_OW 88
// Say ( Joan , D6-Joan-1 ) ;
3932: LD_EXP 15
3936: PPUSH
3937: LD_STRING D6-Joan-1
3939: PPUSH
3940: CALL_OW 88
// Say ( JMM , D6-JMM-2 ) ;
3944: LD_EXP 1
3948: PPUSH
3949: LD_STRING D6-JMM-2
3951: PPUSH
3952: CALL_OW 88
// Say ( Joan , D6-Joan-2 ) ;
3956: LD_EXP 15
3960: PPUSH
3961: LD_STRING D6-Joan-2
3963: PPUSH
3964: CALL_OW 88
// Say ( JMM , D6-JMM-3 ) ;
3968: LD_EXP 1
3972: PPUSH
3973: LD_STRING D6-JMM-3
3975: PPUSH
3976: CALL_OW 88
// Say ( Joan , D6-Joan-3 ) ;
3980: LD_EXP 15
3984: PPUSH
3985: LD_STRING D6-Joan-3
3987: PPUSH
3988: CALL_OW 88
// Say ( JMM , D6-JMM-4 ) ;
3992: LD_EXP 1
3996: PPUSH
3997: LD_STRING D6-JMM-4
3999: PPUSH
4000: CALL_OW 88
// DialogueOff ;
4004: CALL_OW 7
// InGameOff ;
4008: CALL_OW 9
// SetSide ( Joan , 1 ) ;
4012: LD_EXP 15
4016: PPUSH
4017: LD_INT 1
4019: PPUSH
4020: CALL_OW 235
// ChangeMissionObjectives ( MJ ) ;
4024: LD_STRING MJ
4026: PPUSH
4027: CALL_OW 337
// JoanStatus = 1 ;
4031: LD_ADDR_EXP 16
4035: PUSH
4036: LD_INT 1
4038: ST_TO_ADDR
// blockSpawn = 0 ;
4039: LD_ADDR_EXP 29
4043: PUSH
4044: LD_INT 0
4046: ST_TO_ADDR
// end ;
4047: LD_VAR 0 1
4051: RET
// export function PrepareRandoms ( number ) ; var un ; begin
4052: LD_INT 0
4054: PPUSH
4055: PPUSH
// if not number or number > 8 then
4056: LD_VAR 0 1
4060: NOT
4061: PUSH
4062: LD_VAR 0 1
4066: PUSH
4067: LD_INT 8
4069: GREATER
4070: OR
4071: IFFALSE 4075
// exit ;
4073: GO 5644
// repeat wait ( 0 0$7 ) ;
4075: LD_INT 245
4077: PPUSH
4078: CALL_OW 67
// until blockSpawn = 0 ;
4082: LD_EXP 29
4086: PUSH
4087: LD_INT 0
4089: EQUAL
4090: IFFALSE 4075
// uc_side = 1 ;
4092: LD_ADDR_OWVAR 20
4096: PUSH
4097: LD_INT 1
4099: ST_TO_ADDR
// uc_nation = 1 ;
4100: LD_ADDR_OWVAR 21
4104: PUSH
4105: LD_INT 1
4107: ST_TO_ADDR
// InitHc ;
4108: CALL_OW 19
// if number = 1 then
4112: LD_VAR 0 1
4116: PUSH
4117: LD_INT 1
4119: EQUAL
4120: IFFALSE 4296
// begin hc_class := 3 ;
4122: LD_ADDR_OWVAR 28
4126: PUSH
4127: LD_INT 3
4129: ST_TO_ADDR
// hc_sex := sex_male ;
4130: LD_ADDR_OWVAR 27
4134: PUSH
4135: LD_INT 1
4137: ST_TO_ADDR
// hc_gallery := SecondCharsGal ;
4138: LD_ADDR_OWVAR 33
4142: PUSH
4143: LD_STRING SecondCharsGal
4145: ST_TO_ADDR
// hc_face_number := 55 ;
4146: LD_ADDR_OWVAR 34
4150: PUSH
4151: LD_INT 55
4153: ST_TO_ADDR
// hc_name := George McCarthy ;
4154: LD_ADDR_OWVAR 26
4158: PUSH
4159: LD_STRING George McCarthy
4161: ST_TO_ADDR
// hc_attr := [ 11 , 10 ] ;
4162: LD_ADDR_OWVAR 29
4166: PUSH
4167: LD_INT 11
4169: PUSH
4170: LD_INT 10
4172: PUSH
4173: EMPTY
4174: LIST
4175: LIST
4176: ST_TO_ADDR
// hc_basic_skills := [ 0 , 0 , 2 , 0 ] ;
4177: LD_ADDR_OWVAR 30
4181: PUSH
4182: LD_INT 0
4184: PUSH
4185: LD_INT 0
4187: PUSH
4188: LD_INT 2
4190: PUSH
4191: LD_INT 0
4193: PUSH
4194: EMPTY
4195: LIST
4196: LIST
4197: LIST
4198: LIST
4199: ST_TO_ADDR
// hc_skills := [ 1 , 2 , 3 , 1 ] ;
4200: LD_ADDR_OWVAR 31
4204: PUSH
4205: LD_INT 1
4207: PUSH
4208: LD_INT 2
4210: PUSH
4211: LD_INT 3
4213: PUSH
4214: LD_INT 1
4216: PUSH
4217: EMPTY
4218: LIST
4219: LIST
4220: LIST
4221: LIST
4222: ST_TO_ADDR
// un = CreateHuman ;
4223: LD_ADDR_VAR 0 3
4227: PUSH
4228: CALL_OW 44
4232: ST_TO_ADDR
// PlaceUnitArea ( un , NewPeopleSpawn1 , true ) ;
4233: LD_VAR 0 3
4237: PPUSH
4238: LD_INT 23
4240: PPUSH
4241: LD_INT 1
4243: PPUSH
4244: CALL_OW 49
// CenterNowOnUnits ( un ) ;
4248: LD_VAR 0 3
4252: PPUSH
4253: CALL_OW 87
// wait ( 0 0$1 ) ;
4257: LD_INT 35
4259: PPUSH
4260: CALL_OW 67
// DialogueOn ;
4264: CALL_OW 6
// Say ( un , D11d-Sol4-1 ) ;
4268: LD_VAR 0 3
4272: PPUSH
4273: LD_STRING D11d-Sol4-1
4275: PPUSH
4276: CALL_OW 88
// Say ( JMM , D11d-JMM-1 ) ;
4280: LD_EXP 1
4284: PPUSH
4285: LD_STRING D11d-JMM-1
4287: PPUSH
4288: CALL_OW 88
// DialogueOff ;
4292: CALL_OW 7
// end ; if number = 2 then
4296: LD_VAR 0 1
4300: PUSH
4301: LD_INT 2
4303: EQUAL
4304: IFFALSE 4480
// begin hc_class := 1 ;
4306: LD_ADDR_OWVAR 28
4310: PUSH
4311: LD_INT 1
4313: ST_TO_ADDR
// hc_sex := sex_male ;
4314: LD_ADDR_OWVAR 27
4318: PUSH
4319: LD_INT 1
4321: ST_TO_ADDR
// hc_gallery := AmGalRemake ;
4322: LD_ADDR_OWVAR 33
4326: PUSH
4327: LD_STRING AmGalRemake
4329: ST_TO_ADDR
// hc_face_number := 7 ;
4330: LD_ADDR_OWVAR 34
4334: PUSH
4335: LD_INT 7
4337: ST_TO_ADDR
// hc_name := Bobby Jordan ;
4338: LD_ADDR_OWVAR 26
4342: PUSH
4343: LD_STRING Bobby Jordan
4345: ST_TO_ADDR
// hc_attr := [ 9 , 11 ] ;
4346: LD_ADDR_OWVAR 29
4350: PUSH
4351: LD_INT 9
4353: PUSH
4354: LD_INT 11
4356: PUSH
4357: EMPTY
4358: LIST
4359: LIST
4360: ST_TO_ADDR
// hc_basic_skills := [ 1 , 0 , 0 , 1 ] ;
4361: LD_ADDR_OWVAR 30
4365: PUSH
4366: LD_INT 1
4368: PUSH
4369: LD_INT 0
4371: PUSH
4372: LD_INT 0
4374: PUSH
4375: LD_INT 1
4377: PUSH
4378: EMPTY
4379: LIST
4380: LIST
4381: LIST
4382: LIST
4383: ST_TO_ADDR
// hc_skills := [ 2 , 1 , 1 , 1 ] ;
4384: LD_ADDR_OWVAR 31
4388: PUSH
4389: LD_INT 2
4391: PUSH
4392: LD_INT 1
4394: PUSH
4395: LD_INT 1
4397: PUSH
4398: LD_INT 1
4400: PUSH
4401: EMPTY
4402: LIST
4403: LIST
4404: LIST
4405: LIST
4406: ST_TO_ADDR
// un = CreateHuman ;
4407: LD_ADDR_VAR 0 3
4411: PUSH
4412: CALL_OW 44
4416: ST_TO_ADDR
// PlaceUnitArea ( un , NewPeopleSpawn2 , true ) ;
4417: LD_VAR 0 3
4421: PPUSH
4422: LD_INT 24
4424: PPUSH
4425: LD_INT 1
4427: PPUSH
4428: CALL_OW 49
// wait ( 0 0$1 ) ;
4432: LD_INT 35
4434: PPUSH
4435: CALL_OW 67
// CenterNowOnUnits ( un ) ;
4439: LD_VAR 0 3
4443: PPUSH
4444: CALL_OW 87
// DialogueOn ;
4448: CALL_OW 6
// Say ( un , D11b-Sol3-1 ) ;
4452: LD_VAR 0 3
4456: PPUSH
4457: LD_STRING D11b-Sol3-1
4459: PPUSH
4460: CALL_OW 88
// Say ( JMM , D11b-JMM-1 ) ;
4464: LD_EXP 1
4468: PPUSH
4469: LD_STRING D11b-JMM-1
4471: PPUSH
4472: CALL_OW 88
// DialogueOff ;
4476: CALL_OW 7
// end ; if number = 3 then
4480: LD_VAR 0 1
4484: PUSH
4485: LD_INT 3
4487: EQUAL
4488: IFFALSE 4652
// begin hc_class := 1 ;
4490: LD_ADDR_OWVAR 28
4494: PUSH
4495: LD_INT 1
4497: ST_TO_ADDR
// hc_sex := sex_male ;
4498: LD_ADDR_OWVAR 27
4502: PUSH
4503: LD_INT 1
4505: ST_TO_ADDR
// hc_gallery := DJ ;
4506: LD_ADDR_OWVAR 33
4510: PUSH
4511: LD_STRING DJ
4513: ST_TO_ADDR
// hc_face_number := 1 ;
4514: LD_ADDR_OWVAR 34
4518: PUSH
4519: LD_INT 1
4521: ST_TO_ADDR
// hc_name := Darius Dajay ;
4522: LD_ADDR_OWVAR 26
4526: PUSH
4527: LD_STRING Darius Dajay
4529: ST_TO_ADDR
// hc_attr := [ 11 , 11 ] ;
4530: LD_ADDR_OWVAR 29
4534: PUSH
4535: LD_INT 11
4537: PUSH
4538: LD_INT 11
4540: PUSH
4541: EMPTY
4542: LIST
4543: LIST
4544: ST_TO_ADDR
// hc_basic_skills := [ 2 , 0 , 0 , 0 ] ;
4545: LD_ADDR_OWVAR 30
4549: PUSH
4550: LD_INT 2
4552: PUSH
4553: LD_INT 0
4555: PUSH
4556: LD_INT 0
4558: PUSH
4559: LD_INT 0
4561: PUSH
4562: EMPTY
4563: LIST
4564: LIST
4565: LIST
4566: LIST
4567: ST_TO_ADDR
// hc_skills := [ 4 , 0 , 1 , 0 ] ;
4568: LD_ADDR_OWVAR 31
4572: PUSH
4573: LD_INT 4
4575: PUSH
4576: LD_INT 0
4578: PUSH
4579: LD_INT 1
4581: PUSH
4582: LD_INT 0
4584: PUSH
4585: EMPTY
4586: LIST
4587: LIST
4588: LIST
4589: LIST
4590: ST_TO_ADDR
// un = CreateHuman ;
4591: LD_ADDR_VAR 0 3
4595: PUSH
4596: CALL_OW 44
4600: ST_TO_ADDR
// PlaceUnitArea ( un , NewPeopleSpawn3 , true ) ;
4601: LD_VAR 0 3
4605: PPUSH
4606: LD_INT 25
4608: PPUSH
4609: LD_INT 1
4611: PPUSH
4612: CALL_OW 49
// CenterNowOnUnits ( un ) ;
4616: LD_VAR 0 3
4620: PPUSH
4621: CALL_OW 87
// wait ( 0 0$1 ) ;
4625: LD_INT 35
4627: PPUSH
4628: CALL_OW 67
// DialogueOn ;
4632: CALL_OW 6
// Say ( un , D11f-Sol5-1 ) ;
4636: LD_VAR 0 3
4640: PPUSH
4641: LD_STRING D11f-Sol5-1
4643: PPUSH
4644: CALL_OW 88
// DialogueOff ;
4648: CALL_OW 7
// end ; if number = 4 then
4652: LD_VAR 0 1
4656: PUSH
4657: LD_INT 4
4659: EQUAL
4660: IFFALSE 4824
// begin hc_class := 3 ;
4662: LD_ADDR_OWVAR 28
4666: PUSH
4667: LD_INT 3
4669: ST_TO_ADDR
// hc_sex := sex_female ;
4670: LD_ADDR_OWVAR 27
4674: PUSH
4675: LD_INT 2
4677: ST_TO_ADDR
// hc_gallery := SecondCharsGal ;
4678: LD_ADDR_OWVAR 33
4682: PUSH
4683: LD_STRING SecondCharsGal
4685: ST_TO_ADDR
// hc_face_number := 46 ;
4686: LD_ADDR_OWVAR 34
4690: PUSH
4691: LD_INT 46
4693: ST_TO_ADDR
// hc_name := Sylvia Creak ;
4694: LD_ADDR_OWVAR 26
4698: PUSH
4699: LD_STRING Sylvia Creak
4701: ST_TO_ADDR
// hc_attr := [ 10 , 9 ] ;
4702: LD_ADDR_OWVAR 29
4706: PUSH
4707: LD_INT 10
4709: PUSH
4710: LD_INT 9
4712: PUSH
4713: EMPTY
4714: LIST
4715: LIST
4716: ST_TO_ADDR
// hc_basic_skills := [ 0 , 1 , 1 , 1 ] ;
4717: LD_ADDR_OWVAR 30
4721: PUSH
4722: LD_INT 0
4724: PUSH
4725: LD_INT 1
4727: PUSH
4728: LD_INT 1
4730: PUSH
4731: LD_INT 1
4733: PUSH
4734: EMPTY
4735: LIST
4736: LIST
4737: LIST
4738: LIST
4739: ST_TO_ADDR
// hc_skills := [ 1 , 3 , 1 , 1 ] ;
4740: LD_ADDR_OWVAR 31
4744: PUSH
4745: LD_INT 1
4747: PUSH
4748: LD_INT 3
4750: PUSH
4751: LD_INT 1
4753: PUSH
4754: LD_INT 1
4756: PUSH
4757: EMPTY
4758: LIST
4759: LIST
4760: LIST
4761: LIST
4762: ST_TO_ADDR
// un = CreateHuman ;
4763: LD_ADDR_VAR 0 3
4767: PUSH
4768: CALL_OW 44
4772: ST_TO_ADDR
// PlaceUnitArea ( un , NewPeopleSpawn4 , true ) ;
4773: LD_VAR 0 3
4777: PPUSH
4778: LD_INT 26
4780: PPUSH
4781: LD_INT 1
4783: PPUSH
4784: CALL_OW 49
// CenterNowOnUnits ( un ) ;
4788: LD_VAR 0 3
4792: PPUSH
4793: CALL_OW 87
// wait ( 0 0$1 ) ;
4797: LD_INT 35
4799: PPUSH
4800: CALL_OW 67
// DialogueOn ;
4804: CALL_OW 6
// Say ( un , D11e-FSol4-1 ) ;
4808: LD_VAR 0 3
4812: PPUSH
4813: LD_STRING D11e-FSol4-1
4815: PPUSH
4816: CALL_OW 88
// DialogueOff ;
4820: CALL_OW 7
// end ; if number = 5 then
4824: LD_VAR 0 1
4828: PUSH
4829: LD_INT 5
4831: EQUAL
4832: IFFALSE 5008
// begin hc_class := 1 ;
4834: LD_ADDR_OWVAR 28
4838: PUSH
4839: LD_INT 1
4841: ST_TO_ADDR
// hc_sex := sex_female ;
4842: LD_ADDR_OWVAR 27
4846: PUSH
4847: LD_INT 2
4849: ST_TO_ADDR
// hc_gallery := SecondCharsGal ;
4850: LD_ADDR_OWVAR 33
4854: PUSH
4855: LD_STRING SecondCharsGal
4857: ST_TO_ADDR
// hc_face_number := 37 ;
4858: LD_ADDR_OWVAR 34
4862: PUSH
4863: LD_INT 37
4865: ST_TO_ADDR
// hc_name := Malena Johnson ;
4866: LD_ADDR_OWVAR 26
4870: PUSH
4871: LD_STRING Malena Johnson
4873: ST_TO_ADDR
// hc_attr := [ 11 , 10 ] ;
4874: LD_ADDR_OWVAR 29
4878: PUSH
4879: LD_INT 11
4881: PUSH
4882: LD_INT 10
4884: PUSH
4885: EMPTY
4886: LIST
4887: LIST
4888: ST_TO_ADDR
// hc_basic_skills := [ 1 , 1 , 0 , 0 ] ;
4889: LD_ADDR_OWVAR 30
4893: PUSH
4894: LD_INT 1
4896: PUSH
4897: LD_INT 1
4899: PUSH
4900: LD_INT 0
4902: PUSH
4903: LD_INT 0
4905: PUSH
4906: EMPTY
4907: LIST
4908: LIST
4909: LIST
4910: LIST
4911: ST_TO_ADDR
// hc_skills := [ 1 , 1 , 1 , 1 ] ;
4912: LD_ADDR_OWVAR 31
4916: PUSH
4917: LD_INT 1
4919: PUSH
4920: LD_INT 1
4922: PUSH
4923: LD_INT 1
4925: PUSH
4926: LD_INT 1
4928: PUSH
4929: EMPTY
4930: LIST
4931: LIST
4932: LIST
4933: LIST
4934: ST_TO_ADDR
// un = CreateHuman ;
4935: LD_ADDR_VAR 0 3
4939: PUSH
4940: CALL_OW 44
4944: ST_TO_ADDR
// PlaceUnitArea ( un , NewPeopleSpawn5 , true ) ;
4945: LD_VAR 0 3
4949: PPUSH
4950: LD_INT 27
4952: PPUSH
4953: LD_INT 1
4955: PPUSH
4956: CALL_OW 49
// CenterNowOnUnits ( un ) ;
4960: LD_VAR 0 3
4964: PPUSH
4965: CALL_OW 87
// wait ( 0 0$1 ) ;
4969: LD_INT 35
4971: PPUSH
4972: CALL_OW 67
// DialogueOn ;
4976: CALL_OW 6
// Say ( un , D11c-FSol3-1 ) ;
4980: LD_VAR 0 3
4984: PPUSH
4985: LD_STRING D11c-FSol3-1
4987: PPUSH
4988: CALL_OW 88
// Say ( JMM , D11c-JMM-1 ) ;
4992: LD_EXP 1
4996: PPUSH
4997: LD_STRING D11c-JMM-1
4999: PPUSH
5000: CALL_OW 88
// DialogueOff ;
5004: CALL_OW 7
// end ; if number = 6 then
5008: LD_VAR 0 1
5012: PUSH
5013: LD_INT 6
5015: EQUAL
5016: IFFALSE 5190
// begin hc_class := 1 ;
5018: LD_ADDR_OWVAR 28
5022: PUSH
5023: LD_INT 1
5025: ST_TO_ADDR
// hc_sex := sex_male ;
5026: LD_ADDR_OWVAR 27
5030: PUSH
5031: LD_INT 1
5033: ST_TO_ADDR
// hc_gallery := AmGalRemake ;
5034: LD_ADDR_OWVAR 33
5038: PUSH
5039: LD_STRING AmGalRemake
5041: ST_TO_ADDR
// hc_face_number := 1 ;
5042: LD_ADDR_OWVAR 34
5046: PUSH
5047: LD_INT 1
5049: ST_TO_ADDR
// hc_name := Charles Brown ;
5050: LD_ADDR_OWVAR 26
5054: PUSH
5055: LD_STRING Charles Brown
5057: ST_TO_ADDR
// hc_attr := [ 12 , 11 ] ;
5058: LD_ADDR_OWVAR 29
5062: PUSH
5063: LD_INT 12
5065: PUSH
5066: LD_INT 11
5068: PUSH
5069: EMPTY
5070: LIST
5071: LIST
5072: ST_TO_ADDR
// hc_basic_skills := [ 2 , 0 , 0 , 0 ] ;
5073: LD_ADDR_OWVAR 30
5077: PUSH
5078: LD_INT 2
5080: PUSH
5081: LD_INT 0
5083: PUSH
5084: LD_INT 0
5086: PUSH
5087: LD_INT 0
5089: PUSH
5090: EMPTY
5091: LIST
5092: LIST
5093: LIST
5094: LIST
5095: ST_TO_ADDR
// hc_skills := [ 3 , 0 , 1 , 1 ] ;
5096: LD_ADDR_OWVAR 31
5100: PUSH
5101: LD_INT 3
5103: PUSH
5104: LD_INT 0
5106: PUSH
5107: LD_INT 1
5109: PUSH
5110: LD_INT 1
5112: PUSH
5113: EMPTY
5114: LIST
5115: LIST
5116: LIST
5117: LIST
5118: ST_TO_ADDR
// un = CreateHuman ;
5119: LD_ADDR_VAR 0 3
5123: PUSH
5124: CALL_OW 44
5128: ST_TO_ADDR
// PlaceUnitArea ( un , NewPeopleSpawn6 , true ) ;
5129: LD_VAR 0 3
5133: PPUSH
5134: LD_INT 28
5136: PPUSH
5137: LD_INT 1
5139: PPUSH
5140: CALL_OW 49
// CenterNowOnUnits ( un ) ;
5144: LD_VAR 0 3
5148: PPUSH
5149: CALL_OW 87
// wait ( 0 0$1 ) ;
5153: LD_INT 35
5155: PPUSH
5156: CALL_OW 67
// DialogueOn ;
5160: CALL_OW 6
// Say ( un , D4-Sol1-5 ) ;
5164: LD_VAR 0 3
5168: PPUSH
5169: LD_STRING D4-Sol1-5
5171: PPUSH
5172: CALL_OW 88
// DialogueOff ;
5176: CALL_OW 7
// tempCharles = un ;
5180: LD_ADDR_EXP 13
5184: PUSH
5185: LD_VAR 0 3
5189: ST_TO_ADDR
// end ; if number = 7 then
5190: LD_VAR 0 1
5194: PUSH
5195: LD_INT 7
5197: EQUAL
5198: IFFALSE 5448
// begin hc_class := 1 ;
5200: LD_ADDR_OWVAR 28
5204: PUSH
5205: LD_INT 1
5207: ST_TO_ADDR
// hc_sex := sex_female ;
5208: LD_ADDR_OWVAR 27
5212: PUSH
5213: LD_INT 2
5215: ST_TO_ADDR
// hc_gallery := AmGalRemake ;
5216: LD_ADDR_OWVAR 33
5220: PUSH
5221: LD_STRING AmGalRemake
5223: ST_TO_ADDR
// hc_face_number := 2 ;
5224: LD_ADDR_OWVAR 34
5228: PUSH
5229: LD_INT 2
5231: ST_TO_ADDR
// hc_name := Rebecca Macdonald ;
5232: LD_ADDR_OWVAR 26
5236: PUSH
5237: LD_STRING Rebecca Macdonald
5239: ST_TO_ADDR
// hc_attr := [ 10 , 10 ] ;
5240: LD_ADDR_OWVAR 29
5244: PUSH
5245: LD_INT 10
5247: PUSH
5248: LD_INT 10
5250: PUSH
5251: EMPTY
5252: LIST
5253: LIST
5254: ST_TO_ADDR
// hc_basic_skills := [ 1 , 0 , 0 , 1 ] ;
5255: LD_ADDR_OWVAR 30
5259: PUSH
5260: LD_INT 1
5262: PUSH
5263: LD_INT 0
5265: PUSH
5266: LD_INT 0
5268: PUSH
5269: LD_INT 1
5271: PUSH
5272: EMPTY
5273: LIST
5274: LIST
5275: LIST
5276: LIST
5277: ST_TO_ADDR
// hc_skills := [ 1 , 0 , 0 , 1 ] ;
5278: LD_ADDR_OWVAR 31
5282: PUSH
5283: LD_INT 1
5285: PUSH
5286: LD_INT 0
5288: PUSH
5289: LD_INT 0
5291: PUSH
5292: LD_INT 1
5294: PUSH
5295: EMPTY
5296: LIST
5297: LIST
5298: LIST
5299: LIST
5300: ST_TO_ADDR
// un = CreateHuman ;
5301: LD_ADDR_VAR 0 3
5305: PUSH
5306: CALL_OW 44
5310: ST_TO_ADDR
// PlaceUnitArea ( un , NewPeopleSpawn7 , true ) ;
5311: LD_VAR 0 3
5315: PPUSH
5316: LD_INT 29
5318: PPUSH
5319: LD_INT 1
5321: PPUSH
5322: CALL_OW 49
// CenterNowOnUnits ( un ) ;
5326: LD_VAR 0 3
5330: PPUSH
5331: CALL_OW 87
// wait ( 0 0$1 ) ;
5335: LD_INT 35
5337: PPUSH
5338: CALL_OW 67
// if FilterUnitsInArea ( NewPeopleSpawn7Spot , [ f_side , 3 ] ) then
5342: LD_INT 30
5344: PPUSH
5345: LD_INT 22
5347: PUSH
5348: LD_INT 3
5350: PUSH
5351: EMPTY
5352: LIST
5353: LIST
5354: PPUSH
5355: CALL_OW 70
5359: IFFALSE 5448
// begin DialogueOn ;
5361: CALL_OW 6
// PlaceSeeing ( GetX ( un ) , GetY ( un ) , 1 , - 15 ) ;
5365: LD_VAR 0 3
5369: PPUSH
5370: CALL_OW 250
5374: PPUSH
5375: LD_VAR 0 3
5379: PPUSH
5380: CALL_OW 251
5384: PPUSH
5385: LD_INT 1
5387: PPUSH
5388: LD_INT 15
5390: NEG
5391: PPUSH
5392: CALL_OW 330
// RemoveSeeing ( GetX ( un ) , GetY ( un ) , 1 ) ;
5396: LD_VAR 0 3
5400: PPUSH
5401: CALL_OW 250
5405: PPUSH
5406: LD_VAR 0 3
5410: PPUSH
5411: CALL_OW 251
5415: PPUSH
5416: LD_INT 1
5418: PPUSH
5419: CALL_OW 331
// Say ( un , D11a-FSol2-1 ) ;
5423: LD_VAR 0 3
5427: PPUSH
5428: LD_STRING D11a-FSol2-1
5430: PPUSH
5431: CALL_OW 88
// ComCrawl ( un ) ;
5435: LD_VAR 0 3
5439: PPUSH
5440: CALL_OW 137
// DialogueOff ;
5444: CALL_OW 7
// end ; end ; if number = 8 then
5448: LD_VAR 0 1
5452: PUSH
5453: LD_INT 8
5455: EQUAL
5456: IFFALSE 5612
// begin hc_class := 1 ;
5458: LD_ADDR_OWVAR 28
5462: PUSH
5463: LD_INT 1
5465: ST_TO_ADDR
// hc_sex := sex_female ;
5466: LD_ADDR_OWVAR 27
5470: PUSH
5471: LD_INT 2
5473: ST_TO_ADDR
// hc_gallery := SecondCharsGal ;
5474: LD_ADDR_OWVAR 33
5478: PUSH
5479: LD_STRING SecondCharsGal
5481: ST_TO_ADDR
// hc_face_number := 42 ;
5482: LD_ADDR_OWVAR 34
5486: PUSH
5487: LD_INT 42
5489: ST_TO_ADDR
// hc_name := Margherite Simpson ;
5490: LD_ADDR_OWVAR 26
5494: PUSH
5495: LD_STRING Margherite Simpson
5497: ST_TO_ADDR
// hc_attr := [ 12 , 10 ] ;
5498: LD_ADDR_OWVAR 29
5502: PUSH
5503: LD_INT 12
5505: PUSH
5506: LD_INT 10
5508: PUSH
5509: EMPTY
5510: LIST
5511: LIST
5512: ST_TO_ADDR
// hc_basic_skills := [ 1 , 2 , 0 , 0 ] ;
5513: LD_ADDR_OWVAR 30
5517: PUSH
5518: LD_INT 1
5520: PUSH
5521: LD_INT 2
5523: PUSH
5524: LD_INT 0
5526: PUSH
5527: LD_INT 0
5529: PUSH
5530: EMPTY
5531: LIST
5532: LIST
5533: LIST
5534: LIST
5535: ST_TO_ADDR
// hc_skills := [ 1 , 2 , 0 , 1 ] ;
5536: LD_ADDR_OWVAR 31
5540: PUSH
5541: LD_INT 1
5543: PUSH
5544: LD_INT 2
5546: PUSH
5547: LD_INT 0
5549: PUSH
5550: LD_INT 1
5552: PUSH
5553: EMPTY
5554: LIST
5555: LIST
5556: LIST
5557: LIST
5558: ST_TO_ADDR
// un = CreateHuman ;
5559: LD_ADDR_VAR 0 3
5563: PUSH
5564: CALL_OW 44
5568: ST_TO_ADDR
// PlaceUnitArea ( un , NewPeopleSpawn8 , true ) ;
5569: LD_VAR 0 3
5573: PPUSH
5574: LD_INT 33
5576: PPUSH
5577: LD_INT 1
5579: PPUSH
5580: CALL_OW 49
// CenterNowOnUnits ( un ) ;
5584: LD_VAR 0 3
5588: PPUSH
5589: CALL_OW 87
// wait ( 0 0$1 ) ;
5593: LD_INT 35
5595: PPUSH
5596: CALL_OW 67
// Say ( un , D11e-FSol4-1 ) ;
5600: LD_VAR 0 3
5604: PPUSH
5605: LD_STRING D11e-FSol4-1
5607: PPUSH
5608: CALL_OW 88
// end ; ignoreTarget := ignoreTarget union un ;
5612: LD_ADDR_EXP 45
5616: PUSH
5617: LD_EXP 45
5621: PUSH
5622: LD_VAR 0 3
5626: UNION
5627: ST_TO_ADDR
// arrivals := arrivals union un ;
5628: LD_ADDR_EXP 46
5632: PUSH
5633: LD_EXP 46
5637: PUSH
5638: LD_VAR 0 3
5642: UNION
5643: ST_TO_ADDR
// end ;
5644: LD_VAR 0 2
5648: RET
// every 0 0$1 do var i ;
5649: GO 5651
5651: DISABLE
5652: LD_INT 0
5654: PPUSH
// begin enable ;
5655: ENABLE
// if not ignoreTarget then
5656: LD_EXP 45
5660: NOT
5661: IFFALSE 5665
// exit ;
5663: GO 5746
// for i in ignoreTarget do
5665: LD_ADDR_VAR 0 1
5669: PUSH
5670: LD_EXP 45
5674: PUSH
5675: FOR_IN
5676: IFFALSE 5744
// if ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_dist , i , 10 ] ] ) diff ignoreTarget ) > 1 then
5678: LD_INT 22
5680: PUSH
5681: LD_INT 1
5683: PUSH
5684: EMPTY
5685: LIST
5686: LIST
5687: PUSH
5688: LD_INT 91
5690: PUSH
5691: LD_VAR 0 1
5695: PUSH
5696: LD_INT 10
5698: PUSH
5699: EMPTY
5700: LIST
5701: LIST
5702: LIST
5703: PUSH
5704: EMPTY
5705: LIST
5706: LIST
5707: PPUSH
5708: CALL_OW 69
5712: PUSH
5713: LD_EXP 45
5717: DIFF
5718: PUSH
5719: LD_INT 1
5721: GREATER
5722: IFFALSE 5742
// begin ignoreTarget := ignoreTarget diff i ;
5724: LD_ADDR_EXP 45
5728: PUSH
5729: LD_EXP 45
5733: PUSH
5734: LD_VAR 0 1
5738: DIFF
5739: ST_TO_ADDR
// break ;
5740: GO 5744
// end ;
5742: GO 5675
5744: POP
5745: POP
// end ; end_of_file
5746: PPOPN 1
5748: END
// export function PrepareRussian ; var i ; begin
5749: LD_INT 0
5751: PPUSH
5752: PPUSH
// if Difficulty < 3 then
5753: LD_OWVAR 67
5757: PUSH
5758: LD_INT 3
5760: LESS
5761: IFFALSE 5778
// RemoveUnit ( HexInfo ( 130 , 81 ) ) ;
5763: LD_INT 130
5765: PPUSH
5766: LD_INT 81
5768: PPUSH
5769: CALL_OW 428
5773: PPUSH
5774: CALL_OW 64
// RespawnInside ( 3 , 3 , rudepo , rand ( RuSolMinLevel , RuSolMaxLevel ) , 2 , 4 ) ;
5778: LD_INT 3
5780: PPUSH
5781: LD_INT 3
5783: PPUSH
5784: LD_INT 2
5786: PPUSH
5787: LD_EXP 34
5791: PPUSH
5792: LD_EXP 35
5796: PPUSH
5797: CALL_OW 12
5801: PPUSH
5802: LD_INT 2
5804: PPUSH
5805: LD_INT 4
5807: PPUSH
5808: CALL 6343 0 6
// RespawnInside ( 3 , 3 , ruarm1 , rand ( RuSolMinLevel , RuSolMaxLevel ) , 1 , 4 ) ;
5812: LD_INT 3
5814: PPUSH
5815: LD_INT 3
5817: PPUSH
5818: LD_INT 8
5820: PPUSH
5821: LD_EXP 34
5825: PPUSH
5826: LD_EXP 35
5830: PPUSH
5831: CALL_OW 12
5835: PPUSH
5836: LD_INT 1
5838: PPUSH
5839: LD_INT 4
5841: PPUSH
5842: CALL 6343 0 6
// RespawnInside ( 3 , 3 , ruarm2 , rand ( RuSolMinLevel , RuSolMaxLevel ) , 1 , 2 ) ;
5846: LD_INT 3
5848: PPUSH
5849: LD_INT 3
5851: PPUSH
5852: LD_INT 67
5854: PPUSH
5855: LD_EXP 34
5859: PPUSH
5860: LD_EXP 35
5864: PPUSH
5865: CALL_OW 12
5869: PPUSH
5870: LD_INT 1
5872: PPUSH
5873: LD_INT 2
5875: PPUSH
5876: CALL 6343 0 6
// RespawnInside ( 3 , 3 , rufab , rand ( RuSolMinLevel , RuSolMaxLevel ) , 3 , 6 ) ;
5880: LD_INT 3
5882: PPUSH
5883: LD_INT 3
5885: PPUSH
5886: LD_INT 21
5888: PPUSH
5889: LD_EXP 34
5893: PPUSH
5894: LD_EXP 35
5898: PPUSH
5899: CALL_OW 12
5903: PPUSH
5904: LD_INT 3
5906: PPUSH
5907: LD_INT 6
5909: PPUSH
5910: CALL 6343 0 6
// RespawnInside ( 3 , 3 , rufabsupp , rand ( RuSolMinLevel , RuSolMaxLevel ) , 3 , 6 ) ;
5914: LD_INT 3
5916: PPUSH
5917: LD_INT 3
5919: PPUSH
5920: LD_INT 17
5922: PPUSH
5923: LD_EXP 34
5927: PPUSH
5928: LD_EXP 35
5932: PPUSH
5933: CALL_OW 12
5937: PPUSH
5938: LD_INT 3
5940: PPUSH
5941: LD_INT 6
5943: PPUSH
5944: CALL 6343 0 6
// RespawnInside ( 3 , 3 , rulab , rand ( RuSolMinLevel , RuSolMaxLevel ) , 4 , 2 ) ;
5948: LD_INT 3
5950: PPUSH
5951: LD_INT 3
5953: PPUSH
5954: LD_INT 32
5956: PPUSH
5957: LD_EXP 34
5961: PPUSH
5962: LD_EXP 35
5966: PPUSH
5967: CALL_OW 12
5971: PPUSH
5972: LD_INT 4
5974: PPUSH
5975: LD_INT 2
5977: PPUSH
5978: CALL 6343 0 6
// for i in FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_building ] , [ f_btype , b_bunker ] ] ) do
5982: LD_ADDR_VAR 0 2
5986: PUSH
5987: LD_INT 22
5989: PUSH
5990: LD_INT 3
5992: PUSH
5993: EMPTY
5994: LIST
5995: LIST
5996: PUSH
5997: LD_INT 21
5999: PUSH
6000: LD_INT 3
6002: PUSH
6003: EMPTY
6004: LIST
6005: LIST
6006: PUSH
6007: LD_INT 30
6009: PUSH
6010: LD_INT 32
6012: PUSH
6013: EMPTY
6014: LIST
6015: LIST
6016: PUSH
6017: EMPTY
6018: LIST
6019: LIST
6020: LIST
6021: PPUSH
6022: CALL_OW 69
6026: PUSH
6027: FOR_IN
6028: IFFALSE 6068
// RespawnInside ( 3 , 3 , i , rand ( RuSolMinLevel , RuSolMaxLevel ) , 1 , 1 ) ;
6030: LD_INT 3
6032: PPUSH
6033: LD_INT 3
6035: PPUSH
6036: LD_VAR 0 2
6040: PPUSH
6041: LD_EXP 34
6045: PPUSH
6046: LD_EXP 35
6050: PPUSH
6051: CALL_OW 12
6055: PPUSH
6056: LD_INT 1
6058: PPUSH
6059: LD_INT 1
6061: PPUSH
6062: CALL 6343 0 6
6066: GO 6027
6068: POP
6069: POP
// for i in FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_building ] , [ f_btype , 31 ] ] ) do
6070: LD_ADDR_VAR 0 2
6074: PUSH
6075: LD_INT 22
6077: PUSH
6078: LD_INT 3
6080: PUSH
6081: EMPTY
6082: LIST
6083: LIST
6084: PUSH
6085: LD_INT 21
6087: PUSH
6088: LD_INT 3
6090: PUSH
6091: EMPTY
6092: LIST
6093: LIST
6094: PUSH
6095: LD_INT 30
6097: PUSH
6098: LD_INT 31
6100: PUSH
6101: EMPTY
6102: LIST
6103: LIST
6104: PUSH
6105: EMPTY
6106: LIST
6107: LIST
6108: LIST
6109: PPUSH
6110: CALL_OW 69
6114: PUSH
6115: FOR_IN
6116: IFFALSE 6144
// PrepareSolBun ( rand ( RuSolMinLevel , RuSolMaxLevel ) , i ) ;
6118: LD_EXP 34
6122: PPUSH
6123: LD_EXP 35
6127: PPUSH
6128: CALL_OW 12
6132: PPUSH
6133: LD_VAR 0 2
6137: PPUSH
6138: CALL 6453 0 2
6142: GO 6115
6144: POP
6145: POP
// end ; end_of_file
6146: LD_VAR 0 1
6150: RET
// export function PrepareUnit ( ident , exist_mode ) ; var unit ; begin
6151: LD_INT 0
6153: PPUSH
6154: PPUSH
// if exist_mode then
6155: LD_VAR 0 2
6159: IFFALSE 6184
// begin unit := CreateCharacter ( mission_prefix_prev & ident ) ;
6161: LD_ADDR_VAR 0 4
6165: PUSH
6166: LD_EXP 44
6170: PUSH
6171: LD_VAR 0 1
6175: STR
6176: PPUSH
6177: CALL_OW 34
6181: ST_TO_ADDR
// end else
6182: GO 6199
// begin unit := NewCharacter ( ident ) ;
6184: LD_ADDR_VAR 0 4
6188: PUSH
6189: LD_VAR 0 1
6193: PPUSH
6194: CALL_OW 25
6198: ST_TO_ADDR
// end ; result := unit ;
6199: LD_ADDR_VAR 0 3
6203: PUSH
6204: LD_VAR 0 4
6208: ST_TO_ADDR
// end ;
6209: LD_VAR 0 3
6213: RET
// export function DialogRandom ( characters , dialogMID , dialogFID ) ; var i , speaker ; begin
6214: LD_INT 0
6216: PPUSH
6217: PPUSH
6218: PPUSH
// speaker := characters [ rand ( 1 , characters ) ] ;
6219: LD_ADDR_VAR 0 6
6223: PUSH
6224: LD_VAR 0 1
6228: PUSH
6229: LD_INT 1
6231: PPUSH
6232: LD_VAR 0 1
6236: PPUSH
6237: CALL_OW 12
6241: ARRAY
6242: ST_TO_ADDR
// if GetSex ( speaker ) = sex_male then
6243: LD_VAR 0 6
6247: PPUSH
6248: CALL_OW 258
6252: PUSH
6253: LD_INT 1
6255: EQUAL
6256: IFFALSE 6274
// Say ( speaker , dialogMID ) else
6258: LD_VAR 0 6
6262: PPUSH
6263: LD_VAR 0 2
6267: PPUSH
6268: CALL_OW 88
6272: GO 6288
// Say ( speaker , dialogFID ) ;
6274: LD_VAR 0 6
6278: PPUSH
6279: LD_VAR 0 3
6283: PPUSH
6284: CALL_OW 88
// result := speaker ;
6288: LD_ADDR_VAR 0 4
6292: PUSH
6293: LD_VAR 0 6
6297: ST_TO_ADDR
// end ;
6298: LD_VAR 0 4
6302: RET
// export function EnchancedSaveCharacters ( charactersList , ident ) ; var i ; begin
6303: LD_INT 0
6305: PPUSH
6306: PPUSH
// for i in charactersList do
6307: LD_ADDR_VAR 0 4
6311: PUSH
6312: LD_VAR 0 1
6316: PUSH
6317: FOR_IN
6318: IFFALSE 6336
// SaveCharacters ( i , ident ) ;
6320: LD_VAR 0 4
6324: PPUSH
6325: LD_VAR 0 2
6329: PPUSH
6330: CALL_OW 38
6334: GO 6317
6336: POP
6337: POP
// end ;
6338: LD_VAR 0 3
6342: RET
// export function RespawnInside ( side , nation , build , skill , class , count ) ; var i , l , un ; begin
6343: LD_INT 0
6345: PPUSH
6346: PPUSH
6347: PPUSH
6348: PPUSH
// for i = 1 to count do
6349: LD_ADDR_VAR 0 8
6353: PUSH
6354: DOUBLE
6355: LD_INT 1
6357: DEC
6358: ST_TO_ADDR
6359: LD_VAR 0 6
6363: PUSH
6364: FOR_TO
6365: IFFALSE 6446
// begin uc_side = side ;
6367: LD_ADDR_OWVAR 20
6371: PUSH
6372: LD_VAR 0 1
6376: ST_TO_ADDR
// uc_nation = nation ;
6377: LD_ADDR_OWVAR 21
6381: PUSH
6382: LD_VAR 0 2
6386: ST_TO_ADDR
// hc_gallery =  ;
6387: LD_ADDR_OWVAR 33
6391: PUSH
6392: LD_STRING 
6394: ST_TO_ADDR
// hc_name =  ;
6395: LD_ADDR_OWVAR 26
6399: PUSH
6400: LD_STRING 
6402: ST_TO_ADDR
// PrepareHuman ( false , class , skill ) ;
6403: LD_INT 0
6405: PPUSH
6406: LD_VAR 0 5
6410: PPUSH
6411: LD_VAR 0 4
6415: PPUSH
6416: CALL_OW 380
// un = CreateHuman ;
6420: LD_ADDR_VAR 0 10
6424: PUSH
6425: CALL_OW 44
6429: ST_TO_ADDR
// PlaceHumanInUnit ( un , build ) ;
6430: LD_VAR 0 10
6434: PPUSH
6435: LD_VAR 0 3
6439: PPUSH
6440: CALL_OW 52
// end ;
6444: GO 6364
6446: POP
6447: POP
// end ;
6448: LD_VAR 0 7
6452: RET
// export function PrepareSolBun ( skill , b ) ; var un , dir ; begin
6453: LD_INT 0
6455: PPUSH
6456: PPUSH
6457: PPUSH
// uc_side := GetSide ( b ) ;
6458: LD_ADDR_OWVAR 20
6462: PUSH
6463: LD_VAR 0 2
6467: PPUSH
6468: CALL_OW 255
6472: ST_TO_ADDR
// uc_nation := GetNation ( b ) ;
6473: LD_ADDR_OWVAR 21
6477: PUSH
6478: LD_VAR 0 2
6482: PPUSH
6483: CALL_OW 248
6487: ST_TO_ADDR
// PrepareHuman ( false , 1 , skill ) ;
6488: LD_INT 0
6490: PPUSH
6491: LD_INT 1
6493: PPUSH
6494: LD_VAR 0 1
6498: PPUSH
6499: CALL_OW 380
// dir := GetDir ( b ) - 3 ;
6503: LD_ADDR_VAR 0 5
6507: PUSH
6508: LD_VAR 0 2
6512: PPUSH
6513: CALL_OW 254
6517: PUSH
6518: LD_INT 3
6520: MINUS
6521: ST_TO_ADDR
// if dir < 0 then
6522: LD_VAR 0 5
6526: PUSH
6527: LD_INT 0
6529: LESS
6530: IFFALSE 6546
// dir := 6 + dir ;
6532: LD_ADDR_VAR 0 5
6536: PUSH
6537: LD_INT 6
6539: PUSH
6540: LD_VAR 0 5
6544: PLUS
6545: ST_TO_ADDR
// un := CreateHuman ;
6546: LD_ADDR_VAR 0 4
6550: PUSH
6551: CALL_OW 44
6555: ST_TO_ADDR
// SetDir ( un , dir ) ;
6556: LD_VAR 0 4
6560: PPUSH
6561: LD_VAR 0 5
6565: PPUSH
6566: CALL_OW 233
// PlaceHumanInUnit ( un , b ) ;
6570: LD_VAR 0 4
6574: PPUSH
6575: LD_VAR 0 2
6579: PPUSH
6580: CALL_OW 52
// end ;
6584: LD_VAR 0 3
6588: RET
// export function PrepareDifficulty ; begin
6589: LD_INT 0
6591: PPUSH
// if Difficulty = 1 then
6592: LD_OWVAR 67
6596: PUSH
6597: LD_INT 1
6599: EQUAL
6600: IFFALSE 6618
// begin RuSolMinLevel = 2 ;
6602: LD_ADDR_EXP 34
6606: PUSH
6607: LD_INT 2
6609: ST_TO_ADDR
// RuSolMaxLevel = 3 ;
6610: LD_ADDR_EXP 35
6614: PUSH
6615: LD_INT 3
6617: ST_TO_ADDR
// end ; if Difficulty = 2 then
6618: LD_OWVAR 67
6622: PUSH
6623: LD_INT 2
6625: EQUAL
6626: IFFALSE 6644
// begin RuSolMinLevel = 3 ;
6628: LD_ADDR_EXP 34
6632: PUSH
6633: LD_INT 3
6635: ST_TO_ADDR
// RuSolMaxLevel = 5 ;
6636: LD_ADDR_EXP 35
6640: PUSH
6641: LD_INT 5
6643: ST_TO_ADDR
// end ; if Difficulty = 3 then
6644: LD_OWVAR 67
6648: PUSH
6649: LD_INT 3
6651: EQUAL
6652: IFFALSE 6670
// begin RuSolMinLevel = 4 ;
6654: LD_ADDR_EXP 34
6658: PUSH
6659: LD_INT 4
6661: ST_TO_ADDR
// RuSolMaxLevel = 6 ;
6662: LD_ADDR_EXP 35
6666: PUSH
6667: LD_INT 6
6669: ST_TO_ADDR
// end ; end ;
6670: LD_VAR 0 1
6674: RET
// export function ShowQuery1 ; begin
6675: LD_INT 0
6677: PPUSH
// case query ( QKill ) of 1 :
6678: LD_STRING QKill
6680: PPUSH
6681: CALL_OW 97
6685: PUSH
6686: LD_INT 1
6688: DOUBLE
6689: EQUAL
6690: IFTRUE 6694
6692: GO 6705
6694: POP
// begin result = 1 ;
6695: LD_ADDR_VAR 0 1
6699: PUSH
6700: LD_INT 1
6702: ST_TO_ADDR
// end ; 2 :
6703: GO 6744
6705: LD_INT 2
6707: DOUBLE
6708: EQUAL
6709: IFTRUE 6713
6711: GO 6724
6713: POP
// begin result = 2 ;
6714: LD_ADDR_VAR 0 1
6718: PUSH
6719: LD_INT 2
6721: ST_TO_ADDR
// end ; 3 :
6722: GO 6744
6724: LD_INT 3
6726: DOUBLE
6727: EQUAL
6728: IFTRUE 6732
6730: GO 6743
6732: POP
// begin result = 3 ;
6733: LD_ADDR_VAR 0 1
6737: PUSH
6738: LD_INT 3
6740: ST_TO_ADDR
// end ; end ;
6741: GO 6744
6743: POP
// end ;
6744: LD_VAR 0 1
6748: RET
// export function ShowQuery2 ; begin
6749: LD_INT 0
6751: PPUSH
// case query ( QKill2 ) of 1 :
6752: LD_STRING QKill2
6754: PPUSH
6755: CALL_OW 97
6759: PUSH
6760: LD_INT 1
6762: DOUBLE
6763: EQUAL
6764: IFTRUE 6768
6766: GO 6779
6768: POP
// begin result = 1 ;
6769: LD_ADDR_VAR 0 1
6773: PUSH
6774: LD_INT 1
6776: ST_TO_ADDR
// end ; 2 :
6777: GO 6799
6779: LD_INT 2
6781: DOUBLE
6782: EQUAL
6783: IFTRUE 6787
6785: GO 6798
6787: POP
// begin result = 2 ;
6788: LD_ADDR_VAR 0 1
6792: PUSH
6793: LD_INT 2
6795: ST_TO_ADDR
// end ; end ;
6796: GO 6799
6798: POP
// end ;
6799: LD_VAR 0 1
6803: RET
// export function ResAllTechs ( side , lab , nation ) ; var i , tech , cout , ru_tech_list ; begin
6804: LD_INT 0
6806: PPUSH
6807: PPUSH
6808: PPUSH
6809: PPUSH
6810: PPUSH
// ru_tech_list := [ 48 , 49 , 50 , 20 , 1 , 51 , 52 , 69 , 39 , 34 , 40 , 53 , 71 , 57 , 58 , 44 , 32 , 27 , 23 , 33 , 59 , 54 , 55 , 56 , 63 , 64 , 65 , 30 , 31 , 21 , 22 , 25 ] ;
6811: LD_ADDR_VAR 0 8
6815: PUSH
6816: LD_INT 48
6818: PUSH
6819: LD_INT 49
6821: PUSH
6822: LD_INT 50
6824: PUSH
6825: LD_INT 20
6827: PUSH
6828: LD_INT 1
6830: PUSH
6831: LD_INT 51
6833: PUSH
6834: LD_INT 52
6836: PUSH
6837: LD_INT 69
6839: PUSH
6840: LD_INT 39
6842: PUSH
6843: LD_INT 34
6845: PUSH
6846: LD_INT 40
6848: PUSH
6849: LD_INT 53
6851: PUSH
6852: LD_INT 71
6854: PUSH
6855: LD_INT 57
6857: PUSH
6858: LD_INT 58
6860: PUSH
6861: LD_INT 44
6863: PUSH
6864: LD_INT 32
6866: PUSH
6867: LD_INT 27
6869: PUSH
6870: LD_INT 23
6872: PUSH
6873: LD_INT 33
6875: PUSH
6876: LD_INT 59
6878: PUSH
6879: LD_INT 54
6881: PUSH
6882: LD_INT 55
6884: PUSH
6885: LD_INT 56
6887: PUSH
6888: LD_INT 63
6890: PUSH
6891: LD_INT 64
6893: PUSH
6894: LD_INT 65
6896: PUSH
6897: LD_INT 30
6899: PUSH
6900: LD_INT 31
6902: PUSH
6903: LD_INT 21
6905: PUSH
6906: LD_INT 22
6908: PUSH
6909: LD_INT 25
6911: PUSH
6912: EMPTY
6913: LIST
6914: LIST
6915: LIST
6916: LIST
6917: LIST
6918: LIST
6919: LIST
6920: LIST
6921: LIST
6922: LIST
6923: LIST
6924: LIST
6925: LIST
6926: LIST
6927: LIST
6928: LIST
6929: LIST
6930: LIST
6931: LIST
6932: LIST
6933: LIST
6934: LIST
6935: LIST
6936: LIST
6937: LIST
6938: LIST
6939: LIST
6940: LIST
6941: LIST
6942: LIST
6943: LIST
6944: LIST
6945: ST_TO_ADDR
// for i = 1 to ru_tech_list do
6946: LD_ADDR_VAR 0 5
6950: PUSH
6951: DOUBLE
6952: LD_INT 1
6954: DEC
6955: ST_TO_ADDR
6956: LD_VAR 0 8
6960: PUSH
6961: FOR_TO
6962: IFFALSE 7038
// if GetTech ( ru_tech_list [ i ] , side ) = state_enabled and TechNationAvailable ( ru_tech_list [ i ] , nation ) = true then
6964: LD_VAR 0 8
6968: PUSH
6969: LD_VAR 0 5
6973: ARRAY
6974: PPUSH
6975: LD_VAR 0 1
6979: PPUSH
6980: CALL_OW 321
6984: PUSH
6985: LD_INT 1
6987: EQUAL
6988: PUSH
6989: LD_VAR 0 8
6993: PUSH
6994: LD_VAR 0 5
6998: ARRAY
6999: PPUSH
7000: LD_VAR 0 3
7004: PPUSH
7005: CALL_OW 482
7009: PUSH
7010: LD_INT 1
7012: EQUAL
7013: AND
7014: IFFALSE 7036
// AddComResearch ( lab , ru_tech_list [ i ] ) ;
7016: LD_VAR 0 2
7020: PPUSH
7021: LD_VAR 0 8
7025: PUSH
7026: LD_VAR 0 5
7030: ARRAY
7031: PPUSH
7032: CALL_OW 184
7036: GO 6961
7038: POP
7039: POP
// end ;
7040: LD_VAR 0 4
7044: RET
// export function BuildingVehicleAndAttackEnemy ( side , fabric , vehCount , weaponTab , engine , control , chassis ) ; var i , weapon ; begin
7045: LD_INT 0
7047: PPUSH
7048: PPUSH
7049: PPUSH
// if FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_vehicle ] ] ) <= vehCount then
7050: LD_INT 22
7052: PUSH
7053: LD_VAR 0 1
7057: PUSH
7058: EMPTY
7059: LIST
7060: LIST
7061: PUSH
7062: LD_INT 21
7064: PUSH
7065: LD_INT 2
7067: PUSH
7068: EMPTY
7069: LIST
7070: LIST
7071: PUSH
7072: EMPTY
7073: LIST
7074: LIST
7075: PPUSH
7076: CALL_OW 69
7080: PUSH
7081: LD_VAR 0 3
7085: LESSEQUAL
7086: IFFALSE 7194
// begin for i = 1 to vehCount do
7088: LD_ADDR_VAR 0 9
7092: PUSH
7093: DOUBLE
7094: LD_INT 1
7096: DEC
7097: ST_TO_ADDR
7098: LD_VAR 0 3
7102: PUSH
7103: FOR_TO
7104: IFFALSE 7192
// begin weapon = weaponTab [ i ] ;
7106: LD_ADDR_VAR 0 10
7110: PUSH
7111: LD_VAR 0 4
7115: PUSH
7116: LD_VAR 0 9
7120: ARRAY
7121: ST_TO_ADDR
// if weapon = 46 then
7122: LD_VAR 0 10
7126: PUSH
7127: LD_INT 46
7129: EQUAL
7130: IFFALSE 7161
// begin AddComConstruct ( fabric , 24 , engine , control , weapon ) ;
7132: LD_VAR 0 2
7136: PPUSH
7137: LD_INT 24
7139: PPUSH
7140: LD_VAR 0 5
7144: PPUSH
7145: LD_VAR 0 6
7149: PPUSH
7150: LD_VAR 0 10
7154: PPUSH
7155: CALL_OW 185
// end else
7159: GO 7190
// begin AddComConstruct ( fabric , chassis , engine , control , weapon ) ;
7161: LD_VAR 0 2
7165: PPUSH
7166: LD_VAR 0 7
7170: PPUSH
7171: LD_VAR 0 5
7175: PPUSH
7176: LD_VAR 0 6
7180: PPUSH
7181: LD_VAR 0 10
7185: PPUSH
7186: CALL_OW 185
// end ; end ;
7190: GO 7103
7192: POP
7193: POP
// end ; end ;
7194: LD_VAR 0 8
7198: RET
// export function RepairVehicles ( side , area , repX , repY ) ; var i , j , damageVehicles ; begin
7199: LD_INT 0
7201: PPUSH
7202: PPUSH
7203: PPUSH
7204: PPUSH
// damageVehicles = FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_not , [ f_lives , 650 ] ] ] ) ;
7205: LD_ADDR_VAR 0 8
7209: PUSH
7210: LD_INT 22
7212: PUSH
7213: LD_VAR 0 1
7217: PUSH
7218: EMPTY
7219: LIST
7220: LIST
7221: PUSH
7222: LD_INT 21
7224: PUSH
7225: LD_INT 2
7227: PUSH
7228: EMPTY
7229: LIST
7230: LIST
7231: PUSH
7232: LD_INT 3
7234: PUSH
7235: LD_INT 24
7237: PUSH
7238: LD_INT 650
7240: PUSH
7241: EMPTY
7242: LIST
7243: LIST
7244: PUSH
7245: EMPTY
7246: LIST
7247: LIST
7248: PUSH
7249: EMPTY
7250: LIST
7251: LIST
7252: LIST
7253: PPUSH
7254: CALL_OW 69
7258: ST_TO_ADDR
// if damageVehicles > 0 then
7259: LD_VAR 0 8
7263: PUSH
7264: LD_INT 0
7266: GREATER
7267: IFFALSE 7288
// ComMoveXY ( damageVehicles , repX , repY ) ;
7269: LD_VAR 0 8
7273: PPUSH
7274: LD_VAR 0 3
7278: PPUSH
7279: LD_VAR 0 4
7283: PPUSH
7284: CALL_OW 111
// if UnitFilter ( damageVehicles , [ [ f_inarea , area ] , [ f_not , [ f_empty ] ] ] ) > 0 then
7288: LD_VAR 0 8
7292: PPUSH
7293: LD_INT 95
7295: PUSH
7296: LD_VAR 0 2
7300: PUSH
7301: EMPTY
7302: LIST
7303: LIST
7304: PUSH
7305: LD_INT 3
7307: PUSH
7308: LD_INT 58
7310: PUSH
7311: EMPTY
7312: LIST
7313: PUSH
7314: EMPTY
7315: LIST
7316: LIST
7317: PUSH
7318: EMPTY
7319: LIST
7320: LIST
7321: PPUSH
7322: CALL_OW 72
7326: PUSH
7327: LD_INT 0
7329: GREATER
7330: IFFALSE 7397
// for i in UnitFilter ( damageVehicles , [ [ f_inarea , area ] , [ f_not , [ f_empty ] ] ] ) do
7332: LD_ADDR_VAR 0 6
7336: PUSH
7337: LD_VAR 0 8
7341: PPUSH
7342: LD_INT 95
7344: PUSH
7345: LD_VAR 0 2
7349: PUSH
7350: EMPTY
7351: LIST
7352: LIST
7353: PUSH
7354: LD_INT 3
7356: PUSH
7357: LD_INT 58
7359: PUSH
7360: EMPTY
7361: LIST
7362: PUSH
7363: EMPTY
7364: LIST
7365: LIST
7366: PUSH
7367: EMPTY
7368: LIST
7369: LIST
7370: PPUSH
7371: CALL_OW 72
7375: PUSH
7376: FOR_IN
7377: IFFALSE 7395
// ComExitVehicle ( UnitsInside ( i ) ) ;
7379: LD_VAR 0 6
7383: PPUSH
7384: CALL_OW 313
7388: PPUSH
7389: CALL_OW 121
7393: GO 7376
7395: POP
7396: POP
// end ;
7397: LD_VAR 0 5
7401: RET
// export function AttackVehicles ( side , meetArea , wayX , wayY ) ; var i , j , vehiclesOK , target1 , target2 , seeEnemy ; begin
7402: LD_INT 0
7404: PPUSH
7405: PPUSH
7406: PPUSH
7407: PPUSH
7408: PPUSH
7409: PPUSH
7410: PPUSH
// vehiclesOK = FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_lives , 660 ] , [ f_not , [ f_empty ] , [ f_or , [ f_weapon , 43 ] , [ f_weapon , 44 ] , [ f_weapon , 46 ] ] ] ] ) ;
7411: LD_ADDR_VAR 0 8
7415: PUSH
7416: LD_INT 22
7418: PUSH
7419: LD_VAR 0 1
7423: PUSH
7424: EMPTY
7425: LIST
7426: LIST
7427: PUSH
7428: LD_INT 21
7430: PUSH
7431: LD_INT 2
7433: PUSH
7434: EMPTY
7435: LIST
7436: LIST
7437: PUSH
7438: LD_INT 24
7440: PUSH
7441: LD_INT 660
7443: PUSH
7444: EMPTY
7445: LIST
7446: LIST
7447: PUSH
7448: LD_INT 3
7450: PUSH
7451: LD_INT 58
7453: PUSH
7454: EMPTY
7455: LIST
7456: PUSH
7457: LD_INT 2
7459: PUSH
7460: LD_INT 34
7462: PUSH
7463: LD_INT 43
7465: PUSH
7466: EMPTY
7467: LIST
7468: LIST
7469: PUSH
7470: LD_INT 34
7472: PUSH
7473: LD_INT 44
7475: PUSH
7476: EMPTY
7477: LIST
7478: LIST
7479: PUSH
7480: LD_INT 34
7482: PUSH
7483: LD_INT 46
7485: PUSH
7486: EMPTY
7487: LIST
7488: LIST
7489: PUSH
7490: EMPTY
7491: LIST
7492: LIST
7493: LIST
7494: LIST
7495: PUSH
7496: EMPTY
7497: LIST
7498: LIST
7499: LIST
7500: PUSH
7501: EMPTY
7502: LIST
7503: LIST
7504: LIST
7505: LIST
7506: PPUSH
7507: CALL_OW 69
7511: ST_TO_ADDR
// if FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_lives , 1000 ] , [ f_not , [ f_empty ] , [ f_or , [ f_weapon , 43 ] , [ f_weapon , 44 ] , [ f_weapon , 46 ] ] ] ] ) = [ 5 , 6 , 6 ] [ Difficulty ] then
7512: LD_INT 22
7514: PUSH
7515: LD_VAR 0 1
7519: PUSH
7520: EMPTY
7521: LIST
7522: LIST
7523: PUSH
7524: LD_INT 21
7526: PUSH
7527: LD_INT 2
7529: PUSH
7530: EMPTY
7531: LIST
7532: LIST
7533: PUSH
7534: LD_INT 24
7536: PUSH
7537: LD_INT 1000
7539: PUSH
7540: EMPTY
7541: LIST
7542: LIST
7543: PUSH
7544: LD_INT 3
7546: PUSH
7547: LD_INT 58
7549: PUSH
7550: EMPTY
7551: LIST
7552: PUSH
7553: LD_INT 2
7555: PUSH
7556: LD_INT 34
7558: PUSH
7559: LD_INT 43
7561: PUSH
7562: EMPTY
7563: LIST
7564: LIST
7565: PUSH
7566: LD_INT 34
7568: PUSH
7569: LD_INT 44
7571: PUSH
7572: EMPTY
7573: LIST
7574: LIST
7575: PUSH
7576: LD_INT 34
7578: PUSH
7579: LD_INT 46
7581: PUSH
7582: EMPTY
7583: LIST
7584: LIST
7585: PUSH
7586: EMPTY
7587: LIST
7588: LIST
7589: LIST
7590: LIST
7591: PUSH
7592: EMPTY
7593: LIST
7594: LIST
7595: LIST
7596: PUSH
7597: EMPTY
7598: LIST
7599: LIST
7600: LIST
7601: LIST
7602: PPUSH
7603: CALL_OW 69
7607: PUSH
7608: LD_INT 5
7610: PUSH
7611: LD_INT 6
7613: PUSH
7614: LD_INT 6
7616: PUSH
7617: EMPTY
7618: LIST
7619: LIST
7620: LIST
7621: PUSH
7622: LD_OWVAR 67
7626: ARRAY
7627: EQUAL
7628: IFFALSE 7884
// if seeEnemy = 0 then
7630: LD_VAR 0 11
7634: PUSH
7635: LD_INT 0
7637: EQUAL
7638: IFFALSE 7884
// repeat wait ( 0 0$1 ) ;
7640: LD_INT 35
7642: PPUSH
7643: CALL_OW 67
// vehiclesOK = FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_lives , 660 ] , [ f_not , [ f_empty ] , [ f_or , [ f_weapon , 43 ] , [ f_weapon , 44 ] , [ f_weapon , 46 ] ] ] ] ) ;
7647: LD_ADDR_VAR 0 8
7651: PUSH
7652: LD_INT 22
7654: PUSH
7655: LD_VAR 0 1
7659: PUSH
7660: EMPTY
7661: LIST
7662: LIST
7663: PUSH
7664: LD_INT 21
7666: PUSH
7667: LD_INT 2
7669: PUSH
7670: EMPTY
7671: LIST
7672: LIST
7673: PUSH
7674: LD_INT 24
7676: PUSH
7677: LD_INT 660
7679: PUSH
7680: EMPTY
7681: LIST
7682: LIST
7683: PUSH
7684: LD_INT 3
7686: PUSH
7687: LD_INT 58
7689: PUSH
7690: EMPTY
7691: LIST
7692: PUSH
7693: LD_INT 2
7695: PUSH
7696: LD_INT 34
7698: PUSH
7699: LD_INT 43
7701: PUSH
7702: EMPTY
7703: LIST
7704: LIST
7705: PUSH
7706: LD_INT 34
7708: PUSH
7709: LD_INT 44
7711: PUSH
7712: EMPTY
7713: LIST
7714: LIST
7715: PUSH
7716: LD_INT 34
7718: PUSH
7719: LD_INT 46
7721: PUSH
7722: EMPTY
7723: LIST
7724: LIST
7725: PUSH
7726: EMPTY
7727: LIST
7728: LIST
7729: LIST
7730: LIST
7731: PUSH
7732: EMPTY
7733: LIST
7734: LIST
7735: LIST
7736: PUSH
7737: EMPTY
7738: LIST
7739: LIST
7740: LIST
7741: LIST
7742: PPUSH
7743: CALL_OW 69
7747: ST_TO_ADDR
// if not FilterAllUnits ( [ [ f_side , side ] , [ f_inarea , meetArea ] ] ) and seeEnemy = 0 then
7748: LD_INT 22
7750: PUSH
7751: LD_VAR 0 1
7755: PUSH
7756: EMPTY
7757: LIST
7758: LIST
7759: PUSH
7760: LD_INT 95
7762: PUSH
7763: LD_VAR 0 2
7767: PUSH
7768: EMPTY
7769: LIST
7770: LIST
7771: PUSH
7772: EMPTY
7773: LIST
7774: LIST
7775: PPUSH
7776: CALL_OW 69
7780: NOT
7781: PUSH
7782: LD_VAR 0 11
7786: PUSH
7787: LD_INT 0
7789: EQUAL
7790: AND
7791: IFFALSE 7846
// for i := 1 to wayX do
7793: LD_ADDR_VAR 0 6
7797: PUSH
7798: DOUBLE
7799: LD_INT 1
7801: DEC
7802: ST_TO_ADDR
7803: LD_VAR 0 3
7807: PUSH
7808: FOR_TO
7809: IFFALSE 7844
// ComAgressiveMove ( vehiclesOK , wayX [ i ] , wayY [ i ] ) ;
7811: LD_VAR 0 8
7815: PPUSH
7816: LD_VAR 0 3
7820: PUSH
7821: LD_VAR 0 6
7825: ARRAY
7826: PPUSH
7827: LD_VAR 0 4
7831: PUSH
7832: LD_VAR 0 6
7836: ARRAY
7837: PPUSH
7838: CALL_OW 114
7842: GO 7808
7844: POP
7845: POP
// until FilterAllUnits ( [ [ f_side , side ] , [ f_inarea , meetArea ] ] ) > 0 ;
7846: LD_INT 22
7848: PUSH
7849: LD_VAR 0 1
7853: PUSH
7854: EMPTY
7855: LIST
7856: LIST
7857: PUSH
7858: LD_INT 95
7860: PUSH
7861: LD_VAR 0 2
7865: PUSH
7866: EMPTY
7867: LIST
7868: LIST
7869: PUSH
7870: EMPTY
7871: LIST
7872: LIST
7873: PPUSH
7874: CALL_OW 69
7878: PUSH
7879: LD_INT 0
7881: GREATER
7882: IFFALSE 7640
// seeEnemy = 1 ;
7884: LD_ADDR_VAR 0 11
7888: PUSH
7889: LD_INT 1
7891: ST_TO_ADDR
// repeat wait ( 0 0$1 ) ;
7892: LD_INT 35
7894: PPUSH
7895: CALL_OW 67
// for j in vehiclesOK do
7899: LD_ADDR_VAR 0 7
7903: PUSH
7904: LD_VAR 0 8
7908: PUSH
7909: FOR_IN
7910: IFFALSE 8123
// begin target1 := NearestUnitToUnit ( FilterAllUnits ( [ [ f_enemy , side ] , [ f_see , 1 ] ] ) diff ignoreTarget , j ) ;
7912: LD_ADDR_VAR 0 9
7916: PUSH
7917: LD_INT 81
7919: PUSH
7920: LD_VAR 0 1
7924: PUSH
7925: EMPTY
7926: LIST
7927: LIST
7928: PUSH
7929: LD_INT 101
7931: PUSH
7932: LD_INT 1
7934: PUSH
7935: EMPTY
7936: LIST
7937: LIST
7938: PUSH
7939: EMPTY
7940: LIST
7941: LIST
7942: PPUSH
7943: CALL_OW 69
7947: PUSH
7948: LD_EXP 45
7952: DIFF
7953: PPUSH
7954: LD_VAR 0 7
7958: PPUSH
7959: CALL_OW 74
7963: ST_TO_ADDR
// target2 := NearestUnitToUnit ( FilterAllUnits ( [ [ [ f_enemy , side ] , [ f_see , 1 ] , [ f_or , [ f_occupied ] , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] ] ] ) diff ignoreTarget , j ) ;
7964: LD_ADDR_VAR 0 10
7968: PUSH
7969: LD_INT 81
7971: PUSH
7972: LD_VAR 0 1
7976: PUSH
7977: EMPTY
7978: LIST
7979: LIST
7980: PUSH
7981: LD_INT 101
7983: PUSH
7984: LD_INT 1
7986: PUSH
7987: EMPTY
7988: LIST
7989: LIST
7990: PUSH
7991: LD_INT 2
7993: PUSH
7994: LD_INT 59
7996: PUSH
7997: EMPTY
7998: LIST
7999: PUSH
8000: LD_INT 21
8002: PUSH
8003: LD_INT 1
8005: PUSH
8006: EMPTY
8007: LIST
8008: LIST
8009: PUSH
8010: LD_INT 21
8012: PUSH
8013: LD_INT 2
8015: PUSH
8016: EMPTY
8017: LIST
8018: LIST
8019: PUSH
8020: EMPTY
8021: LIST
8022: LIST
8023: LIST
8024: LIST
8025: PUSH
8026: EMPTY
8027: LIST
8028: LIST
8029: LIST
8030: PUSH
8031: EMPTY
8032: LIST
8033: PPUSH
8034: CALL_OW 69
8038: PUSH
8039: LD_EXP 45
8043: DIFF
8044: PPUSH
8045: LD_VAR 0 7
8049: PPUSH
8050: CALL_OW 74
8054: ST_TO_ADDR
// if GetDistUnits ( j , target1 ) + 8 < GetDistUnits ( j , target2 ) then
8055: LD_VAR 0 7
8059: PPUSH
8060: LD_VAR 0 9
8064: PPUSH
8065: CALL_OW 296
8069: PUSH
8070: LD_INT 8
8072: PLUS
8073: PUSH
8074: LD_VAR 0 7
8078: PPUSH
8079: LD_VAR 0 10
8083: PPUSH
8084: CALL_OW 296
8088: LESS
8089: IFFALSE 8107
// ComAttackUnit ( j , target1 ) else
8091: LD_VAR 0 7
8095: PPUSH
8096: LD_VAR 0 9
8100: PPUSH
8101: CALL_OW 115
8105: GO 8121
// ComAttackUnit ( j , target2 ) ;
8107: LD_VAR 0 7
8111: PPUSH
8112: LD_VAR 0 10
8116: PPUSH
8117: CALL_OW 115
// end ;
8121: GO 7909
8123: POP
8124: POP
// until FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_lives , 1000 ] , [ f_not , [ f_empty ] , [ f_or , [ f_weapon , 43 ] , [ f_weapon , 44 ] , [ f_weapon , 46 ] ] ] ] ) = 0 ;
8125: LD_INT 22
8127: PUSH
8128: LD_VAR 0 1
8132: PUSH
8133: EMPTY
8134: LIST
8135: LIST
8136: PUSH
8137: LD_INT 21
8139: PUSH
8140: LD_INT 2
8142: PUSH
8143: EMPTY
8144: LIST
8145: LIST
8146: PUSH
8147: LD_INT 24
8149: PUSH
8150: LD_INT 1000
8152: PUSH
8153: EMPTY
8154: LIST
8155: LIST
8156: PUSH
8157: LD_INT 3
8159: PUSH
8160: LD_INT 58
8162: PUSH
8163: EMPTY
8164: LIST
8165: PUSH
8166: LD_INT 2
8168: PUSH
8169: LD_INT 34
8171: PUSH
8172: LD_INT 43
8174: PUSH
8175: EMPTY
8176: LIST
8177: LIST
8178: PUSH
8179: LD_INT 34
8181: PUSH
8182: LD_INT 44
8184: PUSH
8185: EMPTY
8186: LIST
8187: LIST
8188: PUSH
8189: LD_INT 34
8191: PUSH
8192: LD_INT 46
8194: PUSH
8195: EMPTY
8196: LIST
8197: LIST
8198: PUSH
8199: EMPTY
8200: LIST
8201: LIST
8202: LIST
8203: LIST
8204: PUSH
8205: EMPTY
8206: LIST
8207: LIST
8208: LIST
8209: PUSH
8210: EMPTY
8211: LIST
8212: LIST
8213: LIST
8214: LIST
8215: PPUSH
8216: CALL_OW 69
8220: PUSH
8221: LD_INT 0
8223: EQUAL
8224: IFFALSE 7892
// seeEnemy = 0 ;
8226: LD_ADDR_VAR 0 11
8230: PUSH
8231: LD_INT 0
8233: ST_TO_ADDR
// end ;
8234: LD_VAR 0 5
8238: RET
// export function RepairAndRebuildBase ( side , building , area , destroyedBuildings ) ; var buildings_list , i , engineerOkInside , engineerOkOutside , j ; begin
8239: LD_INT 0
8241: PPUSH
8242: PPUSH
8243: PPUSH
8244: PPUSH
8245: PPUSH
8246: PPUSH
// engineerOkInside = UnitsInside ( building ) ;
8247: LD_ADDR_VAR 0 8
8251: PUSH
8252: LD_VAR 0 2
8256: PPUSH
8257: CALL_OW 313
8261: ST_TO_ADDR
// engineerOkOutside = FilterUnitsInArea ( area , [ [ f_side , side ] , [ f_class , 2 ] , [ f_lives , 750 ] , [ f_not , [ f_inside ] ] ] ) ;
8262: LD_ADDR_VAR 0 9
8266: PUSH
8267: LD_VAR 0 3
8271: PPUSH
8272: LD_INT 22
8274: PUSH
8275: LD_VAR 0 1
8279: PUSH
8280: EMPTY
8281: LIST
8282: LIST
8283: PUSH
8284: LD_INT 25
8286: PUSH
8287: LD_INT 2
8289: PUSH
8290: EMPTY
8291: LIST
8292: LIST
8293: PUSH
8294: LD_INT 24
8296: PUSH
8297: LD_INT 750
8299: PUSH
8300: EMPTY
8301: LIST
8302: LIST
8303: PUSH
8304: LD_INT 3
8306: PUSH
8307: LD_INT 54
8309: PUSH
8310: EMPTY
8311: LIST
8312: PUSH
8313: EMPTY
8314: LIST
8315: LIST
8316: PUSH
8317: EMPTY
8318: LIST
8319: LIST
8320: LIST
8321: LIST
8322: PPUSH
8323: CALL_OW 70
8327: ST_TO_ADDR
// buildings_list = FilterUnitsInArea ( area , [ [ [ f_side , side ] , [ f_type , unit_building ] , [ f_not , [ f_lives , 1000 ] ] ] ] ) ;
8328: LD_ADDR_VAR 0 6
8332: PUSH
8333: LD_VAR 0 3
8337: PPUSH
8338: LD_INT 22
8340: PUSH
8341: LD_VAR 0 1
8345: PUSH
8346: EMPTY
8347: LIST
8348: LIST
8349: PUSH
8350: LD_INT 21
8352: PUSH
8353: LD_INT 3
8355: PUSH
8356: EMPTY
8357: LIST
8358: LIST
8359: PUSH
8360: LD_INT 3
8362: PUSH
8363: LD_INT 24
8365: PUSH
8366: LD_INT 1000
8368: PUSH
8369: EMPTY
8370: LIST
8371: LIST
8372: PUSH
8373: EMPTY
8374: LIST
8375: LIST
8376: PUSH
8377: EMPTY
8378: LIST
8379: LIST
8380: LIST
8381: PUSH
8382: EMPTY
8383: LIST
8384: PPUSH
8385: CALL_OW 70
8389: ST_TO_ADDR
// if not buildings_list and not FilterAllUnits ( [ [ f_side , side ] , [ f_class , 2 ] , [ f_lives , 250 ] ] ) then
8390: LD_VAR 0 6
8394: NOT
8395: PUSH
8396: LD_INT 22
8398: PUSH
8399: LD_VAR 0 1
8403: PUSH
8404: EMPTY
8405: LIST
8406: LIST
8407: PUSH
8408: LD_INT 25
8410: PUSH
8411: LD_INT 2
8413: PUSH
8414: EMPTY
8415: LIST
8416: LIST
8417: PUSH
8418: LD_INT 24
8420: PUSH
8421: LD_INT 250
8423: PUSH
8424: EMPTY
8425: LIST
8426: LIST
8427: PUSH
8428: EMPTY
8429: LIST
8430: LIST
8431: LIST
8432: PPUSH
8433: CALL_OW 69
8437: NOT
8438: AND
8439: IFFALSE 8443
// exit ;
8441: GO 8625
// if buildings_list > 0 and engineerOkInside then
8443: LD_VAR 0 6
8447: PUSH
8448: LD_INT 0
8450: GREATER
8451: PUSH
8452: LD_VAR 0 8
8456: AND
8457: IFFALSE 8468
// ComExitBuilding ( engineerOkInside ) ;
8459: LD_VAR 0 8
8463: PPUSH
8464: CALL_OW 122
// if buildings_list > 0 and engineerOkOutside > 0 then
8468: LD_VAR 0 6
8472: PUSH
8473: LD_INT 0
8475: GREATER
8476: PUSH
8477: LD_VAR 0 9
8481: PUSH
8482: LD_INT 0
8484: GREATER
8485: AND
8486: IFFALSE 8506
// ComRepairBuilding ( engineerOkOutside , buildings_list [ 1 ] ) ;
8488: LD_VAR 0 9
8492: PPUSH
8493: LD_VAR 0 6
8497: PUSH
8498: LD_INT 1
8500: ARRAY
8501: PPUSH
8502: CALL_OW 130
// if buildings_list = 0 and destroyedBuildings = 0 and engineerOkOutside > 0 then
8506: LD_VAR 0 6
8510: PUSH
8511: LD_INT 0
8513: EQUAL
8514: PUSH
8515: LD_VAR 0 4
8519: PUSH
8520: LD_INT 0
8522: EQUAL
8523: AND
8524: PUSH
8525: LD_VAR 0 9
8529: PUSH
8530: LD_INT 0
8532: GREATER
8533: AND
8534: IFFALSE 8550
// ComEnterUnit ( engineerOkOutside , building ) ;
8536: LD_VAR 0 9
8540: PPUSH
8541: LD_VAR 0 2
8545: PPUSH
8546: CALL_OW 120
// if engineerOkOutside > 0 and buildings_list = 0 and destroyedBuildings > 0 then
8550: LD_VAR 0 9
8554: PUSH
8555: LD_INT 0
8557: GREATER
8558: PUSH
8559: LD_VAR 0 6
8563: PUSH
8564: LD_INT 0
8566: EQUAL
8567: AND
8568: PUSH
8569: LD_VAR 0 4
8573: PUSH
8574: LD_INT 0
8576: GREATER
8577: AND
8578: IFFALSE 8625
// ComBuild ( engineerOkOutside , destroyedBuildings [ 1 ] , destroyedBuildings [ 2 ] , destroyedBuildings [ 3 ] , destroyedBuildings [ 4 ] ) ;
8580: LD_VAR 0 9
8584: PPUSH
8585: LD_VAR 0 4
8589: PUSH
8590: LD_INT 1
8592: ARRAY
8593: PPUSH
8594: LD_VAR 0 4
8598: PUSH
8599: LD_INT 2
8601: ARRAY
8602: PPUSH
8603: LD_VAR 0 4
8607: PUSH
8608: LD_INT 3
8610: ARRAY
8611: PPUSH
8612: LD_VAR 0 4
8616: PUSH
8617: LD_INT 4
8619: ARRAY
8620: PPUSH
8621: CALL_OW 145
// end ;
8625: LD_VAR 0 5
8629: RET
// export function HealUnitInBase ( side , healArea , baseArea , build ) ; var sci_list , sci_listOutside , i , j , damageUnits , unitsToHeal , tmp , rnd ; begin
8630: LD_INT 0
8632: PPUSH
8633: PPUSH
8634: PPUSH
8635: PPUSH
8636: PPUSH
8637: PPUSH
8638: PPUSH
8639: PPUSH
8640: PPUSH
// sci_list = FilterAllUnits ( [ [ f_side , side ] , [ f_class , 4 ] , [ f_nation , 2 ] , [ f_lives , 251 ] ] ) ;
8641: LD_ADDR_VAR 0 6
8645: PUSH
8646: LD_INT 22
8648: PUSH
8649: LD_VAR 0 1
8653: PUSH
8654: EMPTY
8655: LIST
8656: LIST
8657: PUSH
8658: LD_INT 25
8660: PUSH
8661: LD_INT 4
8663: PUSH
8664: EMPTY
8665: LIST
8666: LIST
8667: PUSH
8668: LD_INT 23
8670: PUSH
8671: LD_INT 2
8673: PUSH
8674: EMPTY
8675: LIST
8676: LIST
8677: PUSH
8678: LD_INT 24
8680: PUSH
8681: LD_INT 251
8683: PUSH
8684: EMPTY
8685: LIST
8686: LIST
8687: PUSH
8688: EMPTY
8689: LIST
8690: LIST
8691: LIST
8692: LIST
8693: PPUSH
8694: CALL_OW 69
8698: ST_TO_ADDR
// sci_listOutside = FilterUnitsInArea ( baseArea , [ [ f_side , side ] , [ f_nation , 2 ] , [ f_class , 4 ] , [ f_ok ] ] ) ;
8699: LD_ADDR_VAR 0 7
8703: PUSH
8704: LD_VAR 0 3
8708: PPUSH
8709: LD_INT 22
8711: PUSH
8712: LD_VAR 0 1
8716: PUSH
8717: EMPTY
8718: LIST
8719: LIST
8720: PUSH
8721: LD_INT 23
8723: PUSH
8724: LD_INT 2
8726: PUSH
8727: EMPTY
8728: LIST
8729: LIST
8730: PUSH
8731: LD_INT 25
8733: PUSH
8734: LD_INT 4
8736: PUSH
8737: EMPTY
8738: LIST
8739: LIST
8740: PUSH
8741: LD_INT 50
8743: PUSH
8744: EMPTY
8745: LIST
8746: PUSH
8747: EMPTY
8748: LIST
8749: LIST
8750: LIST
8751: LIST
8752: PPUSH
8753: CALL_OW 70
8757: ST_TO_ADDR
// damageUnits = FilterUnitsInArea ( baseArea , [ [ f_side , side ] , [ f_type , unit_human ] , [ f_not , [ f_class , 3 ] ] , [ f_not , [ f_lives , 750 ] ] ] ) ;
8758: LD_ADDR_VAR 0 10
8762: PUSH
8763: LD_VAR 0 3
8767: PPUSH
8768: LD_INT 22
8770: PUSH
8771: LD_VAR 0 1
8775: PUSH
8776: EMPTY
8777: LIST
8778: LIST
8779: PUSH
8780: LD_INT 21
8782: PUSH
8783: LD_INT 1
8785: PUSH
8786: EMPTY
8787: LIST
8788: LIST
8789: PUSH
8790: LD_INT 3
8792: PUSH
8793: LD_INT 25
8795: PUSH
8796: LD_INT 3
8798: PUSH
8799: EMPTY
8800: LIST
8801: LIST
8802: PUSH
8803: EMPTY
8804: LIST
8805: LIST
8806: PUSH
8807: LD_INT 3
8809: PUSH
8810: LD_INT 24
8812: PUSH
8813: LD_INT 750
8815: PUSH
8816: EMPTY
8817: LIST
8818: LIST
8819: PUSH
8820: EMPTY
8821: LIST
8822: LIST
8823: PUSH
8824: EMPTY
8825: LIST
8826: LIST
8827: LIST
8828: LIST
8829: PPUSH
8830: CALL_OW 70
8834: ST_TO_ADDR
// unitsToHeal = FilterUnitsInArea ( healArea , [ [ f_side , side ] , [ f_type , unit_human ] , [ f_not , [ f_class , 3 ] ] , [ f_not , [ f_lives , 1000 ] ] ] ) ;
8835: LD_ADDR_VAR 0 11
8839: PUSH
8840: LD_VAR 0 2
8844: PPUSH
8845: LD_INT 22
8847: PUSH
8848: LD_VAR 0 1
8852: PUSH
8853: EMPTY
8854: LIST
8855: LIST
8856: PUSH
8857: LD_INT 21
8859: PUSH
8860: LD_INT 1
8862: PUSH
8863: EMPTY
8864: LIST
8865: LIST
8866: PUSH
8867: LD_INT 3
8869: PUSH
8870: LD_INT 25
8872: PUSH
8873: LD_INT 3
8875: PUSH
8876: EMPTY
8877: LIST
8878: LIST
8879: PUSH
8880: EMPTY
8881: LIST
8882: LIST
8883: PUSH
8884: LD_INT 3
8886: PUSH
8887: LD_INT 24
8889: PUSH
8890: LD_INT 1000
8892: PUSH
8893: EMPTY
8894: LIST
8895: LIST
8896: PUSH
8897: EMPTY
8898: LIST
8899: LIST
8900: PUSH
8901: EMPTY
8902: LIST
8903: LIST
8904: LIST
8905: LIST
8906: PPUSH
8907: CALL_OW 70
8911: ST_TO_ADDR
// if not damageUnits and not unitsToHeal and not sci_list then
8912: LD_VAR 0 10
8916: NOT
8917: PUSH
8918: LD_VAR 0 11
8922: NOT
8923: AND
8924: PUSH
8925: LD_VAR 0 6
8929: NOT
8930: AND
8931: IFFALSE 8935
// exit ;
8933: GO 9169
// if damageUnits > 0 and sci_list > 0 then
8935: LD_VAR 0 10
8939: PUSH
8940: LD_INT 0
8942: GREATER
8943: PUSH
8944: LD_VAR 0 6
8948: PUSH
8949: LD_INT 0
8951: GREATER
8952: AND
8953: IFFALSE 8969
// ComMoveToArea ( damageUnits , healArea ) ;
8955: LD_VAR 0 10
8959: PPUSH
8960: LD_VAR 0 2
8964: PPUSH
8965: CALL_OW 113
// if unitsToHeal > 0 and sci_list > 0 then
8969: LD_VAR 0 11
8973: PUSH
8974: LD_INT 0
8976: GREATER
8977: PUSH
8978: LD_VAR 0 6
8982: PUSH
8983: LD_INT 0
8985: GREATER
8986: AND
8987: IFFALSE 8998
// ComExitBuilding ( sci_list ) ;
8989: LD_VAR 0 6
8993: PPUSH
8994: CALL_OW 122
// if unitsToHeal > 0 and sci_listOutside > 0 then
8998: LD_VAR 0 11
9002: PUSH
9003: LD_INT 0
9005: GREATER
9006: PUSH
9007: LD_VAR 0 7
9011: PUSH
9012: LD_INT 0
9014: GREATER
9015: AND
9016: IFFALSE 9036
// ComHeal ( sci_listOutside , unitsToHeal [ 1 ] ) ;
9018: LD_VAR 0 7
9022: PPUSH
9023: LD_VAR 0 11
9027: PUSH
9028: LD_INT 1
9030: ARRAY
9031: PPUSH
9032: CALL_OW 128
// if damageUnits = 0 and unitsToHeal = 0 and sci_listOutside > 0 then
9036: LD_VAR 0 10
9040: PUSH
9041: LD_INT 0
9043: EQUAL
9044: PUSH
9045: LD_VAR 0 11
9049: PUSH
9050: LD_INT 0
9052: EQUAL
9053: AND
9054: PUSH
9055: LD_VAR 0 7
9059: PUSH
9060: LD_INT 0
9062: GREATER
9063: AND
9064: IFFALSE 9169
// begin tmp = FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_building ] , [ f_btype , b_lab_full ] ] ) ;
9066: LD_ADDR_VAR 0 12
9070: PUSH
9071: LD_INT 22
9073: PUSH
9074: LD_VAR 0 1
9078: PUSH
9079: EMPTY
9080: LIST
9081: LIST
9082: PUSH
9083: LD_INT 21
9085: PUSH
9086: LD_INT 3
9088: PUSH
9089: EMPTY
9090: LIST
9091: LIST
9092: PUSH
9093: LD_INT 30
9095: PUSH
9096: LD_INT 8
9098: PUSH
9099: EMPTY
9100: LIST
9101: LIST
9102: PUSH
9103: EMPTY
9104: LIST
9105: LIST
9106: LIST
9107: PPUSH
9108: CALL_OW 69
9112: ST_TO_ADDR
// rnd = rand ( 1 , tmp ) ;
9113: LD_ADDR_VAR 0 13
9117: PUSH
9118: LD_INT 1
9120: PPUSH
9121: LD_VAR 0 12
9125: PPUSH
9126: CALL_OW 12
9130: ST_TO_ADDR
// ComEnterUnit ( UnitFilter ( sci_listOutside , [ f_not , [ f_hastask ] ] ) , tmp [ rnd ] ) ;
9131: LD_VAR 0 7
9135: PPUSH
9136: LD_INT 3
9138: PUSH
9139: LD_INT 60
9141: PUSH
9142: EMPTY
9143: LIST
9144: PUSH
9145: EMPTY
9146: LIST
9147: LIST
9148: PPUSH
9149: CALL_OW 72
9153: PPUSH
9154: LD_VAR 0 12
9158: PUSH
9159: LD_VAR 0 13
9163: ARRAY
9164: PPUSH
9165: CALL_OW 120
// end ; end ;
9169: LD_VAR 0 5
9173: RET
// export function DefendDepot ( side , build ) ; var i , j , tmpTab ; begin
9174: LD_INT 0
9176: PPUSH
9177: PPUSH
9178: PPUSH
9179: PPUSH
// tmpTab = [ ] ;
9180: LD_ADDR_VAR 0 6
9184: PUSH
9185: EMPTY
9186: ST_TO_ADDR
// if FilterAllUnits ( [ [ f_side , side ] , [ f_btype , b_bunker ] ] ) > 0 then
9187: LD_INT 22
9189: PUSH
9190: LD_VAR 0 1
9194: PUSH
9195: EMPTY
9196: LIST
9197: LIST
9198: PUSH
9199: LD_INT 30
9201: PUSH
9202: LD_INT 32
9204: PUSH
9205: EMPTY
9206: LIST
9207: LIST
9208: PUSH
9209: EMPTY
9210: LIST
9211: LIST
9212: PPUSH
9213: CALL_OW 69
9217: PUSH
9218: LD_INT 0
9220: GREATER
9221: IFFALSE 9304
// begin for i in FilterAllUnits ( [ [ f_side , side ] , [ f_btype , b_bunker ] ] ) do
9223: LD_ADDR_VAR 0 4
9227: PUSH
9228: LD_INT 22
9230: PUSH
9231: LD_VAR 0 1
9235: PUSH
9236: EMPTY
9237: LIST
9238: LIST
9239: PUSH
9240: LD_INT 30
9242: PUSH
9243: LD_INT 32
9245: PUSH
9246: EMPTY
9247: LIST
9248: LIST
9249: PUSH
9250: EMPTY
9251: LIST
9252: LIST
9253: PPUSH
9254: CALL_OW 69
9258: PUSH
9259: FOR_IN
9260: IFFALSE 9302
// begin for j in UnitsInside ( i ) do
9262: LD_ADDR_VAR 0 5
9266: PUSH
9267: LD_VAR 0 4
9271: PPUSH
9272: CALL_OW 313
9276: PUSH
9277: FOR_IN
9278: IFFALSE 9298
// tmpTab = tmpTab ^ j ;
9280: LD_ADDR_VAR 0 6
9284: PUSH
9285: LD_VAR 0 6
9289: PUSH
9290: LD_VAR 0 5
9294: ADD
9295: ST_TO_ADDR
9296: GO 9277
9298: POP
9299: POP
// end ;
9300: GO 9259
9302: POP
9303: POP
// end ; ComAgressiveMove ( tmpTab , GetX ( build ) , GetY ( build ) ) ;
9304: LD_VAR 0 6
9308: PPUSH
9309: LD_VAR 0 2
9313: PPUSH
9314: CALL_OW 250
9318: PPUSH
9319: LD_VAR 0 2
9323: PPUSH
9324: CALL_OW 251
9328: PPUSH
9329: CALL_OW 114
// end ;
9333: LD_VAR 0 3
9337: RET
// export function CollectCrates ( side , cargo , cratesArea ) ; var clear_crates , cargo_list , crate_list ; begin
9338: LD_INT 0
9340: PPUSH
9341: PPUSH
9342: PPUSH
9343: PPUSH
// enable ;
9344: ENABLE
// crate_list = GetListOfCratesInArea ( cratesArea ) ;
9345: LD_ADDR_VAR 0 7
9349: PUSH
9350: LD_VAR 0 3
9354: PPUSH
9355: CALL_OW 435
9359: ST_TO_ADDR
// cargo_list = FilterAllUnits ( [ [ f_side , side ] , [ f_weapon , cargo ] ] ) ;
9360: LD_ADDR_VAR 0 6
9364: PUSH
9365: LD_INT 22
9367: PUSH
9368: LD_VAR 0 1
9372: PUSH
9373: EMPTY
9374: LIST
9375: LIST
9376: PUSH
9377: LD_INT 34
9379: PUSH
9380: LD_VAR 0 2
9384: PUSH
9385: EMPTY
9386: LIST
9387: LIST
9388: PUSH
9389: EMPTY
9390: LIST
9391: LIST
9392: PPUSH
9393: CALL_OW 69
9397: ST_TO_ADDR
// if cargo_list > 0 and GetListOfCratesInArea ( cratesArea ) and crate_list > 0 then
9398: LD_VAR 0 6
9402: PUSH
9403: LD_INT 0
9405: GREATER
9406: PUSH
9407: LD_VAR 0 3
9411: PPUSH
9412: CALL_OW 435
9416: AND
9417: PUSH
9418: LD_VAR 0 7
9422: PUSH
9423: LD_INT 0
9425: GREATER
9426: AND
9427: IFFALSE 9476
// begin AddComCollect ( cargo_list [ 1 ] , crate_list [ 1 ] , crate_list [ 2 ] ) ;
9429: LD_VAR 0 6
9433: PUSH
9434: LD_INT 1
9436: ARRAY
9437: PPUSH
9438: LD_VAR 0 7
9442: PUSH
9443: LD_INT 1
9445: ARRAY
9446: PPUSH
9447: LD_VAR 0 7
9451: PUSH
9452: LD_INT 2
9454: ARRAY
9455: PPUSH
9456: CALL_OW 177
// SetFuel ( cargo_list [ 1 ] , 100 ) ;
9460: LD_VAR 0 6
9464: PUSH
9465: LD_INT 1
9467: ARRAY
9468: PPUSH
9469: LD_INT 100
9471: PPUSH
9472: CALL_OW 240
// end ; end ;
9476: LD_VAR 0 4
9480: RET
// export function EnterBunkerOrBarrack ( side , area ) ; var i , j , soldiers_list , turretList , temp , barrackList , insideUnits ; begin
9481: LD_INT 0
9483: PPUSH
9484: PPUSH
9485: PPUSH
9486: PPUSH
9487: PPUSH
9488: PPUSH
9489: PPUSH
9490: PPUSH
// soldiers_list = FilterUnitsInArea ( area , [ [ f_side , side ] , [ f_outside ] , [ f_lives , 700 ] , [ f_not , [ f_hastask ] ] , [ f_or , [ f_class , 1 ] , [ f_class , 5 ] , [ f_class , 8 ] , [ f_class , 9 ] ] ] ) ;
9491: LD_ADDR_VAR 0 6
9495: PUSH
9496: LD_VAR 0 2
9500: PPUSH
9501: LD_INT 22
9503: PUSH
9504: LD_VAR 0 1
9508: PUSH
9509: EMPTY
9510: LIST
9511: LIST
9512: PUSH
9513: LD_INT 56
9515: PUSH
9516: EMPTY
9517: LIST
9518: PUSH
9519: LD_INT 24
9521: PUSH
9522: LD_INT 700
9524: PUSH
9525: EMPTY
9526: LIST
9527: LIST
9528: PUSH
9529: LD_INT 3
9531: PUSH
9532: LD_INT 60
9534: PUSH
9535: EMPTY
9536: LIST
9537: PUSH
9538: EMPTY
9539: LIST
9540: LIST
9541: PUSH
9542: LD_INT 2
9544: PUSH
9545: LD_INT 25
9547: PUSH
9548: LD_INT 1
9550: PUSH
9551: EMPTY
9552: LIST
9553: LIST
9554: PUSH
9555: LD_INT 25
9557: PUSH
9558: LD_INT 5
9560: PUSH
9561: EMPTY
9562: LIST
9563: LIST
9564: PUSH
9565: LD_INT 25
9567: PUSH
9568: LD_INT 8
9570: PUSH
9571: EMPTY
9572: LIST
9573: LIST
9574: PUSH
9575: LD_INT 25
9577: PUSH
9578: LD_INT 9
9580: PUSH
9581: EMPTY
9582: LIST
9583: LIST
9584: PUSH
9585: EMPTY
9586: LIST
9587: LIST
9588: LIST
9589: LIST
9590: LIST
9591: PUSH
9592: EMPTY
9593: LIST
9594: LIST
9595: LIST
9596: LIST
9597: LIST
9598: PPUSH
9599: CALL_OW 70
9603: ST_TO_ADDR
// turretList = FilterUnitsInArea ( area , [ [ f_side , side ] , [ f_btype , b_bunker ] , [ f_empty ] , [ f_lives , 251 ] ] ) ;
9604: LD_ADDR_VAR 0 7
9608: PUSH
9609: LD_VAR 0 2
9613: PPUSH
9614: LD_INT 22
9616: PUSH
9617: LD_VAR 0 1
9621: PUSH
9622: EMPTY
9623: LIST
9624: LIST
9625: PUSH
9626: LD_INT 30
9628: PUSH
9629: LD_INT 32
9631: PUSH
9632: EMPTY
9633: LIST
9634: LIST
9635: PUSH
9636: LD_INT 58
9638: PUSH
9639: EMPTY
9640: LIST
9641: PUSH
9642: LD_INT 24
9644: PUSH
9645: LD_INT 251
9647: PUSH
9648: EMPTY
9649: LIST
9650: LIST
9651: PUSH
9652: EMPTY
9653: LIST
9654: LIST
9655: LIST
9656: LIST
9657: PPUSH
9658: CALL_OW 70
9662: ST_TO_ADDR
// barrackList = FilterUnitsInArea ( area , [ [ f_side , side ] , [ f_or , [ f_btype , 4 ] , [ f_btype , 5 ] ] , [ f_lives , 251 ] ] ) ;
9663: LD_ADDR_VAR 0 9
9667: PUSH
9668: LD_VAR 0 2
9672: PPUSH
9673: LD_INT 22
9675: PUSH
9676: LD_VAR 0 1
9680: PUSH
9681: EMPTY
9682: LIST
9683: LIST
9684: PUSH
9685: LD_INT 2
9687: PUSH
9688: LD_INT 30
9690: PUSH
9691: LD_INT 4
9693: PUSH
9694: EMPTY
9695: LIST
9696: LIST
9697: PUSH
9698: LD_INT 30
9700: PUSH
9701: LD_INT 5
9703: PUSH
9704: EMPTY
9705: LIST
9706: LIST
9707: PUSH
9708: EMPTY
9709: LIST
9710: LIST
9711: LIST
9712: PUSH
9713: LD_INT 24
9715: PUSH
9716: LD_INT 251
9718: PUSH
9719: EMPTY
9720: LIST
9721: LIST
9722: PUSH
9723: EMPTY
9724: LIST
9725: LIST
9726: LIST
9727: PPUSH
9728: CALL_OW 70
9732: ST_TO_ADDR
// if barrackList > 0 then
9733: LD_VAR 0 9
9737: PUSH
9738: LD_INT 0
9740: GREATER
9741: IFFALSE 9889
// begin if turretList = 0 then
9743: LD_VAR 0 7
9747: PUSH
9748: LD_INT 0
9750: EQUAL
9751: IFFALSE 9793
// begin if soldiers_list > 0 then
9753: LD_VAR 0 6
9757: PUSH
9758: LD_INT 0
9760: GREATER
9761: IFFALSE 9791
// ComEnterUnit ( soldiers_list , barrackList [ Rand ( 1 , barrackList ) ] ) ;
9763: LD_VAR 0 6
9767: PPUSH
9768: LD_VAR 0 9
9772: PUSH
9773: LD_INT 1
9775: PPUSH
9776: LD_VAR 0 9
9780: PPUSH
9781: CALL_OW 12
9785: ARRAY
9786: PPUSH
9787: CALL_OW 120
// end else
9791: GO 9889
// begin for i in barrackList do
9793: LD_ADDR_VAR 0 4
9797: PUSH
9798: LD_VAR 0 9
9802: PUSH
9803: FOR_IN
9804: IFFALSE 9887
// begin insideUnits = UnitsInside ( i ) ;
9806: LD_ADDR_VAR 0 10
9810: PUSH
9811: LD_VAR 0 4
9815: PPUSH
9816: CALL_OW 313
9820: ST_TO_ADDR
// if insideUnits > 0 then
9821: LD_VAR 0 10
9825: PUSH
9826: LD_INT 0
9828: GREATER
9829: IFFALSE 9853
// ComEnterUnit ( insideUnits [ 1 ] , turretList [ 1 ] ) ;
9831: LD_VAR 0 10
9835: PUSH
9836: LD_INT 1
9838: ARRAY
9839: PPUSH
9840: LD_VAR 0 7
9844: PUSH
9845: LD_INT 1
9847: ARRAY
9848: PPUSH
9849: CALL_OW 120
// if soldiers_list > 0 then
9853: LD_VAR 0 6
9857: PUSH
9858: LD_INT 0
9860: GREATER
9861: IFFALSE 9885
// ComEnterUnit ( soldiers_list [ 1 ] , turretList [ 1 ] ) ;
9863: LD_VAR 0 6
9867: PUSH
9868: LD_INT 1
9870: ARRAY
9871: PPUSH
9872: LD_VAR 0 7
9876: PUSH
9877: LD_INT 1
9879: ARRAY
9880: PPUSH
9881: CALL_OW 120
// end ;
9885: GO 9803
9887: POP
9888: POP
// end ; end ; end ;
9889: LD_VAR 0 3
9893: RET
// export function AttackNearBuildings ( side , enemySide ) ; var i , j , turretsList , enemyBuildings ; begin
9894: LD_INT 0
9896: PPUSH
9897: PPUSH
9898: PPUSH
9899: PPUSH
9900: PPUSH
// turretsList = FilterAllUnits ( [ [ f_side , side ] , [ f_or , [ f_btype , 31 ] , [ f_btype , 32 ] , [ f_btype , 33 ] , [ f_btype , 4 ] , [ f_btype , 5 ] ] ] ) ;
9901: LD_ADDR_VAR 0 6
9905: PUSH
9906: LD_INT 22
9908: PUSH
9909: LD_VAR 0 1
9913: PUSH
9914: EMPTY
9915: LIST
9916: LIST
9917: PUSH
9918: LD_INT 2
9920: PUSH
9921: LD_INT 30
9923: PUSH
9924: LD_INT 31
9926: PUSH
9927: EMPTY
9928: LIST
9929: LIST
9930: PUSH
9931: LD_INT 30
9933: PUSH
9934: LD_INT 32
9936: PUSH
9937: EMPTY
9938: LIST
9939: LIST
9940: PUSH
9941: LD_INT 30
9943: PUSH
9944: LD_INT 33
9946: PUSH
9947: EMPTY
9948: LIST
9949: LIST
9950: PUSH
9951: LD_INT 30
9953: PUSH
9954: LD_INT 4
9956: PUSH
9957: EMPTY
9958: LIST
9959: LIST
9960: PUSH
9961: LD_INT 30
9963: PUSH
9964: LD_INT 5
9966: PUSH
9967: EMPTY
9968: LIST
9969: LIST
9970: PUSH
9971: EMPTY
9972: LIST
9973: LIST
9974: LIST
9975: LIST
9976: LIST
9977: LIST
9978: PUSH
9979: EMPTY
9980: LIST
9981: LIST
9982: PPUSH
9983: CALL_OW 69
9987: ST_TO_ADDR
// enemyBuildings = FilterAllUnits ( [ [ f_side , enemySide ] , [ f_type , unit_building ] , [ f_empty ] ] ) ;
9988: LD_ADDR_VAR 0 7
9992: PUSH
9993: LD_INT 22
9995: PUSH
9996: LD_VAR 0 2
10000: PUSH
10001: EMPTY
10002: LIST
10003: LIST
10004: PUSH
10005: LD_INT 21
10007: PUSH
10008: LD_INT 3
10010: PUSH
10011: EMPTY
10012: LIST
10013: LIST
10014: PUSH
10015: LD_INT 58
10017: PUSH
10018: EMPTY
10019: LIST
10020: PUSH
10021: EMPTY
10022: LIST
10023: LIST
10024: LIST
10025: PPUSH
10026: CALL_OW 69
10030: ST_TO_ADDR
// if turretsList > 0 and enemyBuildings > 0 then
10031: LD_VAR 0 6
10035: PUSH
10036: LD_INT 0
10038: GREATER
10039: PUSH
10040: LD_VAR 0 7
10044: PUSH
10045: LD_INT 0
10047: GREATER
10048: AND
10049: IFFALSE 10119
// begin for i in turretsList do
10051: LD_ADDR_VAR 0 4
10055: PUSH
10056: LD_VAR 0 6
10060: PUSH
10061: FOR_IN
10062: IFFALSE 10117
// begin for j in enemyBuildings do
10064: LD_ADDR_VAR 0 5
10068: PUSH
10069: LD_VAR 0 7
10073: PUSH
10074: FOR_IN
10075: IFFALSE 10113
// begin if GetDistUnits ( i , j ) < 20 then
10077: LD_VAR 0 4
10081: PPUSH
10082: LD_VAR 0 5
10086: PPUSH
10087: CALL_OW 296
10091: PUSH
10092: LD_INT 20
10094: LESS
10095: IFFALSE 10111
// begin ComAttackUnit ( i , j ) ;
10097: LD_VAR 0 4
10101: PPUSH
10102: LD_VAR 0 5
10106: PPUSH
10107: CALL_OW 115
// end ; end ;
10111: GO 10074
10113: POP
10114: POP
// end ;
10115: GO 10061
10117: POP
10118: POP
// end ; end ;
10119: LD_VAR 0 3
10123: RET
// export function CraneRepairBuild ( side , repairArea , destroyedBuildings ) ; var i , mechTmp , vehicleTmp , crane_list , buildings_list ; begin
10124: LD_INT 0
10126: PPUSH
10127: PPUSH
10128: PPUSH
10129: PPUSH
10130: PPUSH
10131: PPUSH
// crane_list = FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_weapon , ru_crane ] ] ) ;
10132: LD_ADDR_VAR 0 8
10136: PUSH
10137: LD_INT 22
10139: PUSH
10140: LD_VAR 0 1
10144: PUSH
10145: EMPTY
10146: LIST
10147: LIST
10148: PUSH
10149: LD_INT 21
10151: PUSH
10152: LD_INT 2
10154: PUSH
10155: EMPTY
10156: LIST
10157: LIST
10158: PUSH
10159: LD_INT 34
10161: PUSH
10162: LD_INT 52
10164: PUSH
10165: EMPTY
10166: LIST
10167: LIST
10168: PUSH
10169: EMPTY
10170: LIST
10171: LIST
10172: LIST
10173: PPUSH
10174: CALL_OW 69
10178: ST_TO_ADDR
// buildings_list = FilterAllUnits ( [ [ [ f_side , side ] , [ f_type , unit_building ] , [ f_not , [ f_lives , 1000 ] ] ] ] ) ;
10179: LD_ADDR_VAR 0 9
10183: PUSH
10184: LD_INT 22
10186: PUSH
10187: LD_VAR 0 1
10191: PUSH
10192: EMPTY
10193: LIST
10194: LIST
10195: PUSH
10196: LD_INT 21
10198: PUSH
10199: LD_INT 3
10201: PUSH
10202: EMPTY
10203: LIST
10204: LIST
10205: PUSH
10206: LD_INT 3
10208: PUSH
10209: LD_INT 24
10211: PUSH
10212: LD_INT 1000
10214: PUSH
10215: EMPTY
10216: LIST
10217: LIST
10218: PUSH
10219: EMPTY
10220: LIST
10221: LIST
10222: PUSH
10223: EMPTY
10224: LIST
10225: LIST
10226: LIST
10227: PUSH
10228: EMPTY
10229: LIST
10230: PPUSH
10231: CALL_OW 69
10235: ST_TO_ADDR
// if buildings_list > 0 and UnitFilter ( crane_list , [ f_lives , 750 ] ) > 0 then
10236: LD_VAR 0 9
10240: PUSH
10241: LD_INT 0
10243: GREATER
10244: PUSH
10245: LD_VAR 0 8
10249: PPUSH
10250: LD_INT 24
10252: PUSH
10253: LD_INT 750
10255: PUSH
10256: EMPTY
10257: LIST
10258: LIST
10259: PPUSH
10260: CALL_OW 72
10264: PUSH
10265: LD_INT 0
10267: GREATER
10268: AND
10269: IFFALSE 10304
// ComRepairBuilding ( UnitFilter ( crane_list , [ f_lives , 750 ] ) , buildings_list [ 1 ] ) ;
10271: LD_VAR 0 8
10275: PPUSH
10276: LD_INT 24
10278: PUSH
10279: LD_INT 750
10281: PUSH
10282: EMPTY
10283: LIST
10284: LIST
10285: PPUSH
10286: CALL_OW 72
10290: PPUSH
10291: LD_VAR 0 9
10295: PUSH
10296: LD_INT 1
10298: ARRAY
10299: PPUSH
10300: CALL_OW 130
// if UnitFilter ( crane_list , [ f_not , [ f_lives , 750 ] ] ) > 0 then
10304: LD_VAR 0 8
10308: PPUSH
10309: LD_INT 3
10311: PUSH
10312: LD_INT 24
10314: PUSH
10315: LD_INT 750
10317: PUSH
10318: EMPTY
10319: LIST
10320: LIST
10321: PUSH
10322: EMPTY
10323: LIST
10324: LIST
10325: PPUSH
10326: CALL_OW 72
10330: PUSH
10331: LD_INT 0
10333: GREATER
10334: IFFALSE 10372
// ComMoveToArea ( UnitFilter ( crane_list , [ f_not , [ f_lives , 750 ] ] ) , repairArea ) ;
10336: LD_VAR 0 8
10340: PPUSH
10341: LD_INT 3
10343: PUSH
10344: LD_INT 24
10346: PUSH
10347: LD_INT 750
10349: PUSH
10350: EMPTY
10351: LIST
10352: LIST
10353: PUSH
10354: EMPTY
10355: LIST
10356: LIST
10357: PPUSH
10358: CALL_OW 72
10362: PPUSH
10363: LD_VAR 0 2
10367: PPUSH
10368: CALL_OW 113
// if crane_list > 0 and buildings_list = 0 and destroyedBuildings > 0 then
10372: LD_VAR 0 8
10376: PUSH
10377: LD_INT 0
10379: GREATER
10380: PUSH
10381: LD_VAR 0 9
10385: PUSH
10386: LD_INT 0
10388: EQUAL
10389: AND
10390: PUSH
10391: LD_VAR 0 3
10395: PUSH
10396: LD_INT 0
10398: GREATER
10399: AND
10400: IFFALSE 10447
// AddComCraneBuild ( crane_list , destroyedBuildings [ 1 ] , destroyedBuildings [ 2 ] , destroyedBuildings [ 3 ] , destroyedBuildings [ 4 ] ) ;
10402: LD_VAR 0 8
10406: PPUSH
10407: LD_VAR 0 3
10411: PUSH
10412: LD_INT 1
10414: ARRAY
10415: PPUSH
10416: LD_VAR 0 3
10420: PUSH
10421: LD_INT 2
10423: ARRAY
10424: PPUSH
10425: LD_VAR 0 3
10429: PUSH
10430: LD_INT 3
10432: ARRAY
10433: PPUSH
10434: LD_VAR 0 3
10438: PUSH
10439: LD_INT 4
10441: ARRAY
10442: PPUSH
10443: CALL_OW 567
// if FilterUnitsInArea ( repairArea , [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_weapon , ru_crane ] , [ f_not , [ f_lives , 750 ] ] ] ) > 0 then
10447: LD_VAR 0 2
10451: PPUSH
10452: LD_INT 22
10454: PUSH
10455: LD_VAR 0 1
10459: PUSH
10460: EMPTY
10461: LIST
10462: LIST
10463: PUSH
10464: LD_INT 21
10466: PUSH
10467: LD_INT 2
10469: PUSH
10470: EMPTY
10471: LIST
10472: LIST
10473: PUSH
10474: LD_INT 34
10476: PUSH
10477: LD_INT 52
10479: PUSH
10480: EMPTY
10481: LIST
10482: LIST
10483: PUSH
10484: LD_INT 3
10486: PUSH
10487: LD_INT 24
10489: PUSH
10490: LD_INT 750
10492: PUSH
10493: EMPTY
10494: LIST
10495: LIST
10496: PUSH
10497: EMPTY
10498: LIST
10499: LIST
10500: PUSH
10501: EMPTY
10502: LIST
10503: LIST
10504: LIST
10505: LIST
10506: PPUSH
10507: CALL_OW 70
10511: PUSH
10512: LD_INT 0
10514: GREATER
10515: IFFALSE 10717
// begin for i in FilterUnitsInArea ( repairArea , [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_weapon , ru_crane ] , [ f_not , [ f_lives , 750 ] ] ] ) do
10517: LD_ADDR_VAR 0 5
10521: PUSH
10522: LD_VAR 0 2
10526: PPUSH
10527: LD_INT 22
10529: PUSH
10530: LD_VAR 0 1
10534: PUSH
10535: EMPTY
10536: LIST
10537: LIST
10538: PUSH
10539: LD_INT 21
10541: PUSH
10542: LD_INT 2
10544: PUSH
10545: EMPTY
10546: LIST
10547: LIST
10548: PUSH
10549: LD_INT 34
10551: PUSH
10552: LD_INT 52
10554: PUSH
10555: EMPTY
10556: LIST
10557: LIST
10558: PUSH
10559: LD_INT 3
10561: PUSH
10562: LD_INT 24
10564: PUSH
10565: LD_INT 750
10567: PUSH
10568: EMPTY
10569: LIST
10570: LIST
10571: PUSH
10572: EMPTY
10573: LIST
10574: LIST
10575: PUSH
10576: EMPTY
10577: LIST
10578: LIST
10579: LIST
10580: LIST
10581: PPUSH
10582: CALL_OW 70
10586: PUSH
10587: FOR_IN
10588: IFFALSE 10715
// begin mechTmp = UnitsInside ( i ) ;
10590: LD_ADDR_VAR 0 6
10594: PUSH
10595: LD_VAR 0 5
10599: PPUSH
10600: CALL_OW 313
10604: ST_TO_ADDR
// ComExitVehicle ( mechTmp ) ;
10605: LD_VAR 0 6
10609: PPUSH
10610: CALL_OW 121
// AddComRepairVehicle ( mechTmp , vehicleTmp ) ;
10614: LD_VAR 0 6
10618: PPUSH
10619: LD_VAR 0 7
10623: PPUSH
10624: CALL_OW 189
// wait ( 0 0$2 ) ;
10628: LD_INT 70
10630: PPUSH
10631: CALL_OW 67
// AddComEnterUnit ( mechTmp , FilterUnitsInArea ( repairArea , [ [ f_side , side ] , [ f_type , unit_vehicle ] , [ f_weapon , ru_crane ] , [ f_lives , 1000 ] , [ f_empty ] ] ) [ 1 ] ) ;
10635: LD_VAR 0 6
10639: PPUSH
10640: LD_VAR 0 2
10644: PPUSH
10645: LD_INT 22
10647: PUSH
10648: LD_VAR 0 1
10652: PUSH
10653: EMPTY
10654: LIST
10655: LIST
10656: PUSH
10657: LD_INT 21
10659: PUSH
10660: LD_INT 2
10662: PUSH
10663: EMPTY
10664: LIST
10665: LIST
10666: PUSH
10667: LD_INT 34
10669: PUSH
10670: LD_INT 52
10672: PUSH
10673: EMPTY
10674: LIST
10675: LIST
10676: PUSH
10677: LD_INT 24
10679: PUSH
10680: LD_INT 1000
10682: PUSH
10683: EMPTY
10684: LIST
10685: LIST
10686: PUSH
10687: LD_INT 58
10689: PUSH
10690: EMPTY
10691: LIST
10692: PUSH
10693: EMPTY
10694: LIST
10695: LIST
10696: LIST
10697: LIST
10698: LIST
10699: PPUSH
10700: CALL_OW 70
10704: PUSH
10705: LD_INT 1
10707: ARRAY
10708: PPUSH
10709: CALL_OW 180
// end ;
10713: GO 10587
10715: POP
10716: POP
// end ; end ;
10717: LD_VAR 0 4
10721: RET
// export function RespawnAttackInfantry ( side , nation , soldierCount , sniperCount , bazookCount , mortalCount , medicCount , skil , spawnArea , healArea , targetSide , strategy ) ; var i , j , un , damageUnit_list , medic_list , soldiersOK_list , enemyUnits , und , target1 , target2 ; begin
10722: LD_INT 0
10724: PPUSH
10725: PPUSH
10726: PPUSH
10727: PPUSH
10728: PPUSH
10729: PPUSH
10730: PPUSH
10731: PPUSH
10732: PPUSH
10733: PPUSH
10734: PPUSH
// for i = 1 to medicCount do
10735: LD_ADDR_VAR 0 14
10739: PUSH
10740: DOUBLE
10741: LD_INT 1
10743: DEC
10744: ST_TO_ADDR
10745: LD_VAR 0 7
10749: PUSH
10750: FOR_TO
10751: IFFALSE 10833
// begin uc_side = side ;
10753: LD_ADDR_OWVAR 20
10757: PUSH
10758: LD_VAR 0 1
10762: ST_TO_ADDR
// uc_nation = nation ;
10763: LD_ADDR_OWVAR 21
10767: PUSH
10768: LD_VAR 0 2
10772: ST_TO_ADDR
// hc_name =  ;
10773: LD_ADDR_OWVAR 26
10777: PUSH
10778: LD_STRING 
10780: ST_TO_ADDR
// hc_gallery =  ;
10781: LD_ADDR_OWVAR 33
10785: PUSH
10786: LD_STRING 
10788: ST_TO_ADDR
// PrepareHuman ( false , 4 , skil ) ;
10789: LD_INT 0
10791: PPUSH
10792: LD_INT 4
10794: PPUSH
10795: LD_VAR 0 8
10799: PPUSH
10800: CALL_OW 380
// un = CreateHuman ;
10804: LD_ADDR_VAR 0 16
10808: PUSH
10809: CALL_OW 44
10813: ST_TO_ADDR
// PlaceUnitArea ( un , spawnArea , false ) ;
10814: LD_VAR 0 16
10818: PPUSH
10819: LD_VAR 0 9
10823: PPUSH
10824: LD_INT 0
10826: PPUSH
10827: CALL_OW 49
// end ;
10831: GO 10750
10833: POP
10834: POP
// for i = 1 to soldierCount do
10835: LD_ADDR_VAR 0 14
10839: PUSH
10840: DOUBLE
10841: LD_INT 1
10843: DEC
10844: ST_TO_ADDR
10845: LD_VAR 0 3
10849: PUSH
10850: FOR_TO
10851: IFFALSE 10933
// begin uc_side = side ;
10853: LD_ADDR_OWVAR 20
10857: PUSH
10858: LD_VAR 0 1
10862: ST_TO_ADDR
// uc_nation = nation ;
10863: LD_ADDR_OWVAR 21
10867: PUSH
10868: LD_VAR 0 2
10872: ST_TO_ADDR
// hc_name =  ;
10873: LD_ADDR_OWVAR 26
10877: PUSH
10878: LD_STRING 
10880: ST_TO_ADDR
// hc_gallery =  ;
10881: LD_ADDR_OWVAR 33
10885: PUSH
10886: LD_STRING 
10888: ST_TO_ADDR
// PrepareHuman ( false , 1 , skil ) ;
10889: LD_INT 0
10891: PPUSH
10892: LD_INT 1
10894: PPUSH
10895: LD_VAR 0 8
10899: PPUSH
10900: CALL_OW 380
// un = CreateHuman ;
10904: LD_ADDR_VAR 0 16
10908: PUSH
10909: CALL_OW 44
10913: ST_TO_ADDR
// PlaceUnitArea ( un , spawnArea , false ) ;
10914: LD_VAR 0 16
10918: PPUSH
10919: LD_VAR 0 9
10923: PPUSH
10924: LD_INT 0
10926: PPUSH
10927: CALL_OW 49
// end ;
10931: GO 10850
10933: POP
10934: POP
// for i = 1 to sniperCount do
10935: LD_ADDR_VAR 0 14
10939: PUSH
10940: DOUBLE
10941: LD_INT 1
10943: DEC
10944: ST_TO_ADDR
10945: LD_VAR 0 4
10949: PUSH
10950: FOR_TO
10951: IFFALSE 11033
// begin uc_side = side ;
10953: LD_ADDR_OWVAR 20
10957: PUSH
10958: LD_VAR 0 1
10962: ST_TO_ADDR
// uc_nation = nation ;
10963: LD_ADDR_OWVAR 21
10967: PUSH
10968: LD_VAR 0 2
10972: ST_TO_ADDR
// hc_name =  ;
10973: LD_ADDR_OWVAR 26
10977: PUSH
10978: LD_STRING 
10980: ST_TO_ADDR
// hc_gallery =  ;
10981: LD_ADDR_OWVAR 33
10985: PUSH
10986: LD_STRING 
10988: ST_TO_ADDR
// PrepareHuman ( false , 5 , skil ) ;
10989: LD_INT 0
10991: PPUSH
10992: LD_INT 5
10994: PPUSH
10995: LD_VAR 0 8
10999: PPUSH
11000: CALL_OW 380
// un = CreateHuman ;
11004: LD_ADDR_VAR 0 16
11008: PUSH
11009: CALL_OW 44
11013: ST_TO_ADDR
// PlaceUnitArea ( un , spawnArea , false ) ;
11014: LD_VAR 0 16
11018: PPUSH
11019: LD_VAR 0 9
11023: PPUSH
11024: LD_INT 0
11026: PPUSH
11027: CALL_OW 49
// end ;
11031: GO 10950
11033: POP
11034: POP
// for i = 1 to bazookCount do
11035: LD_ADDR_VAR 0 14
11039: PUSH
11040: DOUBLE
11041: LD_INT 1
11043: DEC
11044: ST_TO_ADDR
11045: LD_VAR 0 5
11049: PUSH
11050: FOR_TO
11051: IFFALSE 11133
// begin uc_side = side ;
11053: LD_ADDR_OWVAR 20
11057: PUSH
11058: LD_VAR 0 1
11062: ST_TO_ADDR
// uc_nation = nation ;
11063: LD_ADDR_OWVAR 21
11067: PUSH
11068: LD_VAR 0 2
11072: ST_TO_ADDR
// hc_name =  ;
11073: LD_ADDR_OWVAR 26
11077: PUSH
11078: LD_STRING 
11080: ST_TO_ADDR
// hc_gallery =  ;
11081: LD_ADDR_OWVAR 33
11085: PUSH
11086: LD_STRING 
11088: ST_TO_ADDR
// PrepareHuman ( false , 9 , skil ) ;
11089: LD_INT 0
11091: PPUSH
11092: LD_INT 9
11094: PPUSH
11095: LD_VAR 0 8
11099: PPUSH
11100: CALL_OW 380
// un = CreateHuman ;
11104: LD_ADDR_VAR 0 16
11108: PUSH
11109: CALL_OW 44
11113: ST_TO_ADDR
// PlaceUnitArea ( un , spawnArea , false ) ;
11114: LD_VAR 0 16
11118: PPUSH
11119: LD_VAR 0 9
11123: PPUSH
11124: LD_INT 0
11126: PPUSH
11127: CALL_OW 49
// end ;
11131: GO 11050
11133: POP
11134: POP
// for i = 1 to mortalCount do
11135: LD_ADDR_VAR 0 14
11139: PUSH
11140: DOUBLE
11141: LD_INT 1
11143: DEC
11144: ST_TO_ADDR
11145: LD_VAR 0 6
11149: PUSH
11150: FOR_TO
11151: IFFALSE 11233
// begin uc_side = side ;
11153: LD_ADDR_OWVAR 20
11157: PUSH
11158: LD_VAR 0 1
11162: ST_TO_ADDR
// uc_nation = nation ;
11163: LD_ADDR_OWVAR 21
11167: PUSH
11168: LD_VAR 0 2
11172: ST_TO_ADDR
// hc_name =  ;
11173: LD_ADDR_OWVAR 26
11177: PUSH
11178: LD_STRING 
11180: ST_TO_ADDR
// hc_gallery =  ;
11181: LD_ADDR_OWVAR 33
11185: PUSH
11186: LD_STRING 
11188: ST_TO_ADDR
// PrepareHuman ( false , 8 , skil ) ;
11189: LD_INT 0
11191: PPUSH
11192: LD_INT 8
11194: PPUSH
11195: LD_VAR 0 8
11199: PPUSH
11200: CALL_OW 380
// un = CreateHuman ;
11204: LD_ADDR_VAR 0 16
11208: PUSH
11209: CALL_OW 44
11213: ST_TO_ADDR
// PlaceUnitArea ( un , spawnArea , false ) ;
11214: LD_VAR 0 16
11218: PPUSH
11219: LD_VAR 0 9
11223: PPUSH
11224: LD_INT 0
11226: PPUSH
11227: CALL_OW 49
// end ;
11231: GO 11150
11233: POP
11234: POP
// soldiersOK_list = FilterAllUnits ( [ [ f_side , side ] , [ f_or , [ f_class , 1 ] , [ f_class , 5 ] , [ f_class , 8 ] , [ f_class , 9 ] ] ] ) ;
11235: LD_ADDR_VAR 0 19
11239: PUSH
11240: LD_INT 22
11242: PUSH
11243: LD_VAR 0 1
11247: PUSH
11248: EMPTY
11249: LIST
11250: LIST
11251: PUSH
11252: LD_INT 2
11254: PUSH
11255: LD_INT 25
11257: PUSH
11258: LD_INT 1
11260: PUSH
11261: EMPTY
11262: LIST
11263: LIST
11264: PUSH
11265: LD_INT 25
11267: PUSH
11268: LD_INT 5
11270: PUSH
11271: EMPTY
11272: LIST
11273: LIST
11274: PUSH
11275: LD_INT 25
11277: PUSH
11278: LD_INT 8
11280: PUSH
11281: EMPTY
11282: LIST
11283: LIST
11284: PUSH
11285: LD_INT 25
11287: PUSH
11288: LD_INT 9
11290: PUSH
11291: EMPTY
11292: LIST
11293: LIST
11294: PUSH
11295: EMPTY
11296: LIST
11297: LIST
11298: LIST
11299: LIST
11300: LIST
11301: PUSH
11302: EMPTY
11303: LIST
11304: LIST
11305: PPUSH
11306: CALL_OW 69
11310: ST_TO_ADDR
// medic_list = FilterAllUnits ( [ [ f_side , side ] , [ f_class , 4 ] ] ) ;
11311: LD_ADDR_VAR 0 18
11315: PUSH
11316: LD_INT 22
11318: PUSH
11319: LD_VAR 0 1
11323: PUSH
11324: EMPTY
11325: LIST
11326: LIST
11327: PUSH
11328: LD_INT 25
11330: PUSH
11331: LD_INT 4
11333: PUSH
11334: EMPTY
11335: LIST
11336: LIST
11337: PUSH
11338: EMPTY
11339: LIST
11340: LIST
11341: PPUSH
11342: CALL_OW 69
11346: ST_TO_ADDR
// for i in medic_list do
11347: LD_ADDR_VAR 0 14
11351: PUSH
11352: LD_VAR 0 18
11356: PUSH
11357: FOR_IN
11358: IFFALSE 11376
// ComMoveToArea ( i , healArea ) ;
11360: LD_VAR 0 14
11364: PPUSH
11365: LD_VAR 0 10
11369: PPUSH
11370: CALL_OW 113
11374: GO 11357
11376: POP
11377: POP
// if strategy = 1 then
11378: LD_VAR 0 12
11382: PUSH
11383: LD_INT 1
11385: EQUAL
11386: IFFALSE 12103
// begin repeat wait ( 0 0$3 ) ;
11388: LD_INT 105
11390: PPUSH
11391: CALL_OW 67
// for i in soldiersOK_list do
11395: LD_ADDR_VAR 0 14
11399: PUSH
11400: LD_VAR 0 19
11404: PUSH
11405: FOR_IN
11406: IFFALSE 11440
// begin AddComAgressiveMove ( i , 80 , 109 ) ;
11408: LD_VAR 0 14
11412: PPUSH
11413: LD_INT 80
11415: PPUSH
11416: LD_INT 109
11418: PPUSH
11419: CALL_OW 174
// AddComAgressiveMove ( i , 39 , 49 ) ;
11423: LD_VAR 0 14
11427: PPUSH
11428: LD_INT 39
11430: PPUSH
11431: LD_INT 49
11433: PPUSH
11434: CALL_OW 174
// end ;
11438: GO 11405
11440: POP
11441: POP
// until FilterUnitsInArea ( AttackArea1 , [ f_side , side ] ) > 0 ;
11442: LD_INT 13
11444: PPUSH
11445: LD_INT 22
11447: PUSH
11448: LD_VAR 0 1
11452: PUSH
11453: EMPTY
11454: LIST
11455: LIST
11456: PPUSH
11457: CALL_OW 70
11461: PUSH
11462: LD_INT 0
11464: GREATER
11465: IFFALSE 11388
// repeat wait ( 0 0$1 ) ;
11467: LD_INT 35
11469: PPUSH
11470: CALL_OW 67
// damageUnit_list = FilterAllUnits ( [ [ f_side , side ] , [ f_and , [ f_not , [ f_lives , 550 ] ] , [ f_lives , 250 ] ] ] ) ;
11474: LD_ADDR_VAR 0 17
11478: PUSH
11479: LD_INT 22
11481: PUSH
11482: LD_VAR 0 1
11486: PUSH
11487: EMPTY
11488: LIST
11489: LIST
11490: PUSH
11491: LD_INT 1
11493: PUSH
11494: LD_INT 3
11496: PUSH
11497: LD_INT 24
11499: PUSH
11500: LD_INT 550
11502: PUSH
11503: EMPTY
11504: LIST
11505: LIST
11506: PUSH
11507: EMPTY
11508: LIST
11509: LIST
11510: PUSH
11511: LD_INT 24
11513: PUSH
11514: LD_INT 250
11516: PUSH
11517: EMPTY
11518: LIST
11519: LIST
11520: PUSH
11521: EMPTY
11522: LIST
11523: LIST
11524: LIST
11525: PUSH
11526: EMPTY
11527: LIST
11528: LIST
11529: PPUSH
11530: CALL_OW 69
11534: ST_TO_ADDR
// soldiersOK_list = FilterAllUnits ( [ [ f_side , side ] , [ f_or , [ f_class , 1 ] , [ f_class , 5 ] , [ f_class , 8 ] , [ f_class , 9 ] ] , [ f_lives , 1000 ] ] ) ;
11535: LD_ADDR_VAR 0 19
11539: PUSH
11540: LD_INT 22
11542: PUSH
11543: LD_VAR 0 1
11547: PUSH
11548: EMPTY
11549: LIST
11550: LIST
11551: PUSH
11552: LD_INT 2
11554: PUSH
11555: LD_INT 25
11557: PUSH
11558: LD_INT 1
11560: PUSH
11561: EMPTY
11562: LIST
11563: LIST
11564: PUSH
11565: LD_INT 25
11567: PUSH
11568: LD_INT 5
11570: PUSH
11571: EMPTY
11572: LIST
11573: LIST
11574: PUSH
11575: LD_INT 25
11577: PUSH
11578: LD_INT 8
11580: PUSH
11581: EMPTY
11582: LIST
11583: LIST
11584: PUSH
11585: LD_INT 25
11587: PUSH
11588: LD_INT 9
11590: PUSH
11591: EMPTY
11592: LIST
11593: LIST
11594: PUSH
11595: EMPTY
11596: LIST
11597: LIST
11598: LIST
11599: LIST
11600: LIST
11601: PUSH
11602: LD_INT 24
11604: PUSH
11605: LD_INT 1000
11607: PUSH
11608: EMPTY
11609: LIST
11610: LIST
11611: PUSH
11612: EMPTY
11613: LIST
11614: LIST
11615: LIST
11616: PPUSH
11617: CALL_OW 69
11621: ST_TO_ADDR
// if medicCount > 0 then
11622: LD_VAR 0 7
11626: PUSH
11627: LD_INT 0
11629: GREATER
11630: IFFALSE 11704
// begin if damageUnit_list > 0 then
11632: LD_VAR 0 17
11636: PUSH
11637: LD_INT 0
11639: GREATER
11640: IFFALSE 11704
// begin for i in damageUnit_list do
11642: LD_ADDR_VAR 0 14
11646: PUSH
11647: LD_VAR 0 17
11651: PUSH
11652: FOR_IN
11653: IFFALSE 11702
// begin ComMoveToArea ( i , healArea ) ;
11655: LD_VAR 0 14
11659: PPUSH
11660: LD_VAR 0 10
11664: PPUSH
11665: CALL_OW 113
// for j in medic_list do
11669: LD_ADDR_VAR 0 15
11673: PUSH
11674: LD_VAR 0 18
11678: PUSH
11679: FOR_IN
11680: IFFALSE 11698
// AddComHeal ( j , i ) ;
11682: LD_VAR 0 15
11686: PPUSH
11687: LD_VAR 0 14
11691: PPUSH
11692: CALL_OW 188
11696: GO 11679
11698: POP
11699: POP
// end ;
11700: GO 11652
11702: POP
11703: POP
// end ; end ; for i in soldiersOK_list do
11704: LD_ADDR_VAR 0 14
11708: PUSH
11709: LD_VAR 0 19
11713: PUSH
11714: FOR_IN
11715: IFFALSE 11897
// begin target1 := NearestUnitToUnit ( FilterAllUnits ( [ f_side , targetSide ] ) diff ignoreTarget , i ) ;
11717: LD_ADDR_VAR 0 22
11721: PUSH
11722: LD_INT 22
11724: PUSH
11725: LD_VAR 0 11
11729: PUSH
11730: EMPTY
11731: LIST
11732: LIST
11733: PPUSH
11734: CALL_OW 69
11738: PUSH
11739: LD_EXP 45
11743: DIFF
11744: PPUSH
11745: LD_VAR 0 14
11749: PPUSH
11750: CALL_OW 74
11754: ST_TO_ADDR
// target2 := NearestUnitToUnit ( FilterAllUnits ( [ [ [ f_side , targetSide ] , [ f_or , [ f_occupied ] , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] ] ] ) , i ) ;
11755: LD_ADDR_VAR 0 23
11759: PUSH
11760: LD_INT 22
11762: PUSH
11763: LD_VAR 0 11
11767: PUSH
11768: EMPTY
11769: LIST
11770: LIST
11771: PUSH
11772: LD_INT 2
11774: PUSH
11775: LD_INT 59
11777: PUSH
11778: EMPTY
11779: LIST
11780: PUSH
11781: LD_INT 21
11783: PUSH
11784: LD_INT 1
11786: PUSH
11787: EMPTY
11788: LIST
11789: LIST
11790: PUSH
11791: LD_INT 21
11793: PUSH
11794: LD_INT 2
11796: PUSH
11797: EMPTY
11798: LIST
11799: LIST
11800: PUSH
11801: EMPTY
11802: LIST
11803: LIST
11804: LIST
11805: LIST
11806: PUSH
11807: EMPTY
11808: LIST
11809: LIST
11810: PUSH
11811: EMPTY
11812: LIST
11813: PPUSH
11814: CALL_OW 69
11818: PPUSH
11819: LD_VAR 0 14
11823: PPUSH
11824: CALL_OW 74
11828: ST_TO_ADDR
// if GetDistUnits ( i , target1 ) + 8 < GetDistUnits ( i , target2 ) then
11829: LD_VAR 0 14
11833: PPUSH
11834: LD_VAR 0 22
11838: PPUSH
11839: CALL_OW 296
11843: PUSH
11844: LD_INT 8
11846: PLUS
11847: PUSH
11848: LD_VAR 0 14
11852: PPUSH
11853: LD_VAR 0 23
11857: PPUSH
11858: CALL_OW 296
11862: LESS
11863: IFFALSE 11881
// begin ComAttackUnit ( i , target1 ) ;
11865: LD_VAR 0 14
11869: PPUSH
11870: LD_VAR 0 22
11874: PPUSH
11875: CALL_OW 115
// end else
11879: GO 11895
// begin ComAttackUnit ( i , target2 ) ;
11881: LD_VAR 0 14
11885: PPUSH
11886: LD_VAR 0 23
11890: PPUSH
11891: CALL_OW 115
// end ; end ;
11895: GO 11714
11897: POP
11898: POP
// for i in soldiersOK_list do
11899: LD_ADDR_VAR 0 14
11903: PUSH
11904: LD_VAR 0 19
11908: PUSH
11909: FOR_IN
11910: IFFALSE 12092
// begin target1 := NearestUnitToUnit ( FilterAllUnits ( [ f_side , targetSide ] ) diff ignoreTarget , i ) ;
11912: LD_ADDR_VAR 0 22
11916: PUSH
11917: LD_INT 22
11919: PUSH
11920: LD_VAR 0 11
11924: PUSH
11925: EMPTY
11926: LIST
11927: LIST
11928: PPUSH
11929: CALL_OW 69
11933: PUSH
11934: LD_EXP 45
11938: DIFF
11939: PPUSH
11940: LD_VAR 0 14
11944: PPUSH
11945: CALL_OW 74
11949: ST_TO_ADDR
// target2 := NearestUnitToUnit ( FilterAllUnits ( [ [ [ f_side , targetSide ] , [ f_or , [ f_occupied ] , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] ] ] ) , i ) ;
11950: LD_ADDR_VAR 0 23
11954: PUSH
11955: LD_INT 22
11957: PUSH
11958: LD_VAR 0 11
11962: PUSH
11963: EMPTY
11964: LIST
11965: LIST
11966: PUSH
11967: LD_INT 2
11969: PUSH
11970: LD_INT 59
11972: PUSH
11973: EMPTY
11974: LIST
11975: PUSH
11976: LD_INT 21
11978: PUSH
11979: LD_INT 1
11981: PUSH
11982: EMPTY
11983: LIST
11984: LIST
11985: PUSH
11986: LD_INT 21
11988: PUSH
11989: LD_INT 2
11991: PUSH
11992: EMPTY
11993: LIST
11994: LIST
11995: PUSH
11996: EMPTY
11997: LIST
11998: LIST
11999: LIST
12000: LIST
12001: PUSH
12002: EMPTY
12003: LIST
12004: LIST
12005: PUSH
12006: EMPTY
12007: LIST
12008: PPUSH
12009: CALL_OW 69
12013: PPUSH
12014: LD_VAR 0 14
12018: PPUSH
12019: CALL_OW 74
12023: ST_TO_ADDR
// if GetDistUnits ( i , target1 ) + 8 < GetDistUnits ( i , target2 ) then
12024: LD_VAR 0 14
12028: PPUSH
12029: LD_VAR 0 22
12033: PPUSH
12034: CALL_OW 296
12038: PUSH
12039: LD_INT 8
12041: PLUS
12042: PUSH
12043: LD_VAR 0 14
12047: PPUSH
12048: LD_VAR 0 23
12052: PPUSH
12053: CALL_OW 296
12057: LESS
12058: IFFALSE 12076
// begin ComAttackUnit ( i , target1 ) ;
12060: LD_VAR 0 14
12064: PPUSH
12065: LD_VAR 0 22
12069: PPUSH
12070: CALL_OW 115
// end else
12074: GO 12090
// begin ComAttackUnit ( i , target2 ) ;
12076: LD_VAR 0 14
12080: PPUSH
12081: LD_VAR 0 23
12085: PPUSH
12086: CALL_OW 115
// end ; end ;
12090: GO 11909
12092: POP
12093: POP
// until soldiersOK_list = [ ] ;
12094: LD_VAR 0 19
12098: PUSH
12099: EMPTY
12100: EQUAL
12101: IFFALSE 11467
// end ; if strategy = 2 then
12103: LD_VAR 0 12
12107: PUSH
12108: LD_INT 2
12110: EQUAL
12111: IFFALSE 12816
// begin repeat wait ( 0 0$1 ) ;
12113: LD_INT 35
12115: PPUSH
12116: CALL_OW 67
// for i in soldiersOK_list do
12120: LD_ADDR_VAR 0 14
12124: PUSH
12125: LD_VAR 0 19
12129: PUSH
12130: FOR_IN
12131: IFFALSE 12165
// begin AddComAgressiveMove ( i , 117 , 97 ) ;
12133: LD_VAR 0 14
12137: PPUSH
12138: LD_INT 117
12140: PPUSH
12141: LD_INT 97
12143: PPUSH
12144: CALL_OW 174
// AddComAgressiveMove ( i , 94 , 50 ) ;
12148: LD_VAR 0 14
12152: PPUSH
12153: LD_INT 94
12155: PPUSH
12156: LD_INT 50
12158: PPUSH
12159: CALL_OW 174
// end ;
12163: GO 12130
12165: POP
12166: POP
// until FilterUnitsInArea ( AttackArea2 , [ f_side , side ] ) > 0 ;
12167: LD_INT 14
12169: PPUSH
12170: LD_INT 22
12172: PUSH
12173: LD_VAR 0 1
12177: PUSH
12178: EMPTY
12179: LIST
12180: LIST
12181: PPUSH
12182: CALL_OW 70
12186: PUSH
12187: LD_INT 0
12189: GREATER
12190: IFFALSE 12113
// repeat wait ( 0 0$3 ) ;
12192: LD_INT 105
12194: PPUSH
12195: CALL_OW 67
// damageUnit_list = FilterAllUnits ( [ [ f_side , side ] , [ f_and , [ f_not , [ f_lives , 550 ] ] , [ f_lives , 250 ] ] ] ) ;
12199: LD_ADDR_VAR 0 17
12203: PUSH
12204: LD_INT 22
12206: PUSH
12207: LD_VAR 0 1
12211: PUSH
12212: EMPTY
12213: LIST
12214: LIST
12215: PUSH
12216: LD_INT 1
12218: PUSH
12219: LD_INT 3
12221: PUSH
12222: LD_INT 24
12224: PUSH
12225: LD_INT 550
12227: PUSH
12228: EMPTY
12229: LIST
12230: LIST
12231: PUSH
12232: EMPTY
12233: LIST
12234: LIST
12235: PUSH
12236: LD_INT 24
12238: PUSH
12239: LD_INT 250
12241: PUSH
12242: EMPTY
12243: LIST
12244: LIST
12245: PUSH
12246: EMPTY
12247: LIST
12248: LIST
12249: LIST
12250: PUSH
12251: EMPTY
12252: LIST
12253: LIST
12254: PPUSH
12255: CALL_OW 69
12259: ST_TO_ADDR
// soldiersOK_list = FilterAllUnits ( [ [ f_side , side ] , [ f_or , [ f_class , 1 ] , [ f_class , 5 ] , [ f_class , 8 ] , [ f_class , 9 ] ] , [ f_lives , 1000 ] ] ) ;
12260: LD_ADDR_VAR 0 19
12264: PUSH
12265: LD_INT 22
12267: PUSH
12268: LD_VAR 0 1
12272: PUSH
12273: EMPTY
12274: LIST
12275: LIST
12276: PUSH
12277: LD_INT 2
12279: PUSH
12280: LD_INT 25
12282: PUSH
12283: LD_INT 1
12285: PUSH
12286: EMPTY
12287: LIST
12288: LIST
12289: PUSH
12290: LD_INT 25
12292: PUSH
12293: LD_INT 5
12295: PUSH
12296: EMPTY
12297: LIST
12298: LIST
12299: PUSH
12300: LD_INT 25
12302: PUSH
12303: LD_INT 8
12305: PUSH
12306: EMPTY
12307: LIST
12308: LIST
12309: PUSH
12310: LD_INT 25
12312: PUSH
12313: LD_INT 9
12315: PUSH
12316: EMPTY
12317: LIST
12318: LIST
12319: PUSH
12320: EMPTY
12321: LIST
12322: LIST
12323: LIST
12324: LIST
12325: LIST
12326: PUSH
12327: LD_INT 24
12329: PUSH
12330: LD_INT 1000
12332: PUSH
12333: EMPTY
12334: LIST
12335: LIST
12336: PUSH
12337: EMPTY
12338: LIST
12339: LIST
12340: LIST
12341: PPUSH
12342: CALL_OW 69
12346: ST_TO_ADDR
// if medicCount > 0 then
12347: LD_VAR 0 7
12351: PUSH
12352: LD_INT 0
12354: GREATER
12355: IFFALSE 12429
// begin if damageUnit_list > 0 then
12357: LD_VAR 0 17
12361: PUSH
12362: LD_INT 0
12364: GREATER
12365: IFFALSE 12429
// begin for i in damageUnit_list do
12367: LD_ADDR_VAR 0 14
12371: PUSH
12372: LD_VAR 0 17
12376: PUSH
12377: FOR_IN
12378: IFFALSE 12427
// begin ComMoveToArea ( i , healArea ) ;
12380: LD_VAR 0 14
12384: PPUSH
12385: LD_VAR 0 10
12389: PPUSH
12390: CALL_OW 113
// for j in medic_list do
12394: LD_ADDR_VAR 0 15
12398: PUSH
12399: LD_VAR 0 18
12403: PUSH
12404: FOR_IN
12405: IFFALSE 12423
// AddComHeal ( j , i ) ;
12407: LD_VAR 0 15
12411: PPUSH
12412: LD_VAR 0 14
12416: PPUSH
12417: CALL_OW 188
12421: GO 12404
12423: POP
12424: POP
// end ;
12425: GO 12377
12427: POP
12428: POP
// end ; end ; for i in soldiersOK_list do
12429: LD_ADDR_VAR 0 14
12433: PUSH
12434: LD_VAR 0 19
12438: PUSH
12439: FOR_IN
12440: IFFALSE 12616
// begin target1 := NearestUnitToUnit ( FilterAllUnits ( [ f_side , targetSide ] ) , i ) ;
12442: LD_ADDR_VAR 0 22
12446: PUSH
12447: LD_INT 22
12449: PUSH
12450: LD_VAR 0 11
12454: PUSH
12455: EMPTY
12456: LIST
12457: LIST
12458: PPUSH
12459: CALL_OW 69
12463: PPUSH
12464: LD_VAR 0 14
12468: PPUSH
12469: CALL_OW 74
12473: ST_TO_ADDR
// target2 := NearestUnitToUnit ( FilterAllUnits ( [ [ [ f_side , targetSide ] , [ f_or , [ f_occupied ] , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] ] ] ) , i ) ;
12474: LD_ADDR_VAR 0 23
12478: PUSH
12479: LD_INT 22
12481: PUSH
12482: LD_VAR 0 11
12486: PUSH
12487: EMPTY
12488: LIST
12489: LIST
12490: PUSH
12491: LD_INT 2
12493: PUSH
12494: LD_INT 59
12496: PUSH
12497: EMPTY
12498: LIST
12499: PUSH
12500: LD_INT 21
12502: PUSH
12503: LD_INT 1
12505: PUSH
12506: EMPTY
12507: LIST
12508: LIST
12509: PUSH
12510: LD_INT 21
12512: PUSH
12513: LD_INT 2
12515: PUSH
12516: EMPTY
12517: LIST
12518: LIST
12519: PUSH
12520: EMPTY
12521: LIST
12522: LIST
12523: LIST
12524: LIST
12525: PUSH
12526: EMPTY
12527: LIST
12528: LIST
12529: PUSH
12530: EMPTY
12531: LIST
12532: PPUSH
12533: CALL_OW 69
12537: PPUSH
12538: LD_VAR 0 14
12542: PPUSH
12543: CALL_OW 74
12547: ST_TO_ADDR
// if GetDistUnits ( i , target1 ) + 8 < GetDistUnits ( i , target2 ) then
12548: LD_VAR 0 14
12552: PPUSH
12553: LD_VAR 0 22
12557: PPUSH
12558: CALL_OW 296
12562: PUSH
12563: LD_INT 8
12565: PLUS
12566: PUSH
12567: LD_VAR 0 14
12571: PPUSH
12572: LD_VAR 0 23
12576: PPUSH
12577: CALL_OW 296
12581: LESS
12582: IFFALSE 12600
// begin ComAttackUnit ( i , target1 ) ;
12584: LD_VAR 0 14
12588: PPUSH
12589: LD_VAR 0 22
12593: PPUSH
12594: CALL_OW 115
// end else
12598: GO 12614
// begin ComAttackUnit ( i , target2 ) ;
12600: LD_VAR 0 14
12604: PPUSH
12605: LD_VAR 0 23
12609: PPUSH
12610: CALL_OW 115
// end ; end ;
12614: GO 12439
12616: POP
12617: POP
// for i in soldiersOK_list do
12618: LD_ADDR_VAR 0 14
12622: PUSH
12623: LD_VAR 0 19
12627: PUSH
12628: FOR_IN
12629: IFFALSE 12805
// begin target1 := NearestUnitToUnit ( FilterAllUnits ( [ f_side , targetSide ] ) , i ) ;
12631: LD_ADDR_VAR 0 22
12635: PUSH
12636: LD_INT 22
12638: PUSH
12639: LD_VAR 0 11
12643: PUSH
12644: EMPTY
12645: LIST
12646: LIST
12647: PPUSH
12648: CALL_OW 69
12652: PPUSH
12653: LD_VAR 0 14
12657: PPUSH
12658: CALL_OW 74
12662: ST_TO_ADDR
// target2 := NearestUnitToUnit ( FilterAllUnits ( [ [ [ f_side , targetSide ] , [ f_or , [ f_occupied ] , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] ] ] ) , i ) ;
12663: LD_ADDR_VAR 0 23
12667: PUSH
12668: LD_INT 22
12670: PUSH
12671: LD_VAR 0 11
12675: PUSH
12676: EMPTY
12677: LIST
12678: LIST
12679: PUSH
12680: LD_INT 2
12682: PUSH
12683: LD_INT 59
12685: PUSH
12686: EMPTY
12687: LIST
12688: PUSH
12689: LD_INT 21
12691: PUSH
12692: LD_INT 1
12694: PUSH
12695: EMPTY
12696: LIST
12697: LIST
12698: PUSH
12699: LD_INT 21
12701: PUSH
12702: LD_INT 2
12704: PUSH
12705: EMPTY
12706: LIST
12707: LIST
12708: PUSH
12709: EMPTY
12710: LIST
12711: LIST
12712: LIST
12713: LIST
12714: PUSH
12715: EMPTY
12716: LIST
12717: LIST
12718: PUSH
12719: EMPTY
12720: LIST
12721: PPUSH
12722: CALL_OW 69
12726: PPUSH
12727: LD_VAR 0 14
12731: PPUSH
12732: CALL_OW 74
12736: ST_TO_ADDR
// if GetDistUnits ( i , target1 ) + 8 < GetDistUnits ( i , target2 ) then
12737: LD_VAR 0 14
12741: PPUSH
12742: LD_VAR 0 22
12746: PPUSH
12747: CALL_OW 296
12751: PUSH
12752: LD_INT 8
12754: PLUS
12755: PUSH
12756: LD_VAR 0 14
12760: PPUSH
12761: LD_VAR 0 23
12765: PPUSH
12766: CALL_OW 296
12770: LESS
12771: IFFALSE 12789
// begin ComAttackUnit ( i , target1 ) ;
12773: LD_VAR 0 14
12777: PPUSH
12778: LD_VAR 0 22
12782: PPUSH
12783: CALL_OW 115
// end else
12787: GO 12803
// begin ComAttackUnit ( i , target2 ) ;
12789: LD_VAR 0 14
12793: PPUSH
12794: LD_VAR 0 23
12798: PPUSH
12799: CALL_OW 115
// end ; end ;
12803: GO 12628
12805: POP
12806: POP
// until soldiersOK_list = [ ] ;
12807: LD_VAR 0 19
12811: PUSH
12812: EMPTY
12813: EQUAL
12814: IFFALSE 12192
// end ; end ; end_of_file
12816: LD_VAR 0 13
12820: RET
// every 0 0$01 do
12821: GO 12823
12823: DISABLE
// begin if FilterAllUnits ( [ [ f_side , 1 ] , [ f_class , 2 ] ] ) = 0 then
12824: LD_INT 22
12826: PUSH
12827: LD_INT 1
12829: PUSH
12830: EMPTY
12831: LIST
12832: LIST
12833: PUSH
12834: LD_INT 25
12836: PUSH
12837: LD_INT 2
12839: PUSH
12840: EMPTY
12841: LIST
12842: LIST
12843: PUSH
12844: EMPTY
12845: LIST
12846: LIST
12847: PPUSH
12848: CALL_OW 69
12852: PUSH
12853: LD_INT 0
12855: EQUAL
12856: IFFALSE 12870
// SetClass ( JMM , 2 ) ;
12858: LD_EXP 1
12862: PPUSH
12863: LD_INT 2
12865: PPUSH
12866: CALL_OW 336
// ChangeMissionObjectives ( M1 ) ;
12870: LD_STRING M1
12872: PPUSH
12873: CALL_OW 337
// case difficulty of 1 :
12877: LD_OWVAR 67
12881: PUSH
12882: LD_INT 1
12884: DOUBLE
12885: EQUAL
12886: IFTRUE 12890
12888: GO 12900
12890: POP
// ChangeMissionObjectives ( M1-1 ) ; 2 :
12891: LD_STRING M1-1
12893: PPUSH
12894: CALL_OW 337
12898: GO 12937
12900: LD_INT 2
12902: DOUBLE
12903: EQUAL
12904: IFTRUE 12908
12906: GO 12918
12908: POP
// ChangeMissionObjectives ( M1-2 ) ; 3 :
12909: LD_STRING M1-2
12911: PPUSH
12912: CALL_OW 337
12916: GO 12937
12918: LD_INT 3
12920: DOUBLE
12921: EQUAL
12922: IFTRUE 12926
12924: GO 12936
12926: POP
// ChangeMissionObjectives ( M1-3 ) ; end ;
12927: LD_STRING M1-3
12929: PPUSH
12930: CALL_OW 337
12934: GO 12937
12936: POP
// ChangeMissionObjectives ( M1cont ) ;
12937: LD_STRING M1cont
12939: PPUSH
12940: CALL_OW 337
// SaveForQuickRestart ;
12944: CALL_OW 22
// wait ( rand ( 0 0$15 , 0 0$20 ) ) ;
12948: LD_INT 525
12950: PPUSH
12951: LD_INT 700
12953: PPUSH
12954: CALL_OW 12
12958: PPUSH
12959: CALL_OW 67
// CreateCratesXYR ( 5 , 82 , 38 , 10 , true ) ;
12963: LD_INT 5
12965: PPUSH
12966: LD_INT 82
12968: PPUSH
12969: LD_INT 38
12971: PPUSH
12972: LD_INT 10
12974: PPUSH
12975: LD_INT 1
12977: PPUSH
12978: CALL_OW 56
// wait ( 0 0$14 ) ;
12982: LD_INT 490
12984: PPUSH
12985: CALL_OW 67
// firstCrateSpawn := true ;
12989: LD_ADDR_EXP 41
12993: PUSH
12994: LD_INT 1
12996: ST_TO_ADDR
// end ;
12997: END
// every 0 0$02 trigger firstCrateSpawn do
12998: LD_EXP 41
13002: IFFALSE 13365
13004: GO 13006
13006: DISABLE
// begin if IsOk ( Lisa ) then
13007: LD_EXP 2
13011: PPUSH
13012: CALL_OW 302
13016: IFFALSE 13032
// Say ( Lisa , DR0-Lisa-1 ) else
13018: LD_EXP 2
13022: PPUSH
13023: LD_STRING DR0-Lisa-1
13025: PPUSH
13026: CALL_OW 88
13030: GO 13178
// DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_sex , 1 ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) diff [ JMM , Gladstone , Frank , Brown , Donaldson , Cyrus , Bobby ] , DR0-Sol1-1 , DR0-Sol1-1 ) ;
13032: LD_INT 22
13034: PUSH
13035: LD_INT 1
13037: PUSH
13038: EMPTY
13039: LIST
13040: LIST
13041: PUSH
13042: LD_INT 21
13044: PUSH
13045: LD_INT 1
13047: PUSH
13048: EMPTY
13049: LIST
13050: LIST
13051: PUSH
13052: LD_INT 26
13054: PUSH
13055: LD_INT 1
13057: PUSH
13058: EMPTY
13059: LIST
13060: LIST
13061: PUSH
13062: LD_INT 2
13064: PUSH
13065: LD_INT 25
13067: PUSH
13068: LD_INT 1
13070: PUSH
13071: EMPTY
13072: LIST
13073: LIST
13074: PUSH
13075: LD_INT 25
13077: PUSH
13078: LD_INT 2
13080: PUSH
13081: EMPTY
13082: LIST
13083: LIST
13084: PUSH
13085: LD_INT 25
13087: PUSH
13088: LD_INT 3
13090: PUSH
13091: EMPTY
13092: LIST
13093: LIST
13094: PUSH
13095: LD_INT 25
13097: PUSH
13098: LD_INT 4
13100: PUSH
13101: EMPTY
13102: LIST
13103: LIST
13104: PUSH
13105: EMPTY
13106: LIST
13107: LIST
13108: LIST
13109: LIST
13110: LIST
13111: PUSH
13112: EMPTY
13113: LIST
13114: LIST
13115: LIST
13116: LIST
13117: PPUSH
13118: CALL_OW 69
13122: PUSH
13123: LD_EXP 1
13127: PUSH
13128: LD_EXP 8
13132: PUSH
13133: LD_EXP 5
13137: PUSH
13138: LD_EXP 6
13142: PUSH
13143: LD_EXP 7
13147: PUSH
13148: LD_EXP 4
13152: PUSH
13153: LD_EXP 3
13157: PUSH
13158: EMPTY
13159: LIST
13160: LIST
13161: LIST
13162: LIST
13163: LIST
13164: LIST
13165: LIST
13166: DIFF
13167: PPUSH
13168: LD_STRING DR0-Sol1-1
13170: PPUSH
13171: LD_STRING DR0-Sol1-1
13173: PPUSH
13174: CALL 6214 0 3
// DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_sex , 1 ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) diff [ JMM , Gladstone , Frank , Lisa , Brown , Donaldson , Cyrus , Bobby ] , DR0-Sol2-1 , DR0-Sol2-1 ) ;
13178: LD_INT 22
13180: PUSH
13181: LD_INT 1
13183: PUSH
13184: EMPTY
13185: LIST
13186: LIST
13187: PUSH
13188: LD_INT 21
13190: PUSH
13191: LD_INT 1
13193: PUSH
13194: EMPTY
13195: LIST
13196: LIST
13197: PUSH
13198: LD_INT 26
13200: PUSH
13201: LD_INT 1
13203: PUSH
13204: EMPTY
13205: LIST
13206: LIST
13207: PUSH
13208: LD_INT 2
13210: PUSH
13211: LD_INT 25
13213: PUSH
13214: LD_INT 1
13216: PUSH
13217: EMPTY
13218: LIST
13219: LIST
13220: PUSH
13221: LD_INT 25
13223: PUSH
13224: LD_INT 2
13226: PUSH
13227: EMPTY
13228: LIST
13229: LIST
13230: PUSH
13231: LD_INT 25
13233: PUSH
13234: LD_INT 3
13236: PUSH
13237: EMPTY
13238: LIST
13239: LIST
13240: PUSH
13241: LD_INT 25
13243: PUSH
13244: LD_INT 4
13246: PUSH
13247: EMPTY
13248: LIST
13249: LIST
13250: PUSH
13251: EMPTY
13252: LIST
13253: LIST
13254: LIST
13255: LIST
13256: LIST
13257: PUSH
13258: EMPTY
13259: LIST
13260: LIST
13261: LIST
13262: LIST
13263: PPUSH
13264: CALL_OW 69
13268: PUSH
13269: LD_EXP 1
13273: PUSH
13274: LD_EXP 8
13278: PUSH
13279: LD_EXP 5
13283: PUSH
13284: LD_EXP 2
13288: PUSH
13289: LD_EXP 6
13293: PUSH
13294: LD_EXP 7
13298: PUSH
13299: LD_EXP 4
13303: PUSH
13304: LD_EXP 3
13308: PUSH
13309: EMPTY
13310: LIST
13311: LIST
13312: LIST
13313: LIST
13314: LIST
13315: LIST
13316: LIST
13317: LIST
13318: DIFF
13319: PPUSH
13320: LD_STRING DR0-Sol2-1
13322: PPUSH
13323: LD_STRING DR0-Sol2-1
13325: PPUSH
13326: CALL 6214 0 3
// if IsOk ( Cyrus ) then
13330: LD_EXP 4
13334: PPUSH
13335: CALL_OW 302
13339: IFFALSE 13353
// Say ( Cyrus , DR0-Cyrus-1 ) ;
13341: LD_EXP 4
13345: PPUSH
13346: LD_STRING DR0-Cyrus-1
13348: PPUSH
13349: CALL_OW 88
// Say ( JMM , DR0-JMM-1 ) ;
13353: LD_EXP 1
13357: PPUSH
13358: LD_STRING DR0-JMM-1
13360: PPUSH
13361: CALL_OW 88
// end ;
13365: END
// every 5 5$0 trigger IsOk ( Frank ) and FilterAllUnits ( [ [ f_side , 1 ] , [ f_class , 16 ] ] ) > 0 and not InBattle ( 1 ) do
13366: LD_EXP 5
13370: PPUSH
13371: CALL_OW 302
13375: PUSH
13376: LD_INT 22
13378: PUSH
13379: LD_INT 1
13381: PUSH
13382: EMPTY
13383: LIST
13384: LIST
13385: PUSH
13386: LD_INT 25
13388: PUSH
13389: LD_INT 16
13391: PUSH
13392: EMPTY
13393: LIST
13394: LIST
13395: PUSH
13396: EMPTY
13397: LIST
13398: LIST
13399: PPUSH
13400: CALL_OW 69
13404: PUSH
13405: LD_INT 0
13407: GREATER
13408: AND
13409: PUSH
13410: LD_INT 1
13412: PPUSH
13413: CALL_OW 463
13417: NOT
13418: AND
13419: IFFALSE 13697
13421: GO 13423
13423: DISABLE
// begin DialogueOn ;
13424: CALL_OW 6
// Say ( Frank , D10-Frank-1 ) ;
13428: LD_EXP 5
13432: PPUSH
13433: LD_STRING D10-Frank-1
13435: PPUSH
13436: CALL_OW 88
// DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) diff [ JMM , Frank , Lisa ] , D10-Sol1-1 , D10-FSol1-1 ) ;
13440: LD_INT 22
13442: PUSH
13443: LD_INT 1
13445: PUSH
13446: EMPTY
13447: LIST
13448: LIST
13449: PUSH
13450: LD_INT 21
13452: PUSH
13453: LD_INT 1
13455: PUSH
13456: EMPTY
13457: LIST
13458: LIST
13459: PUSH
13460: LD_INT 2
13462: PUSH
13463: LD_INT 25
13465: PUSH
13466: LD_INT 1
13468: PUSH
13469: EMPTY
13470: LIST
13471: LIST
13472: PUSH
13473: LD_INT 25
13475: PUSH
13476: LD_INT 2
13478: PUSH
13479: EMPTY
13480: LIST
13481: LIST
13482: PUSH
13483: LD_INT 25
13485: PUSH
13486: LD_INT 3
13488: PUSH
13489: EMPTY
13490: LIST
13491: LIST
13492: PUSH
13493: LD_INT 25
13495: PUSH
13496: LD_INT 4
13498: PUSH
13499: EMPTY
13500: LIST
13501: LIST
13502: PUSH
13503: EMPTY
13504: LIST
13505: LIST
13506: LIST
13507: LIST
13508: LIST
13509: PUSH
13510: EMPTY
13511: LIST
13512: LIST
13513: LIST
13514: PPUSH
13515: CALL_OW 69
13519: PUSH
13520: LD_EXP 1
13524: PUSH
13525: LD_EXP 5
13529: PUSH
13530: LD_EXP 2
13534: PUSH
13535: EMPTY
13536: LIST
13537: LIST
13538: LIST
13539: DIFF
13540: PPUSH
13541: LD_STRING D10-Sol1-1
13543: PPUSH
13544: LD_STRING D10-FSol1-1
13546: PPUSH
13547: CALL 6214 0 3
// Say ( Frank , D10-Frank-2 ) ;
13551: LD_EXP 5
13555: PPUSH
13556: LD_STRING D10-Frank-2
13558: PPUSH
13559: CALL_OW 88
// if IsOK ( Lisa ) then
13563: LD_EXP 2
13567: PPUSH
13568: CALL_OW 302
13572: IFFALSE 13588
// begin Say ( Lisa , D10-Lisa-2 ) ;
13574: LD_EXP 2
13578: PPUSH
13579: LD_STRING D10-Lisa-2
13581: PPUSH
13582: CALL_OW 88
// end else
13586: GO 13693
// begin DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) diff [ JMM , Frank ] , D10-Sol1-2 , D10-FSol1-2 ) ;
13588: LD_INT 22
13590: PUSH
13591: LD_INT 1
13593: PUSH
13594: EMPTY
13595: LIST
13596: LIST
13597: PUSH
13598: LD_INT 21
13600: PUSH
13601: LD_INT 1
13603: PUSH
13604: EMPTY
13605: LIST
13606: LIST
13607: PUSH
13608: LD_INT 2
13610: PUSH
13611: LD_INT 25
13613: PUSH
13614: LD_INT 1
13616: PUSH
13617: EMPTY
13618: LIST
13619: LIST
13620: PUSH
13621: LD_INT 25
13623: PUSH
13624: LD_INT 2
13626: PUSH
13627: EMPTY
13628: LIST
13629: LIST
13630: PUSH
13631: LD_INT 25
13633: PUSH
13634: LD_INT 3
13636: PUSH
13637: EMPTY
13638: LIST
13639: LIST
13640: PUSH
13641: LD_INT 25
13643: PUSH
13644: LD_INT 4
13646: PUSH
13647: EMPTY
13648: LIST
13649: LIST
13650: PUSH
13651: EMPTY
13652: LIST
13653: LIST
13654: LIST
13655: LIST
13656: LIST
13657: PUSH
13658: EMPTY
13659: LIST
13660: LIST
13661: LIST
13662: PPUSH
13663: CALL_OW 69
13667: PUSH
13668: LD_EXP 1
13672: PUSH
13673: LD_EXP 5
13677: PUSH
13678: EMPTY
13679: LIST
13680: LIST
13681: DIFF
13682: PPUSH
13683: LD_STRING D10-Sol1-2
13685: PPUSH
13686: LD_STRING D10-FSol1-2
13688: PPUSH
13689: CALL 6214 0 3
// end ; DialogueOff ;
13693: CALL_OW 7
// end ;
13697: END
// every 10 10$30 trigger not InBattle ( 1 ) do
13698: LD_INT 1
13700: PPUSH
13701: CALL_OW 463
13705: NOT
13706: IFFALSE 14001
13708: GO 13710
13710: DISABLE
// begin HarrisonSupport ;
13711: CALL 2498 0 0
// CenterNowOnUnits ( IsInUnit ( HarrSupp1 ) ) ;
13715: LD_EXP 17
13719: PPUSH
13720: CALL_OW 310
13724: PPUSH
13725: CALL_OW 87
// Say ( HarrSupp1 , DEng-Eng1-1 ) ;
13729: LD_EXP 17
13733: PPUSH
13734: LD_STRING DEng-Eng1-1
13736: PPUSH
13737: CALL_OW 88
// wait ( 1 1$0 ) ;
13741: LD_INT 2100
13743: PPUSH
13744: CALL_OW 67
// DialogueOn ;
13748: CALL_OW 6
// SayRadio ( Harisson , DRem-Har-1 ) ;
13752: LD_EXP 14
13756: PPUSH
13757: LD_STRING DRem-Har-1
13759: PPUSH
13760: CALL_OW 94
// if contactWithRussian = 1 then
13764: LD_EXP 22
13768: PUSH
13769: LD_INT 1
13771: EQUAL
13772: IFFALSE 13788
// begin Say ( JMM , DRem-JMM-1 ) ;
13774: LD_EXP 1
13778: PPUSH
13779: LD_STRING DRem-JMM-1
13781: PPUSH
13782: CALL_OW 88
// end else
13786: GO 13800
// begin Say ( JMM , DRem-JMM-1a ) ;
13788: LD_EXP 1
13792: PPUSH
13793: LD_STRING DRem-JMM-1a
13795: PPUSH
13796: CALL_OW 88
// end ; SayRadio ( Harisson , DRem-Har-2 ) ;
13800: LD_EXP 14
13804: PPUSH
13805: LD_STRING DRem-Har-2
13807: PPUSH
13808: CALL_OW 94
// if LoadVariable ( DenisInDelta , 0 ) = 1 then
13812: LD_STRING DenisInDelta
13814: PPUSH
13815: LD_INT 0
13817: PPUSH
13818: CALL_OW 30
13822: PUSH
13823: LD_INT 1
13825: EQUAL
13826: IFFALSE 13842
// begin Say ( JMM , DRem-JMM-2 ) ;
13828: LD_EXP 1
13832: PPUSH
13833: LD_STRING DRem-JMM-2
13835: PPUSH
13836: CALL_OW 88
// end else
13840: GO 13854
// begin Say ( JMM , DRem-JMM-2a ) ;
13842: LD_EXP 1
13846: PPUSH
13847: LD_STRING DRem-JMM-2a
13849: PPUSH
13850: CALL_OW 88
// end ; SayRadio ( Harisson , DRem-Har-3 ) ;
13854: LD_EXP 14
13858: PPUSH
13859: LD_STRING DRem-Har-3
13861: PPUSH
13862: CALL_OW 94
// Say ( JMM , DRem-JMM-3 ) ;
13866: LD_EXP 1
13870: PPUSH
13871: LD_STRING DRem-JMM-3
13873: PPUSH
13874: CALL_OW 88
// SayRadio ( Harisson , DRem-Har-4 ) ;
13878: LD_EXP 14
13882: PPUSH
13883: LD_STRING DRem-Har-4
13885: PPUSH
13886: CALL_OW 94
// if LoadVariable ( DenisInDelta , 0 ) = 1 then
13890: LD_STRING DenisInDelta
13892: PPUSH
13893: LD_INT 0
13895: PPUSH
13896: CALL_OW 30
13900: PUSH
13901: LD_INT 1
13903: EQUAL
13904: IFFALSE 13964
// begin Say ( JMM , DRem-JMM-4 ) ;
13906: LD_EXP 1
13910: PPUSH
13911: LD_STRING DRem-JMM-4
13913: PPUSH
13914: CALL_OW 88
// SayRadio ( Harisson , DRem-Har-5 ) ;
13918: LD_EXP 14
13922: PPUSH
13923: LD_STRING DRem-Har-5
13925: PPUSH
13926: CALL_OW 94
// DialogueOff ;
13930: CALL_OW 7
// wait ( 4 4$00 ) ;
13934: LD_INT 8400
13936: PPUSH
13937: CALL_OW 67
// repeat wait ( 0 0$1 ) ;
13941: LD_INT 35
13943: PPUSH
13944: CALL_OW 67
// until not InBattle ( 1 ) ;
13948: LD_INT 1
13950: PPUSH
13951: CALL_OW 463
13955: NOT
13956: IFFALSE 13941
// SpawnDenis ;
13958: CALL 14002 0 0
// end else
13962: GO 14001
// begin DialogueOff ;
13964: CALL_OW 7
// SetRestrict ( 36 , 1 , true ) ;
13968: LD_INT 36
13970: PPUSH
13971: LD_INT 1
13973: PPUSH
13974: LD_INT 1
13976: PPUSH
13977: CALL_OW 324
// SetTech ( 15 , 1 , state_enabled ) ;
13981: LD_INT 15
13983: PPUSH
13984: LD_INT 1
13986: PPUSH
13987: LD_INT 1
13989: PPUSH
13990: CALL_OW 322
// ChangeMissionObjectives ( MR ) ;
13994: LD_STRING MR
13996: PPUSH
13997: CALL_OW 337
// end ; end ;
14001: END
// export function SpawnDenis ; var tmp ; begin
14002: LD_INT 0
14004: PPUSH
14005: PPUSH
// PrepareDenis ;
14006: CALL 2220 0 0
// CenterNowOnUnits ( Denis ) ;
14010: LD_EXP 9
14014: PPUSH
14015: CALL_OW 87
// tmp := FilterAllUnits ( [ f_side , 1 ] ) ;
14019: LD_ADDR_VAR 0 2
14023: PUSH
14024: LD_INT 22
14026: PUSH
14027: LD_INT 1
14029: PUSH
14030: EMPTY
14031: LIST
14032: LIST
14033: PPUSH
14034: CALL_OW 69
14038: ST_TO_ADDR
// ComMoveUnit ( Denis , NearestUnitToUnit ( tmp , Denis ) ) ;
14039: LD_EXP 9
14043: PPUSH
14044: LD_VAR 0 2
14048: PPUSH
14049: LD_EXP 9
14053: PPUSH
14054: CALL_OW 74
14058: PPUSH
14059: CALL_OW 112
// repeat wait ( 0 0$1 ) ;
14063: LD_INT 35
14065: PPUSH
14066: CALL_OW 67
// until FilterAllUnits ( [ [ f_side , 1 ] , [ f_dist , Denis , 10 ] ] ) ;
14070: LD_INT 22
14072: PUSH
14073: LD_INT 1
14075: PUSH
14076: EMPTY
14077: LIST
14078: LIST
14079: PUSH
14080: LD_INT 91
14082: PUSH
14083: LD_EXP 9
14087: PUSH
14088: LD_INT 10
14090: PUSH
14091: EMPTY
14092: LIST
14093: LIST
14094: LIST
14095: PUSH
14096: EMPTY
14097: LIST
14098: LIST
14099: PPUSH
14100: CALL_OW 69
14104: IFFALSE 14063
// SetSide ( Denis , 1 ) ;
14106: LD_EXP 9
14110: PPUSH
14111: LD_INT 1
14113: PPUSH
14114: CALL_OW 235
// DialogueOn ;
14118: CALL_OW 6
// Say ( Denis , DDen-Den-1 ) ;
14122: LD_EXP 9
14126: PPUSH
14127: LD_STRING DDen-Den-1
14129: PPUSH
14130: CALL_OW 88
// Say ( JMM , DDen-JMM-1 ) ;
14134: LD_EXP 1
14138: PPUSH
14139: LD_STRING DDen-JMM-1
14141: PPUSH
14142: CALL_OW 88
// Say ( Denis , DDen-Den-2 ) ;
14146: LD_EXP 9
14150: PPUSH
14151: LD_STRING DDen-Den-2
14153: PPUSH
14154: CALL_OW 88
// Say ( JMM , DDen-JMM-2 ) ;
14158: LD_EXP 1
14162: PPUSH
14163: LD_STRING DDen-JMM-2
14165: PPUSH
14166: CALL_OW 88
// Say ( Denis , DDen-Den-3 ) ;
14170: LD_EXP 9
14174: PPUSH
14175: LD_STRING DDen-Den-3
14177: PPUSH
14178: CALL_OW 88
// Say ( JMM , DDen-JMM-3 ) ;
14182: LD_EXP 1
14186: PPUSH
14187: LD_STRING DDen-JMM-3
14189: PPUSH
14190: CALL_OW 88
// DialogueOff ;
14194: CALL_OW 7
// SetRestrict ( 36 , 1 , true ) ;
14198: LD_INT 36
14200: PPUSH
14201: LD_INT 1
14203: PPUSH
14204: LD_INT 1
14206: PPUSH
14207: CALL_OW 324
// SetTech ( 15 , 1 , state_enabled ) ;
14211: LD_INT 15
14213: PPUSH
14214: LD_INT 1
14216: PPUSH
14217: LD_INT 1
14219: PPUSH
14220: CALL_OW 322
// ChangeMissionObjectives ( MR ) ;
14224: LD_STRING MR
14226: PPUSH
14227: CALL_OW 337
// end ;
14231: LD_VAR 0 1
14235: RET
// every 0 0$6 trigger CheckOptoLab and IsOk ( Denis ) and not InBattle ( 1 ) do
14236: CALL 14291 0 0
14240: PUSH
14241: LD_EXP 9
14245: PPUSH
14246: CALL_OW 302
14250: AND
14251: PUSH
14252: LD_INT 1
14254: PPUSH
14255: CALL_OW 463
14259: NOT
14260: AND
14261: IFFALSE 14290
14263: GO 14265
14265: DISABLE
// begin Say ( Denis , DR1-Den-1 ) ;
14266: LD_EXP 9
14270: PPUSH
14271: LD_STRING DR1-Den-1
14273: PPUSH
14274: CALL_OW 88
// Say ( JMM , DR1-JMM-1 ) ;
14278: LD_EXP 1
14282: PPUSH
14283: LD_STRING DR1-JMM-1
14285: PPUSH
14286: CALL_OW 88
// end ;
14290: END
// function CheckOptoLab ; var i ; begin
14291: LD_INT 0
14293: PPUSH
14294: PPUSH
// result = false ;
14295: LD_ADDR_VAR 0 1
14299: PUSH
14300: LD_INT 0
14302: ST_TO_ADDR
// for i in FilterAllUnits ( [ [ f_side , 1 ] , [ f_or , [ f_btype , b_lab_half ] , [ f_btype , b_lab_full ] ] ] ) do
14303: LD_ADDR_VAR 0 2
14307: PUSH
14308: LD_INT 22
14310: PUSH
14311: LD_INT 1
14313: PUSH
14314: EMPTY
14315: LIST
14316: LIST
14317: PUSH
14318: LD_INT 2
14320: PUSH
14321: LD_INT 30
14323: PUSH
14324: LD_INT 7
14326: PUSH
14327: EMPTY
14328: LIST
14329: LIST
14330: PUSH
14331: LD_INT 30
14333: PUSH
14334: LD_INT 8
14336: PUSH
14337: EMPTY
14338: LIST
14339: LIST
14340: PUSH
14341: EMPTY
14342: LIST
14343: LIST
14344: LIST
14345: PUSH
14346: EMPTY
14347: LIST
14348: LIST
14349: PPUSH
14350: CALL_OW 69
14354: PUSH
14355: FOR_IN
14356: IFFALSE 14408
// begin if ( GetLabKind ( i , 1 ) = b_lab_opto ) or ( GetLabKind ( i , 2 ) = b_lab_opto ) then
14358: LD_VAR 0 2
14362: PPUSH
14363: LD_INT 1
14365: PPUSH
14366: CALL_OW 268
14370: PUSH
14371: LD_INT 15
14373: EQUAL
14374: PUSH
14375: LD_VAR 0 2
14379: PPUSH
14380: LD_INT 2
14382: PPUSH
14383: CALL_OW 268
14387: PUSH
14388: LD_INT 15
14390: EQUAL
14391: OR
14392: IFFALSE 14404
// begin result = true ;
14394: LD_ADDR_VAR 0 1
14398: PUSH
14399: LD_INT 1
14401: ST_TO_ADDR
// break ;
14402: GO 14408
// end ; break ;
14404: GO 14408
// end ;
14406: GO 14355
14408: POP
14409: POP
// end ;
14410: LD_VAR 0 1
14414: RET
// every 0 0$1 trigger GetTech ( 15 , 1 ) = state_researched and IsOK ( Denis ) and not InBattle ( 1 ) do
14415: LD_INT 15
14417: PPUSH
14418: LD_INT 1
14420: PPUSH
14421: CALL_OW 321
14425: PUSH
14426: LD_INT 2
14428: EQUAL
14429: PUSH
14430: LD_EXP 9
14434: PPUSH
14435: CALL_OW 302
14439: AND
14440: PUSH
14441: LD_INT 1
14443: PPUSH
14444: CALL_OW 463
14448: NOT
14449: AND
14450: IFFALSE 14682
14452: GO 14454
14454: DISABLE
// begin DialogueOn ;
14455: CALL_OW 6
// if IsOK ( Denis ) then
14459: LD_EXP 9
14463: PPUSH
14464: CALL_OW 302
14468: IFFALSE 14484
// begin Say ( Denis , DR2-Den-1 ) ;
14470: LD_EXP 9
14474: PPUSH
14475: LD_STRING DR2-Den-1
14477: PPUSH
14478: CALL_OW 88
// end else
14482: GO 14543
// begin DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_class , 4 ] ] ) diff [ JMM ] , DR2-Sci1-1 , DR2-FSci1-1 ) ;
14484: LD_INT 22
14486: PUSH
14487: LD_INT 1
14489: PUSH
14490: EMPTY
14491: LIST
14492: LIST
14493: PUSH
14494: LD_INT 21
14496: PUSH
14497: LD_INT 1
14499: PUSH
14500: EMPTY
14501: LIST
14502: LIST
14503: PUSH
14504: LD_INT 25
14506: PUSH
14507: LD_INT 4
14509: PUSH
14510: EMPTY
14511: LIST
14512: LIST
14513: PUSH
14514: EMPTY
14515: LIST
14516: LIST
14517: LIST
14518: PPUSH
14519: CALL_OW 69
14523: PUSH
14524: LD_EXP 1
14528: PUSH
14529: EMPTY
14530: LIST
14531: DIFF
14532: PPUSH
14533: LD_STRING DR2-Sci1-1
14535: PPUSH
14536: LD_STRING DR2-FSci1-1
14538: PPUSH
14539: CALL 6214 0 3
// end ; Say ( JMM , DR2-JMM-1 ) ;
14543: LD_EXP 1
14547: PPUSH
14548: LD_STRING DR2-JMM-1
14550: PPUSH
14551: CALL_OW 88
// DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) diff [ JMM , Denis , Gladstone ] , DR2-Sol1-1 , DR2-Sol1-11 ) ;
14555: LD_INT 22
14557: PUSH
14558: LD_INT 1
14560: PUSH
14561: EMPTY
14562: LIST
14563: LIST
14564: PUSH
14565: LD_INT 21
14567: PUSH
14568: LD_INT 1
14570: PUSH
14571: EMPTY
14572: LIST
14573: LIST
14574: PUSH
14575: LD_INT 2
14577: PUSH
14578: LD_INT 25
14580: PUSH
14581: LD_INT 1
14583: PUSH
14584: EMPTY
14585: LIST
14586: LIST
14587: PUSH
14588: LD_INT 25
14590: PUSH
14591: LD_INT 2
14593: PUSH
14594: EMPTY
14595: LIST
14596: LIST
14597: PUSH
14598: LD_INT 25
14600: PUSH
14601: LD_INT 3
14603: PUSH
14604: EMPTY
14605: LIST
14606: LIST
14607: PUSH
14608: LD_INT 25
14610: PUSH
14611: LD_INT 4
14613: PUSH
14614: EMPTY
14615: LIST
14616: LIST
14617: PUSH
14618: EMPTY
14619: LIST
14620: LIST
14621: LIST
14622: LIST
14623: LIST
14624: PUSH
14625: EMPTY
14626: LIST
14627: LIST
14628: LIST
14629: PPUSH
14630: CALL_OW 69
14634: PUSH
14635: LD_EXP 1
14639: PUSH
14640: LD_EXP 9
14644: PUSH
14645: LD_EXP 8
14649: PUSH
14650: EMPTY
14651: LIST
14652: LIST
14653: LIST
14654: DIFF
14655: PPUSH
14656: LD_STRING DR2-Sol1-1
14658: PPUSH
14659: LD_STRING DR2-Sol1-11
14661: PPUSH
14662: CALL 6214 0 3
// Say ( JMM , DR2-JMM-2 ) ;
14666: LD_EXP 1
14670: PPUSH
14671: LD_STRING DR2-JMM-2
14673: PPUSH
14674: CALL_OW 88
// DialogueOff ;
14678: CALL_OW 7
// end ;
14682: END
// every 0 0$1 trigger FilterAllUnits ( [ [ f_side , 1 ] , [ f_btype , 36 ] ] ) = 0 and FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_control , control_remote ] ] ) > 0 and firstTower = 0 and not InBattle ( 1 ) do
14683: LD_INT 22
14685: PUSH
14686: LD_INT 1
14688: PUSH
14689: EMPTY
14690: LIST
14691: LIST
14692: PUSH
14693: LD_INT 30
14695: PUSH
14696: LD_INT 36
14698: PUSH
14699: EMPTY
14700: LIST
14701: LIST
14702: PUSH
14703: EMPTY
14704: LIST
14705: LIST
14706: PPUSH
14707: CALL_OW 69
14711: PUSH
14712: LD_INT 0
14714: EQUAL
14715: PUSH
14716: LD_INT 22
14718: PUSH
14719: LD_INT 1
14721: PUSH
14722: EMPTY
14723: LIST
14724: LIST
14725: PUSH
14726: LD_INT 21
14728: PUSH
14729: LD_INT 2
14731: PUSH
14732: EMPTY
14733: LIST
14734: LIST
14735: PUSH
14736: LD_INT 33
14738: PUSH
14739: LD_INT 2
14741: PUSH
14742: EMPTY
14743: LIST
14744: LIST
14745: PUSH
14746: EMPTY
14747: LIST
14748: LIST
14749: LIST
14750: PPUSH
14751: CALL_OW 69
14755: PUSH
14756: LD_INT 0
14758: GREATER
14759: AND
14760: PUSH
14761: LD_EXP 23
14765: PUSH
14766: LD_INT 0
14768: EQUAL
14769: AND
14770: PUSH
14771: LD_INT 1
14773: PPUSH
14774: CALL_OW 463
14778: NOT
14779: AND
14780: IFFALSE 14917
14782: GO 14784
14784: DISABLE
// begin DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_class , 3 ] , [ f_sex , sex_male ] ] ) diff [ JMM , Brown , Donaldson , Denis , Joan , Bobby , Cyrus , Lisa , Frank , Gladstone ] , D3a-Mech1-1 , D3a-Mech1-1 ) ;
14785: LD_INT 22
14787: PUSH
14788: LD_INT 1
14790: PUSH
14791: EMPTY
14792: LIST
14793: LIST
14794: PUSH
14795: LD_INT 21
14797: PUSH
14798: LD_INT 1
14800: PUSH
14801: EMPTY
14802: LIST
14803: LIST
14804: PUSH
14805: LD_INT 25
14807: PUSH
14808: LD_INT 3
14810: PUSH
14811: EMPTY
14812: LIST
14813: LIST
14814: PUSH
14815: LD_INT 26
14817: PUSH
14818: LD_INT 1
14820: PUSH
14821: EMPTY
14822: LIST
14823: LIST
14824: PUSH
14825: EMPTY
14826: LIST
14827: LIST
14828: LIST
14829: LIST
14830: PPUSH
14831: CALL_OW 69
14835: PUSH
14836: LD_EXP 1
14840: PUSH
14841: LD_EXP 6
14845: PUSH
14846: LD_EXP 7
14850: PUSH
14851: LD_EXP 9
14855: PUSH
14856: LD_EXP 15
14860: PUSH
14861: LD_EXP 3
14865: PUSH
14866: LD_EXP 4
14870: PUSH
14871: LD_EXP 2
14875: PUSH
14876: LD_EXP 5
14880: PUSH
14881: LD_EXP 8
14885: PUSH
14886: EMPTY
14887: LIST
14888: LIST
14889: LIST
14890: LIST
14891: LIST
14892: LIST
14893: LIST
14894: LIST
14895: LIST
14896: LIST
14897: DIFF
14898: PPUSH
14899: LD_STRING D3a-Mech1-1
14901: PPUSH
14902: LD_STRING D3a-Mech1-1
14904: PPUSH
14905: CALL 6214 0 3
// firstTower = 2 ;
14909: LD_ADDR_EXP 23
14913: PUSH
14914: LD_INT 2
14916: ST_TO_ADDR
// end ;
14917: END
// every 0 0$1 trigger FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_building ] ] ) = 0 do var i ;
14918: LD_INT 22
14920: PUSH
14921: LD_INT 3
14923: PUSH
14924: EMPTY
14925: LIST
14926: LIST
14927: PUSH
14928: LD_INT 21
14930: PUSH
14931: LD_INT 3
14933: PUSH
14934: EMPTY
14935: LIST
14936: LIST
14937: PUSH
14938: EMPTY
14939: LIST
14940: LIST
14941: PPUSH
14942: CALL_OW 69
14946: PUSH
14947: LD_INT 0
14949: EQUAL
14950: IFFALSE 15065
14952: GO 14954
14954: DISABLE
14955: LD_INT 0
14957: PPUSH
// begin for i in FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) do
14958: LD_ADDR_VAR 0 1
14962: PUSH
14963: LD_INT 22
14965: PUSH
14966: LD_INT 1
14968: PUSH
14969: EMPTY
14970: LIST
14971: LIST
14972: PUSH
14973: LD_INT 21
14975: PUSH
14976: LD_INT 1
14978: PUSH
14979: EMPTY
14980: LIST
14981: LIST
14982: PUSH
14983: LD_INT 2
14985: PUSH
14986: LD_INT 25
14988: PUSH
14989: LD_INT 1
14991: PUSH
14992: EMPTY
14993: LIST
14994: LIST
14995: PUSH
14996: LD_INT 25
14998: PUSH
14999: LD_INT 2
15001: PUSH
15002: EMPTY
15003: LIST
15004: LIST
15005: PUSH
15006: LD_INT 25
15008: PUSH
15009: LD_INT 3
15011: PUSH
15012: EMPTY
15013: LIST
15014: LIST
15015: PUSH
15016: LD_INT 25
15018: PUSH
15019: LD_INT 4
15021: PUSH
15022: EMPTY
15023: LIST
15024: LIST
15025: PUSH
15026: EMPTY
15027: LIST
15028: LIST
15029: LIST
15030: LIST
15031: LIST
15032: PUSH
15033: EMPTY
15034: LIST
15035: LIST
15036: LIST
15037: PPUSH
15038: CALL_OW 69
15042: PUSH
15043: FOR_IN
15044: IFFALSE 15063
// AddExperience ( i , 1 , 10000 ) ;
15046: LD_VAR 0 1
15050: PPUSH
15051: LD_INT 1
15053: PPUSH
15054: LD_INT 10000
15056: PPUSH
15057: CALL_OW 492
15061: GO 15043
15063: POP
15064: POP
// end ;
15065: PPOPN 1
15067: END
// every 0 0$1 trigger FilterAllUnits ( [ [ f_side , 1 ] , [ f_btype , 36 ] ] ) > 0 and FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_control , control_remote ] ] ) > 0 and CheckMehInside and not InBattle ( 1 ) do var i , j , tmpControlTowers , tmpRemoteVehs , tmpMechanicInside ;
15068: LD_INT 22
15070: PUSH
15071: LD_INT 1
15073: PUSH
15074: EMPTY
15075: LIST
15076: LIST
15077: PUSH
15078: LD_INT 30
15080: PUSH
15081: LD_INT 36
15083: PUSH
15084: EMPTY
15085: LIST
15086: LIST
15087: PUSH
15088: EMPTY
15089: LIST
15090: LIST
15091: PPUSH
15092: CALL_OW 69
15096: PUSH
15097: LD_INT 0
15099: GREATER
15100: PUSH
15101: LD_INT 22
15103: PUSH
15104: LD_INT 1
15106: PUSH
15107: EMPTY
15108: LIST
15109: LIST
15110: PUSH
15111: LD_INT 21
15113: PUSH
15114: LD_INT 2
15116: PUSH
15117: EMPTY
15118: LIST
15119: LIST
15120: PUSH
15121: LD_INT 33
15123: PUSH
15124: LD_INT 2
15126: PUSH
15127: EMPTY
15128: LIST
15129: LIST
15130: PUSH
15131: EMPTY
15132: LIST
15133: LIST
15134: LIST
15135: PPUSH
15136: CALL_OW 69
15140: PUSH
15141: LD_INT 0
15143: GREATER
15144: AND
15145: PUSH
15146: CALL 15738 0 0
15150: AND
15151: PUSH
15152: LD_INT 1
15154: PPUSH
15155: CALL_OW 463
15159: NOT
15160: AND
15161: IFFALSE 15735
15163: GO 15165
15165: DISABLE
15166: LD_INT 0
15168: PPUSH
15169: PPUSH
15170: PPUSH
15171: PPUSH
15172: PPUSH
// begin tmpControlTowers = FilterAllUnits ( [ [ f_side , 1 ] , [ f_btype , 36 ] ] ) ;
15173: LD_ADDR_VAR 0 3
15177: PUSH
15178: LD_INT 22
15180: PUSH
15181: LD_INT 1
15183: PUSH
15184: EMPTY
15185: LIST
15186: LIST
15187: PUSH
15188: LD_INT 30
15190: PUSH
15191: LD_INT 36
15193: PUSH
15194: EMPTY
15195: LIST
15196: LIST
15197: PUSH
15198: EMPTY
15199: LIST
15200: LIST
15201: PPUSH
15202: CALL_OW 69
15206: ST_TO_ADDR
// tmpRemoteVehs = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_control , control_remote ] ] ) ;
15207: LD_ADDR_VAR 0 4
15211: PUSH
15212: LD_INT 22
15214: PUSH
15215: LD_INT 1
15217: PUSH
15218: EMPTY
15219: LIST
15220: LIST
15221: PUSH
15222: LD_INT 21
15224: PUSH
15225: LD_INT 2
15227: PUSH
15228: EMPTY
15229: LIST
15230: LIST
15231: PUSH
15232: LD_INT 33
15234: PUSH
15235: LD_INT 2
15237: PUSH
15238: EMPTY
15239: LIST
15240: LIST
15241: PUSH
15242: EMPTY
15243: LIST
15244: LIST
15245: LIST
15246: PPUSH
15247: CALL_OW 69
15251: ST_TO_ADDR
// tmpMechanicInside = [ ] ;
15252: LD_ADDR_VAR 0 5
15256: PUSH
15257: EMPTY
15258: ST_TO_ADDR
// for i in tmpControlTowers do
15259: LD_ADDR_VAR 0 1
15263: PUSH
15264: LD_VAR 0 3
15268: PUSH
15269: FOR_IN
15270: IFFALSE 15733
// begin if IsInUnit ( JMM ) = i and GetClass ( JMM ) = 3 then
15272: LD_EXP 1
15276: PPUSH
15277: CALL_OW 310
15281: PUSH
15282: LD_VAR 0 1
15286: EQUAL
15287: PUSH
15288: LD_EXP 1
15292: PPUSH
15293: CALL_OW 257
15297: PUSH
15298: LD_INT 3
15300: EQUAL
15301: AND
15302: IFFALSE 15432
// begin InGameOn ;
15304: CALL_OW 8
// CenterNowOnUnits ( tmpRemoteVehs [ 1 ] ) ;
15308: LD_VAR 0 4
15312: PUSH
15313: LD_INT 1
15315: ARRAY
15316: PPUSH
15317: CALL_OW 87
// Say ( JMM , D4a-JMM-1 ) ;
15321: LD_EXP 1
15325: PPUSH
15326: LD_STRING D4a-JMM-1
15328: PPUSH
15329: CALL_OW 88
// LinkVehicleToHuman ( tmpRemoteVehs [ 1 ] , JMM ) ;
15333: LD_VAR 0 4
15337: PUSH
15338: LD_INT 1
15340: ARRAY
15341: PPUSH
15342: LD_EXP 1
15346: PPUSH
15347: CALL_OW 53
// wait ( 0 0$1 ) ;
15351: LD_INT 35
15353: PPUSH
15354: CALL_OW 67
// ComMoveXY ( tmpRemoteVehs [ 1 ] , GetX ( tmpRemoteVehs [ 1 ] ) + 3 , GetY ( tmpRemoteVehs [ 1 ] ) - 2 ) ;
15358: LD_VAR 0 4
15362: PUSH
15363: LD_INT 1
15365: ARRAY
15366: PPUSH
15367: LD_VAR 0 4
15371: PUSH
15372: LD_INT 1
15374: ARRAY
15375: PPUSH
15376: CALL_OW 250
15380: PUSH
15381: LD_INT 3
15383: PLUS
15384: PPUSH
15385: LD_VAR 0 4
15389: PUSH
15390: LD_INT 1
15392: ARRAY
15393: PPUSH
15394: CALL_OW 251
15398: PUSH
15399: LD_INT 2
15401: MINUS
15402: PPUSH
15403: CALL_OW 111
// wait ( 0 0$2 ) ;
15407: LD_INT 70
15409: PPUSH
15410: CALL_OW 67
// Say ( JMM , D4b-JMM-1 ) ;
15414: LD_EXP 1
15418: PPUSH
15419: LD_STRING D4b-JMM-1
15421: PPUSH
15422: CALL_OW 88
// InGameOff ;
15426: CALL_OW 9
// end else
15430: GO 15731
// begin InGameOn ;
15432: CALL_OW 8
// for j in UnitsInside ( i ) do
15436: LD_ADDR_VAR 0 2
15440: PUSH
15441: LD_VAR 0 1
15445: PPUSH
15446: CALL_OW 313
15450: PUSH
15451: FOR_IN
15452: IFFALSE 15487
// if GetClass ( j ) = 3 then
15454: LD_VAR 0 2
15458: PPUSH
15459: CALL_OW 257
15463: PUSH
15464: LD_INT 3
15466: EQUAL
15467: IFFALSE 15485
// tmpMechanicInside = tmpMechanicInside ^ j ;
15469: LD_ADDR_VAR 0 5
15473: PUSH
15474: LD_VAR 0 5
15478: PUSH
15479: LD_VAR 0 2
15483: ADD
15484: ST_TO_ADDR
15485: GO 15451
15487: POP
15488: POP
// if GetSex ( tmpMechanicInside [ 1 ] ) = 1 then
15489: LD_VAR 0 5
15493: PUSH
15494: LD_INT 1
15496: ARRAY
15497: PPUSH
15498: CALL_OW 258
15502: PUSH
15503: LD_INT 1
15505: EQUAL
15506: IFFALSE 15524
// Say ( tmpMechanicInside [ 1 ] , D4a-Mech1-1 ) ;
15508: LD_VAR 0 5
15512: PUSH
15513: LD_INT 1
15515: ARRAY
15516: PPUSH
15517: LD_STRING D4a-Mech1-1
15519: PPUSH
15520: CALL_OW 88
// if GetSex ( tmpMechanicInside [ 1 ] ) = 2 then
15524: LD_VAR 0 5
15528: PUSH
15529: LD_INT 1
15531: ARRAY
15532: PPUSH
15533: CALL_OW 258
15537: PUSH
15538: LD_INT 2
15540: EQUAL
15541: IFFALSE 15559
// Say ( tmpMechanicInside [ 1 ] , D4a-FMech1-1 ) ;
15543: LD_VAR 0 5
15547: PUSH
15548: LD_INT 1
15550: ARRAY
15551: PPUSH
15552: LD_STRING D4a-FMech1-1
15554: PPUSH
15555: CALL_OW 88
// CenterNowOnUnits ( tmpRemoteVehs [ 1 ] ) ;
15559: LD_VAR 0 4
15563: PUSH
15564: LD_INT 1
15566: ARRAY
15567: PPUSH
15568: CALL_OW 87
// LinkVehicleToHuman ( tmpRemoteVehs [ 1 ] , tmpMechanicInside [ 1 ] ) ;
15572: LD_VAR 0 4
15576: PUSH
15577: LD_INT 1
15579: ARRAY
15580: PPUSH
15581: LD_VAR 0 5
15585: PUSH
15586: LD_INT 1
15588: ARRAY
15589: PPUSH
15590: CALL_OW 53
// wait ( 0 0$1 ) ;
15594: LD_INT 35
15596: PPUSH
15597: CALL_OW 67
// ComMoveXY ( tmpRemoteVehs [ 1 ] , GetX ( tmpRemoteVehs [ 1 ] ) + 3 , GetY ( tmpRemoteVehs [ 1 ] ) - 2 ) ;
15601: LD_VAR 0 4
15605: PUSH
15606: LD_INT 1
15608: ARRAY
15609: PPUSH
15610: LD_VAR 0 4
15614: PUSH
15615: LD_INT 1
15617: ARRAY
15618: PPUSH
15619: CALL_OW 250
15623: PUSH
15624: LD_INT 3
15626: PLUS
15627: PPUSH
15628: LD_VAR 0 4
15632: PUSH
15633: LD_INT 1
15635: ARRAY
15636: PPUSH
15637: CALL_OW 251
15641: PUSH
15642: LD_INT 2
15644: MINUS
15645: PPUSH
15646: CALL_OW 111
// wait ( 0 0$2 ) ;
15650: LD_INT 70
15652: PPUSH
15653: CALL_OW 67
// if GetSex ( tmpMechanicInside [ 1 ] ) = 1 then
15657: LD_VAR 0 5
15661: PUSH
15662: LD_INT 1
15664: ARRAY
15665: PPUSH
15666: CALL_OW 258
15670: PUSH
15671: LD_INT 1
15673: EQUAL
15674: IFFALSE 15692
// Say ( tmpMechanicInside [ 1 ] , D4b-Mech1-1 ) ;
15676: LD_VAR 0 5
15680: PUSH
15681: LD_INT 1
15683: ARRAY
15684: PPUSH
15685: LD_STRING D4b-Mech1-1
15687: PPUSH
15688: CALL_OW 88
// if GetSex ( tmpMechanicInside [ 1 ] ) = 2 then
15692: LD_VAR 0 5
15696: PUSH
15697: LD_INT 1
15699: ARRAY
15700: PPUSH
15701: CALL_OW 258
15705: PUSH
15706: LD_INT 2
15708: EQUAL
15709: IFFALSE 15727
// Say ( tmpMechanicInside [ 1 ] , D4b-FMech1-1 ) ;
15711: LD_VAR 0 5
15715: PUSH
15716: LD_INT 1
15718: ARRAY
15719: PPUSH
15720: LD_STRING D4b-FMech1-1
15722: PPUSH
15723: CALL_OW 88
// InGameOff ;
15727: CALL_OW 9
// end ; end ;
15731: GO 15269
15733: POP
15734: POP
// end ;
15735: PPOPN 5
15737: END
// function CheckMehInside ; var i , j ; begin
15738: LD_INT 0
15740: PPUSH
15741: PPUSH
15742: PPUSH
// result = false ;
15743: LD_ADDR_VAR 0 1
15747: PUSH
15748: LD_INT 0
15750: ST_TO_ADDR
// for i in FilterAllUnits ( [ [ f_side , 1 ] , [ f_btype , 36 ] ] ) do
15751: LD_ADDR_VAR 0 2
15755: PUSH
15756: LD_INT 22
15758: PUSH
15759: LD_INT 1
15761: PUSH
15762: EMPTY
15763: LIST
15764: LIST
15765: PUSH
15766: LD_INT 30
15768: PUSH
15769: LD_INT 36
15771: PUSH
15772: EMPTY
15773: LIST
15774: LIST
15775: PUSH
15776: EMPTY
15777: LIST
15778: LIST
15779: PPUSH
15780: CALL_OW 69
15784: PUSH
15785: FOR_IN
15786: IFFALSE 15837
// begin for j in UnitsInside ( i ) do
15788: LD_ADDR_VAR 0 3
15792: PUSH
15793: LD_VAR 0 2
15797: PPUSH
15798: CALL_OW 313
15802: PUSH
15803: FOR_IN
15804: IFFALSE 15833
// begin if GetClass ( j ) = 3 then
15806: LD_VAR 0 3
15810: PPUSH
15811: CALL_OW 257
15815: PUSH
15816: LD_INT 3
15818: EQUAL
15819: IFFALSE 15831
// begin result = true ;
15821: LD_ADDR_VAR 0 1
15825: PUSH
15826: LD_INT 1
15828: ST_TO_ADDR
// break ;
15829: GO 15833
// end ; end ;
15831: GO 15803
15833: POP
15834: POP
// end ;
15835: GO 15785
15837: POP
15838: POP
// end ;
15839: LD_VAR 0 1
15843: RET
// every 25 25$0 do
15844: GO 15846
15846: DISABLE
// begin repeat wait ( 0 0$1 ) ;
15847: LD_INT 35
15849: PPUSH
15850: CALL_OW 67
// until not InBattle ( 1 ) ;
15854: LD_INT 1
15856: PPUSH
15857: CALL_OW 463
15861: NOT
15862: IFFALSE 15847
// PrepareKurt ;
15864: CALL 19489 0 0
// end ;
15868: END
// every 0 0$10 + 1 1$00 trigger IsOk ( Joan ) and GetSide ( Joan ) = 1 do
15869: LD_EXP 15
15873: PPUSH
15874: CALL_OW 302
15878: PUSH
15879: LD_EXP 15
15883: PPUSH
15884: CALL_OW 255
15888: PUSH
15889: LD_INT 1
15891: EQUAL
15892: AND
15893: IFFALSE 16058
15895: GO 15897
15897: DISABLE
// begin wait ( 0 0$20 ) ;
15898: LD_INT 700
15900: PPUSH
15901: CALL_OW 67
// if not IsOk ( Joan ) then
15905: LD_EXP 15
15909: PPUSH
15910: CALL_OW 302
15914: NOT
15915: IFFALSE 15919
// exit ;
15917: GO 16058
// if IsOK ( Lisa ) then
15919: LD_EXP 2
15923: PPUSH
15924: CALL_OW 302
15928: IFFALSE 16058
// begin DialogueOn ;
15930: CALL_OW 6
// Say ( Lisa , D7-Lisa-1 ) ;
15934: LD_EXP 2
15938: PPUSH
15939: LD_STRING D7-Lisa-1
15941: PPUSH
15942: CALL_OW 88
// Say ( JMM , D7-JMM-1 ) ;
15946: LD_EXP 1
15950: PPUSH
15951: LD_STRING D7-JMM-1
15953: PPUSH
15954: CALL_OW 88
// Say ( Lisa , D7-Lisa-2 ) ;
15958: LD_EXP 2
15962: PPUSH
15963: LD_STRING D7-Lisa-2
15965: PPUSH
15966: CALL_OW 88
// Say ( JMM , D7-JMM-2 ) ;
15970: LD_EXP 1
15974: PPUSH
15975: LD_STRING D7-JMM-2
15977: PPUSH
15978: CALL_OW 88
// Say ( Lisa , D7-Lisa-3 ) ;
15982: LD_EXP 2
15986: PPUSH
15987: LD_STRING D7-Lisa-3
15989: PPUSH
15990: CALL_OW 88
// Say ( JMM , D7-JMM-3 ) ;
15994: LD_EXP 1
15998: PPUSH
15999: LD_STRING D7-JMM-3
16001: PPUSH
16002: CALL_OW 88
// Say ( Lisa , D7-Lisa-4 ) ;
16006: LD_EXP 2
16010: PPUSH
16011: LD_STRING D7-Lisa-4
16013: PPUSH
16014: CALL_OW 88
// Say ( JMM , D7-JMM-4 ) ;
16018: LD_EXP 1
16022: PPUSH
16023: LD_STRING D7-JMM-4
16025: PPUSH
16026: CALL_OW 88
// Say ( JMM , D7-JMM-4a ) ;
16030: LD_EXP 1
16034: PPUSH
16035: LD_STRING D7-JMM-4a
16037: PPUSH
16038: CALL_OW 88
// Say ( Lisa , D7-Lisa-5 ) ;
16042: LD_EXP 2
16046: PPUSH
16047: LD_STRING D7-Lisa-5
16049: PPUSH
16050: CALL_OW 88
// DialogueOff ;
16054: CALL_OW 7
// end ; end ;
16058: END
// every 0 0$1 trigger tempCharles and FilterAllUnits ( [ [ f_side , 1 ] , [ f_dist , tempCharles , 10 ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) > 1 do
16059: LD_EXP 13
16063: PUSH
16064: LD_INT 22
16066: PUSH
16067: LD_INT 1
16069: PUSH
16070: EMPTY
16071: LIST
16072: LIST
16073: PUSH
16074: LD_INT 91
16076: PUSH
16077: LD_EXP 13
16081: PUSH
16082: LD_INT 10
16084: PUSH
16085: EMPTY
16086: LIST
16087: LIST
16088: LIST
16089: PUSH
16090: LD_INT 2
16092: PUSH
16093: LD_INT 25
16095: PUSH
16096: LD_INT 1
16098: PUSH
16099: EMPTY
16100: LIST
16101: LIST
16102: PUSH
16103: LD_INT 25
16105: PUSH
16106: LD_INT 2
16108: PUSH
16109: EMPTY
16110: LIST
16111: LIST
16112: PUSH
16113: LD_INT 25
16115: PUSH
16116: LD_INT 3
16118: PUSH
16119: EMPTY
16120: LIST
16121: LIST
16122: PUSH
16123: LD_INT 25
16125: PUSH
16126: LD_INT 4
16128: PUSH
16129: EMPTY
16130: LIST
16131: LIST
16132: PUSH
16133: EMPTY
16134: LIST
16135: LIST
16136: LIST
16137: LIST
16138: LIST
16139: PUSH
16140: EMPTY
16141: LIST
16142: LIST
16143: LIST
16144: PPUSH
16145: CALL_OW 69
16149: PUSH
16150: LD_INT 1
16152: GREATER
16153: AND
16154: IFFALSE 16171
16156: GO 16158
16158: DISABLE
// begin Say ( tempCharles , D5-Sol1-1 ) ;
16159: LD_EXP 13
16163: PPUSH
16164: LD_STRING D5-Sol1-1
16166: PPUSH
16167: CALL_OW 88
// end ;
16171: END
// every 0 0$1 trigger FilterAllUnits ( [ [ f_side , 1 ] , [ f_control , control_remote ] ] ) >= 2 do
16172: LD_INT 22
16174: PUSH
16175: LD_INT 1
16177: PUSH
16178: EMPTY
16179: LIST
16180: LIST
16181: PUSH
16182: LD_INT 33
16184: PUSH
16185: LD_INT 2
16187: PUSH
16188: EMPTY
16189: LIST
16190: LIST
16191: PUSH
16192: EMPTY
16193: LIST
16194: LIST
16195: PPUSH
16196: CALL_OW 69
16200: PUSH
16201: LD_INT 2
16203: GREATEREQUAL
16204: IFFALSE 16224
16206: GO 16208
16208: DISABLE
// begin ChangeMissionObjectives ( MRa ) ;
16209: LD_STRING MRa
16211: PPUSH
16212: CALL_OW 337
// remoteVehiclesBuild = 1 ;
16216: LD_ADDR_EXP 28
16220: PUSH
16221: LD_INT 1
16223: ST_TO_ADDR
// end ;
16224: END
// every 2 2$00 do var i , last ;
16225: GO 16227
16227: DISABLE
16228: LD_INT 0
16230: PPUSH
16231: PPUSH
// begin last := 8 ;
16232: LD_ADDR_VAR 0 2
16236: PUSH
16237: LD_INT 8
16239: ST_TO_ADDR
// for i = 1 to last do
16240: LD_ADDR_VAR 0 1
16244: PUSH
16245: DOUBLE
16246: LD_INT 1
16248: DEC
16249: ST_TO_ADDR
16250: LD_VAR 0 2
16254: PUSH
16255: FOR_TO
16256: IFFALSE 16284
// begin wait ( rand ( 3 3$00 , 6 6$00 ) ) ;
16258: LD_INT 6300
16260: PPUSH
16261: LD_INT 12600
16263: PPUSH
16264: CALL_OW 12
16268: PPUSH
16269: CALL_OW 67
// PrepareRandoms ( i ) ;
16273: LD_VAR 0 1
16277: PPUSH
16278: CALL 4052 0 1
// end ;
16282: GO 16255
16284: POP
16285: POP
// end ;
16286: PPOPN 2
16288: END
// every 5 5$20 do
16289: GO 16291
16291: DISABLE
// begin DialogueOn ;
16292: CALL_OW 6
// SayRadio ( DeltaDoctor , D12a-Sci-1 ) ;
16296: LD_EXP 10
16300: PPUSH
16301: LD_STRING D12a-Sci-1
16303: PPUSH
16304: CALL_OW 94
// Say ( JMM , D12a-JMM-1 ) ;
16308: LD_EXP 1
16312: PPUSH
16313: LD_STRING D12a-JMM-1
16315: PPUSH
16316: CALL_OW 88
// DialogueOff ;
16320: CALL_OW 7
// cratesStatus = 1 ;
16324: LD_ADDR_EXP 38
16328: PUSH
16329: LD_INT 1
16331: ST_TO_ADDR
// end ;
16332: END
// every 13 13$0 do
16333: GO 16335
16335: DISABLE
// begin DialogueOn ;
16336: CALL_OW 6
// SayRadio ( DeltaDoctor , D12b-Sci-1 ) ;
16340: LD_EXP 10
16344: PPUSH
16345: LD_STRING D12b-Sci-1
16347: PPUSH
16348: CALL_OW 94
// DialogueOff ;
16352: CALL_OW 7
// cratesStatus = 2 ;
16356: LD_ADDR_EXP 38
16360: PUSH
16361: LD_INT 2
16363: ST_TO_ADDR
// end ;
16364: END
// every 32 32$0 do
16365: GO 16367
16367: DISABLE
// begin DialogueOn ;
16368: CALL_OW 6
// SayRadio ( DeltaDoctor , D12c-Sci-1 ) ;
16372: LD_EXP 10
16376: PPUSH
16377: LD_STRING D12c-Sci-1
16379: PPUSH
16380: CALL_OW 94
// DialogueOff ;
16384: CALL_OW 7
// wait ( 3 3$0 ) ;
16388: LD_INT 6300
16390: PPUSH
16391: CALL_OW 67
// DialogueOn ;
16395: CALL_OW 6
// SayRadio ( DeltaDoctor , D12d-Sci-1 ) ;
16399: LD_EXP 10
16403: PPUSH
16404: LD_STRING D12d-Sci-1
16406: PPUSH
16407: CALL_OW 94
// DialogueOff ;
16411: CALL_OW 7
// cratesStatus = 1 ;
16415: LD_ADDR_EXP 38
16419: PUSH
16420: LD_INT 1
16422: ST_TO_ADDR
// wait ( 0 0$40 ) ;
16423: LD_INT 1400
16425: PPUSH
16426: CALL_OW 67
// repeat wait ( 0 0$1 ) ;
16430: LD_INT 35
16432: PPUSH
16433: CALL_OW 67
// until not InBattle ( 1 ) and not FilterUnitsInArea ( scanArea , [ f_enemy , 1 ] ) ;
16437: LD_INT 1
16439: PPUSH
16440: CALL_OW 463
16444: NOT
16445: PUSH
16446: LD_INT 32
16448: PPUSH
16449: LD_INT 81
16451: PUSH
16452: LD_INT 1
16454: PUSH
16455: EMPTY
16456: LIST
16457: LIST
16458: PPUSH
16459: CALL_OW 70
16463: NOT
16464: AND
16465: IFFALSE 16430
// PrepareJoan ;
16467: CALL 3016 0 0
// end ;
16471: END
// every 42 42$0 do
16472: GO 16474
16474: DISABLE
// begin DialogueOn ;
16475: CALL_OW 6
// SayRadio ( DeltaDoctor , D12e-Sci-1 ) ;
16479: LD_EXP 10
16483: PPUSH
16484: LD_STRING D12e-Sci-1
16486: PPUSH
16487: CALL_OW 94
// Say ( JMM , D12e-JMM-1 ) ;
16491: LD_EXP 1
16495: PPUSH
16496: LD_STRING D12e-JMM-1
16498: PPUSH
16499: CALL_OW 88
// DialogueOff ;
16503: CALL_OW 7
// cratesStatus = 2 ;
16507: LD_ADDR_EXP 38
16511: PUSH
16512: LD_INT 2
16514: ST_TO_ADDR
// end ;
16515: END
// every 0 0$1 trigger FilterAllUnits ( [ [ f_side , 6 ] , [ f_type , unit_vehicle ] , [ f_weapon , 51 ] ] ) > 0 do var i ;
16516: LD_INT 22
16518: PUSH
16519: LD_INT 6
16521: PUSH
16522: EMPTY
16523: LIST
16524: LIST
16525: PUSH
16526: LD_INT 21
16528: PUSH
16529: LD_INT 2
16531: PUSH
16532: EMPTY
16533: LIST
16534: LIST
16535: PUSH
16536: LD_INT 34
16538: PUSH
16539: LD_INT 51
16541: PUSH
16542: EMPTY
16543: LIST
16544: LIST
16545: PUSH
16546: EMPTY
16547: LIST
16548: LIST
16549: LIST
16550: PPUSH
16551: CALL_OW 69
16555: PUSH
16556: LD_INT 0
16558: GREATER
16559: IFFALSE 16642
16561: GO 16563
16563: DISABLE
16564: LD_INT 0
16566: PPUSH
// begin enable ;
16567: ENABLE
// for i in FilterAllUnits ( [ [ f_side , 6 ] , [ f_or , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] ] ) do
16568: LD_ADDR_VAR 0 1
16572: PUSH
16573: LD_INT 22
16575: PUSH
16576: LD_INT 6
16578: PUSH
16579: EMPTY
16580: LIST
16581: LIST
16582: PUSH
16583: LD_INT 2
16585: PUSH
16586: LD_INT 21
16588: PUSH
16589: LD_INT 1
16591: PUSH
16592: EMPTY
16593: LIST
16594: LIST
16595: PUSH
16596: LD_INT 21
16598: PUSH
16599: LD_INT 2
16601: PUSH
16602: EMPTY
16603: LIST
16604: LIST
16605: PUSH
16606: EMPTY
16607: LIST
16608: LIST
16609: LIST
16610: PUSH
16611: EMPTY
16612: LIST
16613: LIST
16614: PPUSH
16615: CALL_OW 69
16619: PUSH
16620: FOR_IN
16621: IFFALSE 16640
// ComAgressiveMove ( i , 138 , 168 ) ;
16623: LD_VAR 0 1
16627: PPUSH
16628: LD_INT 138
16630: PPUSH
16631: LD_INT 168
16633: PPUSH
16634: CALL_OW 114
16638: GO 16620
16640: POP
16641: POP
// end ;
16642: PPOPN 1
16644: END
// every 0 0$1 do var i ;
16645: GO 16647
16647: DISABLE
16648: LD_INT 0
16650: PPUSH
// begin enable ;
16651: ENABLE
// for i in FilterUnitsInArea ( ConvoyEscape , [ [ f_or , [ f_side , 3 ] , [ f_side , 6 ] ] ] ) do
16652: LD_ADDR_VAR 0 1
16656: PUSH
16657: LD_INT 4
16659: PPUSH
16660: LD_INT 2
16662: PUSH
16663: LD_INT 22
16665: PUSH
16666: LD_INT 3
16668: PUSH
16669: EMPTY
16670: LIST
16671: LIST
16672: PUSH
16673: LD_INT 22
16675: PUSH
16676: LD_INT 6
16678: PUSH
16679: EMPTY
16680: LIST
16681: LIST
16682: PUSH
16683: EMPTY
16684: LIST
16685: LIST
16686: LIST
16687: PUSH
16688: EMPTY
16689: LIST
16690: PPUSH
16691: CALL_OW 70
16695: PUSH
16696: FOR_IN
16697: IFFALSE 16761
// begin if FilterUnitsInArea ( ConvoyEscape , [ [ f_side , 6 ] , [ f_weapon , 51 ] ] ) > 0 then
16699: LD_INT 4
16701: PPUSH
16702: LD_INT 22
16704: PUSH
16705: LD_INT 6
16707: PUSH
16708: EMPTY
16709: LIST
16710: LIST
16711: PUSH
16712: LD_INT 34
16714: PUSH
16715: LD_INT 51
16717: PUSH
16718: EMPTY
16719: LIST
16720: LIST
16721: PUSH
16722: EMPTY
16723: LIST
16724: LIST
16725: PPUSH
16726: CALL_OW 70
16730: PUSH
16731: LD_INT 0
16733: GREATER
16734: IFFALSE 16750
// sendedConvoys = sendedConvoys + 1 ;
16736: LD_ADDR_EXP 39
16740: PUSH
16741: LD_EXP 39
16745: PUSH
16746: LD_INT 1
16748: PLUS
16749: ST_TO_ADDR
// RemoveUnit ( i ) ;
16750: LD_VAR 0 1
16754: PPUSH
16755: CALL_OW 64
// end ;
16759: GO 16696
16761: POP
16762: POP
// end ; end_of_file
16763: PPOPN 1
16765: END
// on Contact ( side1 , side2 ) do begin if side1 = 1 and side2 = 3 then
16766: LD_VAR 0 1
16770: PUSH
16771: LD_INT 1
16773: EQUAL
16774: PUSH
16775: LD_VAR 0 2
16779: PUSH
16780: LD_INT 3
16782: EQUAL
16783: AND
16784: IFFALSE 16794
// contactWithRussian = 1 ;
16786: LD_ADDR_EXP 22
16790: PUSH
16791: LD_INT 1
16793: ST_TO_ADDR
// end ;
16794: PPOPN 2
16796: END
// on BuildingComplete ( building ) do begin if GetBType ( building ) = 36 and GetSide ( building ) = 1 and FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_vehicle ] , [ f_control , control_remote ] ] ) = 0 and firstTower = 0 then
16797: LD_VAR 0 1
16801: PPUSH
16802: CALL_OW 266
16806: PUSH
16807: LD_INT 36
16809: EQUAL
16810: PUSH
16811: LD_VAR 0 1
16815: PPUSH
16816: CALL_OW 255
16820: PUSH
16821: LD_INT 1
16823: EQUAL
16824: AND
16825: PUSH
16826: LD_INT 22
16828: PUSH
16829: LD_INT 1
16831: PUSH
16832: EMPTY
16833: LIST
16834: LIST
16835: PUSH
16836: LD_INT 21
16838: PUSH
16839: LD_INT 2
16841: PUSH
16842: EMPTY
16843: LIST
16844: LIST
16845: PUSH
16846: LD_INT 33
16848: PUSH
16849: LD_INT 2
16851: PUSH
16852: EMPTY
16853: LIST
16854: LIST
16855: PUSH
16856: EMPTY
16857: LIST
16858: LIST
16859: LIST
16860: PPUSH
16861: CALL_OW 69
16865: PUSH
16866: LD_INT 0
16868: EQUAL
16869: AND
16870: PUSH
16871: LD_EXP 23
16875: PUSH
16876: LD_INT 0
16878: EQUAL
16879: AND
16880: IFFALSE 16960
// begin firstTower = 1 ;
16882: LD_ADDR_EXP 23
16886: PUSH
16887: LD_INT 1
16889: ST_TO_ADDR
// DialogRandom ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_class , 3 ] , [ f_sex , 1 ] ] ) diff [ JMM ] , D3b-Mech1-1 , D3b-Mech1-1 ) ;
16890: LD_INT 22
16892: PUSH
16893: LD_INT 1
16895: PUSH
16896: EMPTY
16897: LIST
16898: LIST
16899: PUSH
16900: LD_INT 21
16902: PUSH
16903: LD_INT 1
16905: PUSH
16906: EMPTY
16907: LIST
16908: LIST
16909: PUSH
16910: LD_INT 25
16912: PUSH
16913: LD_INT 3
16915: PUSH
16916: EMPTY
16917: LIST
16918: LIST
16919: PUSH
16920: LD_INT 26
16922: PUSH
16923: LD_INT 1
16925: PUSH
16926: EMPTY
16927: LIST
16928: LIST
16929: PUSH
16930: EMPTY
16931: LIST
16932: LIST
16933: LIST
16934: LIST
16935: PPUSH
16936: CALL_OW 69
16940: PUSH
16941: LD_EXP 1
16945: PUSH
16946: EMPTY
16947: LIST
16948: DIFF
16949: PPUSH
16950: LD_STRING D3b-Mech1-1
16952: PPUSH
16953: LD_STRING D3b-Mech1-1
16955: PPUSH
16956: CALL 6214 0 3
// end ; if GetBType ( building ) = 0 and GetSide ( building ) = 1 then
16960: LD_VAR 0 1
16964: PPUSH
16965: CALL_OW 266
16969: PUSH
16970: LD_INT 0
16972: EQUAL
16973: PUSH
16974: LD_VAR 0 1
16978: PPUSH
16979: CALL_OW 255
16983: PUSH
16984: LD_INT 1
16986: EQUAL
16987: AND
16988: IFFALSE 17002
// SetBName ( building , theta ) ;
16990: LD_VAR 0 1
16994: PPUSH
16995: LD_STRING theta
16997: PPUSH
16998: CALL_OW 500
// if GetSide ( building ) = 3 then
17002: LD_VAR 0 1
17006: PPUSH
17007: CALL_OW 255
17011: PUSH
17012: LD_INT 3
17014: EQUAL
17015: IFFALSE 17089
// begin ruDestroyedBuildings := Delete ( ruDestroyedBuildings , 1 ) ;
17017: LD_ADDR_EXP 31
17021: PUSH
17022: LD_EXP 31
17026: PPUSH
17027: LD_INT 1
17029: PPUSH
17030: CALL_OW 3
17034: ST_TO_ADDR
// ruDestroyedBuildings := Delete ( ruDestroyedBuildings , 1 ) ;
17035: LD_ADDR_EXP 31
17039: PUSH
17040: LD_EXP 31
17044: PPUSH
17045: LD_INT 1
17047: PPUSH
17048: CALL_OW 3
17052: ST_TO_ADDR
// ruDestroyedBuildings := Delete ( ruDestroyedBuildings , 1 ) ;
17053: LD_ADDR_EXP 31
17057: PUSH
17058: LD_EXP 31
17062: PPUSH
17063: LD_INT 1
17065: PPUSH
17066: CALL_OW 3
17070: ST_TO_ADDR
// ruDestroyedBuildings := Delete ( ruDestroyedBuildings , 1 ) ;
17071: LD_ADDR_EXP 31
17075: PUSH
17076: LD_EXP 31
17080: PPUSH
17081: LD_INT 1
17083: PPUSH
17084: CALL_OW 3
17088: ST_TO_ADDR
// end ; if GetSide ( building ) = 3 and [ GetBType ( building ) = 0 or GetBType ( building ) = 2 or GetBType ( building ) = 4 ] then
17089: LD_VAR 0 1
17093: PPUSH
17094: CALL_OW 255
17098: PUSH
17099: LD_INT 3
17101: EQUAL
17102: PUSH
17103: LD_VAR 0 1
17107: PPUSH
17108: CALL_OW 266
17112: PUSH
17113: LD_INT 0
17115: EQUAL
17116: PUSH
17117: LD_VAR 0 1
17121: PPUSH
17122: CALL_OW 266
17126: PUSH
17127: LD_INT 2
17129: EQUAL
17130: OR
17131: PUSH
17132: LD_VAR 0 1
17136: PPUSH
17137: CALL_OW 266
17141: PUSH
17142: LD_INT 4
17144: EQUAL
17145: OR
17146: PUSH
17147: EMPTY
17148: LIST
17149: AND
17150: IFFALSE 17161
// ComUpgrade ( building ) ;
17152: LD_VAR 0 1
17156: PPUSH
17157: CALL_OW 146
// if GetSide ( building ) = 3 and GetBType ( building ) = b_bunker then
17161: LD_VAR 0 1
17165: PPUSH
17166: CALL_OW 255
17170: PUSH
17171: LD_INT 3
17173: EQUAL
17174: PUSH
17175: LD_VAR 0 1
17179: PPUSH
17180: CALL_OW 266
17184: PUSH
17185: LD_INT 32
17187: EQUAL
17188: AND
17189: IFFALSE 17230
// begin AddComPlaceWeapon ( building , [ 42 , 43 , 44 , 46 ] [ Rand ( 1 , 4 ) ] ) ;
17191: LD_VAR 0 1
17195: PPUSH
17196: LD_INT 42
17198: PUSH
17199: LD_INT 43
17201: PUSH
17202: LD_INT 44
17204: PUSH
17205: LD_INT 46
17207: PUSH
17208: EMPTY
17209: LIST
17210: LIST
17211: LIST
17212: LIST
17213: PUSH
17214: LD_INT 1
17216: PPUSH
17217: LD_INT 4
17219: PPUSH
17220: CALL_OW 12
17224: ARRAY
17225: PPUSH
17226: CALL_OW 208
// end ; end ;
17230: PPOPN 1
17232: END
// on UnitDestroyed ( unit ) do begin if unit in FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_nation , 1 ] ] ) then
17233: LD_VAR 0 1
17237: PUSH
17238: LD_INT 22
17240: PUSH
17241: LD_INT 1
17243: PUSH
17244: EMPTY
17245: LIST
17246: LIST
17247: PUSH
17248: LD_INT 21
17250: PUSH
17251: LD_INT 1
17253: PUSH
17254: EMPTY
17255: LIST
17256: LIST
17257: PUSH
17258: LD_INT 23
17260: PUSH
17261: LD_INT 1
17263: PUSH
17264: EMPTY
17265: LIST
17266: LIST
17267: PUSH
17268: EMPTY
17269: LIST
17270: LIST
17271: LIST
17272: PPUSH
17273: CALL_OW 69
17277: IN
17278: IFFALSE 17294
// killCounter := killCounter + 1 ;
17280: LD_ADDR_EXP 47
17284: PUSH
17285: LD_EXP 47
17289: PUSH
17290: LD_INT 1
17292: PLUS
17293: ST_TO_ADDR
// if unit = JMM then
17294: LD_VAR 0 1
17298: PUSH
17299: LD_EXP 1
17303: EQUAL
17304: IFFALSE 17313
// YouLost ( JMM ) ;
17306: LD_STRING JMM
17308: PPUSH
17309: CALL_OW 104
// if unit = Joan then
17313: LD_VAR 0 1
17317: PUSH
17318: LD_EXP 15
17322: EQUAL
17323: IFFALSE 17333
// JoanStatus = 0 ;
17325: LD_ADDR_EXP 16
17329: PUSH
17330: LD_INT 0
17332: ST_TO_ADDR
// if GetSide ( unit ) = 1 and GetType ( unit ) = unit_human then
17333: LD_VAR 0 1
17337: PPUSH
17338: CALL_OW 255
17342: PUSH
17343: LD_INT 1
17345: EQUAL
17346: PUSH
17347: LD_VAR 0 1
17351: PPUSH
17352: CALL_OW 247
17356: PUSH
17357: LD_INT 1
17359: EQUAL
17360: AND
17361: IFFALSE 17437
// begin if GetClass ( unit ) = 1 or GetClass ( unit ) = 2 or GetClass ( unit ) = 3 or GetClass ( unit ) = 4 then
17363: LD_VAR 0 1
17367: PPUSH
17368: CALL_OW 257
17372: PUSH
17373: LD_INT 1
17375: EQUAL
17376: PUSH
17377: LD_VAR 0 1
17381: PPUSH
17382: CALL_OW 257
17386: PUSH
17387: LD_INT 2
17389: EQUAL
17390: OR
17391: PUSH
17392: LD_VAR 0 1
17396: PPUSH
17397: CALL_OW 257
17401: PUSH
17402: LD_INT 3
17404: EQUAL
17405: OR
17406: PUSH
17407: LD_VAR 0 1
17411: PPUSH
17412: CALL_OW 257
17416: PUSH
17417: LD_INT 4
17419: EQUAL
17420: OR
17421: IFFALSE 17437
// unitLost = unitLost + 1 ;
17423: LD_ADDR_EXP 30
17427: PUSH
17428: LD_EXP 30
17432: PUSH
17433: LD_INT 1
17435: PLUS
17436: ST_TO_ADDR
// end ; if GetSide ( unit ) = 3 and GetType ( unit ) = unit_building then
17437: LD_VAR 0 1
17441: PPUSH
17442: CALL_OW 255
17446: PUSH
17447: LD_INT 3
17449: EQUAL
17450: PUSH
17451: LD_VAR 0 1
17455: PPUSH
17456: CALL_OW 247
17460: PUSH
17461: LD_INT 3
17463: EQUAL
17464: AND
17465: IFFALSE 18157
// begin if GetBType ( unit ) = 31 or GetBType ( unit ) = 32 or GetBType ( unit ) = 36 or GetBType ( unit ) = 0 or GetBType ( unit ) = 24 or GetBType ( unit ) = 17 or GetBType ( unit ) = 25 or GetBType ( unit ) = 19 or GetBType ( unit ) = 20 or GetBType ( unit ) = 18 or GetBType ( unit ) = 21 or GetBType ( unit ) = 23 or GetBType ( unit ) = 16 or GetBType ( unit ) = 6 or GetBType ( unit ) = 29 or GetBType ( unit ) = 26 or GetBType ( unit ) = 30 or GetBType ( unit ) = 28 or GetBType ( unit ) = 27 or GetBType ( unit ) = 33 or GetBType ( unit ) = 2 or GetBType ( unit ) = 4 then
17467: LD_VAR 0 1
17471: PPUSH
17472: CALL_OW 266
17476: PUSH
17477: LD_INT 31
17479: EQUAL
17480: PUSH
17481: LD_VAR 0 1
17485: PPUSH
17486: CALL_OW 266
17490: PUSH
17491: LD_INT 32
17493: EQUAL
17494: OR
17495: PUSH
17496: LD_VAR 0 1
17500: PPUSH
17501: CALL_OW 266
17505: PUSH
17506: LD_INT 36
17508: EQUAL
17509: OR
17510: PUSH
17511: LD_VAR 0 1
17515: PPUSH
17516: CALL_OW 266
17520: PUSH
17521: LD_INT 0
17523: EQUAL
17524: OR
17525: PUSH
17526: LD_VAR 0 1
17530: PPUSH
17531: CALL_OW 266
17535: PUSH
17536: LD_INT 24
17538: EQUAL
17539: OR
17540: PUSH
17541: LD_VAR 0 1
17545: PPUSH
17546: CALL_OW 266
17550: PUSH
17551: LD_INT 17
17553: EQUAL
17554: OR
17555: PUSH
17556: LD_VAR 0 1
17560: PPUSH
17561: CALL_OW 266
17565: PUSH
17566: LD_INT 25
17568: EQUAL
17569: OR
17570: PUSH
17571: LD_VAR 0 1
17575: PPUSH
17576: CALL_OW 266
17580: PUSH
17581: LD_INT 19
17583: EQUAL
17584: OR
17585: PUSH
17586: LD_VAR 0 1
17590: PPUSH
17591: CALL_OW 266
17595: PUSH
17596: LD_INT 20
17598: EQUAL
17599: OR
17600: PUSH
17601: LD_VAR 0 1
17605: PPUSH
17606: CALL_OW 266
17610: PUSH
17611: LD_INT 18
17613: EQUAL
17614: OR
17615: PUSH
17616: LD_VAR 0 1
17620: PPUSH
17621: CALL_OW 266
17625: PUSH
17626: LD_INT 21
17628: EQUAL
17629: OR
17630: PUSH
17631: LD_VAR 0 1
17635: PPUSH
17636: CALL_OW 266
17640: PUSH
17641: LD_INT 23
17643: EQUAL
17644: OR
17645: PUSH
17646: LD_VAR 0 1
17650: PPUSH
17651: CALL_OW 266
17655: PUSH
17656: LD_INT 16
17658: EQUAL
17659: OR
17660: PUSH
17661: LD_VAR 0 1
17665: PPUSH
17666: CALL_OW 266
17670: PUSH
17671: LD_INT 6
17673: EQUAL
17674: OR
17675: PUSH
17676: LD_VAR 0 1
17680: PPUSH
17681: CALL_OW 266
17685: PUSH
17686: LD_INT 29
17688: EQUAL
17689: OR
17690: PUSH
17691: LD_VAR 0 1
17695: PPUSH
17696: CALL_OW 266
17700: PUSH
17701: LD_INT 26
17703: EQUAL
17704: OR
17705: PUSH
17706: LD_VAR 0 1
17710: PPUSH
17711: CALL_OW 266
17715: PUSH
17716: LD_INT 30
17718: EQUAL
17719: OR
17720: PUSH
17721: LD_VAR 0 1
17725: PPUSH
17726: CALL_OW 266
17730: PUSH
17731: LD_INT 28
17733: EQUAL
17734: OR
17735: PUSH
17736: LD_VAR 0 1
17740: PPUSH
17741: CALL_OW 266
17745: PUSH
17746: LD_INT 27
17748: EQUAL
17749: OR
17750: PUSH
17751: LD_VAR 0 1
17755: PPUSH
17756: CALL_OW 266
17760: PUSH
17761: LD_INT 33
17763: EQUAL
17764: OR
17765: PUSH
17766: LD_VAR 0 1
17770: PPUSH
17771: CALL_OW 266
17775: PUSH
17776: LD_INT 2
17778: EQUAL
17779: OR
17780: PUSH
17781: LD_VAR 0 1
17785: PPUSH
17786: CALL_OW 266
17790: PUSH
17791: LD_INT 4
17793: EQUAL
17794: OR
17795: IFFALSE 17881
// begin ruDestroyedBuildings = ruDestroyedBuildings ^ GetBType ( unit ) ;
17797: LD_ADDR_EXP 31
17801: PUSH
17802: LD_EXP 31
17806: PUSH
17807: LD_VAR 0 1
17811: PPUSH
17812: CALL_OW 266
17816: ADD
17817: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetX ( unit ) ;
17818: LD_ADDR_EXP 31
17822: PUSH
17823: LD_EXP 31
17827: PUSH
17828: LD_VAR 0 1
17832: PPUSH
17833: CALL_OW 250
17837: ADD
17838: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetY ( unit ) ;
17839: LD_ADDR_EXP 31
17843: PUSH
17844: LD_EXP 31
17848: PUSH
17849: LD_VAR 0 1
17853: PPUSH
17854: CALL_OW 251
17858: ADD
17859: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetDir ( unit ) ;
17860: LD_ADDR_EXP 31
17864: PUSH
17865: LD_EXP 31
17869: PUSH
17870: LD_VAR 0 1
17874: PPUSH
17875: CALL_OW 254
17879: ADD
17880: ST_TO_ADDR
// end ; if GetBType ( unit ) = 1 then
17881: LD_VAR 0 1
17885: PPUSH
17886: CALL_OW 266
17890: PUSH
17891: LD_INT 1
17893: EQUAL
17894: IFFALSE 17973
// begin ruDestroyedBuildings = ruDestroyedBuildings ^ 0 ;
17896: LD_ADDR_EXP 31
17900: PUSH
17901: LD_EXP 31
17905: PUSH
17906: LD_INT 0
17908: ADD
17909: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetX ( unit ) ;
17910: LD_ADDR_EXP 31
17914: PUSH
17915: LD_EXP 31
17919: PUSH
17920: LD_VAR 0 1
17924: PPUSH
17925: CALL_OW 250
17929: ADD
17930: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetY ( unit ) ;
17931: LD_ADDR_EXP 31
17935: PUSH
17936: LD_EXP 31
17940: PUSH
17941: LD_VAR 0 1
17945: PPUSH
17946: CALL_OW 251
17950: ADD
17951: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetDir ( unit ) ;
17952: LD_ADDR_EXP 31
17956: PUSH
17957: LD_EXP 31
17961: PUSH
17962: LD_VAR 0 1
17966: PPUSH
17967: CALL_OW 254
17971: ADD
17972: ST_TO_ADDR
// end ; if GetBType ( unit ) = 3 then
17973: LD_VAR 0 1
17977: PPUSH
17978: CALL_OW 266
17982: PUSH
17983: LD_INT 3
17985: EQUAL
17986: IFFALSE 18065
// begin ruDestroyedBuildings = ruDestroyedBuildings ^ 2 ;
17988: LD_ADDR_EXP 31
17992: PUSH
17993: LD_EXP 31
17997: PUSH
17998: LD_INT 2
18000: ADD
18001: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetX ( unit ) ;
18002: LD_ADDR_EXP 31
18006: PUSH
18007: LD_EXP 31
18011: PUSH
18012: LD_VAR 0 1
18016: PPUSH
18017: CALL_OW 250
18021: ADD
18022: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetY ( unit ) ;
18023: LD_ADDR_EXP 31
18027: PUSH
18028: LD_EXP 31
18032: PUSH
18033: LD_VAR 0 1
18037: PPUSH
18038: CALL_OW 251
18042: ADD
18043: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetDir ( unit ) ;
18044: LD_ADDR_EXP 31
18048: PUSH
18049: LD_EXP 31
18053: PUSH
18054: LD_VAR 0 1
18058: PPUSH
18059: CALL_OW 254
18063: ADD
18064: ST_TO_ADDR
// end ; if GetBType ( unit ) = 5 then
18065: LD_VAR 0 1
18069: PPUSH
18070: CALL_OW 266
18074: PUSH
18075: LD_INT 5
18077: EQUAL
18078: IFFALSE 18157
// begin ruDestroyedBuildings = ruDestroyedBuildings ^ 4 ;
18080: LD_ADDR_EXP 31
18084: PUSH
18085: LD_EXP 31
18089: PUSH
18090: LD_INT 4
18092: ADD
18093: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetX ( unit ) ;
18094: LD_ADDR_EXP 31
18098: PUSH
18099: LD_EXP 31
18103: PUSH
18104: LD_VAR 0 1
18108: PPUSH
18109: CALL_OW 250
18113: ADD
18114: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetY ( unit ) ;
18115: LD_ADDR_EXP 31
18119: PUSH
18120: LD_EXP 31
18124: PUSH
18125: LD_VAR 0 1
18129: PPUSH
18130: CALL_OW 251
18134: ADD
18135: ST_TO_ADDR
// ruDestroyedBuildings = ruDestroyedBuildings ^ GetDir ( unit ) ;
18136: LD_ADDR_EXP 31
18140: PUSH
18141: LD_EXP 31
18145: PUSH
18146: LD_VAR 0 1
18150: PPUSH
18151: CALL_OW 254
18155: ADD
18156: ST_TO_ADDR
// end ; end ; if ruMechCounter and GetClass ( unit ) = 3 and GetSide ( unit ) = 3 and IsOK ( rufab ) and GetSide ( rufab ) = 3 then
18157: LD_EXP 48
18161: PUSH
18162: LD_VAR 0 1
18166: PPUSH
18167: CALL_OW 257
18171: PUSH
18172: LD_INT 3
18174: EQUAL
18175: AND
18176: PUSH
18177: LD_VAR 0 1
18181: PPUSH
18182: CALL_OW 255
18186: PUSH
18187: LD_INT 3
18189: EQUAL
18190: AND
18191: PUSH
18192: LD_INT 21
18194: PPUSH
18195: CALL_OW 302
18199: AND
18200: PUSH
18201: LD_INT 21
18203: PPUSH
18204: CALL_OW 255
18208: PUSH
18209: LD_INT 3
18211: EQUAL
18212: AND
18213: IFFALSE 18295
// begin ruMechCounter := ruMechCounter - 1 ;
18215: LD_ADDR_EXP 48
18219: PUSH
18220: LD_EXP 48
18224: PUSH
18225: LD_INT 1
18227: MINUS
18228: ST_TO_ADDR
// uc_side = 3 ;
18229: LD_ADDR_OWVAR 20
18233: PUSH
18234: LD_INT 3
18236: ST_TO_ADDR
// uc_nation = 3 ;
18237: LD_ADDR_OWVAR 21
18241: PUSH
18242: LD_INT 3
18244: ST_TO_ADDR
// hc_gallery :=  ;
18245: LD_ADDR_OWVAR 33
18249: PUSH
18250: LD_STRING 
18252: ST_TO_ADDR
// hc_name :=  ;
18253: LD_ADDR_OWVAR 26
18257: PUSH
18258: LD_STRING 
18260: ST_TO_ADDR
// PrepareMechanic ( false , rand ( RuSolMinLevel , RuSolMaxLevel ) ) ;
18261: LD_INT 0
18263: PPUSH
18264: LD_EXP 34
18268: PPUSH
18269: LD_EXP 35
18273: PPUSH
18274: CALL_OW 12
18278: PPUSH
18279: CALL_OW 383
// PlaceHumanInUnit ( CreateHuman , rufab ) ;
18283: CALL_OW 44
18287: PPUSH
18288: LD_INT 21
18290: PPUSH
18291: CALL_OW 52
// end ; if GetSide ( unit ) = 3 and GetWeapon ( unit ) = ru_crane and IsOK ( rufab ) and GetSide ( rufab ) = 3 then
18295: LD_VAR 0 1
18299: PPUSH
18300: CALL_OW 255
18304: PUSH
18305: LD_INT 3
18307: EQUAL
18308: PUSH
18309: LD_VAR 0 1
18313: PPUSH
18314: CALL_OW 264
18318: PUSH
18319: LD_INT 52
18321: EQUAL
18322: AND
18323: PUSH
18324: LD_INT 21
18326: PPUSH
18327: CALL_OW 302
18331: AND
18332: PUSH
18333: LD_INT 21
18335: PPUSH
18336: CALL_OW 255
18340: PUSH
18341: LD_INT 3
18343: EQUAL
18344: AND
18345: IFFALSE 18366
// ComConstruct ( rufab , 22 , 1 , 1 , ru_crane ) ;
18347: LD_INT 21
18349: PPUSH
18350: LD_INT 22
18352: PPUSH
18353: LD_INT 1
18355: PPUSH
18356: LD_INT 1
18358: PPUSH
18359: LD_INT 52
18361: PPUSH
18362: CALL_OW 125
// end ;
18366: PPOPN 1
18368: END
// on VehicleConstructed ( vehicle , building ) do var i , un , crates ;
18369: LD_INT 0
18371: PPUSH
18372: PPUSH
18373: PPUSH
// begin if GetWeapon ( vehicle ) = 51 and GetSide ( vehicle ) = 3 then
18374: LD_VAR 0 1
18378: PPUSH
18379: CALL_OW 264
18383: PUSH
18384: LD_INT 51
18386: EQUAL
18387: PUSH
18388: LD_VAR 0 1
18392: PPUSH
18393: CALL_OW 255
18397: PUSH
18398: LD_INT 3
18400: EQUAL
18401: AND
18402: IFFALSE 18464
// begin crates = GetResourceType ( GetBase ( rudepo ) , 1 ) ;
18404: LD_ADDR_VAR 0 5
18408: PUSH
18409: LD_INT 2
18411: PPUSH
18412: CALL_OW 274
18416: PPUSH
18417: LD_INT 1
18419: PPUSH
18420: CALL_OW 275
18424: ST_TO_ADDR
// SetResourceType ( GetBase ( rudepo ) , 1 , crates - 100 ) ;
18425: LD_INT 2
18427: PPUSH
18428: CALL_OW 274
18432: PPUSH
18433: LD_INT 1
18435: PPUSH
18436: LD_VAR 0 5
18440: PUSH
18441: LD_INT 100
18443: MINUS
18444: PPUSH
18445: CALL_OW 277
// AddCargo ( vehicle , 1 , 100 ) ;
18449: LD_VAR 0 1
18453: PPUSH
18454: LD_INT 1
18456: PPUSH
18457: LD_INT 100
18459: PPUSH
18460: CALL_OW 291
// end ; if building = rufabsupp then
18464: LD_VAR 0 2
18468: PUSH
18469: LD_INT 17
18471: EQUAL
18472: IFFALSE 18486
// SetSide ( vehicle , 6 ) ;
18474: LD_VAR 0 1
18478: PPUSH
18479: LD_INT 6
18481: PPUSH
18482: CALL_OW 235
// end ;
18486: PPOPN 5
18488: END
// on ApemanTamed ( apeman , human ) do begin if GetSide ( apeman ) = 3 then
18489: LD_VAR 0 1
18493: PPUSH
18494: CALL_OW 255
18498: PUSH
18499: LD_INT 3
18501: EQUAL
18502: IFFALSE 18533
// begin tamedApemans = tamedApemans + 1 ;
18504: LD_ADDR_EXP 32
18508: PUSH
18509: LD_EXP 32
18513: PUSH
18514: LD_INT 1
18516: PLUS
18517: ST_TO_ADDR
// ComMoveXY ( apeman , 106 , 85 ) ;
18518: LD_VAR 0 1
18522: PPUSH
18523: LD_INT 106
18525: PPUSH
18526: LD_INT 85
18528: PPUSH
18529: CALL_OW 111
// end ; end ;
18533: PPOPN 2
18535: END
// on UnitGoesToRed ( unit ) do var i , tmpMeh ;
18536: LD_INT 0
18538: PPUSH
18539: PPUSH
// begin if GetSide ( unit ) = 3 and GetType ( unit ) = unit_vehicle then
18540: LD_VAR 0 1
18544: PPUSH
18545: CALL_OW 255
18549: PUSH
18550: LD_INT 3
18552: EQUAL
18553: PUSH
18554: LD_VAR 0 1
18558: PPUSH
18559: CALL_OW 247
18563: PUSH
18564: LD_INT 2
18566: EQUAL
18567: AND
18568: IFFALSE 18677
// if GetWeapon ( unit ) = 42 or GetWeapon ( unit ) = 43 or GetWeapon ( unit ) = 44 or GetWeapon ( unit ) = 46 then
18570: LD_VAR 0 1
18574: PPUSH
18575: CALL_OW 264
18579: PUSH
18580: LD_INT 42
18582: EQUAL
18583: PUSH
18584: LD_VAR 0 1
18588: PPUSH
18589: CALL_OW 264
18593: PUSH
18594: LD_INT 43
18596: EQUAL
18597: OR
18598: PUSH
18599: LD_VAR 0 1
18603: PPUSH
18604: CALL_OW 264
18608: PUSH
18609: LD_INT 44
18611: EQUAL
18612: OR
18613: PUSH
18614: LD_VAR 0 1
18618: PPUSH
18619: CALL_OW 264
18623: PUSH
18624: LD_INT 46
18626: EQUAL
18627: OR
18628: IFFALSE 18677
// AddComConstruct ( rufab , GetChassis ( unit ) , GetEngine ( unit ) , GetControl ( unit ) , GetWeapon ( unit ) ) ;
18630: LD_INT 21
18632: PPUSH
18633: LD_VAR 0 1
18637: PPUSH
18638: CALL_OW 265
18642: PPUSH
18643: LD_VAR 0 1
18647: PPUSH
18648: CALL_OW 262
18652: PPUSH
18653: LD_VAR 0 1
18657: PPUSH
18658: CALL_OW 263
18662: PPUSH
18663: LD_VAR 0 1
18667: PPUSH
18668: CALL_OW 264
18672: PPUSH
18673: CALL_OW 185
// end ;
18677: PPOPN 3
18679: END
// on LeaveVehicle ( vehicle , human ) do begin if GetSide ( vehicle ) = 3 and GetSide ( human ) = 3 and IsOk ( vehicle ) then
18680: LD_VAR 0 1
18684: PPUSH
18685: CALL_OW 255
18689: PUSH
18690: LD_INT 3
18692: EQUAL
18693: PUSH
18694: LD_VAR 0 2
18698: PPUSH
18699: CALL_OW 255
18703: PUSH
18704: LD_INT 3
18706: EQUAL
18707: AND
18708: PUSH
18709: LD_VAR 0 1
18713: PPUSH
18714: CALL_OW 302
18718: AND
18719: IFFALSE 18761
// begin ComRepairVehicle ( human , vehicle ) ;
18721: LD_VAR 0 2
18725: PPUSH
18726: LD_VAR 0 1
18730: PPUSH
18731: CALL_OW 129
// AddComEnterUnit ( human , vehicle ) ;
18735: LD_VAR 0 2
18739: PPUSH
18740: LD_VAR 0 1
18744: PPUSH
18745: CALL_OW 180
// SetFuel ( vehicle , 100 ) ;
18749: LD_VAR 0 1
18753: PPUSH
18754: LD_INT 100
18756: PPUSH
18757: CALL_OW 240
// end ; if GetSide ( vehicle ) = 3 and GetSide ( human ) = 3 and IsOK ( rufab ) and not IsOk ( vehicle ) then
18761: LD_VAR 0 1
18765: PPUSH
18766: CALL_OW 255
18770: PUSH
18771: LD_INT 3
18773: EQUAL
18774: PUSH
18775: LD_VAR 0 2
18779: PPUSH
18780: CALL_OW 255
18784: PUSH
18785: LD_INT 3
18787: EQUAL
18788: AND
18789: PUSH
18790: LD_INT 21
18792: PPUSH
18793: CALL_OW 302
18797: AND
18798: PUSH
18799: LD_VAR 0 1
18803: PPUSH
18804: CALL_OW 302
18808: NOT
18809: AND
18810: IFFALSE 18824
// ComEnterUnit ( human , rufab ) ;
18812: LD_VAR 0 2
18816: PPUSH
18817: LD_INT 21
18819: PPUSH
18820: CALL_OW 120
// end ;
18824: PPOPN 2
18826: END
// on EnterBuilding ( building , human ) do begin if building = rufab and GetSide ( human ) = 3 then
18827: LD_VAR 0 1
18831: PUSH
18832: LD_INT 21
18834: EQUAL
18835: PUSH
18836: LD_VAR 0 2
18840: PPUSH
18841: CALL_OW 255
18845: PUSH
18846: LD_INT 3
18848: EQUAL
18849: AND
18850: IFFALSE 18864
// SetLives ( human , 1000 ) ;
18852: LD_VAR 0 2
18856: PPUSH
18857: LD_INT 1000
18859: PPUSH
18860: CALL_OW 234
// end ;
18864: PPOPN 2
18866: END
// on Command ( cmd ) do begin SOS_Command ( cmd ) ;
18867: LD_VAR 0 1
18871: PPUSH
18872: CALL 29370 0 1
// end ; end_of_file
18876: PPOPN 1
18878: END
// every 0 0$30 trigger cratesStatus = 1 do
18879: LD_EXP 38
18883: PUSH
18884: LD_INT 1
18886: EQUAL
18887: IFFALSE 18970
18889: GO 18891
18891: DISABLE
// begin enable ;
18892: ENABLE
// wait ( [ 0 0$10 , 0 0$30 ] [ Rand ( 1 , 2 ) ] ) ;
18893: LD_INT 350
18895: PUSH
18896: LD_INT 1050
18898: PUSH
18899: EMPTY
18900: LIST
18901: LIST
18902: PUSH
18903: LD_INT 1
18905: PPUSH
18906: LD_INT 2
18908: PPUSH
18909: CALL_OW 12
18913: ARRAY
18914: PPUSH
18915: CALL_OW 67
// CreateCratesArea ( [ 4 , 5 ] [ Rand ( 1 , 2 ) ] , [ CratesSpawn1 , CratesSpawn2 ] [ rand ( 1 , 2 ) ] , true ) ;
18919: LD_INT 4
18921: PUSH
18922: LD_INT 5
18924: PUSH
18925: EMPTY
18926: LIST
18927: LIST
18928: PUSH
18929: LD_INT 1
18931: PPUSH
18932: LD_INT 2
18934: PPUSH
18935: CALL_OW 12
18939: ARRAY
18940: PPUSH
18941: LD_INT 6
18943: PUSH
18944: LD_INT 7
18946: PUSH
18947: EMPTY
18948: LIST
18949: LIST
18950: PUSH
18951: LD_INT 1
18953: PPUSH
18954: LD_INT 2
18956: PPUSH
18957: CALL_OW 12
18961: ARRAY
18962: PPUSH
18963: LD_INT 1
18965: PPUSH
18966: CALL_OW 55
// end ;
18970: END
// every 1 1$0 trigger cratesStatus = 2 do
18971: LD_EXP 38
18975: PUSH
18976: LD_INT 2
18978: EQUAL
18979: IFFALSE 19062
18981: GO 18983
18983: DISABLE
// begin enable ;
18984: ENABLE
// wait ( [ 1 1$30 , 2 2$10 ] [ Rand ( 1 , 2 ) ] ) ;
18985: LD_INT 3150
18987: PUSH
18988: LD_INT 4550
18990: PUSH
18991: EMPTY
18992: LIST
18993: LIST
18994: PUSH
18995: LD_INT 1
18997: PPUSH
18998: LD_INT 2
19000: PPUSH
19001: CALL_OW 12
19005: ARRAY
19006: PPUSH
19007: CALL_OW 67
// CreateCratesArea ( [ 2 , 5 ] [ Rand ( 1 , 2 ) ] , [ CratesSpawn1 , CratesSpawn2 ] [ rand ( 1 , 2 ) ] , true ) ;
19011: LD_INT 2
19013: PUSH
19014: LD_INT 5
19016: PUSH
19017: EMPTY
19018: LIST
19019: LIST
19020: PUSH
19021: LD_INT 1
19023: PPUSH
19024: LD_INT 2
19026: PPUSH
19027: CALL_OW 12
19031: ARRAY
19032: PPUSH
19033: LD_INT 6
19035: PUSH
19036: LD_INT 7
19038: PUSH
19039: EMPTY
19040: LIST
19041: LIST
19042: PUSH
19043: LD_INT 1
19045: PPUSH
19046: LD_INT 2
19048: PPUSH
19049: CALL_OW 12
19053: ARRAY
19054: PPUSH
19055: LD_INT 1
19057: PPUSH
19058: CALL_OW 55
// end ;
19062: END
// every 0 0$30 + 0 0$10 do
19063: GO 19065
19065: DISABLE
// begin CreateCratesArea ( [ 4 , 5 ] [ Rand ( 1 , 2 ) ] , CratesSpawn2 , true ) ;
19066: LD_INT 4
19068: PUSH
19069: LD_INT 5
19071: PUSH
19072: EMPTY
19073: LIST
19074: LIST
19075: PUSH
19076: LD_INT 1
19078: PPUSH
19079: LD_INT 2
19081: PPUSH
19082: CALL_OW 12
19086: ARRAY
19087: PPUSH
19088: LD_INT 7
19090: PPUSH
19091: LD_INT 1
19093: PPUSH
19094: CALL_OW 55
// Wait ( 0 0$15 ) ;
19098: LD_INT 525
19100: PPUSH
19101: CALL_OW 67
// CreateCratesArea ( [ 4 , 5 ] [ Rand ( 1 , 2 ) ] , CratesSpawn2 , true ) ;
19105: LD_INT 4
19107: PUSH
19108: LD_INT 5
19110: PUSH
19111: EMPTY
19112: LIST
19113: LIST
19114: PUSH
19115: LD_INT 1
19117: PPUSH
19118: LD_INT 2
19120: PPUSH
19121: CALL_OW 12
19125: ARRAY
19126: PPUSH
19127: LD_INT 7
19129: PPUSH
19130: LD_INT 1
19132: PPUSH
19133: CALL_OW 55
// Wait ( 0 0$20 ) ;
19137: LD_INT 700
19139: PPUSH
19140: CALL_OW 67
// CreateCratesArea ( [ 4 , 5 ] [ Rand ( 1 , 2 ) ] , CratesSpawn2 , true ) ;
19144: LD_INT 4
19146: PUSH
19147: LD_INT 5
19149: PUSH
19150: EMPTY
19151: LIST
19152: LIST
19153: PUSH
19154: LD_INT 1
19156: PPUSH
19157: LD_INT 2
19159: PPUSH
19160: CALL_OW 12
19164: ARRAY
19165: PPUSH
19166: LD_INT 7
19168: PPUSH
19169: LD_INT 1
19171: PPUSH
19172: CALL_OW 55
// end ; end_of_file
19176: END
// every 0 0$1 trigger timerStatus = 1 do var i , tmp , yourCrates ;
19177: LD_EXP 24
19181: PUSH
19182: LD_INT 1
19184: EQUAL
19185: IFFALSE 19486
19187: GO 19189
19189: DISABLE
19190: LD_INT 0
19192: PPUSH
19193: PPUSH
19194: PPUSH
// begin tmp = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
19195: LD_ADDR_VAR 0 2
19199: PUSH
19200: LD_INT 22
19202: PUSH
19203: LD_INT 1
19205: PUSH
19206: EMPTY
19207: LIST
19208: LIST
19209: PUSH
19210: LD_INT 21
19212: PUSH
19213: LD_INT 3
19215: PUSH
19216: EMPTY
19217: LIST
19218: LIST
19219: PUSH
19220: LD_INT 2
19222: PUSH
19223: LD_INT 30
19225: PUSH
19226: LD_INT 0
19228: PUSH
19229: EMPTY
19230: LIST
19231: LIST
19232: PUSH
19233: LD_INT 30
19235: PUSH
19236: LD_INT 1
19238: PUSH
19239: EMPTY
19240: LIST
19241: LIST
19242: PUSH
19243: EMPTY
19244: LIST
19245: LIST
19246: LIST
19247: PUSH
19248: EMPTY
19249: LIST
19250: LIST
19251: LIST
19252: PPUSH
19253: CALL_OW 69
19257: ST_TO_ADDR
// for i in tmp do
19258: LD_ADDR_VAR 0 1
19262: PUSH
19263: LD_VAR 0 2
19267: PUSH
19268: FOR_IN
19269: IFFALSE 19302
// yourCrates = yourCrates + GetResourceType ( GetBase ( i ) , 1 ) ;
19271: LD_ADDR_VAR 0 3
19275: PUSH
19276: LD_VAR 0 3
19280: PUSH
19281: LD_VAR 0 1
19285: PPUSH
19286: CALL_OW 274
19290: PPUSH
19291: LD_INT 1
19293: PPUSH
19294: CALL_OW 275
19298: PLUS
19299: ST_TO_ADDR
19300: GO 19268
19302: POP
19303: POP
// strings = [ ] ;
19304: LD_ADDR_EXP 27
19308: PUSH
19309: EMPTY
19310: ST_TO_ADDR
// if tmp = 0 then
19311: LD_VAR 0 2
19315: PUSH
19316: LD_INT 0
19318: EQUAL
19319: IFFALSE 19344
// strings = strings ^ [ #Am06-1 , needCrates ] ;
19321: LD_ADDR_EXP 27
19325: PUSH
19326: LD_EXP 27
19330: PUSH
19331: LD_STRING #Am06-1
19333: PUSH
19334: LD_EXP 25
19338: PUSH
19339: EMPTY
19340: LIST
19341: LIST
19342: ADD
19343: ST_TO_ADDR
// if tmp > 0 and needCrates > yourCrates then
19344: LD_VAR 0 2
19348: PUSH
19349: LD_INT 0
19351: GREATER
19352: PUSH
19353: LD_EXP 25
19357: PUSH
19358: LD_VAR 0 3
19362: GREATER
19363: AND
19364: IFFALSE 19395
// strings = strings ^ [ #Am06-1 , needCrates - yourCrates ] ;
19366: LD_ADDR_EXP 27
19370: PUSH
19371: LD_EXP 27
19375: PUSH
19376: LD_STRING #Am06-1
19378: PUSH
19379: LD_EXP 25
19383: PUSH
19384: LD_VAR 0 3
19388: MINUS
19389: PUSH
19390: EMPTY
19391: LIST
19392: LIST
19393: ADD
19394: ST_TO_ADDR
// if tmp > 0 and needCrates <= yourCrates then
19395: LD_VAR 0 2
19399: PUSH
19400: LD_INT 0
19402: GREATER
19403: PUSH
19404: LD_EXP 25
19408: PUSH
19409: LD_VAR 0 3
19413: LESSEQUAL
19414: AND
19415: IFFALSE 19438
// strings = strings ^ [ #Am06-1 , 0 ] ;
19417: LD_ADDR_EXP 27
19421: PUSH
19422: LD_EXP 27
19426: PUSH
19427: LD_STRING #Am06-1
19429: PUSH
19430: LD_INT 0
19432: PUSH
19433: EMPTY
19434: LIST
19435: LIST
19436: ADD
19437: ST_TO_ADDR
// timeToEnd = timeToEnd - 0 0$01 ;
19438: LD_ADDR_EXP 26
19442: PUSH
19443: LD_EXP 26
19447: PUSH
19448: LD_INT 35
19450: MINUS
19451: ST_TO_ADDR
// strings = strings ^ [ #Am06-2 , timeToEnd ] ;
19452: LD_ADDR_EXP 27
19456: PUSH
19457: LD_EXP 27
19461: PUSH
19462: LD_STRING #Am06-2
19464: PUSH
19465: LD_EXP 26
19469: PUSH
19470: EMPTY
19471: LIST
19472: LIST
19473: ADD
19474: ST_TO_ADDR
// display_strings = strings ;
19475: LD_ADDR_OWVAR 47
19479: PUSH
19480: LD_EXP 27
19484: ST_TO_ADDR
// enable ;
19485: ENABLE
// end ; end_of_file
19486: PPOPN 3
19488: END
// export function PrepareKurt ; var i , depot , tmp , rnd , dec , dec2 ; begin
19489: LD_INT 0
19491: PPUSH
19492: PPUSH
19493: PPUSH
19494: PPUSH
19495: PPUSH
19496: PPUSH
19497: PPUSH
// repeat depot := FilterAllUnits ( [ [ f_side , 1 ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
19498: LD_ADDR_VAR 0 3
19502: PUSH
19503: LD_INT 22
19505: PUSH
19506: LD_INT 1
19508: PUSH
19509: EMPTY
19510: LIST
19511: LIST
19512: PUSH
19513: LD_INT 2
19515: PUSH
19516: LD_INT 30
19518: PUSH
19519: LD_INT 0
19521: PUSH
19522: EMPTY
19523: LIST
19524: LIST
19525: PUSH
19526: LD_INT 30
19528: PUSH
19529: LD_INT 1
19531: PUSH
19532: EMPTY
19533: LIST
19534: LIST
19535: PUSH
19536: EMPTY
19537: LIST
19538: LIST
19539: LIST
19540: PUSH
19541: EMPTY
19542: LIST
19543: LIST
19544: PPUSH
19545: CALL_OW 69
19549: ST_TO_ADDR
// wait ( 0 0$1 ) ;
19550: LD_INT 35
19552: PPUSH
19553: CALL_OW 67
// until depot ;
19557: LD_VAR 0 3
19561: IFFALSE 19498
// repeat wait ( 0 0$1 ) ;
19563: LD_INT 35
19565: PPUSH
19566: CALL_OW 67
// tmp := FilterAllUnits ( [ [ f_side , 1 ] , [ f_dist , depot [ 1 ] , 15 ] , [ f_type , unit_human ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] , [ f_not , [ f_inside ] ] , [ f_not , [ f_driving ] ] ] ) diff ( [ Lisa , Bobby , Cyrus , Frank , Donaldson , Gladstone , Denis ] ^ arrivals ) ;
19570: LD_ADDR_VAR 0 4
19574: PUSH
19575: LD_INT 22
19577: PUSH
19578: LD_INT 1
19580: PUSH
19581: EMPTY
19582: LIST
19583: LIST
19584: PUSH
19585: LD_INT 91
19587: PUSH
19588: LD_VAR 0 3
19592: PUSH
19593: LD_INT 1
19595: ARRAY
19596: PUSH
19597: LD_INT 15
19599: PUSH
19600: EMPTY
19601: LIST
19602: LIST
19603: LIST
19604: PUSH
19605: LD_INT 21
19607: PUSH
19608: LD_INT 1
19610: PUSH
19611: EMPTY
19612: LIST
19613: LIST
19614: PUSH
19615: LD_INT 2
19617: PUSH
19618: LD_INT 25
19620: PUSH
19621: LD_INT 1
19623: PUSH
19624: EMPTY
19625: LIST
19626: LIST
19627: PUSH
19628: LD_INT 25
19630: PUSH
19631: LD_INT 2
19633: PUSH
19634: EMPTY
19635: LIST
19636: LIST
19637: PUSH
19638: LD_INT 25
19640: PUSH
19641: LD_INT 3
19643: PUSH
19644: EMPTY
19645: LIST
19646: LIST
19647: PUSH
19648: LD_INT 25
19650: PUSH
19651: LD_INT 4
19653: PUSH
19654: EMPTY
19655: LIST
19656: LIST
19657: PUSH
19658: EMPTY
19659: LIST
19660: LIST
19661: LIST
19662: LIST
19663: LIST
19664: PUSH
19665: LD_INT 3
19667: PUSH
19668: LD_INT 54
19670: PUSH
19671: EMPTY
19672: LIST
19673: PUSH
19674: EMPTY
19675: LIST
19676: LIST
19677: PUSH
19678: LD_INT 3
19680: PUSH
19681: LD_INT 55
19683: PUSH
19684: EMPTY
19685: LIST
19686: PUSH
19687: EMPTY
19688: LIST
19689: LIST
19690: PUSH
19691: EMPTY
19692: LIST
19693: LIST
19694: LIST
19695: LIST
19696: LIST
19697: LIST
19698: PPUSH
19699: CALL_OW 69
19703: PUSH
19704: LD_EXP 2
19708: PUSH
19709: LD_EXP 3
19713: PUSH
19714: LD_EXP 4
19718: PUSH
19719: LD_EXP 5
19723: PUSH
19724: LD_EXP 7
19728: PUSH
19729: LD_EXP 8
19733: PUSH
19734: LD_EXP 9
19738: PUSH
19739: EMPTY
19740: LIST
19741: LIST
19742: LIST
19743: LIST
19744: LIST
19745: LIST
19746: LIST
19747: PUSH
19748: LD_EXP 46
19752: ADD
19753: DIFF
19754: ST_TO_ADDR
// until tmp and not InBattle ( 1 ) ;
19755: LD_VAR 0 4
19759: PUSH
19760: LD_INT 1
19762: PPUSH
19763: CALL_OW 463
19767: NOT
19768: AND
19769: IFFALSE 19563
// tmp := tmp [ rand ( 1 , tmp ) ] ;
19771: LD_ADDR_VAR 0 4
19775: PUSH
19776: LD_VAR 0 4
19780: PUSH
19781: LD_INT 1
19783: PPUSH
19784: LD_VAR 0 4
19788: PPUSH
19789: CALL_OW 12
19793: ARRAY
19794: ST_TO_ADDR
// blockSpawn = 1 ;
19795: LD_ADDR_EXP 29
19799: PUSH
19800: LD_INT 1
19802: ST_TO_ADDR
// uc_side = 2 ;
19803: LD_ADDR_OWVAR 20
19807: PUSH
19808: LD_INT 2
19810: ST_TO_ADDR
// uc_nation = 2 ;
19811: LD_ADDR_OWVAR 21
19815: PUSH
19816: LD_INT 2
19818: ST_TO_ADDR
// Kurt = PrepareUnit ( Kurt , false ) ;
19819: LD_ADDR_EXP 19
19823: PUSH
19824: LD_STRING Kurt
19826: PPUSH
19827: LD_INT 0
19829: PPUSH
19830: CALL 6151 0 2
19834: ST_TO_ADDR
// PlaceUnitXYR ( Kurt , GetX ( tmp ) , GetY ( tmp ) , 5 , true ) ;
19835: LD_EXP 19
19839: PPUSH
19840: LD_VAR 0 4
19844: PPUSH
19845: CALL_OW 250
19849: PPUSH
19850: LD_VAR 0 4
19854: PPUSH
19855: CALL_OW 251
19859: PPUSH
19860: LD_INT 5
19862: PPUSH
19863: LD_INT 1
19865: PPUSH
19866: CALL_OW 50
// InGameOn ;
19870: CALL_OW 8
// CenterNowOnUnits ( Kurt ) ;
19874: LD_EXP 19
19878: PPUSH
19879: CALL_OW 87
// wait ( 0 0$2 ) ;
19883: LD_INT 70
19885: PPUSH
19886: CALL_OW 67
// ComTurnUnit ( Kurt , tmp ) ;
19890: LD_EXP 19
19894: PPUSH
19895: LD_VAR 0 4
19899: PPUSH
19900: CALL_OW 119
// ComMoveUnit ( tmp , Kurt ) ;
19904: LD_VAR 0 4
19908: PPUSH
19909: LD_EXP 19
19913: PPUSH
19914: CALL_OW 112
// wait ( 0 0$1 ) ;
19918: LD_INT 35
19920: PPUSH
19921: CALL_OW 67
// ComTurnUnit ( tmp , Kurt ) ;
19925: LD_VAR 0 4
19929: PPUSH
19930: LD_EXP 19
19934: PPUSH
19935: CALL_OW 119
// DialogueOn ;
19939: CALL_OW 6
// Say ( Kurt , D2-Kurt-1 ) ;
19943: LD_EXP 19
19947: PPUSH
19948: LD_STRING D2-Kurt-1
19950: PPUSH
19951: CALL_OW 88
// if tmp = JMM then
19955: LD_VAR 0 4
19959: PUSH
19960: LD_EXP 1
19964: EQUAL
19965: IFFALSE 20057
// begin Say ( JMM , D2-JMM-1 ) ;
19967: LD_EXP 1
19971: PPUSH
19972: LD_STRING D2-JMM-1
19974: PPUSH
19975: CALL_OW 88
// Say ( Kurt , D2-Kurt-2 ) ;
19979: LD_EXP 19
19983: PPUSH
19984: LD_STRING D2-Kurt-2
19986: PPUSH
19987: CALL_OW 88
// Say ( JMM , D2-JMM-2 ) ;
19991: LD_EXP 1
19995: PPUSH
19996: LD_STRING D2-JMM-2
19998: PPUSH
19999: CALL_OW 88
// Say ( Kurt , D2-Kurt-3 ) ;
20003: LD_EXP 19
20007: PPUSH
20008: LD_STRING D2-Kurt-3
20010: PPUSH
20011: CALL_OW 88
// Say ( JMM , D2-JMM-3 ) ;
20015: LD_EXP 1
20019: PPUSH
20020: LD_STRING D2-JMM-3
20022: PPUSH
20023: CALL_OW 88
// Say ( Kurt , D2-Kurt-4 ) ;
20027: LD_EXP 19
20031: PPUSH
20032: LD_STRING D2-Kurt-4
20034: PPUSH
20035: CALL_OW 88
// Say ( JMM , D2-JMM-4 ) ;
20039: LD_EXP 1
20043: PPUSH
20044: LD_STRING D2-JMM-4
20046: PPUSH
20047: CALL_OW 88
// DialogueOff ;
20051: CALL_OW 7
// end else
20055: GO 20367
// begin if GetSex ( tmp ) = 1 then
20057: LD_VAR 0 4
20061: PPUSH
20062: CALL_OW 258
20066: PUSH
20067: LD_INT 1
20069: EQUAL
20070: IFFALSE 20084
// Say ( tmp , D2-Sol1-1 ) ;
20072: LD_VAR 0 4
20076: PPUSH
20077: LD_STRING D2-Sol1-1
20079: PPUSH
20080: CALL_OW 88
// if GetSex ( tmp ) = 2 then
20084: LD_VAR 0 4
20088: PPUSH
20089: CALL_OW 258
20093: PUSH
20094: LD_INT 2
20096: EQUAL
20097: IFFALSE 20111
// Say ( tmp , D2-FSol1-1 ) ;
20099: LD_VAR 0 4
20103: PPUSH
20104: LD_STRING D2-FSol1-1
20106: PPUSH
20107: CALL_OW 88
// Say ( Kurt , D2-Kurt-2 ) ;
20111: LD_EXP 19
20115: PPUSH
20116: LD_STRING D2-Kurt-2
20118: PPUSH
20119: CALL_OW 88
// if GetSex ( tmp ) = 1 then
20123: LD_VAR 0 4
20127: PPUSH
20128: CALL_OW 258
20132: PUSH
20133: LD_INT 1
20135: EQUAL
20136: IFFALSE 20150
// Say ( tmp , D2-Sol1-2 ) ;
20138: LD_VAR 0 4
20142: PPUSH
20143: LD_STRING D2-Sol1-2
20145: PPUSH
20146: CALL_OW 88
// if GetSex ( tmp ) = 2 then
20150: LD_VAR 0 4
20154: PPUSH
20155: CALL_OW 258
20159: PUSH
20160: LD_INT 2
20162: EQUAL
20163: IFFALSE 20177
// Say ( tmp , D2-FSol1-2 ) ;
20165: LD_VAR 0 4
20169: PPUSH
20170: LD_STRING D2-FSol1-2
20172: PPUSH
20173: CALL_OW 88
// Say ( Kurt , D2-Kurt-3 ) ;
20177: LD_EXP 19
20181: PPUSH
20182: LD_STRING D2-Kurt-3
20184: PPUSH
20185: CALL_OW 88
// if GetSex ( tmp ) = 1 then
20189: LD_VAR 0 4
20193: PPUSH
20194: CALL_OW 258
20198: PUSH
20199: LD_INT 1
20201: EQUAL
20202: IFFALSE 20216
// Say ( tmp , D2-Sol1-3 ) ;
20204: LD_VAR 0 4
20208: PPUSH
20209: LD_STRING D2-Sol1-3
20211: PPUSH
20212: CALL_OW 88
// if GetSex ( tmp ) = 2 then
20216: LD_VAR 0 4
20220: PPUSH
20221: CALL_OW 258
20225: PUSH
20226: LD_INT 2
20228: EQUAL
20229: IFFALSE 20243
// Say ( tmp , D2-FSol1-3 ) ;
20231: LD_VAR 0 4
20235: PPUSH
20236: LD_STRING D2-FSol1-3
20238: PPUSH
20239: CALL_OW 88
// Say ( Kurt , D2-Kurt-4 ) ;
20243: LD_EXP 19
20247: PPUSH
20248: LD_STRING D2-Kurt-4
20250: PPUSH
20251: CALL_OW 88
// if GetSex ( tmp ) = 1 then
20255: LD_VAR 0 4
20259: PPUSH
20260: CALL_OW 258
20264: PUSH
20265: LD_INT 1
20267: EQUAL
20268: IFFALSE 20282
// Say ( tmp , D2-Sol1-4 ) ;
20270: LD_VAR 0 4
20274: PPUSH
20275: LD_STRING D2-Sol1-4
20277: PPUSH
20278: CALL_OW 88
// if GetSex ( tmp ) = 2 then
20282: LD_VAR 0 4
20286: PPUSH
20287: CALL_OW 258
20291: PUSH
20292: LD_INT 2
20294: EQUAL
20295: IFFALSE 20309
// Say ( tmp , D2-FSol1-4 ) ;
20297: LD_VAR 0 4
20301: PPUSH
20302: LD_STRING D2-FSol1-4
20304: PPUSH
20305: CALL_OW 88
// if GetSex ( tmp ) = 1 then
20309: LD_VAR 0 4
20313: PPUSH
20314: CALL_OW 258
20318: PUSH
20319: LD_INT 1
20321: EQUAL
20322: IFFALSE 20336
// Say ( tmp , D2-Sol1-5 ) ;
20324: LD_VAR 0 4
20328: PPUSH
20329: LD_STRING D2-Sol1-5
20331: PPUSH
20332: CALL_OW 88
// if GetSex ( tmp ) = 2 then
20336: LD_VAR 0 4
20340: PPUSH
20341: CALL_OW 258
20345: PUSH
20346: LD_INT 2
20348: EQUAL
20349: IFFALSE 20363
// Say ( tmp , D2-FSol1-5 ) ;
20351: LD_VAR 0 4
20355: PPUSH
20356: LD_STRING D2-FSol1-5
20358: PPUSH
20359: CALL_OW 88
// DialogueOff ;
20363: CALL_OW 7
// end ; dec = ShowQuery1 ;
20367: LD_ADDR_VAR 0 6
20371: PUSH
20372: CALL 6675 0 0
20376: ST_TO_ADDR
// if dec = 1 then
20377: LD_VAR 0 6
20381: PUSH
20382: LD_INT 1
20384: EQUAL
20385: IFFALSE 20447
// begin DialogueOn ;
20387: CALL_OW 6
// Say ( Kurt , D2a-Kurt-1 ) ;
20391: LD_EXP 19
20395: PPUSH
20396: LD_STRING D2a-Kurt-1
20398: PPUSH
20399: CALL_OW 88
// DialogueOff ;
20403: CALL_OW 7
// InGameOff ;
20407: CALL_OW 9
// SetAttitude ( 1 , 2 , att_enemy , true ) ;
20411: LD_INT 1
20413: PPUSH
20414: LD_INT 2
20416: PPUSH
20417: LD_INT 2
20419: PPUSH
20420: LD_INT 1
20422: PPUSH
20423: CALL_OW 80
// ComMoveToArea ( Kurt , KurtEscape ) ;
20427: LD_EXP 19
20431: PPUSH
20432: LD_INT 8
20434: PPUSH
20435: CALL_OW 113
// readyToEscape = 1 ;
20439: LD_ADDR_EXP 21
20443: PUSH
20444: LD_INT 1
20446: ST_TO_ADDR
// end ; if dec = 2 then
20447: LD_VAR 0 6
20451: PUSH
20452: LD_INT 2
20454: EQUAL
20455: IFFALSE 20975
// begin DialogueOn ;
20457: CALL_OW 6
// if tmp = JMM then
20461: LD_VAR 0 4
20465: PUSH
20466: LD_EXP 1
20470: EQUAL
20471: IFFALSE 20527
// begin Say ( JMM , D2b-JMM-1 ) ;
20473: LD_EXP 1
20477: PPUSH
20478: LD_STRING D2b-JMM-1
20480: PPUSH
20481: CALL_OW 88
// Say ( Kurt , D2b-Kurt-1 ) ;
20485: LD_EXP 19
20489: PPUSH
20490: LD_STRING D2b-Kurt-1
20492: PPUSH
20493: CALL_OW 88
// Say ( JMM , D2b-JMM-2 ) ;
20497: LD_EXP 1
20501: PPUSH
20502: LD_STRING D2b-JMM-2
20504: PPUSH
20505: CALL_OW 88
// Say ( Kurt , D2b-Kurt-2 ) ;
20509: LD_EXP 19
20513: PPUSH
20514: LD_STRING D2b-Kurt-2
20516: PPUSH
20517: CALL_OW 88
// DialogueOff ;
20521: CALL_OW 7
// end else
20525: GO 20717
// begin if GetSex ( tmp ) = 1 then
20527: LD_VAR 0 4
20531: PPUSH
20532: CALL_OW 258
20536: PUSH
20537: LD_INT 1
20539: EQUAL
20540: IFFALSE 20554
// Say ( tmp , D2b-Sol1-1 ) ;
20542: LD_VAR 0 4
20546: PPUSH
20547: LD_STRING D2b-Sol1-1
20549: PPUSH
20550: CALL_OW 88
// if GetSex ( tmp ) = 2 then
20554: LD_VAR 0 4
20558: PPUSH
20559: CALL_OW 258
20563: PUSH
20564: LD_INT 2
20566: EQUAL
20567: IFFALSE 20581
// Say ( tmp , D2b-FSol1-1 ) ;
20569: LD_VAR 0 4
20573: PPUSH
20574: LD_STRING D2b-FSol1-1
20576: PPUSH
20577: CALL_OW 88
// Say ( Kurt , D2b-Kurt-1 ) ;
20581: LD_EXP 19
20585: PPUSH
20586: LD_STRING D2b-Kurt-1
20588: PPUSH
20589: CALL_OW 88
// if GetSex ( tmp ) = 1 then
20593: LD_VAR 0 4
20597: PPUSH
20598: CALL_OW 258
20602: PUSH
20603: LD_INT 1
20605: EQUAL
20606: IFFALSE 20620
// Say ( tmp , D2b-Sol1-2 ) ;
20608: LD_VAR 0 4
20612: PPUSH
20613: LD_STRING D2b-Sol1-2
20615: PPUSH
20616: CALL_OW 88
// if GetSex ( tmp ) = 2 then
20620: LD_VAR 0 4
20624: PPUSH
20625: CALL_OW 258
20629: PUSH
20630: LD_INT 2
20632: EQUAL
20633: IFFALSE 20647
// Say ( tmp , D2b-FSol1-2 ) ;
20635: LD_VAR 0 4
20639: PPUSH
20640: LD_STRING D2b-FSol1-2
20642: PPUSH
20643: CALL_OW 88
// Say ( Kurt , D2b-Kurt-2 ) ;
20647: LD_EXP 19
20651: PPUSH
20652: LD_STRING D2b-Kurt-2
20654: PPUSH
20655: CALL_OW 88
// if GetSex ( tmp ) = 1 then
20659: LD_VAR 0 4
20663: PPUSH
20664: CALL_OW 258
20668: PUSH
20669: LD_INT 1
20671: EQUAL
20672: IFFALSE 20686
// Say ( tmp , D2c-Sol1-2 ) ;
20674: LD_VAR 0 4
20678: PPUSH
20679: LD_STRING D2c-Sol1-2
20681: PPUSH
20682: CALL_OW 88
// if GetSex ( tmp ) = 2 then
20686: LD_VAR 0 4
20690: PPUSH
20691: CALL_OW 258
20695: PUSH
20696: LD_INT 2
20698: EQUAL
20699: IFFALSE 20713
// Say ( tmp , D2c-FSol1-2 ) ;
20701: LD_VAR 0 4
20705: PPUSH
20706: LD_STRING D2c-FSol1-2
20708: PPUSH
20709: CALL_OW 88
// DialogueOff ;
20713: CALL_OW 7
// end ; dec2 = ShowQuery2 ;
20717: LD_ADDR_VAR 0 7
20721: PUSH
20722: CALL 6749 0 0
20726: ST_TO_ADDR
// if dec2 = 1 then
20727: LD_VAR 0 7
20731: PUSH
20732: LD_INT 1
20734: EQUAL
20735: IFFALSE 20797
// begin DialogueOn ;
20737: CALL_OW 6
// Say ( Kurt , D2a-Kurt-1 ) ;
20741: LD_EXP 19
20745: PPUSH
20746: LD_STRING D2a-Kurt-1
20748: PPUSH
20749: CALL_OW 88
// DialogueOff ;
20753: CALL_OW 7
// InGameOff ;
20757: CALL_OW 9
// SetAttitude ( 1 , 2 , att_enemy , true ) ;
20761: LD_INT 1
20763: PPUSH
20764: LD_INT 2
20766: PPUSH
20767: LD_INT 2
20769: PPUSH
20770: LD_INT 1
20772: PPUSH
20773: CALL_OW 80
// ComMoveToArea ( Kurt , KurtEscape ) ;
20777: LD_EXP 19
20781: PPUSH
20782: LD_INT 8
20784: PPUSH
20785: CALL_OW 113
// readyToEscape = 1 ;
20789: LD_ADDR_EXP 21
20793: PUSH
20794: LD_INT 1
20796: ST_TO_ADDR
// end ; if dec2 = 2 then
20797: LD_VAR 0 7
20801: PUSH
20802: LD_INT 2
20804: EQUAL
20805: IFFALSE 20975
// begin if tmp = JMM then
20807: LD_VAR 0 4
20811: PUSH
20812: LD_EXP 1
20816: EQUAL
20817: IFFALSE 20877
// begin DialogueOn ;
20819: CALL_OW 6
// Say ( JMM , D2c-JMM-1 ) ;
20823: LD_EXP 1
20827: PPUSH
20828: LD_STRING D2c-JMM-1
20830: PPUSH
20831: CALL_OW 88
// Say ( Kurt , D2c-Kurt-1 ) ;
20835: LD_EXP 19
20839: PPUSH
20840: LD_STRING D2c-Kurt-1
20842: PPUSH
20843: CALL_OW 88
// DialogueOff ;
20847: CALL_OW 7
// InGameOff ;
20851: CALL_OW 9
// ComMoveToArea ( Kurt , KurtEscape ) ;
20855: LD_EXP 19
20859: PPUSH
20860: LD_INT 8
20862: PPUSH
20863: CALL_OW 113
// readyToEscape = 1 ;
20867: LD_ADDR_EXP 21
20871: PUSH
20872: LD_INT 1
20874: ST_TO_ADDR
// end else
20875: GO 20975
// begin DialogueOn ;
20877: CALL_OW 6
// if GetSex ( tmp ) = 1 then
20881: LD_VAR 0 4
20885: PPUSH
20886: CALL_OW 258
20890: PUSH
20891: LD_INT 1
20893: EQUAL
20894: IFFALSE 20908
// Say ( tmp , D2c-Sol1-1 ) ;
20896: LD_VAR 0 4
20900: PPUSH
20901: LD_STRING D2c-Sol1-1
20903: PPUSH
20904: CALL_OW 88
// if GetSex ( tmp ) = 2 then
20908: LD_VAR 0 4
20912: PPUSH
20913: CALL_OW 258
20917: PUSH
20918: LD_INT 2
20920: EQUAL
20921: IFFALSE 20935
// Say ( tmp , D2c-FSol1-1 ) ;
20923: LD_VAR 0 4
20927: PPUSH
20928: LD_STRING D2c-FSol1-1
20930: PPUSH
20931: CALL_OW 88
// Say ( Kurt , D2c-Kurt-1 ) ;
20935: LD_EXP 19
20939: PPUSH
20940: LD_STRING D2c-Kurt-1
20942: PPUSH
20943: CALL_OW 88
// DialogueOff ;
20947: CALL_OW 7
// InGameOff ;
20951: CALL_OW 9
// ComMoveToArea ( Kurt , KurtEscape ) ;
20955: LD_EXP 19
20959: PPUSH
20960: LD_INT 8
20962: PPUSH
20963: CALL_OW 113
// readyToEscape = 1 ;
20967: LD_ADDR_EXP 21
20971: PUSH
20972: LD_INT 1
20974: ST_TO_ADDR
// end ; end ; end ; if dec = 3 then
20975: LD_VAR 0 6
20979: PUSH
20980: LD_INT 3
20982: EQUAL
20983: IFFALSE 21157
// begin DialogueOn ;
20985: CALL_OW 6
// if tmp = JMM then
20989: LD_VAR 0 4
20993: PUSH
20994: LD_EXP 1
20998: EQUAL
20999: IFFALSE 21059
// begin DialogueOn ;
21001: CALL_OW 6
// Say ( JMM , D2c-JMM-1 ) ;
21005: LD_EXP 1
21009: PPUSH
21010: LD_STRING D2c-JMM-1
21012: PPUSH
21013: CALL_OW 88
// Say ( Kurt , D2c-Kurt-1 ) ;
21017: LD_EXP 19
21021: PPUSH
21022: LD_STRING D2c-Kurt-1
21024: PPUSH
21025: CALL_OW 88
// DialogueOff ;
21029: CALL_OW 7
// InGameOff ;
21033: CALL_OW 9
// ComMoveToArea ( Kurt , KurtEscape ) ;
21037: LD_EXP 19
21041: PPUSH
21042: LD_INT 8
21044: PPUSH
21045: CALL_OW 113
// readyToEscape = 1 ;
21049: LD_ADDR_EXP 21
21053: PUSH
21054: LD_INT 1
21056: ST_TO_ADDR
// end else
21057: GO 21157
// begin DialogueOn ;
21059: CALL_OW 6
// if GetSex ( tmp ) = 1 then
21063: LD_VAR 0 4
21067: PPUSH
21068: CALL_OW 258
21072: PUSH
21073: LD_INT 1
21075: EQUAL
21076: IFFALSE 21090
// Say ( tmp , D2c-Sol1-1 ) ;
21078: LD_VAR 0 4
21082: PPUSH
21083: LD_STRING D2c-Sol1-1
21085: PPUSH
21086: CALL_OW 88
// if GetSex ( tmp ) = 2 then
21090: LD_VAR 0 4
21094: PPUSH
21095: CALL_OW 258
21099: PUSH
21100: LD_INT 2
21102: EQUAL
21103: IFFALSE 21117
// Say ( tmp , D2c-FSol1-1 ) ;
21105: LD_VAR 0 4
21109: PPUSH
21110: LD_STRING D2c-FSol1-1
21112: PPUSH
21113: CALL_OW 88
// Say ( Kurt , D2c-Kurt-1 ) ;
21117: LD_EXP 19
21121: PPUSH
21122: LD_STRING D2c-Kurt-1
21124: PPUSH
21125: CALL_OW 88
// DialogueOff ;
21129: CALL_OW 7
// InGameOff ;
21133: CALL_OW 9
// ComMoveToArea ( Kurt , KurtEscape ) ;
21137: LD_EXP 19
21141: PPUSH
21142: LD_INT 8
21144: PPUSH
21145: CALL_OW 113
// readyToEscape = 1 ;
21149: LD_ADDR_EXP 21
21153: PUSH
21154: LD_INT 1
21156: ST_TO_ADDR
// end ; end ; blockSpawn = 0 ;
21157: LD_ADDR_EXP 29
21161: PUSH
21162: LD_INT 0
21164: ST_TO_ADDR
// repeat wait ( 0 0$1 ) ;
21165: LD_INT 35
21167: PPUSH
21168: CALL_OW 67
// until ( IsInArea ( Kurt , KurtEscape ) and readyToEscape ) or IsDead ( Kurt ) ;
21172: LD_EXP 19
21176: PPUSH
21177: LD_INT 8
21179: PPUSH
21180: CALL_OW 308
21184: PUSH
21185: LD_EXP 21
21189: AND
21190: PUSH
21191: LD_EXP 19
21195: PPUSH
21196: CALL_OW 301
21200: OR
21201: IFFALSE 21165
// if IsDead ( Kurt ) then
21203: LD_EXP 19
21207: PPUSH
21208: CALL_OW 301
21212: IFFALSE 21216
// exit ;
21214: GO 21285
// RemoveUnit ( Kurt ) ;
21216: LD_EXP 19
21220: PPUSH
21221: CALL_OW 64
// SaveCharacters ( Kurt , Kurt ) ;
21225: LD_EXP 19
21229: PPUSH
21230: LD_STRING Kurt
21232: PPUSH
21233: CALL_OW 38
// if GetAttitude ( 1 , 2 ) = att_neutral then
21237: LD_INT 1
21239: PPUSH
21240: LD_INT 2
21242: PPUSH
21243: CALL_OW 81
21247: PUSH
21248: LD_INT 0
21250: EQUAL
21251: IFFALSE 21261
// KurtStatus = 1 ;
21253: LD_ADDR_EXP 20
21257: PUSH
21258: LD_INT 1
21260: ST_TO_ADDR
// if GetAttitude ( 1 , 2 ) = att_enemy then
21261: LD_INT 1
21263: PPUSH
21264: LD_INT 2
21266: PPUSH
21267: CALL_OW 81
21271: PUSH
21272: LD_INT 2
21274: EQUAL
21275: IFFALSE 21285
// KurtStatus = 2 ;
21277: LD_ADDR_EXP 20
21281: PUSH
21282: LD_INT 2
21284: ST_TO_ADDR
// end ; end_of_file
21285: LD_VAR 0 1
21289: RET
// every 0 0$1 do
21290: GO 21292
21292: DISABLE
// ResAllTechs ( 3 , rulab , 3 ) ;
21293: LD_INT 3
21295: PPUSH
21296: LD_INT 32
21298: PPUSH
21299: LD_INT 3
21301: PPUSH
21302: CALL 6804 0 3
21306: END
// export enemyWayX , enemyWayY ; every 3 3$0 do var rnd ;
21307: GO 21309
21309: DISABLE
21310: LD_INT 0
21312: PPUSH
// begin enemyWayX = [ ] ;
21313: LD_ADDR_EXP 49
21317: PUSH
21318: EMPTY
21319: ST_TO_ADDR
// enemyWayY = [ ] ;
21320: LD_ADDR_EXP 50
21324: PUSH
21325: EMPTY
21326: ST_TO_ADDR
// rnd = rand ( 1 , 2 ) ;
21327: LD_ADDR_VAR 0 1
21331: PUSH
21332: LD_INT 1
21334: PPUSH
21335: LD_INT 2
21337: PPUSH
21338: CALL_OW 12
21342: ST_TO_ADDR
// if rnd = 1 then
21343: LD_VAR 0 1
21347: PUSH
21348: LD_INT 1
21350: EQUAL
21351: IFFALSE 21391
// begin enemyWayX = [ 93 , 84 , 104 ] ;
21353: LD_ADDR_EXP 49
21357: PUSH
21358: LD_INT 93
21360: PUSH
21361: LD_INT 84
21363: PUSH
21364: LD_INT 104
21366: PUSH
21367: EMPTY
21368: LIST
21369: LIST
21370: LIST
21371: ST_TO_ADDR
// enemyWayY = [ 51 , 35 , 28 ] ;
21372: LD_ADDR_EXP 50
21376: PUSH
21377: LD_INT 51
21379: PUSH
21380: LD_INT 35
21382: PUSH
21383: LD_INT 28
21385: PUSH
21386: EMPTY
21387: LIST
21388: LIST
21389: LIST
21390: ST_TO_ADDR
// end ; if rnd = 2 then
21391: LD_VAR 0 1
21395: PUSH
21396: LD_INT 2
21398: EQUAL
21399: IFFALSE 21455
// begin enemyWayX = [ 93 , 52 , 34 , 28 , 30 ] ;
21401: LD_ADDR_EXP 49
21405: PUSH
21406: LD_INT 93
21408: PUSH
21409: LD_INT 52
21411: PUSH
21412: LD_INT 34
21414: PUSH
21415: LD_INT 28
21417: PUSH
21418: LD_INT 30
21420: PUSH
21421: EMPTY
21422: LIST
21423: LIST
21424: LIST
21425: LIST
21426: LIST
21427: ST_TO_ADDR
// enemyWayY = [ 51 , 45 , 35 , 26 , 20 ] ;
21428: LD_ADDR_EXP 50
21432: PUSH
21433: LD_INT 51
21435: PUSH
21436: LD_INT 45
21438: PUSH
21439: LD_INT 35
21441: PUSH
21442: LD_INT 26
21444: PUSH
21445: LD_INT 20
21447: PUSH
21448: EMPTY
21449: LIST
21450: LIST
21451: LIST
21452: LIST
21453: LIST
21454: ST_TO_ADDR
// end ; enable ;
21455: ENABLE
// end ;
21456: PPOPN 1
21458: END
// every 0 0$1 do
21459: GO 21461
21461: DISABLE
// begin enable ;
21462: ENABLE
// RepairAndRebuildBase ( 3 , rudepo , RussianBase , ruDestroyedBuildings ) ;
21463: LD_INT 3
21465: PPUSH
21466: LD_INT 2
21468: PPUSH
21469: LD_INT 10
21471: PPUSH
21472: LD_EXP 31
21476: PPUSH
21477: CALL 8239 0 4
// CraneRepairBuild ( 3 , RussianRepairArea , ruDestroyedBuildings ) ;
21481: LD_INT 3
21483: PPUSH
21484: LD_INT 12
21486: PPUSH
21487: LD_EXP 31
21491: PPUSH
21492: CALL 10124 0 3
// if disableHealAI = 0 then
21496: LD_EXP 33
21500: PUSH
21501: LD_INT 0
21503: EQUAL
21504: IFFALSE 21525
// HealUnitInBase ( 3 , RussianHealArea , RussianBase , [ rulab ] ) ;
21506: LD_INT 3
21508: PPUSH
21509: LD_INT 9
21511: PPUSH
21512: LD_INT 10
21514: PPUSH
21515: LD_INT 32
21517: PUSH
21518: EMPTY
21519: LIST
21520: PPUSH
21521: CALL 8630 0 4
// CollectCrates ( 3 , 51 , CratesSpawn1 ) ;
21525: LD_INT 3
21527: PPUSH
21528: LD_INT 51
21530: PPUSH
21531: LD_INT 6
21533: PPUSH
21534: CALL 9338 0 3
// RepairVehicles ( 3 , RussianRepairArea , 121 , 100 ) ;
21538: LD_INT 3
21540: PPUSH
21541: LD_INT 12
21543: PPUSH
21544: LD_INT 121
21546: PPUSH
21547: LD_INT 100
21549: PPUSH
21550: CALL 7199 0 4
// AttackVehicles ( 3 , RussianTanksSpot , enemyWayX , enemyWayY ) ;
21554: LD_INT 3
21556: PPUSH
21557: LD_INT 22
21559: PPUSH
21560: LD_EXP 49
21564: PPUSH
21565: LD_EXP 50
21569: PPUSH
21570: CALL 7402 0 4
// EnterBunkerOrBarrack ( 3 , RussianBase ) ;
21574: LD_INT 3
21576: PPUSH
21577: LD_INT 10
21579: PPUSH
21580: CALL 9481 0 2
// AttackNearBuildings ( 3 , 1 ) ;
21584: LD_INT 3
21586: PPUSH
21587: LD_INT 1
21589: PPUSH
21590: CALL 9894 0 2
// if IsDying ( rudepo ) or GetSide ( rudepo ) = 1 then
21594: LD_INT 2
21596: PPUSH
21597: CALL_OW 303
21601: PUSH
21602: LD_INT 2
21604: PPUSH
21605: CALL_OW 255
21609: PUSH
21610: LD_INT 1
21612: EQUAL
21613: OR
21614: IFFALSE 21626
// DefendDepot ( 3 , rudepo ) ;
21616: LD_INT 3
21618: PPUSH
21619: LD_INT 2
21621: PPUSH
21622: CALL 9174 0 2
// end ;
21626: END
// every 10 10$0 trigger FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_vehicle ] , [ f_driving ] , [ f_not , [ f_weapon , 51 ] ] ] ) = 0 and GetSide ( rufab ) = 3 and IsOk ( rufab ) and GetSide ( rudepo ) = 3 and IsOk ( rudepo ) do
21627: LD_INT 22
21629: PUSH
21630: LD_INT 3
21632: PUSH
21633: EMPTY
21634: LIST
21635: LIST
21636: PUSH
21637: LD_INT 21
21639: PUSH
21640: LD_INT 2
21642: PUSH
21643: EMPTY
21644: LIST
21645: LIST
21646: PUSH
21647: LD_INT 55
21649: PUSH
21650: EMPTY
21651: LIST
21652: PUSH
21653: LD_INT 3
21655: PUSH
21656: LD_INT 34
21658: PUSH
21659: LD_INT 51
21661: PUSH
21662: EMPTY
21663: LIST
21664: LIST
21665: PUSH
21666: EMPTY
21667: LIST
21668: LIST
21669: PUSH
21670: EMPTY
21671: LIST
21672: LIST
21673: LIST
21674: LIST
21675: PPUSH
21676: CALL_OW 69
21680: PUSH
21681: LD_INT 0
21683: EQUAL
21684: PUSH
21685: LD_INT 21
21687: PPUSH
21688: CALL_OW 255
21692: PUSH
21693: LD_INT 3
21695: EQUAL
21696: AND
21697: PUSH
21698: LD_INT 21
21700: PPUSH
21701: CALL_OW 302
21705: AND
21706: PUSH
21707: LD_INT 2
21709: PPUSH
21710: CALL_OW 255
21714: PUSH
21715: LD_INT 3
21717: EQUAL
21718: AND
21719: PUSH
21720: LD_INT 2
21722: PPUSH
21723: CALL_OW 302
21727: AND
21728: IFFALSE 21908
21730: GO 21732
21732: DISABLE
// begin enable ;
21733: ENABLE
// SetResourceType ( GetBase ( rudepo ) , 1 , 1000 ) ;
21734: LD_INT 2
21736: PPUSH
21737: CALL_OW 274
21741: PPUSH
21742: LD_INT 1
21744: PPUSH
21745: LD_INT 1000
21747: PPUSH
21748: CALL_OW 277
// BuildingVehicleAndAttackEnemy ( 3 , rufab , [ 4 , 5 , 6 ] [ Difficulty ] , [ [ 43 , 43 , 44 , 44 ] , [ 43 , 43 , 43 , 44 , 44 , 46 ] , [ 43 , 43 , 43 , 44 , 44 , 46 ] ] [ Difficulty ] , 1 , 1 , [ 22 , [ 22 , 24 ] [ Rand ( 1 , 2 ) ] , 24 ] [ Difficulty ] ) ;
21752: LD_INT 3
21754: PPUSH
21755: LD_INT 21
21757: PPUSH
21758: LD_INT 4
21760: PUSH
21761: LD_INT 5
21763: PUSH
21764: LD_INT 6
21766: PUSH
21767: EMPTY
21768: LIST
21769: LIST
21770: LIST
21771: PUSH
21772: LD_OWVAR 67
21776: ARRAY
21777: PPUSH
21778: LD_INT 43
21780: PUSH
21781: LD_INT 43
21783: PUSH
21784: LD_INT 44
21786: PUSH
21787: LD_INT 44
21789: PUSH
21790: EMPTY
21791: LIST
21792: LIST
21793: LIST
21794: LIST
21795: PUSH
21796: LD_INT 43
21798: PUSH
21799: LD_INT 43
21801: PUSH
21802: LD_INT 43
21804: PUSH
21805: LD_INT 44
21807: PUSH
21808: LD_INT 44
21810: PUSH
21811: LD_INT 46
21813: PUSH
21814: EMPTY
21815: LIST
21816: LIST
21817: LIST
21818: LIST
21819: LIST
21820: LIST
21821: PUSH
21822: LD_INT 43
21824: PUSH
21825: LD_INT 43
21827: PUSH
21828: LD_INT 43
21830: PUSH
21831: LD_INT 44
21833: PUSH
21834: LD_INT 44
21836: PUSH
21837: LD_INT 46
21839: PUSH
21840: EMPTY
21841: LIST
21842: LIST
21843: LIST
21844: LIST
21845: LIST
21846: LIST
21847: PUSH
21848: EMPTY
21849: LIST
21850: LIST
21851: LIST
21852: PUSH
21853: LD_OWVAR 67
21857: ARRAY
21858: PPUSH
21859: LD_INT 1
21861: PPUSH
21862: LD_INT 1
21864: PPUSH
21865: LD_INT 22
21867: PUSH
21868: LD_INT 22
21870: PUSH
21871: LD_INT 24
21873: PUSH
21874: EMPTY
21875: LIST
21876: LIST
21877: PUSH
21878: LD_INT 1
21880: PPUSH
21881: LD_INT 2
21883: PPUSH
21884: CALL_OW 12
21888: ARRAY
21889: PUSH
21890: LD_INT 24
21892: PUSH
21893: EMPTY
21894: LIST
21895: LIST
21896: LIST
21897: PUSH
21898: LD_OWVAR 67
21902: ARRAY
21903: PPUSH
21904: CALL 7045 0 7
// end ;
21908: END
// every 5 5$0 trigger GetSide ( rufabsupp ) = 3 and IsOk ( rufabsupp ) and GetSide ( rudepo ) = 3 and IsOk ( rudepo ) do
21909: LD_INT 17
21911: PPUSH
21912: CALL_OW 255
21916: PUSH
21917: LD_INT 3
21919: EQUAL
21920: PUSH
21921: LD_INT 17
21923: PPUSH
21924: CALL_OW 302
21928: AND
21929: PUSH
21930: LD_INT 2
21932: PPUSH
21933: CALL_OW 255
21937: PUSH
21938: LD_INT 3
21940: EQUAL
21941: AND
21942: PUSH
21943: LD_INT 2
21945: PPUSH
21946: CALL_OW 302
21950: AND
21951: IFFALSE 22018
21953: GO 21955
21955: DISABLE
// begin enable ;
21956: ENABLE
// AddComConstruct ( rufabsupp , 22 , 1 , 1 , [ 42 , 43 , 44 ] [ Rand ( 1 , 3 ) ] ) ;
21957: LD_INT 17
21959: PPUSH
21960: LD_INT 22
21962: PPUSH
21963: LD_INT 1
21965: PPUSH
21966: LD_INT 1
21968: PPUSH
21969: LD_INT 42
21971: PUSH
21972: LD_INT 43
21974: PUSH
21975: LD_INT 44
21977: PUSH
21978: EMPTY
21979: LIST
21980: LIST
21981: LIST
21982: PUSH
21983: LD_INT 1
21985: PPUSH
21986: LD_INT 3
21988: PPUSH
21989: CALL_OW 12
21993: ARRAY
21994: PPUSH
21995: CALL_OW 185
// AddComConstruct ( rufabsupp , 22 , 1 , 1 , ru_cargo_bay ) ;
21999: LD_INT 17
22001: PPUSH
22002: LD_INT 22
22004: PPUSH
22005: LD_INT 1
22007: PPUSH
22008: LD_INT 1
22010: PPUSH
22011: LD_INT 51
22013: PPUSH
22014: CALL_OW 185
// end ;
22018: END
// every 1 1$0 trigger IsOK ( rufabsupp ) and GetSide ( rufabsupp ) = 3 and IsOk ( rudepo ) and GetSide ( rudepo ) = 3 and not UnitsInside ( rufabsupp ) do var i ;
22019: LD_INT 17
22021: PPUSH
22022: CALL_OW 302
22026: PUSH
22027: LD_INT 17
22029: PPUSH
22030: CALL_OW 255
22034: PUSH
22035: LD_INT 3
22037: EQUAL
22038: AND
22039: PUSH
22040: LD_INT 2
22042: PPUSH
22043: CALL_OW 302
22047: AND
22048: PUSH
22049: LD_INT 2
22051: PPUSH
22052: CALL_OW 255
22056: PUSH
22057: LD_INT 3
22059: EQUAL
22060: AND
22061: PUSH
22062: LD_INT 17
22064: PPUSH
22065: CALL_OW 313
22069: NOT
22070: AND
22071: IFFALSE 22165
22073: GO 22075
22075: DISABLE
22076: LD_INT 0
22078: PPUSH
// begin for i = 1 to 6 do
22079: LD_ADDR_VAR 0 1
22083: PUSH
22084: DOUBLE
22085: LD_INT 1
22087: DEC
22088: ST_TO_ADDR
22089: LD_INT 6
22091: PUSH
22092: FOR_TO
22093: IFFALSE 22163
// begin uc_side = 3 ;
22095: LD_ADDR_OWVAR 20
22099: PUSH
22100: LD_INT 3
22102: ST_TO_ADDR
// uc_nation = 3 ;
22103: LD_ADDR_OWVAR 21
22107: PUSH
22108: LD_INT 3
22110: ST_TO_ADDR
// hc_gallery :=  ;
22111: LD_ADDR_OWVAR 33
22115: PUSH
22116: LD_STRING 
22118: ST_TO_ADDR
// hc_name :=  ;
22119: LD_ADDR_OWVAR 26
22123: PUSH
22124: LD_STRING 
22126: ST_TO_ADDR
// PrepareMechanic ( false , rand ( RuSolMinLevel , RuSolMaxLevel ) ) ;
22127: LD_INT 0
22129: PPUSH
22130: LD_EXP 34
22134: PPUSH
22135: LD_EXP 35
22139: PPUSH
22140: CALL_OW 12
22144: PPUSH
22145: CALL_OW 383
// PlaceHumanInUnit ( CreateHuman , rufabsupp ) ;
22149: CALL_OW 44
22153: PPUSH
22154: LD_INT 17
22156: PPUSH
22157: CALL_OW 52
// end ;
22161: GO 22092
22163: POP
22164: POP
// end ;
22165: PPOPN 1
22167: END
// every 2 2$0 do var i , j ;
22168: GO 22170
22170: DISABLE
22171: LD_INT 0
22173: PPUSH
22174: PPUSH
// begin wait ( [ 7 7$0 , 16 16$0 ] [ Rand ( 1 , 2 ) ] ) ;
22175: LD_INT 14700
22177: PUSH
22178: LD_INT 33600
22180: PUSH
22181: EMPTY
22182: LIST
22183: LIST
22184: PUSH
22185: LD_INT 1
22187: PPUSH
22188: LD_INT 2
22190: PPUSH
22191: CALL_OW 12
22195: ARRAY
22196: PPUSH
22197: CALL_OW 67
// disableHealAI = 1 ;
22201: LD_ADDR_EXP 33
22205: PUSH
22206: LD_INT 1
22208: ST_TO_ADDR
// for i in FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 4 ] ] ) do
22209: LD_ADDR_VAR 0 1
22213: PUSH
22214: LD_INT 22
22216: PUSH
22217: LD_INT 3
22219: PUSH
22220: EMPTY
22221: LIST
22222: LIST
22223: PUSH
22224: LD_INT 25
22226: PUSH
22227: LD_INT 4
22229: PUSH
22230: EMPTY
22231: LIST
22232: LIST
22233: PUSH
22234: EMPTY
22235: LIST
22236: LIST
22237: PPUSH
22238: CALL_OW 69
22242: PUSH
22243: FOR_IN
22244: IFFALSE 22257
// ComExitBuilding ( i ) ;
22246: LD_VAR 0 1
22250: PPUSH
22251: CALL_OW 122
22255: GO 22243
22257: POP
22258: POP
// wait ( 0 0$1 ) ;
22259: LD_INT 35
22261: PPUSH
22262: CALL_OW 67
// repeat wait ( 0 0$1 ) ;
22266: LD_INT 35
22268: PPUSH
22269: CALL_OW 67
// for i in FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 4 ] ] ) do
22273: LD_ADDR_VAR 0 1
22277: PUSH
22278: LD_INT 22
22280: PUSH
22281: LD_INT 3
22283: PUSH
22284: EMPTY
22285: LIST
22286: LIST
22287: PUSH
22288: LD_INT 25
22290: PUSH
22291: LD_INT 4
22293: PUSH
22294: EMPTY
22295: LIST
22296: LIST
22297: PUSH
22298: EMPTY
22299: LIST
22300: LIST
22301: PPUSH
22302: CALL_OW 69
22306: PUSH
22307: FOR_IN
22308: IFFALSE 22385
// begin for j in FilterUnitsInArea ( ApemansArea , [ [ f_side , 0 ] , [ f_class , 12 ] ] ) do
22310: LD_ADDR_VAR 0 2
22314: PUSH
22315: LD_INT 17
22317: PPUSH
22318: LD_INT 22
22320: PUSH
22321: LD_INT 0
22323: PUSH
22324: EMPTY
22325: LIST
22326: LIST
22327: PUSH
22328: LD_INT 25
22330: PUSH
22331: LD_INT 12
22333: PUSH
22334: EMPTY
22335: LIST
22336: LIST
22337: PUSH
22338: EMPTY
22339: LIST
22340: LIST
22341: PPUSH
22342: CALL_OW 70
22346: PUSH
22347: FOR_IN
22348: IFFALSE 22381
// begin AddComTameXY ( i , GetX ( j ) , GetY ( j ) ) ;
22350: LD_VAR 0 1
22354: PPUSH
22355: LD_VAR 0 2
22359: PPUSH
22360: CALL_OW 250
22364: PPUSH
22365: LD_VAR 0 2
22369: PPUSH
22370: CALL_OW 251
22374: PPUSH
22375: CALL_OW 191
// end ;
22379: GO 22347
22381: POP
22382: POP
// end ;
22383: GO 22307
22385: POP
22386: POP
// until FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 4 ] ] ) = 0 or tamedApemans >= [ 6 , 7 , 8 ] [ Difficulty ] or FilterUnitsInArea ( ApemansArea , [ [ f_side , 0 ] , [ f_class , 12 ] ] ) = 0 ;
22387: LD_INT 22
22389: PUSH
22390: LD_INT 3
22392: PUSH
22393: EMPTY
22394: LIST
22395: LIST
22396: PUSH
22397: LD_INT 25
22399: PUSH
22400: LD_INT 4
22402: PUSH
22403: EMPTY
22404: LIST
22405: LIST
22406: PUSH
22407: EMPTY
22408: LIST
22409: LIST
22410: PPUSH
22411: CALL_OW 69
22415: PUSH
22416: LD_INT 0
22418: EQUAL
22419: PUSH
22420: LD_EXP 32
22424: PUSH
22425: LD_INT 6
22427: PUSH
22428: LD_INT 7
22430: PUSH
22431: LD_INT 8
22433: PUSH
22434: EMPTY
22435: LIST
22436: LIST
22437: LIST
22438: PUSH
22439: LD_OWVAR 67
22443: ARRAY
22444: GREATEREQUAL
22445: OR
22446: PUSH
22447: LD_INT 17
22449: PPUSH
22450: LD_INT 22
22452: PUSH
22453: LD_INT 0
22455: PUSH
22456: EMPTY
22457: LIST
22458: LIST
22459: PUSH
22460: LD_INT 25
22462: PUSH
22463: LD_INT 12
22465: PUSH
22466: EMPTY
22467: LIST
22468: LIST
22469: PUSH
22470: EMPTY
22471: LIST
22472: LIST
22473: PPUSH
22474: CALL_OW 70
22478: PUSH
22479: LD_INT 0
22481: EQUAL
22482: OR
22483: IFFALSE 22266
// disableHealAI = 0 ;
22485: LD_ADDR_EXP 33
22489: PUSH
22490: LD_INT 0
22492: ST_TO_ADDR
// for i in FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 12 ] ] ) do
22493: LD_ADDR_VAR 0 1
22497: PUSH
22498: LD_INT 22
22500: PUSH
22501: LD_INT 3
22503: PUSH
22504: EMPTY
22505: LIST
22506: LIST
22507: PUSH
22508: LD_INT 25
22510: PUSH
22511: LD_INT 12
22513: PUSH
22514: EMPTY
22515: LIST
22516: LIST
22517: PUSH
22518: EMPTY
22519: LIST
22520: LIST
22521: PPUSH
22522: CALL_OW 69
22526: PUSH
22527: FOR_IN
22528: IFFALSE 22544
// SetClass ( i , 16 ) ;
22530: LD_VAR 0 1
22534: PPUSH
22535: LD_INT 16
22537: PPUSH
22538: CALL_OW 336
22542: GO 22527
22544: POP
22545: POP
// for i in FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 4 ] ] ) do
22546: LD_ADDR_VAR 0 1
22550: PUSH
22551: LD_INT 22
22553: PUSH
22554: LD_INT 3
22556: PUSH
22557: EMPTY
22558: LIST
22559: LIST
22560: PUSH
22561: LD_INT 25
22563: PUSH
22564: LD_INT 4
22566: PUSH
22567: EMPTY
22568: LIST
22569: LIST
22570: PUSH
22571: EMPTY
22572: LIST
22573: LIST
22574: PPUSH
22575: CALL_OW 69
22579: PUSH
22580: FOR_IN
22581: IFFALSE 22600
// ComMoveXY ( i , 113 , 94 ) ;
22583: LD_VAR 0 1
22587: PPUSH
22588: LD_INT 113
22590: PPUSH
22591: LD_INT 94
22593: PPUSH
22594: CALL_OW 111
22598: GO 22580
22600: POP
22601: POP
// end ;
22602: PPOPN 2
22604: END
// every 0 0$1 trigger GetSide ( rufab ) = 3 and IsOK ( rufab ) and FilterAllUnits ( [ [ f_side , 3 ] , [ f_weapon , ru_cargo_bay ] ] ) = 0 do
22605: LD_INT 21
22607: PPUSH
22608: CALL_OW 255
22612: PUSH
22613: LD_INT 3
22615: EQUAL
22616: PUSH
22617: LD_INT 21
22619: PPUSH
22620: CALL_OW 302
22624: AND
22625: PUSH
22626: LD_INT 22
22628: PUSH
22629: LD_INT 3
22631: PUSH
22632: EMPTY
22633: LIST
22634: LIST
22635: PUSH
22636: LD_INT 34
22638: PUSH
22639: LD_INT 51
22641: PUSH
22642: EMPTY
22643: LIST
22644: LIST
22645: PUSH
22646: EMPTY
22647: LIST
22648: LIST
22649: PPUSH
22650: CALL_OW 69
22654: PUSH
22655: LD_INT 0
22657: EQUAL
22658: AND
22659: IFFALSE 22691
22661: GO 22663
22663: DISABLE
// begin AddComConstruct ( rufab , 23 , 1 , 1 , ru_cargo_bay ) ;
22664: LD_INT 21
22666: PPUSH
22667: LD_INT 23
22669: PPUSH
22670: LD_INT 1
22672: PPUSH
22673: LD_INT 1
22675: PPUSH
22676: LD_INT 51
22678: PPUSH
22679: CALL_OW 185
// wait ( 5 5$0 ) ;
22683: LD_INT 10500
22685: PPUSH
22686: CALL_OW 67
// enable ;
22690: ENABLE
// end ; end_of_file
22691: END
// every 0 0$01 trigger timeToEnd <= 0 0$00 do var i , tmp , yourCrates ;
22692: LD_EXP 26
22696: PUSH
22697: LD_INT 0
22699: LESSEQUAL
22700: IFFALSE 22849
22702: GO 22704
22704: DISABLE
22705: LD_INT 0
22707: PPUSH
22708: PPUSH
22709: PPUSH
// begin tmp = FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
22710: LD_ADDR_VAR 0 2
22714: PUSH
22715: LD_INT 22
22717: PUSH
22718: LD_INT 1
22720: PUSH
22721: EMPTY
22722: LIST
22723: LIST
22724: PUSH
22725: LD_INT 21
22727: PUSH
22728: LD_INT 3
22730: PUSH
22731: EMPTY
22732: LIST
22733: LIST
22734: PUSH
22735: LD_INT 2
22737: PUSH
22738: LD_INT 30
22740: PUSH
22741: LD_INT 0
22743: PUSH
22744: EMPTY
22745: LIST
22746: LIST
22747: PUSH
22748: LD_INT 30
22750: PUSH
22751: LD_INT 1
22753: PUSH
22754: EMPTY
22755: LIST
22756: LIST
22757: PUSH
22758: EMPTY
22759: LIST
22760: LIST
22761: LIST
22762: PUSH
22763: EMPTY
22764: LIST
22765: LIST
22766: LIST
22767: PPUSH
22768: CALL_OW 69
22772: ST_TO_ADDR
// for i in tmp do
22773: LD_ADDR_VAR 0 1
22777: PUSH
22778: LD_VAR 0 2
22782: PUSH
22783: FOR_IN
22784: IFFALSE 22817
// yourCrates = yourCrates + GetResourceType ( GetBase ( i ) , 1 ) ;
22786: LD_ADDR_VAR 0 3
22790: PUSH
22791: LD_VAR 0 3
22795: PUSH
22796: LD_VAR 0 1
22800: PPUSH
22801: CALL_OW 274
22805: PPUSH
22806: LD_INT 1
22808: PPUSH
22809: CALL_OW 275
22813: PLUS
22814: ST_TO_ADDR
22815: GO 22783
22817: POP
22818: POP
// if yourCrates >= needCrates then
22819: LD_VAR 0 3
22823: PUSH
22824: LD_EXP 25
22828: GREATEREQUAL
22829: IFFALSE 22842
// begin FinishMission ( yourCrates ) ;
22831: LD_VAR 0 3
22835: PPUSH
22836: CALL 22852 0 1
// end else
22840: GO 22849
// begin YouLost ( matmin ) ;
22842: LD_STRING matmin
22844: PPUSH
22845: CALL_OW 104
// end ; end ;
22849: PPOPN 3
22851: END
// export function FinishMission ( crates ) ; var m1 , m2 , m3 ; begin
22852: LD_INT 0
22854: PPUSH
22855: PPUSH
22856: PPUSH
22857: PPUSH
// if killCounter = 0 then
22858: LD_EXP 47
22862: PUSH
22863: LD_INT 0
22865: EQUAL
22866: IFFALSE 22875
// SetAchievement ( ACH_SURV ) ;
22868: LD_STRING ACH_SURV
22870: PPUSH
22871: CALL_OW 543
// if FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_building ] ] ) = 0 then
22875: LD_INT 22
22877: PUSH
22878: LD_INT 3
22880: PUSH
22881: EMPTY
22882: LIST
22883: LIST
22884: PUSH
22885: LD_INT 21
22887: PUSH
22888: LD_INT 3
22890: PUSH
22891: EMPTY
22892: LIST
22893: LIST
22894: PUSH
22895: EMPTY
22896: LIST
22897: LIST
22898: PPUSH
22899: CALL_OW 69
22903: PUSH
22904: LD_INT 0
22906: EQUAL
22907: IFFALSE 22923
// begin wait ( 3 ) ;
22909: LD_INT 3
22911: PPUSH
22912: CALL_OW 67
// SetAchievement ( ACH_BASEDESTROYER ) ;
22916: LD_STRING ACH_BASEDESTROYER
22918: PPUSH
22919: CALL_OW 543
// end ; m1 := false ;
22923: LD_ADDR_VAR 0 3
22927: PUSH
22928: LD_INT 0
22930: ST_TO_ADDR
// m2 := false ;
22931: LD_ADDR_VAR 0 4
22935: PUSH
22936: LD_INT 0
22938: ST_TO_ADDR
// m3 := false ;
22939: LD_ADDR_VAR 0 5
22943: PUSH
22944: LD_INT 0
22946: ST_TO_ADDR
// if crates + 100 > crates then
22947: LD_VAR 0 1
22951: PUSH
22952: LD_INT 100
22954: PLUS
22955: PUSH
22956: LD_VAR 0 1
22960: GREATER
22961: IFFALSE 22993
// begin AddMedal ( cans , 1 ) ;
22963: LD_STRING cans
22965: PPUSH
22966: LD_INT 1
22968: PPUSH
22969: CALL_OW 101
// SaveVariable ( 1 , 06_crates_1 ) ;
22973: LD_INT 1
22975: PPUSH
22976: LD_STRING 06_crates_1
22978: PPUSH
22979: CALL_OW 39
// m1 := true ;
22983: LD_ADDR_VAR 0 3
22987: PUSH
22988: LD_INT 1
22990: ST_TO_ADDR
// end else
22991: GO 23014
// begin AddMedal ( cans , - 1 ) ;
22993: LD_STRING cans
22995: PPUSH
22996: LD_INT 1
22998: NEG
22999: PPUSH
23000: CALL_OW 101
// SaveVariable ( 0 , 06_crates_1 ) ;
23004: LD_INT 0
23006: PPUSH
23007: LD_STRING 06_crates_1
23009: PPUSH
23010: CALL_OW 39
// end ; if unitLost < 3 then
23014: LD_EXP 30
23018: PUSH
23019: LD_INT 3
23021: LESS
23022: IFFALSE 23044
// begin AddMedal ( people , 1 ) ;
23024: LD_STRING people
23026: PPUSH
23027: LD_INT 1
23029: PPUSH
23030: CALL_OW 101
// m2 := true ;
23034: LD_ADDR_VAR 0 4
23038: PUSH
23039: LD_INT 1
23041: ST_TO_ADDR
// end else
23042: GO 23055
// begin AddMedal ( people , - 1 ) ;
23044: LD_STRING people
23046: PPUSH
23047: LD_INT 1
23049: NEG
23050: PPUSH
23051: CALL_OW 101
// end ; SaveVariable ( remoteVehiclesBuild , 06_remoteVehs_1 ) ;
23055: LD_EXP 28
23059: PPUSH
23060: LD_STRING 06_remoteVehs_1
23062: PPUSH
23063: CALL_OW 39
// if remoteVehiclesBuild = 1 then
23067: LD_EXP 28
23071: PUSH
23072: LD_INT 1
23074: EQUAL
23075: IFFALSE 23097
// begin AddMedal ( remote , 1 ) ;
23077: LD_STRING remote
23079: PPUSH
23080: LD_INT 1
23082: PPUSH
23083: CALL_OW 101
// m3 := true ;
23087: LD_ADDR_VAR 0 5
23091: PUSH
23092: LD_INT 1
23094: ST_TO_ADDR
// end else
23095: GO 23137
// begin if GetTech ( 18 , 1 ) = state_enabled then
23097: LD_INT 18
23099: PPUSH
23100: LD_INT 1
23102: PPUSH
23103: CALL_OW 321
23107: PUSH
23108: LD_INT 1
23110: EQUAL
23111: IFFALSE 23126
// begin AddMedal ( remote , - 1 ) ;
23113: LD_STRING remote
23115: PPUSH
23116: LD_INT 1
23118: NEG
23119: PPUSH
23120: CALL_OW 101
// end else
23124: GO 23137
// begin AddMedal ( remote , - 2 ) ;
23126: LD_STRING remote
23128: PPUSH
23129: LD_INT 2
23131: NEG
23132: PPUSH
23133: CALL_OW 101
// end ; end ; if m1 and m2 and m3 then
23137: LD_VAR 0 3
23141: PUSH
23142: LD_VAR 0 4
23146: AND
23147: PUSH
23148: LD_VAR 0 5
23152: AND
23153: IFFALSE 23169
// begin wait ( 3 ) ;
23155: LD_INT 3
23157: PPUSH
23158: CALL_OW 67
// SetAchievement ( ACH_ASPEED_6 ) ;
23162: LD_STRING ACH_ASPEED_6
23164: PPUSH
23165: CALL_OW 543
// end ; if Difficulty = 3 and m1 and m2 and m3 then
23169: LD_OWVAR 67
23173: PUSH
23174: LD_INT 3
23176: EQUAL
23177: PUSH
23178: LD_VAR 0 3
23182: AND
23183: PUSH
23184: LD_VAR 0 4
23188: AND
23189: PUSH
23190: LD_VAR 0 5
23194: AND
23195: IFFALSE 23207
// SetAchievementEX ( ACH_AMER , 6 ) ;
23197: LD_STRING ACH_AMER
23199: PPUSH
23200: LD_INT 6
23202: PPUSH
23203: CALL_OW 564
// SaveVariable ( KurtStatus , 06_KurtStatus_1 ) ;
23207: LD_EXP 20
23211: PPUSH
23212: LD_STRING 06_KurtStatus_1
23214: PPUSH
23215: CALL_OW 39
// GiveMedals ( Main ) ;
23219: LD_STRING Main
23221: PPUSH
23222: CALL_OW 102
// RewardPeople ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_ok ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) ) ;
23226: LD_INT 22
23228: PUSH
23229: LD_INT 1
23231: PUSH
23232: EMPTY
23233: LIST
23234: LIST
23235: PUSH
23236: LD_INT 21
23238: PUSH
23239: LD_INT 1
23241: PUSH
23242: EMPTY
23243: LIST
23244: LIST
23245: PUSH
23246: LD_INT 50
23248: PUSH
23249: EMPTY
23250: LIST
23251: PUSH
23252: LD_INT 2
23254: PUSH
23255: LD_INT 25
23257: PUSH
23258: LD_INT 1
23260: PUSH
23261: EMPTY
23262: LIST
23263: LIST
23264: PUSH
23265: LD_INT 25
23267: PUSH
23268: LD_INT 2
23270: PUSH
23271: EMPTY
23272: LIST
23273: LIST
23274: PUSH
23275: LD_INT 25
23277: PUSH
23278: LD_INT 3
23280: PUSH
23281: EMPTY
23282: LIST
23283: LIST
23284: PUSH
23285: LD_INT 25
23287: PUSH
23288: LD_INT 4
23290: PUSH
23291: EMPTY
23292: LIST
23293: LIST
23294: PUSH
23295: EMPTY
23296: LIST
23297: LIST
23298: LIST
23299: LIST
23300: LIST
23301: PUSH
23302: EMPTY
23303: LIST
23304: LIST
23305: LIST
23306: LIST
23307: PPUSH
23308: CALL_OW 69
23312: PPUSH
23313: CALL_OW 43
// SaveCharacters ( JMM , mission_prefix & JMM ) ;
23317: LD_EXP 1
23321: PPUSH
23322: LD_EXP 43
23326: PUSH
23327: LD_STRING JMM
23329: STR
23330: PPUSH
23331: CALL_OW 38
// EnchancedSaveCharacters ( Lisa , mission_prefix & Lisa ) ;
23335: LD_EXP 2
23339: PPUSH
23340: LD_EXP 43
23344: PUSH
23345: LD_STRING Lisa
23347: STR
23348: PPUSH
23349: CALL 6303 0 2
// EnchancedSaveCharacters ( Bobby , mission_prefix & Bobby ) ;
23353: LD_EXP 3
23357: PPUSH
23358: LD_EXP 43
23362: PUSH
23363: LD_STRING Bobby
23365: STR
23366: PPUSH
23367: CALL 6303 0 2
// EnchancedSaveCharacters ( Cyrus , mission_prefix & Cyrus ) ;
23371: LD_EXP 4
23375: PPUSH
23376: LD_EXP 43
23380: PUSH
23381: LD_STRING Cyrus
23383: STR
23384: PPUSH
23385: CALL 6303 0 2
// EnchancedSaveCharacters ( Frank , mission_prefix & Frank ) ;
23389: LD_EXP 5
23393: PPUSH
23394: LD_EXP 43
23398: PUSH
23399: LD_STRING Frank
23401: STR
23402: PPUSH
23403: CALL 6303 0 2
// EnchancedSaveCharacters ( Brown , mission_prefix & Brown ) ;
23407: LD_EXP 6
23411: PPUSH
23412: LD_EXP 43
23416: PUSH
23417: LD_STRING Brown
23419: STR
23420: PPUSH
23421: CALL 6303 0 2
// EnchancedSaveCharacters ( Donaldson , mission_prefix & Donaldson ) ;
23425: LD_EXP 7
23429: PPUSH
23430: LD_EXP 43
23434: PUSH
23435: LD_STRING Donaldson
23437: STR
23438: PPUSH
23439: CALL 6303 0 2
// EnchancedSaveCharacters ( Gladstone , mission_prefix & Gladstone ) ;
23443: LD_EXP 8
23447: PPUSH
23448: LD_EXP 43
23452: PUSH
23453: LD_STRING Gladstone
23455: STR
23456: PPUSH
23457: CALL 6303 0 2
// EnchancedSaveCharacters ( Denis , mission_prefix & Denis ) ;
23461: LD_EXP 9
23465: PPUSH
23466: LD_EXP 43
23470: PUSH
23471: LD_STRING Denis
23473: STR
23474: PPUSH
23475: CALL 6303 0 2
// EnchancedSaveCharacters ( Joan , mission_prefix & Joan ) ;
23479: LD_EXP 15
23483: PPUSH
23484: LD_EXP 43
23488: PUSH
23489: LD_STRING Joan
23491: STR
23492: PPUSH
23493: CALL 6303 0 2
// if IsLive ( Joan ) then
23497: LD_EXP 15
23501: PPUSH
23502: CALL_OW 300
23506: IFFALSE 23520
// SaveCharacters ( Joan , Joan ) ;
23508: LD_EXP 15
23512: PPUSH
23513: LD_STRING Joan
23515: PPUSH
23516: CALL_OW 38
// SaveVariable ( JoanStatus , 06_JoanStatus_1 ) ;
23520: LD_EXP 16
23524: PPUSH
23525: LD_STRING 06_JoanStatus_1
23527: PPUSH
23528: CALL_OW 39
// SaveCharacters ( FilterAllUnits ( [ [ f_ok ] , [ f_side , 1 ] , [ f_type , unit_human ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) diff [ JMM , Lisa , Bobby , Cyrus , Frank , Brown , Donaldson , Gladstone , Denis , Joan ] , 06_other_survivors ) ;
23532: LD_INT 50
23534: PUSH
23535: EMPTY
23536: LIST
23537: PUSH
23538: LD_INT 22
23540: PUSH
23541: LD_INT 1
23543: PUSH
23544: EMPTY
23545: LIST
23546: LIST
23547: PUSH
23548: LD_INT 21
23550: PUSH
23551: LD_INT 1
23553: PUSH
23554: EMPTY
23555: LIST
23556: LIST
23557: PUSH
23558: LD_INT 2
23560: PUSH
23561: LD_INT 25
23563: PUSH
23564: LD_INT 1
23566: PUSH
23567: EMPTY
23568: LIST
23569: LIST
23570: PUSH
23571: LD_INT 25
23573: PUSH
23574: LD_INT 2
23576: PUSH
23577: EMPTY
23578: LIST
23579: LIST
23580: PUSH
23581: LD_INT 25
23583: PUSH
23584: LD_INT 3
23586: PUSH
23587: EMPTY
23588: LIST
23589: LIST
23590: PUSH
23591: LD_INT 25
23593: PUSH
23594: LD_INT 4
23596: PUSH
23597: EMPTY
23598: LIST
23599: LIST
23600: PUSH
23601: EMPTY
23602: LIST
23603: LIST
23604: LIST
23605: LIST
23606: LIST
23607: PUSH
23608: EMPTY
23609: LIST
23610: LIST
23611: LIST
23612: LIST
23613: PPUSH
23614: CALL_OW 69
23618: PUSH
23619: LD_EXP 1
23623: PUSH
23624: LD_EXP 2
23628: PUSH
23629: LD_EXP 3
23633: PUSH
23634: LD_EXP 4
23638: PUSH
23639: LD_EXP 5
23643: PUSH
23644: LD_EXP 6
23648: PUSH
23649: LD_EXP 7
23653: PUSH
23654: LD_EXP 8
23658: PUSH
23659: LD_EXP 9
23663: PUSH
23664: LD_EXP 15
23668: PUSH
23669: EMPTY
23670: LIST
23671: LIST
23672: LIST
23673: LIST
23674: LIST
23675: LIST
23676: LIST
23677: LIST
23678: LIST
23679: LIST
23680: DIFF
23681: PPUSH
23682: LD_STRING 06_other_survivors
23684: PPUSH
23685: CALL_OW 38
// SaveCharacters ( FilterAllUnits ( [ [ f_ok ] , [ f_side , 1 ] , [ f_type , unit_human ] , [ f_or , [ f_class , 12 ] , [ f_class , 16 ] ] ] ) , 06_other_apemans ) ;
23689: LD_INT 50
23691: PUSH
23692: EMPTY
23693: LIST
23694: PUSH
23695: LD_INT 22
23697: PUSH
23698: LD_INT 1
23700: PUSH
23701: EMPTY
23702: LIST
23703: LIST
23704: PUSH
23705: LD_INT 21
23707: PUSH
23708: LD_INT 1
23710: PUSH
23711: EMPTY
23712: LIST
23713: LIST
23714: PUSH
23715: LD_INT 2
23717: PUSH
23718: LD_INT 25
23720: PUSH
23721: LD_INT 12
23723: PUSH
23724: EMPTY
23725: LIST
23726: LIST
23727: PUSH
23728: LD_INT 25
23730: PUSH
23731: LD_INT 16
23733: PUSH
23734: EMPTY
23735: LIST
23736: LIST
23737: PUSH
23738: EMPTY
23739: LIST
23740: LIST
23741: LIST
23742: PUSH
23743: EMPTY
23744: LIST
23745: LIST
23746: LIST
23747: LIST
23748: PPUSH
23749: CALL_OW 69
23753: PPUSH
23754: LD_STRING 06_other_apemans
23756: PPUSH
23757: CALL_OW 38
// YouWin ;
23761: CALL_OW 103
// end ; end_of_file
23765: LD_VAR 0 2
23769: RET
// every 1 1$0 trigger sendedConvoys = 3 do
23770: LD_EXP 39
23774: PUSH
23775: LD_INT 3
23777: EQUAL
23778: IFFALSE 23893
23780: GO 23782
23782: DISABLE
// begin enable ;
23783: ENABLE
// sendedConvoys = 0 ;
23784: LD_ADDR_EXP 39
23788: PUSH
23789: LD_INT 0
23791: ST_TO_ADDR
// RespawnAttackInfantry ( 6 , 3 , [ rand ( 5 , 10 ) , rand ( 5 , 11 ) , rand ( 8 , 12 ) ] [ Difficulty ] , 0 , 0 , 0 , 0 , rand ( RuSolMinLevel , RuSolMaxLevel ) , RussianAttackSpawn , AttackAreaHeal , 1 , rand ( 1 , 2 ) ) ;
23792: LD_INT 6
23794: PPUSH
23795: LD_INT 3
23797: PPUSH
23798: LD_INT 5
23800: PPUSH
23801: LD_INT 10
23803: PPUSH
23804: CALL_OW 12
23808: PUSH
23809: LD_INT 5
23811: PPUSH
23812: LD_INT 11
23814: PPUSH
23815: CALL_OW 12
23819: PUSH
23820: LD_INT 8
23822: PPUSH
23823: LD_INT 12
23825: PPUSH
23826: CALL_OW 12
23830: PUSH
23831: EMPTY
23832: LIST
23833: LIST
23834: LIST
23835: PUSH
23836: LD_OWVAR 67
23840: ARRAY
23841: PPUSH
23842: LD_INT 0
23844: PPUSH
23845: LD_INT 0
23847: PPUSH
23848: LD_INT 0
23850: PPUSH
23851: LD_INT 0
23853: PPUSH
23854: LD_EXP 34
23858: PPUSH
23859: LD_EXP 35
23863: PPUSH
23864: CALL_OW 12
23868: PPUSH
23869: LD_INT 16
23871: PPUSH
23872: LD_INT 15
23874: PPUSH
23875: LD_INT 1
23877: PPUSH
23878: LD_INT 1
23880: PPUSH
23881: LD_INT 2
23883: PPUSH
23884: CALL_OW 12
23888: PPUSH
23889: CALL 10722 0 12
// end ; end_of_file
23893: END
// export function PrepareNature ; var i , un ; begin
23894: LD_INT 0
23896: PPUSH
23897: PPUSH
23898: PPUSH
// for i = 1 to Difficulty + 2 do
23899: LD_ADDR_VAR 0 2
23903: PUSH
23904: DOUBLE
23905: LD_INT 1
23907: DEC
23908: ST_TO_ADDR
23909: LD_OWVAR 67
23913: PUSH
23914: LD_INT 2
23916: PLUS
23917: PUSH
23918: FOR_TO
23919: IFFALSE 24028
// begin hc_sex = sex_male ;
23921: LD_ADDR_OWVAR 27
23925: PUSH
23926: LD_INT 1
23928: ST_TO_ADDR
// uc_side = 0 ;
23929: LD_ADDR_OWVAR 20
23933: PUSH
23934: LD_INT 0
23936: ST_TO_ADDR
// uc_nation = nation_nature ;
23937: LD_ADDR_OWVAR 21
23941: PUSH
23942: LD_INT 0
23944: ST_TO_ADDR
// hc_class = class_tiger ;
23945: LD_ADDR_OWVAR 28
23949: PUSH
23950: LD_INT 14
23952: ST_TO_ADDR
// hc_skills = [ RuSolMaxLevel , 0 , 0 , 0 ] ;
23953: LD_ADDR_OWVAR 31
23957: PUSH
23958: LD_EXP 35
23962: PUSH
23963: LD_INT 0
23965: PUSH
23966: LD_INT 0
23968: PUSH
23969: LD_INT 0
23971: PUSH
23972: EMPTY
23973: LIST
23974: LIST
23975: LIST
23976: LIST
23977: ST_TO_ADDR
// hc_agressivity = rand ( - 5 , 5 ) * Difficulty ;
23978: LD_ADDR_OWVAR 35
23982: PUSH
23983: LD_INT 5
23985: NEG
23986: PPUSH
23987: LD_INT 5
23989: PPUSH
23990: CALL_OW 12
23994: PUSH
23995: LD_OWVAR 67
23999: MUL
24000: ST_TO_ADDR
// un = CreateHuman ;
24001: LD_ADDR_VAR 0 3
24005: PUSH
24006: CALL_OW 44
24010: ST_TO_ADDR
// PlaceUnitArea ( un , NatureArea , false ) ;
24011: LD_VAR 0 3
24015: PPUSH
24016: LD_INT 18
24018: PPUSH
24019: LD_INT 0
24021: PPUSH
24022: CALL_OW 49
// end ;
24026: GO 23918
24028: POP
24029: POP
// for i = 1 to rand ( 3 , 4 ) do
24030: LD_ADDR_VAR 0 2
24034: PUSH
24035: DOUBLE
24036: LD_INT 1
24038: DEC
24039: ST_TO_ADDR
24040: LD_INT 3
24042: PPUSH
24043: LD_INT 4
24045: PPUSH
24046: CALL_OW 12
24050: PUSH
24051: FOR_TO
24052: IFFALSE 24146
// begin hc_sex = sex_male ;
24054: LD_ADDR_OWVAR 27
24058: PUSH
24059: LD_INT 1
24061: ST_TO_ADDR
// uc_side = 0 ;
24062: LD_ADDR_OWVAR 20
24066: PUSH
24067: LD_INT 0
24069: ST_TO_ADDR
// uc_nation = nation_nature ;
24070: LD_ADDR_OWVAR 21
24074: PUSH
24075: LD_INT 0
24077: ST_TO_ADDR
// hc_class = 18 ;
24078: LD_ADDR_OWVAR 28
24082: PUSH
24083: LD_INT 18
24085: ST_TO_ADDR
// hc_skills = [ RuSolMaxLevel , 0 , 0 , 0 ] ;
24086: LD_ADDR_OWVAR 31
24090: PUSH
24091: LD_EXP 35
24095: PUSH
24096: LD_INT 0
24098: PUSH
24099: LD_INT 0
24101: PUSH
24102: LD_INT 0
24104: PUSH
24105: EMPTY
24106: LIST
24107: LIST
24108: LIST
24109: LIST
24110: ST_TO_ADDR
// hc_agressivity = 0 ;
24111: LD_ADDR_OWVAR 35
24115: PUSH
24116: LD_INT 0
24118: ST_TO_ADDR
// un = CreateHuman ;
24119: LD_ADDR_VAR 0 3
24123: PUSH
24124: CALL_OW 44
24128: ST_TO_ADDR
// PlaceUnitArea ( un , NatureArea , false ) ;
24129: LD_VAR 0 3
24133: PPUSH
24134: LD_INT 18
24136: PPUSH
24137: LD_INT 0
24139: PPUSH
24140: CALL_OW 49
// end ;
24144: GO 24051
24146: POP
24147: POP
// for i = 1 to rand ( 1 , 3 ) + Difficulty do
24148: LD_ADDR_VAR 0 2
24152: PUSH
24153: DOUBLE
24154: LD_INT 1
24156: DEC
24157: ST_TO_ADDR
24158: LD_INT 1
24160: PPUSH
24161: LD_INT 3
24163: PPUSH
24164: CALL_OW 12
24168: PUSH
24169: LD_OWVAR 67
24173: PLUS
24174: PUSH
24175: FOR_TO
24176: IFFALSE 24325
// begin hc_sex = sex_male ;
24178: LD_ADDR_OWVAR 27
24182: PUSH
24183: LD_INT 1
24185: ST_TO_ADDR
// uc_side = 0 ;
24186: LD_ADDR_OWVAR 20
24190: PUSH
24191: LD_INT 0
24193: ST_TO_ADDR
// uc_nation = nation_nature ;
24194: LD_ADDR_OWVAR 21
24198: PUSH
24199: LD_INT 0
24201: ST_TO_ADDR
// hc_class = class_apeman ;
24202: LD_ADDR_OWVAR 28
24206: PUSH
24207: LD_INT 12
24209: ST_TO_ADDR
// hc_skills = [ rand ( 2 , 5 ) , rand ( 0 , 2 ) , 0 , 0 ] ;
24210: LD_ADDR_OWVAR 31
24214: PUSH
24215: LD_INT 2
24217: PPUSH
24218: LD_INT 5
24220: PPUSH
24221: CALL_OW 12
24225: PUSH
24226: LD_INT 0
24228: PPUSH
24229: LD_INT 2
24231: PPUSH
24232: CALL_OW 12
24236: PUSH
24237: LD_INT 0
24239: PUSH
24240: LD_INT 0
24242: PUSH
24243: EMPTY
24244: LIST
24245: LIST
24246: LIST
24247: LIST
24248: ST_TO_ADDR
// hc_agressivity = [ rand ( 20 , 30 ) , rand ( 30 , 40 ) , rand ( 40 , 50 ) ] [ Difficulty ] ;
24249: LD_ADDR_OWVAR 35
24253: PUSH
24254: LD_INT 20
24256: PPUSH
24257: LD_INT 30
24259: PPUSH
24260: CALL_OW 12
24264: PUSH
24265: LD_INT 30
24267: PPUSH
24268: LD_INT 40
24270: PPUSH
24271: CALL_OW 12
24275: PUSH
24276: LD_INT 40
24278: PPUSH
24279: LD_INT 50
24281: PPUSH
24282: CALL_OW 12
24286: PUSH
24287: EMPTY
24288: LIST
24289: LIST
24290: LIST
24291: PUSH
24292: LD_OWVAR 67
24296: ARRAY
24297: ST_TO_ADDR
// un = CreateHuman ;
24298: LD_ADDR_VAR 0 3
24302: PUSH
24303: CALL_OW 44
24307: ST_TO_ADDR
// PlaceUnitArea ( un , ApemanSpawn1 , false ) ;
24308: LD_VAR 0 3
24312: PPUSH
24313: LD_INT 19
24315: PPUSH
24316: LD_INT 0
24318: PPUSH
24319: CALL_OW 49
// end ;
24323: GO 24175
24325: POP
24326: POP
// for i = 1 to rand ( 5 , 6 ) + Difficulty do
24327: LD_ADDR_VAR 0 2
24331: PUSH
24332: DOUBLE
24333: LD_INT 1
24335: DEC
24336: ST_TO_ADDR
24337: LD_INT 5
24339: PPUSH
24340: LD_INT 6
24342: PPUSH
24343: CALL_OW 12
24347: PUSH
24348: LD_OWVAR 67
24352: PLUS
24353: PUSH
24354: FOR_TO
24355: IFFALSE 24463
// begin hc_sex = sex_male ;
24357: LD_ADDR_OWVAR 27
24361: PUSH
24362: LD_INT 1
24364: ST_TO_ADDR
// uc_side = 0 ;
24365: LD_ADDR_OWVAR 20
24369: PUSH
24370: LD_INT 0
24372: ST_TO_ADDR
// uc_nation = nation_nature ;
24373: LD_ADDR_OWVAR 21
24377: PUSH
24378: LD_INT 0
24380: ST_TO_ADDR
// hc_class = class_apeman ;
24381: LD_ADDR_OWVAR 28
24385: PUSH
24386: LD_INT 12
24388: ST_TO_ADDR
// hc_skills = [ rand ( 2 , 5 ) , rand ( 0 , 2 ) , 0 , 0 ] ;
24389: LD_ADDR_OWVAR 31
24393: PUSH
24394: LD_INT 2
24396: PPUSH
24397: LD_INT 5
24399: PPUSH
24400: CALL_OW 12
24404: PUSH
24405: LD_INT 0
24407: PPUSH
24408: LD_INT 2
24410: PPUSH
24411: CALL_OW 12
24415: PUSH
24416: LD_INT 0
24418: PUSH
24419: LD_INT 0
24421: PUSH
24422: EMPTY
24423: LIST
24424: LIST
24425: LIST
24426: LIST
24427: ST_TO_ADDR
// hc_agressivity = 0 ;
24428: LD_ADDR_OWVAR 35
24432: PUSH
24433: LD_INT 0
24435: ST_TO_ADDR
// un = CreateHuman ;
24436: LD_ADDR_VAR 0 3
24440: PUSH
24441: CALL_OW 44
24445: ST_TO_ADDR
// PlaceUnitArea ( un , ApemanSpawn2 , false ) ;
24446: LD_VAR 0 3
24450: PPUSH
24451: LD_INT 20
24453: PPUSH
24454: LD_INT 0
24456: PPUSH
24457: CALL_OW 49
// end ;
24461: GO 24354
24463: POP
24464: POP
// end ; end_of_file end_of_file
24465: LD_VAR 0 1
24469: RET
// export ru_radar , ru_big_cargo_bay , us_hack , us_artillery , ar_bio_bomb ; every 1 do
24470: GO 24472
24472: DISABLE
// begin ru_radar := 98 ;
24473: LD_ADDR_EXP 51
24477: PUSH
24478: LD_INT 98
24480: ST_TO_ADDR
// ru_big_cargo_bay := 89 ;
24481: LD_ADDR_EXP 52
24485: PUSH
24486: LD_INT 89
24488: ST_TO_ADDR
// us_hack := 99 ;
24489: LD_ADDR_EXP 53
24493: PUSH
24494: LD_INT 99
24496: ST_TO_ADDR
// us_artillery := 97 ;
24497: LD_ADDR_EXP 54
24501: PUSH
24502: LD_INT 97
24504: ST_TO_ADDR
// ar_bio_bomb := 91 ;
24505: LD_ADDR_EXP 55
24509: PUSH
24510: LD_INT 91
24512: ST_TO_ADDR
// end ; end_of_file end_of_file
24513: END
// export StreamModeActive , sSpec , sSpeed , sRocket , sEngine , sLevel , sArmoury , sRadar , sBunker , sHack , sFire , sRefresh , sExp , sDepot , sFlag , sSold , sDiff , sTiger , sBomb , sFog , sReset , sSun , sKamikadze , sTroll , sSlow , sLack , sWound , sTank , sRemote , sPowell , sBetray , sContamin , sTeleport , sOil , sOilTower , sShovel , sSheik , sStu ; every 0 0$1 do
24514: GO 24516
24516: DISABLE
// begin ToLua ( initStreamRollete(); ) ;
24517: LD_STRING initStreamRollete();
24519: PPUSH
24520: CALL_OW 559
// InitStreamMode ;
24524: CALL 24529 0 0
// end ;
24528: END
// function InitStreamMode ; begin
24529: LD_INT 0
24531: PPUSH
// streamModeActive := false ;
24532: LD_ADDR_EXP 56
24536: PUSH
24537: LD_INT 0
24539: ST_TO_ADDR
// sRocket := false ;
24540: LD_ADDR_EXP 59
24544: PUSH
24545: LD_INT 0
24547: ST_TO_ADDR
// sSpeed := false ;
24548: LD_ADDR_EXP 58
24552: PUSH
24553: LD_INT 0
24555: ST_TO_ADDR
// sEngine := false ;
24556: LD_ADDR_EXP 60
24560: PUSH
24561: LD_INT 0
24563: ST_TO_ADDR
// sSpec := false ;
24564: LD_ADDR_EXP 57
24568: PUSH
24569: LD_INT 0
24571: ST_TO_ADDR
// sLevel := false ;
24572: LD_ADDR_EXP 61
24576: PUSH
24577: LD_INT 0
24579: ST_TO_ADDR
// sArmoury := false ;
24580: LD_ADDR_EXP 62
24584: PUSH
24585: LD_INT 0
24587: ST_TO_ADDR
// sRadar := false ;
24588: LD_ADDR_EXP 63
24592: PUSH
24593: LD_INT 0
24595: ST_TO_ADDR
// sBunker := false ;
24596: LD_ADDR_EXP 64
24600: PUSH
24601: LD_INT 0
24603: ST_TO_ADDR
// sHack := false ;
24604: LD_ADDR_EXP 65
24608: PUSH
24609: LD_INT 0
24611: ST_TO_ADDR
// sFire := false ;
24612: LD_ADDR_EXP 66
24616: PUSH
24617: LD_INT 0
24619: ST_TO_ADDR
// sRefresh := false ;
24620: LD_ADDR_EXP 67
24624: PUSH
24625: LD_INT 0
24627: ST_TO_ADDR
// sExp := false ;
24628: LD_ADDR_EXP 68
24632: PUSH
24633: LD_INT 0
24635: ST_TO_ADDR
// sDepot := false ;
24636: LD_ADDR_EXP 69
24640: PUSH
24641: LD_INT 0
24643: ST_TO_ADDR
// sFlag := false ;
24644: LD_ADDR_EXP 70
24648: PUSH
24649: LD_INT 0
24651: ST_TO_ADDR
// sKamikadze := false ;
24652: LD_ADDR_EXP 78
24656: PUSH
24657: LD_INT 0
24659: ST_TO_ADDR
// sTroll := false ;
24660: LD_ADDR_EXP 79
24664: PUSH
24665: LD_INT 0
24667: ST_TO_ADDR
// sSlow := false ;
24668: LD_ADDR_EXP 80
24672: PUSH
24673: LD_INT 0
24675: ST_TO_ADDR
// sLack := false ;
24676: LD_ADDR_EXP 81
24680: PUSH
24681: LD_INT 0
24683: ST_TO_ADDR
// sTank := false ;
24684: LD_ADDR_EXP 83
24688: PUSH
24689: LD_INT 0
24691: ST_TO_ADDR
// sRemote := false ;
24692: LD_ADDR_EXP 84
24696: PUSH
24697: LD_INT 0
24699: ST_TO_ADDR
// sPowell := false ;
24700: LD_ADDR_EXP 85
24704: PUSH
24705: LD_INT 0
24707: ST_TO_ADDR
// sTeleport := false ;
24708: LD_ADDR_EXP 88
24712: PUSH
24713: LD_INT 0
24715: ST_TO_ADDR
// sOilTower := false ;
24716: LD_ADDR_EXP 90
24720: PUSH
24721: LD_INT 0
24723: ST_TO_ADDR
// sShovel := false ;
24724: LD_ADDR_EXP 91
24728: PUSH
24729: LD_INT 0
24731: ST_TO_ADDR
// sSheik := false ;
24732: LD_ADDR_EXP 92
24736: PUSH
24737: LD_INT 0
24739: ST_TO_ADDR
// sSold := false ;
24740: LD_ADDR_EXP 71
24744: PUSH
24745: LD_INT 0
24747: ST_TO_ADDR
// sDiff := false ;
24748: LD_ADDR_EXP 72
24752: PUSH
24753: LD_INT 0
24755: ST_TO_ADDR
// sFog := false ;
24756: LD_ADDR_EXP 75
24760: PUSH
24761: LD_INT 0
24763: ST_TO_ADDR
// sReset := false ;
24764: LD_ADDR_EXP 76
24768: PUSH
24769: LD_INT 0
24771: ST_TO_ADDR
// sSun := false ;
24772: LD_ADDR_EXP 77
24776: PUSH
24777: LD_INT 0
24779: ST_TO_ADDR
// sTiger := false ;
24780: LD_ADDR_EXP 73
24784: PUSH
24785: LD_INT 0
24787: ST_TO_ADDR
// sBomb := false ;
24788: LD_ADDR_EXP 74
24792: PUSH
24793: LD_INT 0
24795: ST_TO_ADDR
// sWound := false ;
24796: LD_ADDR_EXP 82
24800: PUSH
24801: LD_INT 0
24803: ST_TO_ADDR
// sBetray := false ;
24804: LD_ADDR_EXP 86
24808: PUSH
24809: LD_INT 0
24811: ST_TO_ADDR
// sContamin := false ;
24812: LD_ADDR_EXP 87
24816: PUSH
24817: LD_INT 0
24819: ST_TO_ADDR
// sOil := false ;
24820: LD_ADDR_EXP 89
24824: PUSH
24825: LD_INT 0
24827: ST_TO_ADDR
// sStu := false ;
24828: LD_ADDR_EXP 93
24832: PUSH
24833: LD_INT 0
24835: ST_TO_ADDR
// end ;
24836: LD_VAR 0 1
24840: RET
// on CustomCommand ( p1 , p2 , p3 , p4 , p5 , p6 ) do begin if p2 = 100 then
24841: LD_VAR 0 2
24845: PUSH
24846: LD_INT 100
24848: EQUAL
24849: IFFALSE 25546
// begin if not StreamModeActive then
24851: LD_EXP 56
24855: NOT
24856: IFFALSE 24866
// StreamModeActive := true ;
24858: LD_ADDR_EXP 56
24862: PUSH
24863: LD_INT 1
24865: ST_TO_ADDR
// if p3 = 0 then
24866: LD_VAR 0 3
24870: PUSH
24871: LD_INT 0
24873: EQUAL
24874: IFFALSE 24880
// InitStreamMode ;
24876: CALL 24529 0 0
// if p3 = 1 then
24880: LD_VAR 0 3
24884: PUSH
24885: LD_INT 1
24887: EQUAL
24888: IFFALSE 24898
// sRocket := true ;
24890: LD_ADDR_EXP 59
24894: PUSH
24895: LD_INT 1
24897: ST_TO_ADDR
// if p3 = 2 then
24898: LD_VAR 0 3
24902: PUSH
24903: LD_INT 2
24905: EQUAL
24906: IFFALSE 24916
// sSpeed := true ;
24908: LD_ADDR_EXP 58
24912: PUSH
24913: LD_INT 1
24915: ST_TO_ADDR
// if p3 = 3 then
24916: LD_VAR 0 3
24920: PUSH
24921: LD_INT 3
24923: EQUAL
24924: IFFALSE 24934
// sEngine := true ;
24926: LD_ADDR_EXP 60
24930: PUSH
24931: LD_INT 1
24933: ST_TO_ADDR
// if p3 = 4 then
24934: LD_VAR 0 3
24938: PUSH
24939: LD_INT 4
24941: EQUAL
24942: IFFALSE 24952
// sSpec := true ;
24944: LD_ADDR_EXP 57
24948: PUSH
24949: LD_INT 1
24951: ST_TO_ADDR
// if p3 = 5 then
24952: LD_VAR 0 3
24956: PUSH
24957: LD_INT 5
24959: EQUAL
24960: IFFALSE 24970
// sLevel := true ;
24962: LD_ADDR_EXP 61
24966: PUSH
24967: LD_INT 1
24969: ST_TO_ADDR
// if p3 = 6 then
24970: LD_VAR 0 3
24974: PUSH
24975: LD_INT 6
24977: EQUAL
24978: IFFALSE 24988
// sArmoury := true ;
24980: LD_ADDR_EXP 62
24984: PUSH
24985: LD_INT 1
24987: ST_TO_ADDR
// if p3 = 7 then
24988: LD_VAR 0 3
24992: PUSH
24993: LD_INT 7
24995: EQUAL
24996: IFFALSE 25006
// sRadar := true ;
24998: LD_ADDR_EXP 63
25002: PUSH
25003: LD_INT 1
25005: ST_TO_ADDR
// if p3 = 8 then
25006: LD_VAR 0 3
25010: PUSH
25011: LD_INT 8
25013: EQUAL
25014: IFFALSE 25024
// sBunker := true ;
25016: LD_ADDR_EXP 64
25020: PUSH
25021: LD_INT 1
25023: ST_TO_ADDR
// if p3 = 9 then
25024: LD_VAR 0 3
25028: PUSH
25029: LD_INT 9
25031: EQUAL
25032: IFFALSE 25042
// sHack := true ;
25034: LD_ADDR_EXP 65
25038: PUSH
25039: LD_INT 1
25041: ST_TO_ADDR
// if p3 = 10 then
25042: LD_VAR 0 3
25046: PUSH
25047: LD_INT 10
25049: EQUAL
25050: IFFALSE 25060
// sFire := true ;
25052: LD_ADDR_EXP 66
25056: PUSH
25057: LD_INT 1
25059: ST_TO_ADDR
// if p3 = 11 then
25060: LD_VAR 0 3
25064: PUSH
25065: LD_INT 11
25067: EQUAL
25068: IFFALSE 25078
// sRefresh := true ;
25070: LD_ADDR_EXP 67
25074: PUSH
25075: LD_INT 1
25077: ST_TO_ADDR
// if p3 = 12 then
25078: LD_VAR 0 3
25082: PUSH
25083: LD_INT 12
25085: EQUAL
25086: IFFALSE 25096
// sExp := true ;
25088: LD_ADDR_EXP 68
25092: PUSH
25093: LD_INT 1
25095: ST_TO_ADDR
// if p3 = 13 then
25096: LD_VAR 0 3
25100: PUSH
25101: LD_INT 13
25103: EQUAL
25104: IFFALSE 25114
// sDepot := true ;
25106: LD_ADDR_EXP 69
25110: PUSH
25111: LD_INT 1
25113: ST_TO_ADDR
// if p3 = 14 then
25114: LD_VAR 0 3
25118: PUSH
25119: LD_INT 14
25121: EQUAL
25122: IFFALSE 25132
// sFlag := true ;
25124: LD_ADDR_EXP 70
25128: PUSH
25129: LD_INT 1
25131: ST_TO_ADDR
// if p3 = 15 then
25132: LD_VAR 0 3
25136: PUSH
25137: LD_INT 15
25139: EQUAL
25140: IFFALSE 25150
// sKamikadze := true ;
25142: LD_ADDR_EXP 78
25146: PUSH
25147: LD_INT 1
25149: ST_TO_ADDR
// if p3 = 16 then
25150: LD_VAR 0 3
25154: PUSH
25155: LD_INT 16
25157: EQUAL
25158: IFFALSE 25168
// sTroll := true ;
25160: LD_ADDR_EXP 79
25164: PUSH
25165: LD_INT 1
25167: ST_TO_ADDR
// if p3 = 17 then
25168: LD_VAR 0 3
25172: PUSH
25173: LD_INT 17
25175: EQUAL
25176: IFFALSE 25186
// sSlow := true ;
25178: LD_ADDR_EXP 80
25182: PUSH
25183: LD_INT 1
25185: ST_TO_ADDR
// if p3 = 18 then
25186: LD_VAR 0 3
25190: PUSH
25191: LD_INT 18
25193: EQUAL
25194: IFFALSE 25204
// sLack := true ;
25196: LD_ADDR_EXP 81
25200: PUSH
25201: LD_INT 1
25203: ST_TO_ADDR
// if p3 = 19 then
25204: LD_VAR 0 3
25208: PUSH
25209: LD_INT 19
25211: EQUAL
25212: IFFALSE 25222
// sTank := true ;
25214: LD_ADDR_EXP 83
25218: PUSH
25219: LD_INT 1
25221: ST_TO_ADDR
// if p3 = 20 then
25222: LD_VAR 0 3
25226: PUSH
25227: LD_INT 20
25229: EQUAL
25230: IFFALSE 25240
// sRemote := true ;
25232: LD_ADDR_EXP 84
25236: PUSH
25237: LD_INT 1
25239: ST_TO_ADDR
// if p3 = 21 then
25240: LD_VAR 0 3
25244: PUSH
25245: LD_INT 21
25247: EQUAL
25248: IFFALSE 25258
// sPowell := true ;
25250: LD_ADDR_EXP 85
25254: PUSH
25255: LD_INT 1
25257: ST_TO_ADDR
// if p3 = 22 then
25258: LD_VAR 0 3
25262: PUSH
25263: LD_INT 22
25265: EQUAL
25266: IFFALSE 25276
// sTeleport := true ;
25268: LD_ADDR_EXP 88
25272: PUSH
25273: LD_INT 1
25275: ST_TO_ADDR
// if p3 = 23 then
25276: LD_VAR 0 3
25280: PUSH
25281: LD_INT 23
25283: EQUAL
25284: IFFALSE 25294
// sOilTower := true ;
25286: LD_ADDR_EXP 90
25290: PUSH
25291: LD_INT 1
25293: ST_TO_ADDR
// if p3 = 24 then
25294: LD_VAR 0 3
25298: PUSH
25299: LD_INT 24
25301: EQUAL
25302: IFFALSE 25312
// sShovel := true ;
25304: LD_ADDR_EXP 91
25308: PUSH
25309: LD_INT 1
25311: ST_TO_ADDR
// if p3 = 25 then
25312: LD_VAR 0 3
25316: PUSH
25317: LD_INT 25
25319: EQUAL
25320: IFFALSE 25330
// sSheik := true ;
25322: LD_ADDR_EXP 92
25326: PUSH
25327: LD_INT 1
25329: ST_TO_ADDR
// if p3 = 101 then
25330: LD_VAR 0 3
25334: PUSH
25335: LD_INT 101
25337: EQUAL
25338: IFFALSE 25348
// sSold := true ;
25340: LD_ADDR_EXP 71
25344: PUSH
25345: LD_INT 1
25347: ST_TO_ADDR
// if p3 = 102 then
25348: LD_VAR 0 3
25352: PUSH
25353: LD_INT 102
25355: EQUAL
25356: IFFALSE 25366
// sDiff := true ;
25358: LD_ADDR_EXP 72
25362: PUSH
25363: LD_INT 1
25365: ST_TO_ADDR
// if p3 = 103 then
25366: LD_VAR 0 3
25370: PUSH
25371: LD_INT 103
25373: EQUAL
25374: IFFALSE 25384
// sFog := true ;
25376: LD_ADDR_EXP 75
25380: PUSH
25381: LD_INT 1
25383: ST_TO_ADDR
// if p3 = 104 then
25384: LD_VAR 0 3
25388: PUSH
25389: LD_INT 104
25391: EQUAL
25392: IFFALSE 25402
// sReset := true ;
25394: LD_ADDR_EXP 76
25398: PUSH
25399: LD_INT 1
25401: ST_TO_ADDR
// if p3 = 105 then
25402: LD_VAR 0 3
25406: PUSH
25407: LD_INT 105
25409: EQUAL
25410: IFFALSE 25420
// sSun := true ;
25412: LD_ADDR_EXP 77
25416: PUSH
25417: LD_INT 1
25419: ST_TO_ADDR
// if p3 = 106 then
25420: LD_VAR 0 3
25424: PUSH
25425: LD_INT 106
25427: EQUAL
25428: IFFALSE 25438
// sTiger := true ;
25430: LD_ADDR_EXP 73
25434: PUSH
25435: LD_INT 1
25437: ST_TO_ADDR
// if p3 = 107 then
25438: LD_VAR 0 3
25442: PUSH
25443: LD_INT 107
25445: EQUAL
25446: IFFALSE 25456
// sBomb := true ;
25448: LD_ADDR_EXP 74
25452: PUSH
25453: LD_INT 1
25455: ST_TO_ADDR
// if p3 = 108 then
25456: LD_VAR 0 3
25460: PUSH
25461: LD_INT 108
25463: EQUAL
25464: IFFALSE 25474
// sWound := true ;
25466: LD_ADDR_EXP 82
25470: PUSH
25471: LD_INT 1
25473: ST_TO_ADDR
// if p3 = 109 then
25474: LD_VAR 0 3
25478: PUSH
25479: LD_INT 109
25481: EQUAL
25482: IFFALSE 25492
// sBetray := true ;
25484: LD_ADDR_EXP 86
25488: PUSH
25489: LD_INT 1
25491: ST_TO_ADDR
// if p3 = 110 then
25492: LD_VAR 0 3
25496: PUSH
25497: LD_INT 110
25499: EQUAL
25500: IFFALSE 25510
// sContamin := true ;
25502: LD_ADDR_EXP 87
25506: PUSH
25507: LD_INT 1
25509: ST_TO_ADDR
// if p3 = 111 then
25510: LD_VAR 0 3
25514: PUSH
25515: LD_INT 111
25517: EQUAL
25518: IFFALSE 25528
// sOil := true ;
25520: LD_ADDR_EXP 89
25524: PUSH
25525: LD_INT 1
25527: ST_TO_ADDR
// if p3 = 112 then
25528: LD_VAR 0 3
25532: PUSH
25533: LD_INT 112
25535: EQUAL
25536: IFFALSE 25546
// sStu := true ;
25538: LD_ADDR_EXP 93
25542: PUSH
25543: LD_INT 1
25545: ST_TO_ADDR
// end ; end ;
25546: PPOPN 6
25548: END
// every 0 0$2 trigger StreamModeActive and sRocket do var i , tmp ;
25549: LD_EXP 56
25553: PUSH
25554: LD_EXP 59
25558: AND
25559: IFFALSE 25683
25561: GO 25563
25563: DISABLE
25564: LD_INT 0
25566: PPUSH
25567: PPUSH
// begin enable ;
25568: ENABLE
// tmp := FilterAllUnits ( [ [ f_side , your_side ] , [ f_or , [ f_weapon , us_rocket_launcher ] , [ f_weapon , ru_rocket_launcher ] , [ f_weapon , ar_rocket_launcher ] , [ f_weapon , ru_rocket ] ] ] ) ;
25569: LD_ADDR_VAR 0 2
25573: PUSH
25574: LD_INT 22
25576: PUSH
25577: LD_OWVAR 2
25581: PUSH
25582: EMPTY
25583: LIST
25584: LIST
25585: PUSH
25586: LD_INT 2
25588: PUSH
25589: LD_INT 34
25591: PUSH
25592: LD_INT 7
25594: PUSH
25595: EMPTY
25596: LIST
25597: LIST
25598: PUSH
25599: LD_INT 34
25601: PUSH
25602: LD_INT 45
25604: PUSH
25605: EMPTY
25606: LIST
25607: LIST
25608: PUSH
25609: LD_INT 34
25611: PUSH
25612: LD_INT 28
25614: PUSH
25615: EMPTY
25616: LIST
25617: LIST
25618: PUSH
25619: LD_INT 34
25621: PUSH
25622: LD_INT 47
25624: PUSH
25625: EMPTY
25626: LIST
25627: LIST
25628: PUSH
25629: EMPTY
25630: LIST
25631: LIST
25632: LIST
25633: LIST
25634: LIST
25635: PUSH
25636: EMPTY
25637: LIST
25638: LIST
25639: PPUSH
25640: CALL_OW 69
25644: ST_TO_ADDR
// if not tmp then
25645: LD_VAR 0 2
25649: NOT
25650: IFFALSE 25654
// exit ;
25652: GO 25683
// for i in tmp do
25654: LD_ADDR_VAR 0 1
25658: PUSH
25659: LD_VAR 0 2
25663: PUSH
25664: FOR_IN
25665: IFFALSE 25681
// begin SetLives ( i , 0 ) ;
25667: LD_VAR 0 1
25671: PPUSH
25672: LD_INT 0
25674: PPUSH
25675: CALL_OW 234
// end ;
25679: GO 25664
25681: POP
25682: POP
// end ;
25683: PPOPN 2
25685: END
// every 0 0$2 trigger StreamModeActive and sEngine do var i , tmp ;
25686: LD_EXP 56
25690: PUSH
25691: LD_EXP 60
25695: AND
25696: IFFALSE 25777
25698: GO 25700
25700: DISABLE
25701: LD_INT 0
25703: PPUSH
25704: PPUSH
// begin enable ;
25705: ENABLE
// tmp := FilterAllUnits ( [ [ f_side , your_side ] , [ f_engine , engine_siberite ] ] ) ;
25706: LD_ADDR_VAR 0 2
25710: PUSH
25711: LD_INT 22
25713: PUSH
25714: LD_OWVAR 2
25718: PUSH
25719: EMPTY
25720: LIST
25721: LIST
25722: PUSH
25723: LD_INT 32
25725: PUSH
25726: LD_INT 3
25728: PUSH
25729: EMPTY
25730: LIST
25731: LIST
25732: PUSH
25733: EMPTY
25734: LIST
25735: LIST
25736: PPUSH
25737: CALL_OW 69
25741: ST_TO_ADDR
// if not tmp then
25742: LD_VAR 0 2
25746: NOT
25747: IFFALSE 25751
// exit ;
25749: GO 25777
// for i in tmp do
25751: LD_ADDR_VAR 0 1
25755: PUSH
25756: LD_VAR 0 2
25760: PUSH
25761: FOR_IN
25762: IFFALSE 25775
// begin DestroyUnit ( i ) ;
25764: LD_VAR 0 1
25768: PPUSH
25769: CALL_OW 65
// end ;
25773: GO 25761
25775: POP
25776: POP
// end ;
25777: PPOPN 2
25779: END
// every 0 0$1 trigger StreamModeActive and sSpec do var i ;
25780: LD_EXP 56
25784: PUSH
25785: LD_EXP 57
25789: AND
25790: IFFALSE 25883
25792: GO 25794
25794: DISABLE
25795: LD_INT 0
25797: PPUSH
// begin enable ;
25798: ENABLE
// for i in FilterAllUnits ( [ [ f_side , your_side ] , [ f_or , [ f_class , class_sniper ] , [ f_class , class_bazooker ] , [ f_class , class_mortar ] ] ] ) do
25799: LD_ADDR_VAR 0 1
25803: PUSH
25804: LD_INT 22
25806: PUSH
25807: LD_OWVAR 2
25811: PUSH
25812: EMPTY
25813: LIST
25814: LIST
25815: PUSH
25816: LD_INT 2
25818: PUSH
25819: LD_INT 25
25821: PUSH
25822: LD_INT 5
25824: PUSH
25825: EMPTY
25826: LIST
25827: LIST
25828: PUSH
25829: LD_INT 25
25831: PUSH
25832: LD_INT 9
25834: PUSH
25835: EMPTY
25836: LIST
25837: LIST
25838: PUSH
25839: LD_INT 25
25841: PUSH
25842: LD_INT 8
25844: PUSH
25845: EMPTY
25846: LIST
25847: LIST
25848: PUSH
25849: EMPTY
25850: LIST
25851: LIST
25852: LIST
25853: LIST
25854: PUSH
25855: EMPTY
25856: LIST
25857: LIST
25858: PPUSH
25859: CALL_OW 69
25863: PUSH
25864: FOR_IN
25865: IFFALSE 25881
// begin SetClass ( i , 1 ) ;
25867: LD_VAR 0 1
25871: PPUSH
25872: LD_INT 1
25874: PPUSH
25875: CALL_OW 336
// end ;
25879: GO 25864
25881: POP
25882: POP
// end ;
25883: PPOPN 1
25885: END
// every 0 0$1 trigger StreamModeActive and sSpeed and game_speed < 7 do
25886: LD_EXP 56
25890: PUSH
25891: LD_EXP 58
25895: AND
25896: PUSH
25897: LD_OWVAR 65
25901: PUSH
25902: LD_INT 7
25904: LESS
25905: AND
25906: IFFALSE 25920
25908: GO 25910
25910: DISABLE
// begin enable ;
25911: ENABLE
// game_speed := 7 ;
25912: LD_ADDR_OWVAR 65
25916: PUSH
25917: LD_INT 7
25919: ST_TO_ADDR
// end ;
25920: END
// every 0 0$1 trigger StreamModeActive and sLevel do var i , k , tmp ;
25921: LD_EXP 56
25925: PUSH
25926: LD_EXP 61
25930: AND
25931: IFFALSE 26133
25933: GO 25935
25935: DISABLE
25936: LD_INT 0
25938: PPUSH
25939: PPUSH
25940: PPUSH
// begin tmp := FilterAllUnits ( [ [ f_enemy , your_side ] , [ f_type , unit_human ] ] ) ;
25941: LD_ADDR_VAR 0 3
25945: PUSH
25946: LD_INT 81
25948: PUSH
25949: LD_OWVAR 2
25953: PUSH
25954: EMPTY
25955: LIST
25956: LIST
25957: PUSH
25958: LD_INT 21
25960: PUSH
25961: LD_INT 1
25963: PUSH
25964: EMPTY
25965: LIST
25966: LIST
25967: PUSH
25968: EMPTY
25969: LIST
25970: LIST
25971: PPUSH
25972: CALL_OW 69
25976: ST_TO_ADDR
// if not tmp then
25977: LD_VAR 0 3
25981: NOT
25982: IFFALSE 25986
// exit ;
25984: GO 26133
// if tmp > 5 then
25986: LD_VAR 0 3
25990: PUSH
25991: LD_INT 5
25993: GREATER
25994: IFFALSE 26006
// k := 5 else
25996: LD_ADDR_VAR 0 2
26000: PUSH
26001: LD_INT 5
26003: ST_TO_ADDR
26004: GO 26016
// k := tmp ;
26006: LD_ADDR_VAR 0 2
26010: PUSH
26011: LD_VAR 0 3
26015: ST_TO_ADDR
// for i := 1 to k do
26016: LD_ADDR_VAR 0 1
26020: PUSH
26021: DOUBLE
26022: LD_INT 1
26024: DEC
26025: ST_TO_ADDR
26026: LD_VAR 0 2
26030: PUSH
26031: FOR_TO
26032: IFFALSE 26131
// if GetSkill ( tmp [ i ] , i mod 4 + 1 ) < 10 then
26034: LD_VAR 0 3
26038: PUSH
26039: LD_VAR 0 1
26043: ARRAY
26044: PPUSH
26045: LD_VAR 0 1
26049: PUSH
26050: LD_INT 4
26052: MOD
26053: PUSH
26054: LD_INT 1
26056: PLUS
26057: PPUSH
26058: CALL_OW 259
26062: PUSH
26063: LD_INT 10
26065: LESS
26066: IFFALSE 26129
// SetSkill ( tmp [ i ] , i mod 4 + 1 , GetSkill ( tmp [ i ] , i mod 4 + 1 ) + 1 ) ;
26068: LD_VAR 0 3
26072: PUSH
26073: LD_VAR 0 1
26077: ARRAY
26078: PPUSH
26079: LD_VAR 0 1
26083: PUSH
26084: LD_INT 4
26086: MOD
26087: PUSH
26088: LD_INT 1
26090: PLUS
26091: PPUSH
26092: LD_VAR 0 3
26096: PUSH
26097: LD_VAR 0 1
26101: ARRAY
26102: PPUSH
26103: LD_VAR 0 1
26107: PUSH
26108: LD_INT 4
26110: MOD
26111: PUSH
26112: LD_INT 1
26114: PLUS
26115: PPUSH
26116: CALL_OW 259
26120: PUSH
26121: LD_INT 1
26123: PLUS
26124: PPUSH
26125: CALL_OW 237
26129: GO 26031
26131: POP
26132: POP
// end ;
26133: PPOPN 3
26135: END
// every 0 0$1 trigger StreamModeActive and sArmoury do
26136: LD_EXP 56
26140: PUSH
26141: LD_EXP 62
26145: AND
26146: IFFALSE 26166
26148: GO 26150
26150: DISABLE
// SetRestrict ( b_armoury , your_side , false ) ;
26151: LD_INT 4
26153: PPUSH
26154: LD_OWVAR 2
26158: PPUSH
26159: LD_INT 0
26161: PPUSH
26162: CALL_OW 324
26166: END
// every 0 0$1 trigger StreamModeActive and sShovel do
26167: LD_EXP 56
26171: PUSH
26172: LD_EXP 91
26176: AND
26177: IFFALSE 26197
26179: GO 26181
26181: DISABLE
// SetRestrict ( b_ext_noncombat , your_side , false ) ;
26182: LD_INT 19
26184: PPUSH
26185: LD_OWVAR 2
26189: PPUSH
26190: LD_INT 0
26192: PPUSH
26193: CALL_OW 324
26197: END
// every 0 0$1 trigger StreamModeActive and sRadar do var i , tmp ;
26198: LD_EXP 56
26202: PUSH
26203: LD_EXP 63
26207: AND
26208: IFFALSE 26307
26210: GO 26212
26212: DISABLE
26213: LD_INT 0
26215: PPUSH
26216: PPUSH
// begin enable ;
26217: ENABLE
// tmp := FilterAllUnits ( [ [ f_side , your_side ] , [ f_or , [ f_weapon , us_radar ] , [ f_weapon , ar_radar ] ] ] ) ;
26218: LD_ADDR_VAR 0 2
26222: PUSH
26223: LD_INT 22
26225: PUSH
26226: LD_OWVAR 2
26230: PUSH
26231: EMPTY
26232: LIST
26233: LIST
26234: PUSH
26235: LD_INT 2
26237: PUSH
26238: LD_INT 34
26240: PUSH
26241: LD_INT 11
26243: PUSH
26244: EMPTY
26245: LIST
26246: LIST
26247: PUSH
26248: LD_INT 34
26250: PUSH
26251: LD_INT 30
26253: PUSH
26254: EMPTY
26255: LIST
26256: LIST
26257: PUSH
26258: EMPTY
26259: LIST
26260: LIST
26261: LIST
26262: PUSH
26263: EMPTY
26264: LIST
26265: LIST
26266: PPUSH
26267: CALL_OW 69
26271: ST_TO_ADDR
// if not tmp then
26272: LD_VAR 0 2
26276: NOT
26277: IFFALSE 26281
// exit ;
26279: GO 26307
// for i in tmp do
26281: LD_ADDR_VAR 0 1
26285: PUSH
26286: LD_VAR 0 2
26290: PUSH
26291: FOR_IN
26292: IFFALSE 26305
// begin DestroyUnit ( i ) ;
26294: LD_VAR 0 1
26298: PPUSH
26299: CALL_OW 65
// end ;
26303: GO 26291
26305: POP
26306: POP
// end ;
26307: PPOPN 2
26309: END
// every 0 0$1 trigger StreamModeActive and sBunker do
26310: LD_EXP 56
26314: PUSH
26315: LD_EXP 64
26319: AND
26320: IFFALSE 26340
26322: GO 26324
26324: DISABLE
// SetRestrict ( b_bunker , your_side , false ) ;
26325: LD_INT 32
26327: PPUSH
26328: LD_OWVAR 2
26332: PPUSH
26333: LD_INT 0
26335: PPUSH
26336: CALL_OW 324
26340: END
// every 0 0$1 trigger StreamModeActive and sHack do var i , tmp , side ;
26341: LD_EXP 56
26345: PUSH
26346: LD_EXP 65
26350: AND
26351: IFFALSE 26532
26353: GO 26355
26355: DISABLE
26356: LD_INT 0
26358: PPUSH
26359: PPUSH
26360: PPUSH
// begin tmp := FilterAllUnits ( [ [ f_side , your_side ] , [ f_control , control_computer ] ] ) ;
26361: LD_ADDR_VAR 0 2
26365: PUSH
26366: LD_INT 22
26368: PUSH
26369: LD_OWVAR 2
26373: PUSH
26374: EMPTY
26375: LIST
26376: LIST
26377: PUSH
26378: LD_INT 33
26380: PUSH
26381: LD_INT 3
26383: PUSH
26384: EMPTY
26385: LIST
26386: LIST
26387: PUSH
26388: EMPTY
26389: LIST
26390: LIST
26391: PPUSH
26392: CALL_OW 69
26396: ST_TO_ADDR
// if not tmp then
26397: LD_VAR 0 2
26401: NOT
26402: IFFALSE 26406
// exit ;
26404: GO 26532
// side := 0 ;
26406: LD_ADDR_VAR 0 3
26410: PUSH
26411: LD_INT 0
26413: ST_TO_ADDR
// for i := 1 to 8 do
26414: LD_ADDR_VAR 0 1
26418: PUSH
26419: DOUBLE
26420: LD_INT 1
26422: DEC
26423: ST_TO_ADDR
26424: LD_INT 8
26426: PUSH
26427: FOR_TO
26428: IFFALSE 26476
// if your_side <> i and GetAttitude ( your_side , i ) = att_enemy then
26430: LD_OWVAR 2
26434: PUSH
26435: LD_VAR 0 1
26439: NONEQUAL
26440: PUSH
26441: LD_OWVAR 2
26445: PPUSH
26446: LD_VAR 0 1
26450: PPUSH
26451: CALL_OW 81
26455: PUSH
26456: LD_INT 2
26458: EQUAL
26459: AND
26460: IFFALSE 26474
// begin side := i ;
26462: LD_ADDR_VAR 0 3
26466: PUSH
26467: LD_VAR 0 1
26471: ST_TO_ADDR
// break ;
26472: GO 26476
// end ;
26474: GO 26427
26476: POP
26477: POP
// if not side then
26478: LD_VAR 0 3
26482: NOT
26483: IFFALSE 26487
// exit ;
26485: GO 26532
// for i := 1 to tmp do
26487: LD_ADDR_VAR 0 1
26491: PUSH
26492: DOUBLE
26493: LD_INT 1
26495: DEC
26496: ST_TO_ADDR
26497: LD_VAR 0 2
26501: PUSH
26502: FOR_TO
26503: IFFALSE 26530
// if Prob ( 30 ) then
26505: LD_INT 30
26507: PPUSH
26508: CALL_OW 13
26512: IFFALSE 26528
// SetSide ( i , side ) ;
26514: LD_VAR 0 1
26518: PPUSH
26519: LD_VAR 0 3
26523: PPUSH
26524: CALL_OW 235
26528: GO 26502
26530: POP
26531: POP
// end ;
26532: PPOPN 3
26534: END
// every 0 0$1 trigger StreamModeActive and sRefresh do var un ;
26535: LD_EXP 56
26539: PUSH
26540: LD_EXP 67
26544: AND
26545: IFFALSE 26664
26547: GO 26549
26549: DISABLE
26550: LD_INT 0
26552: PPUSH
// begin for un in FilterAllUnits ( [ [ f_side , your_side ] , [ f_type , unit_human ] , [ f_not , [ f_nation , 0 ] ] ] ) do
26553: LD_ADDR_VAR 0 1
26557: PUSH
26558: LD_INT 22
26560: PUSH
26561: LD_OWVAR 2
26565: PUSH
26566: EMPTY
26567: LIST
26568: LIST
26569: PUSH
26570: LD_INT 21
26572: PUSH
26573: LD_INT 1
26575: PUSH
26576: EMPTY
26577: LIST
26578: LIST
26579: PUSH
26580: LD_INT 3
26582: PUSH
26583: LD_INT 23
26585: PUSH
26586: LD_INT 0
26588: PUSH
26589: EMPTY
26590: LIST
26591: LIST
26592: PUSH
26593: EMPTY
26594: LIST
26595: LIST
26596: PUSH
26597: EMPTY
26598: LIST
26599: LIST
26600: LIST
26601: PPUSH
26602: CALL_OW 69
26606: PUSH
26607: FOR_IN
26608: IFFALSE 26662
// if GetClass ( un ) in [ 1 , 2 , 3 , 4 ] then
26610: LD_VAR 0 1
26614: PPUSH
26615: CALL_OW 257
26619: PUSH
26620: LD_INT 1
26622: PUSH
26623: LD_INT 2
26625: PUSH
26626: LD_INT 3
26628: PUSH
26629: LD_INT 4
26631: PUSH
26632: EMPTY
26633: LIST
26634: LIST
26635: LIST
26636: LIST
26637: IN
26638: IFFALSE 26660
// SetClass ( un , rand ( 1 , 4 ) ) ;
26640: LD_VAR 0 1
26644: PPUSH
26645: LD_INT 1
26647: PPUSH
26648: LD_INT 4
26650: PPUSH
26651: CALL_OW 12
26655: PPUSH
26656: CALL_OW 336
26660: GO 26607
26662: POP
26663: POP
// end ;
26664: PPOPN 1
26666: END
// every 0 0$1 trigger StreamModeActive and sFire do var tmp ;
26667: LD_EXP 56
26671: PUSH
26672: LD_EXP 66
26676: AND
26677: IFFALSE 26756
26679: GO 26681
26681: DISABLE
26682: LD_INT 0
26684: PPUSH
// begin tmp := FilterAllUnits ( [ [ f_side , your_side ] , [ f_type , unit_building ] ] ) ;
26685: LD_ADDR_VAR 0 1
26689: PUSH
26690: LD_INT 22
26692: PUSH
26693: LD_OWVAR 2
26697: PUSH
26698: EMPTY
26699: LIST
26700: LIST
26701: PUSH
26702: LD_INT 21
26704: PUSH
26705: LD_INT 3
26707: PUSH
26708: EMPTY
26709: LIST
26710: LIST
26711: PUSH
26712: EMPTY
26713: LIST
26714: LIST
26715: PPUSH
26716: CALL_OW 69
26720: ST_TO_ADDR
// if not tmp then
26721: LD_VAR 0 1
26725: NOT
26726: IFFALSE 26730
// exit ;
26728: GO 26756
// SetLives ( tmp [ rand ( 1 , tmp ) ] , 100 ) ;
26730: LD_VAR 0 1
26734: PUSH
26735: LD_INT 1
26737: PPUSH
26738: LD_VAR 0 1
26742: PPUSH
26743: CALL_OW 12
26747: ARRAY
26748: PPUSH
26749: LD_INT 100
26751: PPUSH
26752: CALL_OW 234
// end ;
26756: PPOPN 1
26758: END
// every 0 0$1 trigger StreamModeActive and sExp do var tmp ;
26759: LD_EXP 56
26763: PUSH
26764: LD_EXP 68
26768: AND
26769: IFFALSE 26867
26771: GO 26773
26773: DISABLE
26774: LD_INT 0
26776: PPUSH
// begin tmp := FilterAllUnits ( [ [ f_side , your_side ] , [ f_type , unit_human ] ] ) ;
26777: LD_ADDR_VAR 0 1
26781: PUSH
26782: LD_INT 22
26784: PUSH
26785: LD_OWVAR 2
26789: PUSH
26790: EMPTY
26791: LIST
26792: LIST
26793: PUSH
26794: LD_INT 21
26796: PUSH
26797: LD_INT 1
26799: PUSH
26800: EMPTY
26801: LIST
26802: LIST
26803: PUSH
26804: EMPTY
26805: LIST
26806: LIST
26807: PPUSH
26808: CALL_OW 69
26812: ST_TO_ADDR
// if not tmp then
26813: LD_VAR 0 1
26817: NOT
26818: IFFALSE 26822
// exit ;
26820: GO 26867
// AddExperience ( tmp [ rand ( 1 , tmp ) ] , rand ( 1 , 4 ) , rand ( 3000 , 9000 ) ) ;
26822: LD_VAR 0 1
26826: PUSH
26827: LD_INT 1
26829: PPUSH
26830: LD_VAR 0 1
26834: PPUSH
26835: CALL_OW 12
26839: ARRAY
26840: PPUSH
26841: LD_INT 1
26843: PPUSH
26844: LD_INT 4
26846: PPUSH
26847: CALL_OW 12
26851: PPUSH
26852: LD_INT 3000
26854: PPUSH
26855: LD_INT 9000
26857: PPUSH
26858: CALL_OW 12
26862: PPUSH
26863: CALL_OW 492
// end ;
26867: PPOPN 1
26869: END
// every 0 0$1 trigger StreamModeActive and sDepot do
26870: LD_EXP 56
26874: PUSH
26875: LD_EXP 69
26879: AND
26880: IFFALSE 26900
26882: GO 26884
26884: DISABLE
// SetRestrict ( b_warehouse , your_side , false ) ;
26885: LD_INT 1
26887: PPUSH
26888: LD_OWVAR 2
26892: PPUSH
26893: LD_INT 0
26895: PPUSH
26896: CALL_OW 324
26900: END
// every 0 0$1 trigger StreamModeActive and sFlag do var i , tmp ;
26901: LD_EXP 56
26905: PUSH
26906: LD_EXP 70
26910: AND
26911: IFFALSE 26994
26913: GO 26915
26915: DISABLE
26916: LD_INT 0
26918: PPUSH
26919: PPUSH
// begin tmp := FilterAllUnits ( [ [ f_side , your_side ] , [ f_type , unit_building ] ] ) ;
26920: LD_ADDR_VAR 0 2
26924: PUSH
26925: LD_INT 22
26927: PUSH
26928: LD_OWVAR 2
26932: PUSH
26933: EMPTY
26934: LIST
26935: LIST
26936: PUSH
26937: LD_INT 21
26939: PUSH
26940: LD_INT 3
26942: PUSH
26943: EMPTY
26944: LIST
26945: LIST
26946: PUSH
26947: EMPTY
26948: LIST
26949: LIST
26950: PPUSH
26951: CALL_OW 69
26955: ST_TO_ADDR
// if not tmp then
26956: LD_VAR 0 2
26960: NOT
26961: IFFALSE 26965
// exit ;
26963: GO 26994
// for i in tmp do
26965: LD_ADDR_VAR 0 1
26969: PUSH
26970: LD_VAR 0 2
26974: PUSH
26975: FOR_IN
26976: IFFALSE 26992
// SetBLevel ( i , 10 ) ;
26978: LD_VAR 0 1
26982: PPUSH
26983: LD_INT 10
26985: PPUSH
26986: CALL_OW 241
26990: GO 26975
26992: POP
26993: POP
// end ;
26994: PPOPN 2
26996: END
// every 0 0$1 trigger StreamModeActive and sSold do var i , un , tmp ;
26997: LD_EXP 56
27001: PUSH
27002: LD_EXP 71
27006: AND
27007: IFFALSE 27118
27009: GO 27011
27011: DISABLE
27012: LD_INT 0
27014: PPUSH
27015: PPUSH
27016: PPUSH
// begin tmp := FilterAllUnits ( [ [ f_side , your_side ] , [ f_class , 1 ] ] ) ;
27017: LD_ADDR_VAR 0 3
27021: PUSH
27022: LD_INT 22
27024: PUSH
27025: LD_OWVAR 2
27029: PUSH
27030: EMPTY
27031: LIST
27032: LIST
27033: PUSH
27034: LD_INT 25
27036: PUSH
27037: LD_INT 1
27039: PUSH
27040: EMPTY
27041: LIST
27042: LIST
27043: PUSH
27044: EMPTY
27045: LIST
27046: LIST
27047: PPUSH
27048: CALL_OW 69
27052: ST_TO_ADDR
// if not tmp then
27053: LD_VAR 0 3
27057: NOT
27058: IFFALSE 27062
// exit ;
27060: GO 27118
// un := tmp [ rand ( 1 , tmp ) ] ;
27062: LD_ADDR_VAR 0 2
27066: PUSH
27067: LD_VAR 0 3
27071: PUSH
27072: LD_INT 1
27074: PPUSH
27075: LD_VAR 0 3
27079: PPUSH
27080: CALL_OW 12
27084: ARRAY
27085: ST_TO_ADDR
// if Crawls ( un ) then
27086: LD_VAR 0 2
27090: PPUSH
27091: CALL_OW 318
27095: IFFALSE 27106
// ComWalk ( un ) ;
27097: LD_VAR 0 2
27101: PPUSH
27102: CALL_OW 138
// SetClass ( un , class_sniper ) ;
27106: LD_VAR 0 2
27110: PPUSH
27111: LD_INT 5
27113: PPUSH
27114: CALL_OW 336
// end ;
27118: PPOPN 3
27120: END
// every 0 0$1 trigger StreamModeActive and sDiff and Difficulty < 3 do
27121: LD_EXP 56
27125: PUSH
27126: LD_EXP 72
27130: AND
27131: PUSH
27132: LD_OWVAR 67
27136: PUSH
27137: LD_INT 3
27139: LESS
27140: AND
27141: IFFALSE 27160
27143: GO 27145
27145: DISABLE
// Difficulty := Difficulty + 1 ;
27146: LD_ADDR_OWVAR 67
27150: PUSH
27151: LD_OWVAR 67
27155: PUSH
27156: LD_INT 1
27158: PLUS
27159: ST_TO_ADDR
27160: END
// every 0 0$1 trigger StreamModeActive and sTiger do var i ;
27161: LD_EXP 56
27165: PUSH
27166: LD_EXP 73
27170: AND
27171: IFFALSE 27274
27173: GO 27175
27175: DISABLE
27176: LD_INT 0
27178: PPUSH
// begin for i := 1 to 5 do
27179: LD_ADDR_VAR 0 1
27183: PUSH
27184: DOUBLE
27185: LD_INT 1
27187: DEC
27188: ST_TO_ADDR
27189: LD_INT 5
27191: PUSH
27192: FOR_TO
27193: IFFALSE 27272
// begin uc_nation := nation_nature ;
27195: LD_ADDR_OWVAR 21
27199: PUSH
27200: LD_INT 0
27202: ST_TO_ADDR
// uc_side := 0 ;
27203: LD_ADDR_OWVAR 20
27207: PUSH
27208: LD_INT 0
27210: ST_TO_ADDR
// hc_attr := [ 12 , 12 ] ;
27211: LD_ADDR_OWVAR 29
27215: PUSH
27216: LD_INT 12
27218: PUSH
27219: LD_INT 12
27221: PUSH
27222: EMPTY
27223: LIST
27224: LIST
27225: ST_TO_ADDR
// hc_agressivity := 20 ;
27226: LD_ADDR_OWVAR 35
27230: PUSH
27231: LD_INT 20
27233: ST_TO_ADDR
// hc_class := class_tiger ;
27234: LD_ADDR_OWVAR 28
27238: PUSH
27239: LD_INT 14
27241: ST_TO_ADDR
// hc_gallery :=  ;
27242: LD_ADDR_OWVAR 33
27246: PUSH
27247: LD_STRING 
27249: ST_TO_ADDR
// hc_name :=  ;
27250: LD_ADDR_OWVAR 26
27254: PUSH
27255: LD_STRING 
27257: ST_TO_ADDR
// PlaceUnitAnyWhere ( CreateHuman , false ) ;
27258: CALL_OW 44
27262: PPUSH
27263: LD_INT 0
27265: PPUSH
27266: CALL_OW 51
// end ;
27270: GO 27192
27272: POP
27273: POP
// end ;
27274: PPOPN 1
27276: END
// every 0 0$1 trigger StreamModeActive and sBomb do var i , x , y , result ;
27277: LD_EXP 56
27281: PUSH
27282: LD_EXP 74
27286: AND
27287: IFFALSE 27461
27289: GO 27291
27291: DISABLE
27292: LD_INT 0
27294: PPUSH
27295: PPUSH
27296: PPUSH
27297: PPUSH
// begin result := false ;
27298: LD_ADDR_VAR 0 4
27302: PUSH
27303: LD_INT 0
27305: ST_TO_ADDR
// for i := 1 to 8 do
27306: LD_ADDR_VAR 0 1
27310: PUSH
27311: DOUBLE
27312: LD_INT 1
27314: DEC
27315: ST_TO_ADDR
27316: LD_INT 8
27318: PUSH
27319: FOR_TO
27320: IFFALSE 27431
// begin x := [ 10 , 50 , 90 , 140 ] [ rand ( 1 , 4 ) ] ;
27322: LD_ADDR_VAR 0 2
27326: PUSH
27327: LD_INT 10
27329: PUSH
27330: LD_INT 50
27332: PUSH
27333: LD_INT 90
27335: PUSH
27336: LD_INT 140
27338: PUSH
27339: EMPTY
27340: LIST
27341: LIST
27342: LIST
27343: LIST
27344: PUSH
27345: LD_INT 1
27347: PPUSH
27348: LD_INT 4
27350: PPUSH
27351: CALL_OW 12
27355: ARRAY
27356: ST_TO_ADDR
// y := [ 10 , 50 , 90 , 140 ] [ rand ( 1 , 4 ) ] ;
27357: LD_ADDR_VAR 0 3
27361: PUSH
27362: LD_INT 10
27364: PUSH
27365: LD_INT 50
27367: PUSH
27368: LD_INT 90
27370: PUSH
27371: LD_INT 140
27373: PUSH
27374: EMPTY
27375: LIST
27376: LIST
27377: LIST
27378: LIST
27379: PUSH
27380: LD_INT 1
27382: PPUSH
27383: LD_INT 4
27385: PPUSH
27386: CALL_OW 12
27390: ARRAY
27391: ST_TO_ADDR
// if ValidHex ( x , y ) then
27392: LD_VAR 0 2
27396: PPUSH
27397: LD_VAR 0 3
27401: PPUSH
27402: CALL_OW 488
27406: IFFALSE 27429
// begin result := [ x , y ] ;
27408: LD_ADDR_VAR 0 4
27412: PUSH
27413: LD_VAR 0 2
27417: PUSH
27418: LD_VAR 0 3
27422: PUSH
27423: EMPTY
27424: LIST
27425: LIST
27426: ST_TO_ADDR
// break ;
27427: GO 27431
// end ; end ;
27429: GO 27319
27431: POP
27432: POP
// if result then
27433: LD_VAR 0 4
27437: IFFALSE 27461
// SendSiberiteRocket ( result [ 1 ] , result [ 2 ] ) ;
27439: LD_VAR 0 4
27443: PUSH
27444: LD_INT 1
27446: ARRAY
27447: PPUSH
27448: LD_VAR 0 4
27452: PUSH
27453: LD_INT 2
27455: ARRAY
27456: PPUSH
27457: CALL_OW 429
// end ;
27461: PPOPN 4
27463: END
// every 0 0$1 trigger StreamModeActive and sReset do
27464: LD_EXP 56
27468: PUSH
27469: LD_EXP 76
27473: AND
27474: IFFALSE 27486
27476: GO 27478
27478: DISABLE
// YouLost (  ) ;
27479: LD_STRING 
27481: PPUSH
27482: CALL_OW 104
27486: END
// every 0 0$1 trigger StreamModeActive and sFog do
27487: LD_EXP 56
27491: PUSH
27492: LD_EXP 75
27496: AND
27497: IFFALSE 27511
27499: GO 27501
27501: DISABLE
// FogOff ( your_side ) ;
27502: LD_OWVAR 2
27506: PPUSH
27507: CALL_OW 344
27511: END
// every 0 0$1 trigger StreamModeActive and sSun do
27512: LD_EXP 56
27516: PUSH
27517: LD_EXP 77
27521: AND
27522: IFFALSE 27550
27524: GO 27526
27526: DISABLE
// begin solar_recharge_percent := 0 ;
27527: LD_ADDR_OWVAR 79
27531: PUSH
27532: LD_INT 0
27534: ST_TO_ADDR
// wait ( 5 5$00 ) ;
27535: LD_INT 10500
27537: PPUSH
27538: CALL_OW 67
// solar_recharge_percent := 100 ;
27542: LD_ADDR_OWVAR 79
27546: PUSH
27547: LD_INT 100
27549: ST_TO_ADDR
// end ;
27550: END
// every 0 0$1 trigger StreamModeActive and sKamikadze do var i , un , tmp ;
27551: LD_EXP 56
27555: PUSH
27556: LD_EXP 78
27560: AND
27561: IFFALSE 27800
27563: GO 27565
27565: DISABLE
27566: LD_INT 0
27568: PPUSH
27569: PPUSH
27570: PPUSH
// begin tmp := [ ] ;
27571: LD_ADDR_VAR 0 3
27575: PUSH
27576: EMPTY
27577: ST_TO_ADDR
// for i := 1 to 6 do
27578: LD_ADDR_VAR 0 1
27582: PUSH
27583: DOUBLE
27584: LD_INT 1
27586: DEC
27587: ST_TO_ADDR
27588: LD_INT 6
27590: PUSH
27591: FOR_TO
27592: IFFALSE 27697
// begin uc_nation := nation_nature ;
27594: LD_ADDR_OWVAR 21
27598: PUSH
27599: LD_INT 0
27601: ST_TO_ADDR
// uc_side := 0 ;
27602: LD_ADDR_OWVAR 20
27606: PUSH
27607: LD_INT 0
27609: ST_TO_ADDR
// hc_attr := [ 12 , 12 ] ;
27610: LD_ADDR_OWVAR 29
27614: PUSH
27615: LD_INT 12
27617: PUSH
27618: LD_INT 12
27620: PUSH
27621: EMPTY
27622: LIST
27623: LIST
27624: ST_TO_ADDR
// hc_agressivity := 20 ;
27625: LD_ADDR_OWVAR 35
27629: PUSH
27630: LD_INT 20
27632: ST_TO_ADDR
// hc_class := class_apeman_kamikaze ;
27633: LD_ADDR_OWVAR 28
27637: PUSH
27638: LD_INT 17
27640: ST_TO_ADDR
// hc_gallery :=  ;
27641: LD_ADDR_OWVAR 33
27645: PUSH
27646: LD_STRING 
27648: ST_TO_ADDR
// hc_name :=  ;
27649: LD_ADDR_OWVAR 26
27653: PUSH
27654: LD_STRING 
27656: ST_TO_ADDR
// un := CreateHuman ;
27657: LD_ADDR_VAR 0 2
27661: PUSH
27662: CALL_OW 44
27666: ST_TO_ADDR
// PlaceUnitAnyWhere ( un , true ) ;
27667: LD_VAR 0 2
27671: PPUSH
27672: LD_INT 1
27674: PPUSH
27675: CALL_OW 51
// tmp := tmp * un ;
27679: LD_ADDR_VAR 0 3
27683: PUSH
27684: LD_VAR 0 3
27688: PUSH
27689: LD_VAR 0 2
27693: MUL
27694: ST_TO_ADDR
// end ;
27695: GO 27591
27697: POP
27698: POP
// repeat wait ( 0 0$1 ) ;
27699: LD_INT 35
27701: PPUSH
27702: CALL_OW 67
// for un in tmp do
27706: LD_ADDR_VAR 0 2
27710: PUSH
27711: LD_VAR 0 3
27715: PUSH
27716: FOR_IN
27717: IFFALSE 27791
// begin if IsDead ( un ) then
27719: LD_VAR 0 2
27723: PPUSH
27724: CALL_OW 301
27728: IFFALSE 27748
// begin tmp := tmp diff un ;
27730: LD_ADDR_VAR 0 3
27734: PUSH
27735: LD_VAR 0 3
27739: PUSH
27740: LD_VAR 0 2
27744: DIFF
27745: ST_TO_ADDR
// continue ;
27746: GO 27716
// end ; ComAttackUnit ( un , NearestUnitToUnit ( FilterAllUnits ( [ f_not , [ f_side , 0 ] ] ) , un ) ) ;
27748: LD_VAR 0 2
27752: PPUSH
27753: LD_INT 3
27755: PUSH
27756: LD_INT 22
27758: PUSH
27759: LD_INT 0
27761: PUSH
27762: EMPTY
27763: LIST
27764: LIST
27765: PUSH
27766: EMPTY
27767: LIST
27768: LIST
27769: PPUSH
27770: CALL_OW 69
27774: PPUSH
27775: LD_VAR 0 2
27779: PPUSH
27780: CALL_OW 74
27784: PPUSH
27785: CALL_OW 115
// end ;
27789: GO 27716
27791: POP
27792: POP
// until not tmp ;
27793: LD_VAR 0 3
27797: NOT
27798: IFFALSE 27699
// end ;
27800: PPOPN 3
27802: END
// every 0 0$1 trigger StreamModeActive and sTroll do
27803: LD_EXP 56
27807: PUSH
27808: LD_EXP 79
27812: AND
27813: IFFALSE 27839
27815: GO 27817
27817: DISABLE
// begin ToLua ( displayTroll(); ) ;
27818: LD_STRING displayTroll();
27820: PPUSH
27821: CALL_OW 559
// wait ( 3 3$00 ) ;
27825: LD_INT 6300
27827: PPUSH
27828: CALL_OW 67
// ToLua ( hideTroll(); ) ;
27832: LD_STRING hideTroll();
27834: PPUSH
27835: CALL_OW 559
// end ;
27839: END
// every 0 0$1 trigger StreamModeActive and sSlow do var p ;
27840: LD_EXP 56
27844: PUSH
27845: LD_EXP 80
27849: AND
27850: IFFALSE 27913
27852: GO 27854
27854: DISABLE
27855: LD_INT 0
27857: PPUSH
// begin p := 0 ;
27858: LD_ADDR_VAR 0 1
27862: PUSH
27863: LD_INT 0
27865: ST_TO_ADDR
// repeat game_speed := 1 ;
27866: LD_ADDR_OWVAR 65
27870: PUSH
27871: LD_INT 1
27873: ST_TO_ADDR
// wait ( 0 0$1 ) ;
27874: LD_INT 35
27876: PPUSH
27877: CALL_OW 67
// p := p + 1 ;
27881: LD_ADDR_VAR 0 1
27885: PUSH
27886: LD_VAR 0 1
27890: PUSH
27891: LD_INT 1
27893: PLUS
27894: ST_TO_ADDR
// until p >= 60 ;
27895: LD_VAR 0 1
27899: PUSH
27900: LD_INT 60
27902: GREATEREQUAL
27903: IFFALSE 27866
// game_speed := 4 ;
27905: LD_ADDR_OWVAR 65
27909: PUSH
27910: LD_INT 4
27912: ST_TO_ADDR
// end ;
27913: PPOPN 1
27915: END
// every 0 0$1 trigger StreamModeActive and sLack do var depot , base ;
27916: LD_EXP 56
27920: PUSH
27921: LD_EXP 81
27925: AND
27926: IFFALSE 28072
27928: GO 27930
27930: DISABLE
27931: LD_INT 0
27933: PPUSH
27934: PPUSH
// begin depot := FilterAllUnits ( [ [ f_side , your_side ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
27935: LD_ADDR_VAR 0 1
27939: PUSH
27940: LD_INT 22
27942: PUSH
27943: LD_OWVAR 2
27947: PUSH
27948: EMPTY
27949: LIST
27950: LIST
27951: PUSH
27952: LD_INT 2
27954: PUSH
27955: LD_INT 30
27957: PUSH
27958: LD_INT 0
27960: PUSH
27961: EMPTY
27962: LIST
27963: LIST
27964: PUSH
27965: LD_INT 30
27967: PUSH
27968: LD_INT 1
27970: PUSH
27971: EMPTY
27972: LIST
27973: LIST
27974: PUSH
27975: EMPTY
27976: LIST
27977: LIST
27978: LIST
27979: PUSH
27980: EMPTY
27981: LIST
27982: LIST
27983: PPUSH
27984: CALL_OW 69
27988: ST_TO_ADDR
// if not depot then
27989: LD_VAR 0 1
27993: NOT
27994: IFFALSE 27998
// exit ;
27996: GO 28072
// base := GetBase ( depot [ rand ( 1 , depot ) ] ) ;
27998: LD_ADDR_VAR 0 2
28002: PUSH
28003: LD_VAR 0 1
28007: PUSH
28008: LD_INT 1
28010: PPUSH
28011: LD_VAR 0 1
28015: PPUSH
28016: CALL_OW 12
28020: ARRAY
28021: PPUSH
28022: CALL_OW 274
28026: ST_TO_ADDR
// SetResourceType ( base , mat_cans , 0 ) ;
28027: LD_VAR 0 2
28031: PPUSH
28032: LD_INT 1
28034: PPUSH
28035: LD_INT 0
28037: PPUSH
28038: CALL_OW 277
// SetResourceType ( base , mat_oil , 0 ) ;
28042: LD_VAR 0 2
28046: PPUSH
28047: LD_INT 2
28049: PPUSH
28050: LD_INT 0
28052: PPUSH
28053: CALL_OW 277
// SetResourceType ( base , mat_siberit , 0 ) ;
28057: LD_VAR 0 2
28061: PPUSH
28062: LD_INT 3
28064: PPUSH
28065: LD_INT 0
28067: PPUSH
28068: CALL_OW 277
// end ;
28072: PPOPN 2
28074: END
// every 0 0$1 trigger StreamModeActive and sWound do var tmp ;
28075: LD_EXP 56
28079: PUSH
28080: LD_EXP 82
28084: AND
28085: IFFALSE 28182
28087: GO 28089
28089: DISABLE
28090: LD_INT 0
28092: PPUSH
// begin tmp := FilterAllUnits ( [ [ f_side , your_side ] , [ f_type , unit_human ] , [ f_not , [ f_nation , 0 ] ] ] ) ;
28093: LD_ADDR_VAR 0 1
28097: PUSH
28098: LD_INT 22
28100: PUSH
28101: LD_OWVAR 2
28105: PUSH
28106: EMPTY
28107: LIST
28108: LIST
28109: PUSH
28110: LD_INT 21
28112: PUSH
28113: LD_INT 1
28115: PUSH
28116: EMPTY
28117: LIST
28118: LIST
28119: PUSH
28120: LD_INT 3
28122: PUSH
28123: LD_INT 23
28125: PUSH
28126: LD_INT 0
28128: PUSH
28129: EMPTY
28130: LIST
28131: LIST
28132: PUSH
28133: EMPTY
28134: LIST
28135: LIST
28136: PUSH
28137: EMPTY
28138: LIST
28139: LIST
28140: LIST
28141: PPUSH
28142: CALL_OW 69
28146: ST_TO_ADDR
// if not tmp then
28147: LD_VAR 0 1
28151: NOT
28152: IFFALSE 28156
// exit ;
28154: GO 28182
// SetLives ( tmp [ rand ( 1 , tmp ) ] , 200 ) ;
28156: LD_VAR 0 1
28160: PUSH
28161: LD_INT 1
28163: PPUSH
28164: LD_VAR 0 1
28168: PPUSH
28169: CALL_OW 12
28173: ARRAY
28174: PPUSH
28175: LD_INT 200
28177: PPUSH
28178: CALL_OW 234
// end ;
28182: PPOPN 1
28184: END
// every 0 0$1 trigger StreamModeActive and sTank do var tmp ;
28185: LD_EXP 56
28189: PUSH
28190: LD_EXP 83
28194: AND
28195: IFFALSE 28274
28197: GO 28199
28199: DISABLE
28200: LD_INT 0
28202: PPUSH
// begin tmp := FilterAllUnits ( [ [ f_side , your_side ] , [ f_type , unit_vehicle ] ] ) ;
28203: LD_ADDR_VAR 0 1
28207: PUSH
28208: LD_INT 22
28210: PUSH
28211: LD_OWVAR 2
28215: PUSH
28216: EMPTY
28217: LIST
28218: LIST
28219: PUSH
28220: LD_INT 21
28222: PUSH
28223: LD_INT 2
28225: PUSH
28226: EMPTY
28227: LIST
28228: LIST
28229: PUSH
28230: EMPTY
28231: LIST
28232: LIST
28233: PPUSH
28234: CALL_OW 69
28238: ST_TO_ADDR
// if not tmp then
28239: LD_VAR 0 1
28243: NOT
28244: IFFALSE 28248
// exit ;
28246: GO 28274
// SetLives ( tmp [ rand ( 1 , tmp ) ] , 60 ) ;
28248: LD_VAR 0 1
28252: PUSH
28253: LD_INT 1
28255: PPUSH
28256: LD_VAR 0 1
28260: PPUSH
28261: CALL_OW 12
28265: ARRAY
28266: PPUSH
28267: LD_INT 60
28269: PPUSH
28270: CALL_OW 234
// end ;
28274: PPOPN 1
28276: END
// every 0 0$1 trigger StreamModeActive and sRemote do var tmp , i ;
28277: LD_EXP 56
28281: PUSH
28282: LD_EXP 84
28286: AND
28287: IFFALSE 28386
28289: GO 28291
28291: DISABLE
28292: LD_INT 0
28294: PPUSH
28295: PPUSH
// begin enable ;
28296: ENABLE
// tmp := FilterAllUnits ( [ [ f_side , your_side ] , [ f_linked ] , [ f_control , control_remote ] ] ) ;
28297: LD_ADDR_VAR 0 1
28301: PUSH
28302: LD_INT 22
28304: PUSH
28305: LD_OWVAR 2
28309: PUSH
28310: EMPTY
28311: LIST
28312: LIST
28313: PUSH
28314: LD_INT 61
28316: PUSH
28317: EMPTY
28318: LIST
28319: PUSH
28320: LD_INT 33
28322: PUSH
28323: LD_INT 2
28325: PUSH
28326: EMPTY
28327: LIST
28328: LIST
28329: PUSH
28330: EMPTY
28331: LIST
28332: LIST
28333: LIST
28334: PPUSH
28335: CALL_OW 69
28339: ST_TO_ADDR
// if not tmp then
28340: LD_VAR 0 1
28344: NOT
28345: IFFALSE 28349
// exit ;
28347: GO 28386
// for i in tmp do
28349: LD_ADDR_VAR 0 2
28353: PUSH
28354: LD_VAR 0 1
28358: PUSH
28359: FOR_IN
28360: IFFALSE 28384
// if IsControledBy ( i ) then
28362: LD_VAR 0 2
28366: PPUSH
28367: CALL_OW 312
28371: IFFALSE 28382
// ComUnlink ( i ) ;
28373: LD_VAR 0 2
28377: PPUSH
28378: CALL_OW 136
28382: GO 28359
28384: POP
28385: POP
// end ;
28386: PPOPN 2
28388: END
// every 0 0$1 trigger StreamModeActive and sPowell do
28389: LD_EXP 56
28393: PUSH
28394: LD_EXP 85
28398: AND
28399: IFFALSE 28439
28401: GO 28403
28403: DISABLE
// begin ToLua ( displayPowell(); ) ;
28404: LD_STRING displayPowell();
28406: PPUSH
28407: CALL_OW 559
// wait ( 0 0$20 ) ;
28411: LD_INT 700
28413: PPUSH
28414: CALL_OW 67
// ToLua ( displayPowell(); ) ;
28418: LD_STRING displayPowell();
28420: PPUSH
28421: CALL_OW 559
// wait ( 0 0$40 ) ;
28425: LD_INT 1400
28427: PPUSH
28428: CALL_OW 67
// ToLua ( displayPowell(); ) ;
28432: LD_STRING displayPowell();
28434: PPUSH
28435: CALL_OW 559
// end ;
28439: END
// every 0 0$1 trigger StreamModeActive and sStu do
28440: LD_EXP 56
28444: PUSH
28445: LD_EXP 93
28449: AND
28450: IFFALSE 28462
28452: GO 28454
28454: DISABLE
// begin ToLua ( displayStucuk(); ) ;
28455: LD_STRING displayStucuk();
28457: PPUSH
28458: CALL_OW 559
// end ;
28462: END
// every 0 0$1 trigger StreamModeActive and sBetray do var un , tmp ;
28463: LD_EXP 56
28467: PUSH
28468: LD_EXP 86
28472: AND
28473: IFFALSE 28614
28475: GO 28477
28477: DISABLE
28478: LD_INT 0
28480: PPUSH
28481: PPUSH
// begin tmp := FilterAllUnits ( [ [ f_side , your_side ] , [ f_type , unit_human ] ] ) ;
28482: LD_ADDR_VAR 0 2
28486: PUSH
28487: LD_INT 22
28489: PUSH
28490: LD_OWVAR 2
28494: PUSH
28495: EMPTY
28496: LIST
28497: LIST
28498: PUSH
28499: LD_INT 21
28501: PUSH
28502: LD_INT 1
28504: PUSH
28505: EMPTY
28506: LIST
28507: LIST
28508: PUSH
28509: EMPTY
28510: LIST
28511: LIST
28512: PPUSH
28513: CALL_OW 69
28517: ST_TO_ADDR
// if not tmp then
28518: LD_VAR 0 2
28522: NOT
28523: IFFALSE 28527
// exit ;
28525: GO 28614
// un := tmp [ rand ( 1 , tmp ) ] ;
28527: LD_ADDR_VAR 0 1
28531: PUSH
28532: LD_VAR 0 2
28536: PUSH
28537: LD_INT 1
28539: PPUSH
28540: LD_VAR 0 2
28544: PPUSH
28545: CALL_OW 12
28549: ARRAY
28550: ST_TO_ADDR
// SetSide ( un , 0 ) ;
28551: LD_VAR 0 1
28555: PPUSH
28556: LD_INT 0
28558: PPUSH
28559: CALL_OW 235
// ComAttackUnit ( un , NearestUnitToUnit ( all_units diff un , un ) ) ;
28563: LD_VAR 0 1
28567: PPUSH
28568: LD_OWVAR 3
28572: PUSH
28573: LD_VAR 0 1
28577: DIFF
28578: PPUSH
28579: LD_VAR 0 1
28583: PPUSH
28584: CALL_OW 74
28588: PPUSH
28589: CALL_OW 115
// wait ( 0 0$20 ) ;
28593: LD_INT 700
28595: PPUSH
28596: CALL_OW 67
// SetSide ( un , your_side ) ;
28600: LD_VAR 0 1
28604: PPUSH
28605: LD_OWVAR 2
28609: PPUSH
28610: CALL_OW 235
// end ;
28614: PPOPN 2
28616: END
// every 0 0$1 trigger StreamModeActive and sContamin do var depot ;
28617: LD_EXP 56
28621: PUSH
28622: LD_EXP 87
28626: AND
28627: IFFALSE 28733
28629: GO 28631
28631: DISABLE
28632: LD_INT 0
28634: PPUSH
// begin depot := FilterAllUnits ( [ [ f_side , your_side ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
28635: LD_ADDR_VAR 0 1
28639: PUSH
28640: LD_INT 22
28642: PUSH
28643: LD_OWVAR 2
28647: PUSH
28648: EMPTY
28649: LIST
28650: LIST
28651: PUSH
28652: LD_INT 2
28654: PUSH
28655: LD_INT 30
28657: PUSH
28658: LD_INT 0
28660: PUSH
28661: EMPTY
28662: LIST
28663: LIST
28664: PUSH
28665: LD_INT 30
28667: PUSH
28668: LD_INT 1
28670: PUSH
28671: EMPTY
28672: LIST
28673: LIST
28674: PUSH
28675: EMPTY
28676: LIST
28677: LIST
28678: LIST
28679: PUSH
28680: EMPTY
28681: LIST
28682: LIST
28683: PPUSH
28684: CALL_OW 69
28688: ST_TO_ADDR
// if not depot then
28689: LD_VAR 0 1
28693: NOT
28694: IFFALSE 28698
// exit ;
28696: GO 28733
// ArtContamination ( GetX ( depot [ 1 ] ) , GetY ( depot [ 1 ] ) , 70 ) ;
28698: LD_VAR 0 1
28702: PUSH
28703: LD_INT 1
28705: ARRAY
28706: PPUSH
28707: CALL_OW 250
28711: PPUSH
28712: LD_VAR 0 1
28716: PUSH
28717: LD_INT 1
28719: ARRAY
28720: PPUSH
28721: CALL_OW 251
28725: PPUSH
28726: LD_INT 70
28728: PPUSH
28729: CALL_OW 495
// end ;
28733: PPOPN 1
28735: END
// every 0 0$1 trigger StreamModeActive and sTeleport do var i , x , y , d , tmp ;
28736: LD_EXP 56
28740: PUSH
28741: LD_EXP 88
28745: AND
28746: IFFALSE 28957
28748: GO 28750
28750: DISABLE
28751: LD_INT 0
28753: PPUSH
28754: PPUSH
28755: PPUSH
28756: PPUSH
28757: PPUSH
// begin tmp := FilterAllUnits ( [ [ f_side , your_side ] , [ f_type , unit_human ] ] ) ;
28758: LD_ADDR_VAR 0 5
28762: PUSH
28763: LD_INT 22
28765: PUSH
28766: LD_OWVAR 2
28770: PUSH
28771: EMPTY
28772: LIST
28773: LIST
28774: PUSH
28775: LD_INT 21
28777: PUSH
28778: LD_INT 1
28780: PUSH
28781: EMPTY
28782: LIST
28783: LIST
28784: PUSH
28785: EMPTY
28786: LIST
28787: LIST
28788: PPUSH
28789: CALL_OW 69
28793: ST_TO_ADDR
// if not tmp then
28794: LD_VAR 0 5
28798: NOT
28799: IFFALSE 28803
// exit ;
28801: GO 28957
// for i in tmp do
28803: LD_ADDR_VAR 0 1
28807: PUSH
28808: LD_VAR 0 5
28812: PUSH
28813: FOR_IN
28814: IFFALSE 28955
// begin d := rand ( 0 , 5 ) ;
28816: LD_ADDR_VAR 0 4
28820: PUSH
28821: LD_INT 0
28823: PPUSH
28824: LD_INT 5
28826: PPUSH
28827: CALL_OW 12
28831: ST_TO_ADDR
// x := ShiftX ( GetX ( i ) , d , rand ( 3 , 12 ) ) ;
28832: LD_ADDR_VAR 0 2
28836: PUSH
28837: LD_VAR 0 1
28841: PPUSH
28842: CALL_OW 250
28846: PPUSH
28847: LD_VAR 0 4
28851: PPUSH
28852: LD_INT 3
28854: PPUSH
28855: LD_INT 12
28857: PPUSH
28858: CALL_OW 12
28862: PPUSH
28863: CALL_OW 272
28867: ST_TO_ADDR
// y := ShiftY ( GetY ( i ) , d , rand ( 3 , 12 ) ) ;
28868: LD_ADDR_VAR 0 3
28872: PUSH
28873: LD_VAR 0 1
28877: PPUSH
28878: CALL_OW 251
28882: PPUSH
28883: LD_VAR 0 4
28887: PPUSH
28888: LD_INT 3
28890: PPUSH
28891: LD_INT 12
28893: PPUSH
28894: CALL_OW 12
28898: PPUSH
28899: CALL_OW 273
28903: ST_TO_ADDR
// if ValidHex ( x , y ) then
28904: LD_VAR 0 2
28908: PPUSH
28909: LD_VAR 0 3
28913: PPUSH
28914: CALL_OW 488
28918: IFFALSE 28953
// TeleportUnit ( i , x , y , rand ( 3 , 6 ) , true ) ;
28920: LD_VAR 0 1
28924: PPUSH
28925: LD_VAR 0 2
28929: PPUSH
28930: LD_VAR 0 3
28934: PPUSH
28935: LD_INT 3
28937: PPUSH
28938: LD_INT 6
28940: PPUSH
28941: CALL_OW 12
28945: PPUSH
28946: LD_INT 1
28948: PPUSH
28949: CALL_OW 483
// end ;
28953: GO 28813
28955: POP
28956: POP
// end ;
28957: PPOPN 5
28959: END
// every 0 0$1 trigger StreamModeActive and sOil do var i , tmp ;
28960: LD_EXP 56
28964: PUSH
28965: LD_EXP 89
28969: AND
28970: IFFALSE 29064
28972: GO 28974
28974: DISABLE
28975: LD_INT 0
28977: PPUSH
28978: PPUSH
// begin tmp := FilterAllUnits ( [ [ f_side , your_side ] , [ f_engine , engine_combustion ] , [ f_type , unit_vehicle ] ] ) ;
28979: LD_ADDR_VAR 0 2
28983: PUSH
28984: LD_INT 22
28986: PUSH
28987: LD_OWVAR 2
28991: PUSH
28992: EMPTY
28993: LIST
28994: LIST
28995: PUSH
28996: LD_INT 32
28998: PUSH
28999: LD_INT 1
29001: PUSH
29002: EMPTY
29003: LIST
29004: LIST
29005: PUSH
29006: LD_INT 21
29008: PUSH
29009: LD_INT 2
29011: PUSH
29012: EMPTY
29013: LIST
29014: LIST
29015: PUSH
29016: EMPTY
29017: LIST
29018: LIST
29019: LIST
29020: PPUSH
29021: CALL_OW 69
29025: ST_TO_ADDR
// if not tmp then
29026: LD_VAR 0 2
29030: NOT
29031: IFFALSE 29035
// exit ;
29033: GO 29064
// for i in tmp do
29035: LD_ADDR_VAR 0 1
29039: PUSH
29040: LD_VAR 0 2
29044: PUSH
29045: FOR_IN
29046: IFFALSE 29062
// SetFuel ( i , 0 ) ;
29048: LD_VAR 0 1
29052: PPUSH
29053: LD_INT 0
29055: PPUSH
29056: CALL_OW 240
29060: GO 29045
29062: POP
29063: POP
// end ;
29064: PPOPN 2
29066: END
// every 0 0$1 trigger StreamModeActive and sOilTower do var tmp ;
29067: LD_EXP 56
29071: PUSH
29072: LD_EXP 90
29076: AND
29077: IFFALSE 29143
29079: GO 29081
29081: DISABLE
29082: LD_INT 0
29084: PPUSH
// begin tmp := FilterAllUnits ( [ [ f_side , your_side ] , [ f_btype , b_oil_mine ] ] ) ;
29085: LD_ADDR_VAR 0 1
29089: PUSH
29090: LD_INT 22
29092: PUSH
29093: LD_OWVAR 2
29097: PUSH
29098: EMPTY
29099: LIST
29100: LIST
29101: PUSH
29102: LD_INT 30
29104: PUSH
29105: LD_INT 29
29107: PUSH
29108: EMPTY
29109: LIST
29110: LIST
29111: PUSH
29112: EMPTY
29113: LIST
29114: LIST
29115: PPUSH
29116: CALL_OW 69
29120: ST_TO_ADDR
// if not tmp then
29121: LD_VAR 0 1
29125: NOT
29126: IFFALSE 29130
// exit ;
29128: GO 29143
// DestroyUnit ( tmp [ 1 ] ) ;
29130: LD_VAR 0 1
29134: PUSH
29135: LD_INT 1
29137: ARRAY
29138: PPUSH
29139: CALL_OW 65
// end ;
29143: PPOPN 1
29145: END
// every 0 0$1 trigger StreamModeActive and sSheik do var un ;
29146: LD_EXP 56
29150: PUSH
29151: LD_EXP 92
29155: AND
29156: IFFALSE 29269
29158: GO 29160
29160: DISABLE
29161: LD_INT 0
29163: PPUSH
// begin uc_side := 0 ;
29164: LD_ADDR_OWVAR 20
29168: PUSH
29169: LD_INT 0
29171: ST_TO_ADDR
// uc_nation := nation_arabian ;
29172: LD_ADDR_OWVAR 21
29176: PUSH
29177: LD_INT 2
29179: ST_TO_ADDR
// PrepareHuman ( sex_male , 10 , class_desert_warior ) ;
29180: LD_INT 1
29182: PPUSH
29183: LD_INT 10
29185: PPUSH
29186: LD_INT 11
29188: PPUSH
29189: CALL_OW 380
// un := CreateHuman ;
29193: LD_ADDR_VAR 0 1
29197: PUSH
29198: CALL_OW 44
29202: ST_TO_ADDR
// PlaceUnitAnywhere ( un , true ) ;
29203: LD_VAR 0 1
29207: PPUSH
29208: LD_INT 1
29210: PPUSH
29211: CALL_OW 51
// repeat wait ( 0 0$1 ) ;
29215: LD_INT 35
29217: PPUSH
29218: CALL_OW 67
// ComAttackUnit ( un , NearestUnitToUnit ( FilterAllUnits ( [ f_side , your_side ] ) , un ) ) ;
29222: LD_VAR 0 1
29226: PPUSH
29227: LD_INT 22
29229: PUSH
29230: LD_OWVAR 2
29234: PUSH
29235: EMPTY
29236: LIST
29237: LIST
29238: PPUSH
29239: CALL_OW 69
29243: PPUSH
29244: LD_VAR 0 1
29248: PPUSH
29249: CALL_OW 74
29253: PPUSH
29254: CALL_OW 115
// until IsDead ( un ) ;
29258: LD_VAR 0 1
29262: PPUSH
29263: CALL_OW 301
29267: IFFALSE 29215
// end ; end_of_file
29269: PPOPN 1
29271: END
// export function SOS_UnitExtraDestroyed ( un , killerSide , killerUnit ) ; var i , eff , side ; begin
29272: LD_INT 0
29274: PPUSH
29275: PPUSH
29276: PPUSH
29277: PPUSH
// if GetWeapon ( un ) = ar_bio_bomb then
29278: LD_VAR 0 1
29282: PPUSH
29283: CALL_OW 264
29287: PUSH
29288: LD_EXP 55
29292: EQUAL
29293: IFFALSE 29365
// begin if GetTech ( tech_bio3 , GetSide ( un ) ) = state_researched then
29295: LD_INT 68
29297: PPUSH
29298: LD_VAR 0 1
29302: PPUSH
29303: CALL_OW 255
29307: PPUSH
29308: CALL_OW 321
29312: PUSH
29313: LD_INT 2
29315: EQUAL
29316: IFFALSE 29328
// eff := 70 else
29318: LD_ADDR_VAR 0 6
29322: PUSH
29323: LD_INT 70
29325: ST_TO_ADDR
29326: GO 29336
// eff := 30 ;
29328: LD_ADDR_VAR 0 6
29332: PUSH
29333: LD_INT 30
29335: ST_TO_ADDR
// ArtContamination ( GetX ( un ) , GetY ( un ) , eff ) ;
29336: LD_VAR 0 1
29340: PPUSH
29341: CALL_OW 250
29345: PPUSH
29346: LD_VAR 0 1
29350: PPUSH
29351: CALL_OW 251
29355: PPUSH
29356: LD_VAR 0 6
29360: PPUSH
29361: CALL_OW 495
// end ; end ;
29365: LD_VAR 0 4
29369: RET
// export function SOS_Command ( cmd ) ; var i , j , tmp , taskList , _taskList ; begin
29370: LD_INT 0
29372: PPUSH
29373: PPUSH
29374: PPUSH
29375: PPUSH
29376: PPUSH
29377: PPUSH
// if cmd = 124 then
29378: LD_VAR 0 1
29382: PUSH
29383: LD_INT 124
29385: EQUAL
29386: IFFALSE 29592
// begin tmp := FilterAllUnits ( [ f_or , [ f_weapon , ru_bulldozer ] , [ f_weapon , us_bulldozer ] ] ) ;
29388: LD_ADDR_VAR 0 5
29392: PUSH
29393: LD_INT 2
29395: PUSH
29396: LD_INT 34
29398: PUSH
29399: LD_INT 53
29401: PUSH
29402: EMPTY
29403: LIST
29404: LIST
29405: PUSH
29406: LD_INT 34
29408: PUSH
29409: LD_INT 14
29411: PUSH
29412: EMPTY
29413: LIST
29414: LIST
29415: PUSH
29416: EMPTY
29417: LIST
29418: LIST
29419: LIST
29420: PPUSH
29421: CALL_OW 69
29425: ST_TO_ADDR
// if not tmp then
29426: LD_VAR 0 5
29430: NOT
29431: IFFALSE 29435
// exit ;
29433: GO 29592
// for i in tmp do
29435: LD_ADDR_VAR 0 3
29439: PUSH
29440: LD_VAR 0 5
29444: PUSH
29445: FOR_IN
29446: IFFALSE 29590
// begin taskList := GetTaskList ( i ) ;
29448: LD_ADDR_VAR 0 6
29452: PUSH
29453: LD_VAR 0 3
29457: PPUSH
29458: CALL_OW 437
29462: ST_TO_ADDR
// if not taskList then
29463: LD_VAR 0 6
29467: NOT
29468: IFFALSE 29472
// continue ;
29470: GO 29445
// for j = 1 to taskList do
29472: LD_ADDR_VAR 0 4
29476: PUSH
29477: DOUBLE
29478: LD_INT 1
29480: DEC
29481: ST_TO_ADDR
29482: LD_VAR 0 6
29486: PUSH
29487: FOR_TO
29488: IFFALSE 29586
// if taskList [ j ] [ 1 ] = | then
29490: LD_VAR 0 6
29494: PUSH
29495: LD_VAR 0 4
29499: ARRAY
29500: PUSH
29501: LD_INT 1
29503: ARRAY
29504: PUSH
29505: LD_STRING |
29507: EQUAL
29508: IFFALSE 29584
// begin _taskList := Delete ( taskList , 1 ) ;
29510: LD_ADDR_VAR 0 7
29514: PUSH
29515: LD_VAR 0 6
29519: PPUSH
29520: LD_INT 1
29522: PPUSH
29523: CALL_OW 3
29527: ST_TO_ADDR
// SetTaskList ( i , _taskList ) ;
29528: LD_VAR 0 3
29532: PPUSH
29533: LD_VAR 0 7
29537: PPUSH
29538: CALL_OW 446
// CutTreeXYR ( i , taskList [ j ] [ 2 ] , taskList [ j ] [ 3 ] , 8 ) ;
29542: LD_VAR 0 3
29546: PPUSH
29547: LD_VAR 0 6
29551: PUSH
29552: LD_VAR 0 4
29556: ARRAY
29557: PUSH
29558: LD_INT 2
29560: ARRAY
29561: PPUSH
29562: LD_VAR 0 6
29566: PUSH
29567: LD_VAR 0 4
29571: ARRAY
29572: PUSH
29573: LD_INT 3
29575: ARRAY
29576: PPUSH
29577: LD_INT 8
29579: PPUSH
29580: CALL 29597 0 4
// end ;
29584: GO 29487
29586: POP
29587: POP
// end ;
29588: GO 29445
29590: POP
29591: POP
// end ; end ;
29592: LD_VAR 0 2
29596: RET
// function CutTreeXYR ( bulldozer , x , y , r ) ; var i , min_x , min_y , max_x , max_y , _x , _y , list ; begin
29597: LD_INT 0
29599: PPUSH
29600: PPUSH
29601: PPUSH
29602: PPUSH
29603: PPUSH
29604: PPUSH
29605: PPUSH
29606: PPUSH
29607: PPUSH
// if not bulldozer or not ValidHex ( x , y ) or not r then
29608: LD_VAR 0 1
29612: NOT
29613: PUSH
29614: LD_VAR 0 2
29618: PPUSH
29619: LD_VAR 0 3
29623: PPUSH
29624: CALL_OW 488
29628: NOT
29629: OR
29630: PUSH
29631: LD_VAR 0 4
29635: NOT
29636: OR
29637: IFFALSE 29641
// exit ;
29639: GO 29981
// list := [ ] ;
29641: LD_ADDR_VAR 0 13
29645: PUSH
29646: EMPTY
29647: ST_TO_ADDR
// if x - r < 0 then
29648: LD_VAR 0 2
29652: PUSH
29653: LD_VAR 0 4
29657: MINUS
29658: PUSH
29659: LD_INT 0
29661: LESS
29662: IFFALSE 29674
// min_x := 0 else
29664: LD_ADDR_VAR 0 7
29668: PUSH
29669: LD_INT 0
29671: ST_TO_ADDR
29672: GO 29690
// min_x := x - r ;
29674: LD_ADDR_VAR 0 7
29678: PUSH
29679: LD_VAR 0 2
29683: PUSH
29684: LD_VAR 0 4
29688: MINUS
29689: ST_TO_ADDR
// if y - r < 0 then
29690: LD_VAR 0 3
29694: PUSH
29695: LD_VAR 0 4
29699: MINUS
29700: PUSH
29701: LD_INT 0
29703: LESS
29704: IFFALSE 29716
// min_y := 0 else
29706: LD_ADDR_VAR 0 8
29710: PUSH
29711: LD_INT 0
29713: ST_TO_ADDR
29714: GO 29732
// min_y := y - r ;
29716: LD_ADDR_VAR 0 8
29720: PUSH
29721: LD_VAR 0 3
29725: PUSH
29726: LD_VAR 0 4
29730: MINUS
29731: ST_TO_ADDR
// max_x := x + r ;
29732: LD_ADDR_VAR 0 9
29736: PUSH
29737: LD_VAR 0 2
29741: PUSH
29742: LD_VAR 0 4
29746: PLUS
29747: ST_TO_ADDR
// max_y := y + r ;
29748: LD_ADDR_VAR 0 10
29752: PUSH
29753: LD_VAR 0 3
29757: PUSH
29758: LD_VAR 0 4
29762: PLUS
29763: ST_TO_ADDR
// for _x = min_x to max_x do
29764: LD_ADDR_VAR 0 11
29768: PUSH
29769: DOUBLE
29770: LD_VAR 0 7
29774: DEC
29775: ST_TO_ADDR
29776: LD_VAR 0 9
29780: PUSH
29781: FOR_TO
29782: IFFALSE 29899
// for _y = min_y to max_y do
29784: LD_ADDR_VAR 0 12
29788: PUSH
29789: DOUBLE
29790: LD_VAR 0 8
29794: DEC
29795: ST_TO_ADDR
29796: LD_VAR 0 10
29800: PUSH
29801: FOR_TO
29802: IFFALSE 29895
// begin if not ValidHex ( _x , _y ) then
29804: LD_VAR 0 11
29808: PPUSH
29809: LD_VAR 0 12
29813: PPUSH
29814: CALL_OW 488
29818: NOT
29819: IFFALSE 29823
// continue ;
29821: GO 29801
// if IsEnvironment ( _x , _y ) and IsEnvironmentDestroyable ( _x , _y ) then
29823: LD_VAR 0 11
29827: PPUSH
29828: LD_VAR 0 12
29832: PPUSH
29833: CALL_OW 351
29837: PUSH
29838: LD_VAR 0 11
29842: PPUSH
29843: LD_VAR 0 12
29847: PPUSH
29848: CALL_OW 554
29852: AND
29853: IFFALSE 29893
// list := Insert ( list , list + 1 , [ _x , _y ] ) ;
29855: LD_ADDR_VAR 0 13
29859: PUSH
29860: LD_VAR 0 13
29864: PPUSH
29865: LD_VAR 0 13
29869: PUSH
29870: LD_INT 1
29872: PLUS
29873: PPUSH
29874: LD_VAR 0 11
29878: PUSH
29879: LD_VAR 0 12
29883: PUSH
29884: EMPTY
29885: LIST
29886: LIST
29887: PPUSH
29888: CALL_OW 2
29892: ST_TO_ADDR
// end ;
29893: GO 29801
29895: POP
29896: POP
29897: GO 29781
29899: POP
29900: POP
// if not list then
29901: LD_VAR 0 13
29905: NOT
29906: IFFALSE 29910
// exit ;
29908: GO 29981
// for i in list do
29910: LD_ADDR_VAR 0 6
29914: PUSH
29915: LD_VAR 0 13
29919: PUSH
29920: FOR_IN
29921: IFFALSE 29979
// AddTaskList ( bulldozer , [ [ M , i [ 1 ] , i [ 2 ] , 0 , 0 , 0 , 0 ] ] ) ;
29923: LD_VAR 0 1
29927: PPUSH
29928: LD_STRING M
29930: PUSH
29931: LD_VAR 0 6
29935: PUSH
29936: LD_INT 1
29938: ARRAY
29939: PUSH
29940: LD_VAR 0 6
29944: PUSH
29945: LD_INT 2
29947: ARRAY
29948: PUSH
29949: LD_INT 0
29951: PUSH
29952: LD_INT 0
29954: PUSH
29955: LD_INT 0
29957: PUSH
29958: LD_INT 0
29960: PUSH
29961: EMPTY
29962: LIST
29963: LIST
29964: LIST
29965: LIST
29966: LIST
29967: LIST
29968: LIST
29969: PUSH
29970: EMPTY
29971: LIST
29972: PPUSH
29973: CALL_OW 447
29977: GO 29920
29979: POP
29980: POP
// end ;
29981: LD_VAR 0 5
29985: RET
