// starting begin InitMap ;
   0: CALL 940 0 0
// InitTriggers ;
   4: CALL 1325 0 0
// Start_Game ;
   8: CALL 12453 0 0
// InitPlayer ;
  12: CALL 1562 0 0
// InitRussian ;
  16: CALL 2452 0 0
// end ; end_of_file
  20: END
// export function PrepareAnimals ( num1 , num2 , num3 , area ) ; var l , apeman , tiger , bird ; begin
  21: LD_INT 0
  23: PPUSH
  24: PPUSH
  25: PPUSH
  26: PPUSH
  27: PPUSH
// uc_nation = nation_nature ;
  28: LD_ADDR_OWVAR 21
  32: PUSH
  33: LD_INT 0
  35: ST_TO_ADDR
// uc_side = 0 ;
  36: LD_ADDR_OWVAR 20
  40: PUSH
  41: LD_INT 0
  43: ST_TO_ADDR
// l = 0 ;
  44: LD_ADDR_VAR 0 6
  48: PUSH
  49: LD_INT 0
  51: ST_TO_ADDR
// repeat begin uc_direction = Rand ( 0 , 5 ) ;
  52: LD_ADDR_OWVAR 24
  56: PUSH
  57: LD_INT 0
  59: PPUSH
  60: LD_INT 5
  62: PPUSH
  63: CALL_OW 12
  67: ST_TO_ADDR
// hc_agressivity = Rand ( - 5 , 5 ) ;
  68: LD_ADDR_OWVAR 35
  72: PUSH
  73: LD_INT 5
  75: NEG
  76: PPUSH
  77: LD_INT 5
  79: PPUSH
  80: CALL_OW 12
  84: ST_TO_ADDR
// hc_gallery =  ;
  85: LD_ADDR_OWVAR 33
  89: PUSH
  90: LD_STRING 
  92: ST_TO_ADDR
// hc_class = class_apeman ;
  93: LD_ADDR_OWVAR 28
  97: PUSH
  98: LD_INT 12
 100: ST_TO_ADDR
// hc_attr = [ Rand ( 11 , 13 ) , Rand ( 10 , 11 ) ] ;
 101: LD_ADDR_OWVAR 29
 105: PUSH
 106: LD_INT 11
 108: PPUSH
 109: LD_INT 13
 111: PPUSH
 112: CALL_OW 12
 116: PUSH
 117: LD_INT 10
 119: PPUSH
 120: LD_INT 11
 122: PPUSH
 123: CALL_OW 12
 127: PUSH
 128: EMPTY
 129: LIST
 130: LIST
 131: ST_TO_ADDR
// hc_sex = sex_male ;
 132: LD_ADDR_OWVAR 27
 136: PUSH
 137: LD_INT 1
 139: ST_TO_ADDR
// hc_skills = [ Rand ( 0 , 2 ) , 0 , 0 , 0 ] ;
 140: LD_ADDR_OWVAR 31
 144: PUSH
 145: LD_INT 0
 147: PPUSH
 148: LD_INT 2
 150: PPUSH
 151: CALL_OW 12
 155: PUSH
 156: LD_INT 0
 158: PUSH
 159: LD_INT 0
 161: PUSH
 162: LD_INT 0
 164: PUSH
 165: EMPTY
 166: LIST
 167: LIST
 168: LIST
 169: LIST
 170: ST_TO_ADDR
// apeman = CreateHuman ;
 171: LD_ADDR_VAR 0 7
 175: PUSH
 176: CALL_OW 44
 180: ST_TO_ADDR
// PlaceUnitArea ( apeman , area , false ) ;
 181: LD_VAR 0 7
 185: PPUSH
 186: LD_VAR 0 4
 190: PPUSH
 191: LD_INT 0
 193: PPUSH
 194: CALL_OW 49
// l = l + 1 ;
 198: LD_ADDR_VAR 0 6
 202: PUSH
 203: LD_VAR 0 6
 207: PUSH
 208: LD_INT 1
 210: PLUS
 211: ST_TO_ADDR
// end until l = num1 ;
 212: LD_VAR 0 6
 216: PUSH
 217: LD_VAR 0 1
 221: EQUAL
 222: IFFALSE 52
// l = 0 ;
 224: LD_ADDR_VAR 0 6
 228: PUSH
 229: LD_INT 0
 231: ST_TO_ADDR
// repeat begin hc_agressivity = Rand ( 0 , 25 ) ;
 232: LD_ADDR_OWVAR 35
 236: PUSH
 237: LD_INT 0
 239: PPUSH
 240: LD_INT 25
 242: PPUSH
 243: CALL_OW 12
 247: ST_TO_ADDR
// hc_class = class_tiger ;
 248: LD_ADDR_OWVAR 28
 252: PUSH
 253: LD_INT 14
 255: ST_TO_ADDR
// hc_sex = sex_male ;
 256: LD_ADDR_OWVAR 27
 260: PUSH
 261: LD_INT 1
 263: ST_TO_ADDR
// hc_gallery = sandnature ;
 264: LD_ADDR_OWVAR 33
 268: PUSH
 269: LD_STRING sandnature
 271: ST_TO_ADDR
// hc_face_number = 3 ;
 272: LD_ADDR_OWVAR 34
 276: PUSH
 277: LD_INT 3
 279: ST_TO_ADDR
// tiger = CreateHuman ;
 280: LD_ADDR_VAR 0 8
 284: PUSH
 285: CALL_OW 44
 289: ST_TO_ADDR
// PlaceUnitArea ( tiger , area , false ) ;
 290: LD_VAR 0 8
 294: PPUSH
 295: LD_VAR 0 4
 299: PPUSH
 300: LD_INT 0
 302: PPUSH
 303: CALL_OW 49
// l = l + 1 ;
 307: LD_ADDR_VAR 0 6
 311: PUSH
 312: LD_VAR 0 6
 316: PUSH
 317: LD_INT 1
 319: PLUS
 320: ST_TO_ADDR
// end until l = num2 ;
 321: LD_VAR 0 6
 325: PUSH
 326: LD_VAR 0 2
 330: EQUAL
 331: IFFALSE 232
// l = 0 ;
 333: LD_ADDR_VAR 0 6
 337: PUSH
 338: LD_INT 0
 340: ST_TO_ADDR
// repeat begin hc_class = class_phororhacos ;
 341: LD_ADDR_OWVAR 28
 345: PUSH
 346: LD_INT 18
 348: ST_TO_ADDR
// hc_gallery = sandnature ;
 349: LD_ADDR_OWVAR 33
 353: PUSH
 354: LD_STRING sandnature
 356: ST_TO_ADDR
// hc_face_number = 1 ;
 357: LD_ADDR_OWVAR 34
 361: PUSH
 362: LD_INT 1
 364: ST_TO_ADDR
// bird = CreateHuman ;
 365: LD_ADDR_VAR 0 9
 369: PUSH
 370: CALL_OW 44
 374: ST_TO_ADDR
// PlaceUnitAnywhere ( bird , false ) ;
 375: LD_VAR 0 9
 379: PPUSH
 380: LD_INT 0
 382: PPUSH
 383: CALL_OW 51
// l = l + 1 ;
 387: LD_ADDR_VAR 0 6
 391: PUSH
 392: LD_VAR 0 6
 396: PUSH
 397: LD_INT 1
 399: PLUS
 400: ST_TO_ADDR
// end until l = num3 ;
 401: LD_VAR 0 6
 405: PUSH
 406: LD_VAR 0 3
 410: EQUAL
 411: IFFALSE 341
// end ;
 413: LD_VAR 0 5
 417: RET
// export function CreateHumanWithClass ( clas , lvl ) ; var skill_com , skill_eng , skill_mech , skill_sci , bonus ; begin
 418: LD_INT 0
 420: PPUSH
 421: PPUSH
 422: PPUSH
 423: PPUSH
 424: PPUSH
 425: PPUSH
// hc_class := clas ;
 426: LD_ADDR_OWVAR 28
 430: PUSH
 431: LD_VAR 0 1
 435: ST_TO_ADDR
// skill_com := ( lvl + Rand ( - 1 , 1 ) ) ;
 436: LD_ADDR_VAR 0 4
 440: PUSH
 441: LD_VAR 0 2
 445: PUSH
 446: LD_INT 1
 448: NEG
 449: PPUSH
 450: LD_INT 1
 452: PPUSH
 453: CALL_OW 12
 457: PLUS
 458: ST_TO_ADDR
// skill_eng := ( lvl + Rand ( - 1 , 1 ) ) ;
 459: LD_ADDR_VAR 0 5
 463: PUSH
 464: LD_VAR 0 2
 468: PUSH
 469: LD_INT 1
 471: NEG
 472: PPUSH
 473: LD_INT 1
 475: PPUSH
 476: CALL_OW 12
 480: PLUS
 481: ST_TO_ADDR
// skill_mech := ( lvl + Rand ( - 1 , 1 ) ) ;
 482: LD_ADDR_VAR 0 6
 486: PUSH
 487: LD_VAR 0 2
 491: PUSH
 492: LD_INT 1
 494: NEG
 495: PPUSH
 496: LD_INT 1
 498: PPUSH
 499: CALL_OW 12
 503: PLUS
 504: ST_TO_ADDR
// skill_sci := ( lvl + Rand ( - 1 , 1 ) ) ;
 505: LD_ADDR_VAR 0 7
 509: PUSH
 510: LD_VAR 0 2
 514: PUSH
 515: LD_INT 1
 517: NEG
 518: PPUSH
 519: LD_INT 1
 521: PPUSH
 522: CALL_OW 12
 526: PLUS
 527: ST_TO_ADDR
// if clas = 1 or clas = 9 then
 528: LD_VAR 0 1
 532: PUSH
 533: LD_INT 1
 535: EQUAL
 536: PUSH
 537: LD_VAR 0 1
 541: PUSH
 542: LD_INT 9
 544: EQUAL
 545: OR
 546: IFFALSE 571
// bonus := [ 2 , 0 , 0 , 0 ] ;
 548: LD_ADDR_VAR 0 8
 552: PUSH
 553: LD_INT 2
 555: PUSH
 556: LD_INT 0
 558: PUSH
 559: LD_INT 0
 561: PUSH
 562: LD_INT 0
 564: PUSH
 565: EMPTY
 566: LIST
 567: LIST
 568: LIST
 569: LIST
 570: ST_TO_ADDR
// if clas = 2 then
 571: LD_VAR 0 1
 575: PUSH
 576: LD_INT 2
 578: EQUAL
 579: IFFALSE 604
// bonus := [ 0 , 2 , 0 , 0 ] ;
 581: LD_ADDR_VAR 0 8
 585: PUSH
 586: LD_INT 0
 588: PUSH
 589: LD_INT 2
 591: PUSH
 592: LD_INT 0
 594: PUSH
 595: LD_INT 0
 597: PUSH
 598: EMPTY
 599: LIST
 600: LIST
 601: LIST
 602: LIST
 603: ST_TO_ADDR
// if clas = 3 then
 604: LD_VAR 0 1
 608: PUSH
 609: LD_INT 3
 611: EQUAL
 612: IFFALSE 637
// bonus := [ 0 , 0 , 2 , 0 ] ;
 614: LD_ADDR_VAR 0 8
 618: PUSH
 619: LD_INT 0
 621: PUSH
 622: LD_INT 0
 624: PUSH
 625: LD_INT 2
 627: PUSH
 628: LD_INT 0
 630: PUSH
 631: EMPTY
 632: LIST
 633: LIST
 634: LIST
 635: LIST
 636: ST_TO_ADDR
// if clas = 4 then
 637: LD_VAR 0 1
 641: PUSH
 642: LD_INT 4
 644: EQUAL
 645: IFFALSE 670
// bonus := [ 0 , 0 , 0 , 2 ] ;
 647: LD_ADDR_VAR 0 8
 651: PUSH
 652: LD_INT 0
 654: PUSH
 655: LD_INT 0
 657: PUSH
 658: LD_INT 0
 660: PUSH
 661: LD_INT 2
 663: PUSH
 664: EMPTY
 665: LIST
 666: LIST
 667: LIST
 668: LIST
 669: ST_TO_ADDR
// if clas > 4 and not clas = 9 then
 670: LD_VAR 0 1
 674: PUSH
 675: LD_INT 4
 677: GREATER
 678: PUSH
 679: LD_VAR 0 1
 683: PUSH
 684: LD_INT 9
 686: EQUAL
 687: NOT
 688: AND
 689: IFFALSE 714
// bonus := [ 0 , 0 , 0 , 0 ] ;
 691: LD_ADDR_VAR 0 8
 695: PUSH
 696: LD_INT 0
 698: PUSH
 699: LD_INT 0
 701: PUSH
 702: LD_INT 0
 704: PUSH
 705: LD_INT 0
 707: PUSH
 708: EMPTY
 709: LIST
 710: LIST
 711: LIST
 712: LIST
 713: ST_TO_ADDR
// hc_skills := [ skill_com + bonus [ 1 ] , skill_eng + bonus [ 2 ] , skill_mech + bonus [ 3 ] , skill_sci + bonus [ 4 ] ] ;
 714: LD_ADDR_OWVAR 31
 718: PUSH
 719: LD_VAR 0 4
 723: PUSH
 724: LD_VAR 0 8
 728: PUSH
 729: LD_INT 1
 731: ARRAY
 732: PLUS
 733: PUSH
 734: LD_VAR 0 5
 738: PUSH
 739: LD_VAR 0 8
 743: PUSH
 744: LD_INT 2
 746: ARRAY
 747: PLUS
 748: PUSH
 749: LD_VAR 0 6
 753: PUSH
 754: LD_VAR 0 8
 758: PUSH
 759: LD_INT 3
 761: ARRAY
 762: PLUS
 763: PUSH
 764: LD_VAR 0 7
 768: PUSH
 769: LD_VAR 0 8
 773: PUSH
 774: LD_INT 4
 776: ARRAY
 777: PLUS
 778: PUSH
 779: EMPTY
 780: LIST
 781: LIST
 782: LIST
 783: LIST
 784: ST_TO_ADDR
// hc_sex := Rand ( sex_male , sex_female ) ;
 785: LD_ADDR_OWVAR 27
 789: PUSH
 790: LD_INT 1
 792: PPUSH
 793: LD_INT 2
 795: PPUSH
 796: CALL_OW 12
 800: ST_TO_ADDR
// hc_gallery :=  ;
 801: LD_ADDR_OWVAR 33
 805: PUSH
 806: LD_STRING 
 808: ST_TO_ADDR
// hc_attr := [ Rand ( 8 , 12 ) , Rand ( 9 , 11 ) ] ;
 809: LD_ADDR_OWVAR 29
 813: PUSH
 814: LD_INT 8
 816: PPUSH
 817: LD_INT 12
 819: PPUSH
 820: CALL_OW 12
 824: PUSH
 825: LD_INT 9
 827: PPUSH
 828: LD_INT 11
 830: PPUSH
 831: CALL_OW 12
 835: PUSH
 836: EMPTY
 837: LIST
 838: LIST
 839: ST_TO_ADDR
// hc_name :=  ;
 840: LD_ADDR_OWVAR 26
 844: PUSH
 845: LD_STRING 
 847: ST_TO_ADDR
// result := CreateHuman ;
 848: LD_ADDR_VAR 0 3
 852: PUSH
 853: CALL_OW 44
 857: ST_TO_ADDR
// end ;
 858: LD_VAR 0 3
 862: RET
// export function SeeSide ( unit , side ) ; var i ; begin
 863: LD_INT 0
 865: PPUSH
 866: PPUSH
// result := false ;
 867: LD_ADDR_VAR 0 3
 871: PUSH
 872: LD_INT 0
 874: ST_TO_ADDR
// i := NearestUnitToUnit ( FilterAllUnits ( [ f_side , side ] ) , unit ) ;
 875: LD_ADDR_VAR 0 4
 879: PUSH
 880: LD_INT 22
 882: PUSH
 883: LD_VAR 0 2
 887: PUSH
 888: EMPTY
 889: LIST
 890: LIST
 891: PPUSH
 892: CALL_OW 69
 896: PPUSH
 897: LD_VAR 0 1
 901: PPUSH
 902: CALL_OW 74
 906: ST_TO_ADDR
// if GetDistUnits ( unit , i ) < 9 then
 907: LD_VAR 0 1
 911: PPUSH
 912: LD_VAR 0 4
 916: PPUSH
 917: CALL_OW 296
 921: PUSH
 922: LD_INT 9
 924: LESS
 925: IFFALSE 935
// result := true ;
 927: LD_ADDR_VAR 0 3
 931: PUSH
 932: LD_INT 1
 934: ST_TO_ADDR
// end ; end_of_file
 935: LD_VAR 0 3
 939: RET
// export function InitMap ; begin
 940: LD_INT 0
 942: PPUSH
// ResetFog ;
 943: CALL_OW 335
// PrepareAnimals ( 2 , 3 , 3 , nature_area ) ;
 947: LD_INT 2
 949: PPUSH
 950: LD_INT 3
 952: PPUSH
 953: LD_INT 3
 955: PPUSH
 956: LD_INT 1
 958: PPUSH
 959: CALL 21 0 4
// end ;
 963: LD_VAR 0 1
 967: RET
// export function SpawnCrates ; var i ; begin
 968: LD_INT 0
 970: PPUSH
 971: PPUSH
// while ( crates_allow ) do
 972: LD_EXP 12
 976: IFFALSE 1129
// begin Wait ( crates_time + Rand ( - 0 0$10 , 0 0$20 ) ) ;
 978: LD_EXP 10
 982: PUSH
 983: LD_INT 350
 985: NEG
 986: PPUSH
 987: LD_INT 700
 989: PPUSH
 990: CALL_OW 12
 994: PLUS
 995: PPUSH
 996: CALL_OW 67
// for i = 1 to crates_num do
1000: LD_ADDR_VAR 0 2
1004: PUSH
1005: DOUBLE
1006: LD_INT 1
1008: DEC
1009: ST_TO_ADDR
1010: LD_EXP 11
1014: PUSH
1015: FOR_TO
1016: IFFALSE 1125
// begin CreateCratesArea ( Rand ( 1 , 5 ) , crates_main_area , true ) ;
1018: LD_INT 1
1020: PPUSH
1021: LD_INT 5
1023: PPUSH
1024: CALL_OW 12
1028: PPUSH
1029: LD_INT 2
1031: PPUSH
1032: LD_INT 1
1034: PPUSH
1035: CALL_OW 55
// Wait ( Rand ( 0 0$03 , 0 0$12 ) ) ;
1039: LD_INT 105
1041: PPUSH
1042: LD_INT 420
1044: PPUSH
1045: CALL_OW 12
1049: PPUSH
1050: CALL_OW 67
// CreateCratesArea ( Rand ( 1 , 5 ) , crates_main_area , true ) ;
1054: LD_INT 1
1056: PPUSH
1057: LD_INT 5
1059: PPUSH
1060: CALL_OW 12
1064: PPUSH
1065: LD_INT 2
1067: PPUSH
1068: LD_INT 1
1070: PPUSH
1071: CALL_OW 55
// Wait ( Rand ( 0 0$04 , 0 0$15 ) ) ;
1075: LD_INT 140
1077: PPUSH
1078: LD_INT 525
1080: PPUSH
1081: CALL_OW 12
1085: PPUSH
1086: CALL_OW 67
// CreateCratesAnyWhere ( Rand ( 1 , 5 ) , true ) ;
1090: LD_INT 1
1092: PPUSH
1093: LD_INT 5
1095: PPUSH
1096: CALL_OW 12
1100: PPUSH
1101: LD_INT 1
1103: PPUSH
1104: CALL_OW 57
// Wait ( Rand ( 0 0$05 , 0 0$10 ) ) ;
1108: LD_INT 175
1110: PPUSH
1111: LD_INT 350
1113: PPUSH
1114: CALL_OW 12
1118: PPUSH
1119: CALL_OW 67
// end ;
1123: GO 1015
1125: POP
1126: POP
// end ;
1127: GO 972
// end ;
1129: LD_VAR 0 1
1133: RET
// every 1 1$25 trigger game_started do
1134: LD_EXP 9
1138: IFFALSE 1192
1140: GO 1142
1142: DISABLE
// begin enable ;
1143: ENABLE
// if timer <= [ 23 23$00 , 21 21$00 , 19 19$00 ] [ global_diff ] then
1144: LD_EXP 1
1148: PUSH
1149: LD_INT 48300
1151: PUSH
1152: LD_INT 44100
1154: PUSH
1155: LD_INT 39900
1157: PUSH
1158: EMPTY
1159: LIST
1160: LIST
1161: LIST
1162: PUSH
1163: LD_EXP 2
1167: ARRAY
1168: LESSEQUAL
1169: IFFALSE 1192
// CreateCratesArea ( Rand ( 2 , 5 ) , us_crates , true ) ;
1171: LD_INT 2
1173: PPUSH
1174: LD_INT 5
1176: PPUSH
1177: CALL_OW 12
1181: PPUSH
1182: LD_INT 12
1184: PPUSH
1185: LD_INT 1
1187: PPUSH
1188: CALL_OW 55
// end ;
1192: END
// every 0 0$01 trigger game_started do
1193: LD_EXP 9
1197: IFFALSE 1206
1199: GO 1201
1201: DISABLE
// SpawnCrates ;
1202: CALL 968 0 0
1206: END
// export timer ; every 1 do
1207: GO 1209
1209: DISABLE
// timer := 0 0$00 ;
1210: LD_ADDR_EXP 1
1214: PUSH
1215: LD_INT 0
1217: ST_TO_ADDR
1218: END
// every 0 0$01 trigger game_started do
1219: LD_EXP 9
1223: IFFALSE 1260
1225: GO 1227
1227: DISABLE
// begin enable ;
1228: ENABLE
// timer := timer + 0 0$01 ;
1229: LD_ADDR_EXP 1
1233: PUSH
1234: LD_EXP 1
1238: PUSH
1239: LD_INT 35
1241: PLUS
1242: ST_TO_ADDR
// Display_Strings := [ #tick , timer ] ;
1243: LD_ADDR_OWVAR 47
1247: PUSH
1248: LD_STRING #tick
1250: PUSH
1251: LD_EXP 1
1255: PUSH
1256: EMPTY
1257: LIST
1258: LIST
1259: ST_TO_ADDR
// end ;
1260: END
// every 0 0$01 trigger timer <= 13 13$00 do
1261: LD_EXP 1
1265: PUSH
1266: LD_INT 27300
1268: LESSEQUAL
1269: IFFALSE 1282
1271: GO 1273
1273: DISABLE
// music_nat := 1 ;
1274: LD_ADDR_OWVAR 71
1278: PUSH
1279: LD_INT 1
1281: ST_TO_ADDR
1282: END
// every 5 5$00 trigger timer > 13 13$00 do
1283: LD_EXP 1
1287: PUSH
1288: LD_INT 27300
1290: GREATER
1291: IFFALSE 1324
1293: GO 1295
1295: DISABLE
// begin enable ;
1296: ENABLE
// music_nat := [ 1 , 3 ] [ Rand ( 1 , 2 ) ] ;
1297: LD_ADDR_OWVAR 71
1301: PUSH
1302: LD_INT 1
1304: PUSH
1305: LD_INT 3
1307: PUSH
1308: EMPTY
1309: LIST
1310: LIST
1311: PUSH
1312: LD_INT 1
1314: PPUSH
1315: LD_INT 2
1317: PPUSH
1318: CALL_OW 12
1322: ARRAY
1323: ST_TO_ADDR
// end ; end_of_file
1324: END
// export global_diff , ru_force , ru_def , am_def , am_force , ar_def , ar_force ; export game_started ; export crates_time , crates_num , crates_allow ; export sikorski , kurin , heike , ron , jack ; export sikorski_come , russian_produce , beria_action , sikorski_veh ; export function InitTriggers ; begin
1325: LD_INT 0
1327: PPUSH
// game_started := false ;
1328: LD_ADDR_EXP 9
1332: PUSH
1333: LD_INT 0
1335: ST_TO_ADDR
// global_diff := [ 1 , 2 , 3 ] ;
1336: LD_ADDR_EXP 2
1340: PUSH
1341: LD_INT 1
1343: PUSH
1344: LD_INT 2
1346: PUSH
1347: LD_INT 3
1349: PUSH
1350: EMPTY
1351: LIST
1352: LIST
1353: LIST
1354: ST_TO_ADDR
// crates_time := [ 0 0$55 , 1 1$15 , 1 1$35 ] [ global_diff ] ;
1355: LD_ADDR_EXP 10
1359: PUSH
1360: LD_INT 1925
1362: PUSH
1363: LD_INT 2625
1365: PUSH
1366: LD_INT 3325
1368: PUSH
1369: EMPTY
1370: LIST
1371: LIST
1372: LIST
1373: PUSH
1374: LD_EXP 2
1378: ARRAY
1379: ST_TO_ADDR
// crates_num := [ 3 , 2 , 1 ] [ global_diff ] ;
1380: LD_ADDR_EXP 11
1384: PUSH
1385: LD_INT 3
1387: PUSH
1388: LD_INT 2
1390: PUSH
1391: LD_INT 1
1393: PUSH
1394: EMPTY
1395: LIST
1396: LIST
1397: LIST
1398: PUSH
1399: LD_EXP 2
1403: ARRAY
1404: ST_TO_ADDR
// crates_allow := false ;
1405: LD_ADDR_EXP 12
1409: PUSH
1410: LD_INT 0
1412: ST_TO_ADDR
// am_def := [ 4 , 3 , 2 ] [ global_diff ] ;
1413: LD_ADDR_EXP 5
1417: PUSH
1418: LD_INT 4
1420: PUSH
1421: LD_INT 3
1423: PUSH
1424: LD_INT 2
1426: PUSH
1427: EMPTY
1428: LIST
1429: LIST
1430: LIST
1431: PUSH
1432: LD_EXP 2
1436: ARRAY
1437: ST_TO_ADDR
// ru_def := [ 2 , 3 , 4 ] [ global_diff ] ;
1438: LD_ADDR_EXP 4
1442: PUSH
1443: LD_INT 2
1445: PUSH
1446: LD_INT 3
1448: PUSH
1449: LD_INT 4
1451: PUSH
1452: EMPTY
1453: LIST
1454: LIST
1455: LIST
1456: PUSH
1457: LD_EXP 2
1461: ARRAY
1462: ST_TO_ADDR
// ru_force := [ 12 , 14 , 16 ] [ global_diff ] ;
1463: LD_ADDR_EXP 3
1467: PUSH
1468: LD_INT 12
1470: PUSH
1471: LD_INT 14
1473: PUSH
1474: LD_INT 16
1476: PUSH
1477: EMPTY
1478: LIST
1479: LIST
1480: LIST
1481: PUSH
1482: LD_EXP 2
1486: ARRAY
1487: ST_TO_ADDR
// ar_def := [ 3 , 4 , 5 ] [ global_diff ] ;
1488: LD_ADDR_EXP 7
1492: PUSH
1493: LD_INT 3
1495: PUSH
1496: LD_INT 4
1498: PUSH
1499: LD_INT 5
1501: PUSH
1502: EMPTY
1503: LIST
1504: LIST
1505: LIST
1506: PUSH
1507: LD_EXP 2
1511: ARRAY
1512: ST_TO_ADDR
// ar_force := [ 4 , 5 , 6 ] [ global_diff ] ;
1513: LD_ADDR_EXP 8
1517: PUSH
1518: LD_INT 4
1520: PUSH
1521: LD_INT 5
1523: PUSH
1524: LD_INT 6
1526: PUSH
1527: EMPTY
1528: LIST
1529: LIST
1530: LIST
1531: PUSH
1532: LD_EXP 2
1536: ARRAY
1537: ST_TO_ADDR
// sikorski_come := false ;
1538: LD_ADDR_EXP 18
1542: PUSH
1543: LD_INT 0
1545: ST_TO_ADDR
// russian_produce := false ;
1546: LD_ADDR_EXP 19
1550: PUSH
1551: LD_INT 0
1553: ST_TO_ADDR
// disable ( 99 ) ;
1554: LD_INT 99
1556: DISABLE_MARKED
// end ; end_of_file
1557: LD_VAR 0 1
1561: RET
// export function InitPlayer ; var i , p , un , am , am2 , filter ; begin
1562: LD_INT 0
1564: PPUSH
1565: PPUSH
1566: PPUSH
1567: PPUSH
1568: PPUSH
1569: PPUSH
1570: PPUSH
// uc_nation := nation_american ;
1571: LD_ADDR_OWVAR 21
1575: PUSH
1576: LD_INT 1
1578: ST_TO_ADDR
// am := 1 ;
1579: LD_ADDR_VAR 0 5
1583: PUSH
1584: LD_INT 1
1586: ST_TO_ADDR
// am2 := 4 ;
1587: LD_ADDR_VAR 0 6
1591: PUSH
1592: LD_INT 4
1594: ST_TO_ADDR
// filter := [ ] ;
1595: LD_ADDR_VAR 0 7
1599: PUSH
1600: EMPTY
1601: ST_TO_ADDR
// SetSide ( omikron , am2 ) ;
1602: LD_INT 64
1604: PPUSH
1605: LD_VAR 0 6
1609: PPUSH
1610: CALL_OW 235
// SetBName ( omikron , omikron ) ;
1614: LD_INT 64
1616: PPUSH
1617: LD_STRING omikron
1619: PPUSH
1620: CALL_OW 500
// ResetFog ;
1624: CALL_OW 335
// uc_side := am2 ;
1628: LD_ADDR_OWVAR 20
1632: PUSH
1633: LD_VAR 0 6
1637: ST_TO_ADDR
// for i = 1 to 4 do
1638: LD_ADDR_VAR 0 2
1642: PUSH
1643: DOUBLE
1644: LD_INT 1
1646: DEC
1647: ST_TO_ADDR
1648: LD_INT 4
1650: PUSH
1651: FOR_TO
1652: IFFALSE 1774
// for p = 1 to 2 do
1654: LD_ADDR_VAR 0 3
1658: PUSH
1659: DOUBLE
1660: LD_INT 1
1662: DEC
1663: ST_TO_ADDR
1664: LD_INT 2
1666: PUSH
1667: FOR_TO
1668: IFFALSE 1770
// begin un := CreateHumanWithClass ( i , am_def ) ;
1670: LD_ADDR_VAR 0 4
1674: PUSH
1675: LD_VAR 0 2
1679: PPUSH
1680: LD_EXP 5
1684: PPUSH
1685: CALL 418 0 2
1689: ST_TO_ADDR
// PlaceUnitArea ( un , am_area , false ) ;
1690: LD_VAR 0 4
1694: PPUSH
1695: LD_INT 3
1697: PPUSH
1698: LD_INT 0
1700: PPUSH
1701: CALL_OW 49
// if GetClass ( un ) = 1 then
1705: LD_VAR 0 4
1709: PPUSH
1710: CALL_OW 257
1714: PUSH
1715: LD_INT 1
1717: EQUAL
1718: IFFALSE 1768
// ComEnterUnit ( un , ( FilterAllUnits ( [ [ f_side , 4 ] , [ f_btype , b_breastwork ] ] ) diff us_spec_b ) [ p ] ) ;
1720: LD_VAR 0 4
1724: PPUSH
1725: LD_INT 22
1727: PUSH
1728: LD_INT 4
1730: PUSH
1731: EMPTY
1732: LIST
1733: LIST
1734: PUSH
1735: LD_INT 30
1737: PUSH
1738: LD_INT 31
1740: PUSH
1741: EMPTY
1742: LIST
1743: LIST
1744: PUSH
1745: EMPTY
1746: LIST
1747: LIST
1748: PPUSH
1749: CALL_OW 69
1753: PUSH
1754: LD_INT 140
1756: DIFF
1757: PUSH
1758: LD_VAR 0 3
1762: ARRAY
1763: PPUSH
1764: CALL_OW 120
// end ;
1768: GO 1667
1770: POP
1771: POP
1772: GO 1651
1774: POP
1775: POP
// if IsPlaced ( us_spec_b ) then
1776: LD_INT 140
1778: PPUSH
1779: CALL_OW 305
1783: IFFALSE 1847
// begin un := FilterAllUnits ( [ [ f_side , 4 ] , [ f_class , 3 ] ] ) [ 1 ] ;
1785: LD_ADDR_VAR 0 4
1789: PUSH
1790: LD_INT 22
1792: PUSH
1793: LD_INT 4
1795: PUSH
1796: EMPTY
1797: LIST
1798: LIST
1799: PUSH
1800: LD_INT 25
1802: PUSH
1803: LD_INT 3
1805: PUSH
1806: EMPTY
1807: LIST
1808: LIST
1809: PUSH
1810: EMPTY
1811: LIST
1812: LIST
1813: PPUSH
1814: CALL_OW 69
1818: PUSH
1819: LD_INT 1
1821: ARRAY
1822: ST_TO_ADDR
// SetClass ( un , 1 ) ;
1823: LD_VAR 0 4
1827: PPUSH
1828: LD_INT 1
1830: PPUSH
1831: CALL_OW 336
// ComEnterUnit ( un , us_spec_b ) ;
1835: LD_VAR 0 4
1839: PPUSH
1840: LD_INT 140
1842: PPUSH
1843: CALL_OW 120
// end ; vc_chassis := us_medium_wheeled ;
1847: LD_ADDR_OWVAR 37
1851: PUSH
1852: LD_INT 2
1854: ST_TO_ADDR
// vc_engine := engine_solar ;
1855: LD_ADDR_OWVAR 39
1859: PUSH
1860: LD_INT 2
1862: ST_TO_ADDR
// vc_control := control_manual ;
1863: LD_ADDR_OWVAR 38
1867: PUSH
1868: LD_INT 1
1870: ST_TO_ADDR
// vc_weapon := [ us_double_gun , us_double_gun , us_gatling_gun ] [ global_diff ] ;
1871: LD_ADDR_OWVAR 40
1875: PUSH
1876: LD_INT 5
1878: PUSH
1879: LD_INT 5
1881: PUSH
1882: LD_INT 4
1884: PUSH
1885: EMPTY
1886: LIST
1887: LIST
1888: LIST
1889: PUSH
1890: LD_EXP 2
1894: ARRAY
1895: ST_TO_ADDR
// un := CreateVehicle ;
1896: LD_ADDR_VAR 0 4
1900: PUSH
1901: CALL_OW 45
1905: ST_TO_ADDR
// SetDir ( un , 4 ) ;
1906: LD_VAR 0 4
1910: PPUSH
1911: LD_INT 4
1913: PPUSH
1914: CALL_OW 233
// PlaceUnitXY ( un , 12 , 17 , false ) ;
1918: LD_VAR 0 4
1922: PPUSH
1923: LD_INT 12
1925: PPUSH
1926: LD_INT 17
1928: PPUSH
1929: LD_INT 0
1931: PPUSH
1932: CALL_OW 48
// vc_chassis := us_light_wheeled ;
1936: LD_ADDR_OWVAR 37
1940: PUSH
1941: LD_INT 1
1943: ST_TO_ADDR
// vc_engine := engine_combustion ;
1944: LD_ADDR_OWVAR 39
1948: PUSH
1949: LD_INT 1
1951: ST_TO_ADDR
// vc_control := control_manual ;
1952: LD_ADDR_OWVAR 38
1956: PUSH
1957: LD_INT 1
1959: ST_TO_ADDR
// vc_weapon := us_light_gun ;
1960: LD_ADDR_OWVAR 40
1964: PUSH
1965: LD_INT 3
1967: ST_TO_ADDR
// un := CreateVehicle ;
1968: LD_ADDR_VAR 0 4
1972: PUSH
1973: CALL_OW 45
1977: ST_TO_ADDR
// SetDir ( un , 4 ) ;
1978: LD_VAR 0 4
1982: PPUSH
1983: LD_INT 4
1985: PPUSH
1986: CALL_OW 233
// PlaceUnitXY ( un , 19 , 19 , false ) ;
1990: LD_VAR 0 4
1994: PPUSH
1995: LD_INT 19
1997: PPUSH
1998: LD_INT 19
2000: PPUSH
2001: LD_INT 0
2003: PPUSH
2004: CALL_OW 48
// uc_side := am ;
2008: LD_ADDR_OWVAR 20
2012: PUSH
2013: LD_VAR 0 5
2017: ST_TO_ADDR
// hc_importance := 100 ;
2018: LD_ADDR_OWVAR 32
2022: PUSH
2023: LD_INT 100
2025: ST_TO_ADDR
// hc_name := Jeremy Sikorski ;
2026: LD_ADDR_OWVAR 26
2030: PUSH
2031: LD_STRING Jeremy Sikorski
2033: ST_TO_ADDR
// hc_gallery := us ;
2034: LD_ADDR_OWVAR 33
2038: PUSH
2039: LD_STRING us
2041: ST_TO_ADDR
// hc_face_number := 19 ;
2042: LD_ADDR_OWVAR 34
2046: PUSH
2047: LD_INT 19
2049: ST_TO_ADDR
// hc_skills := [ Rand ( am_def + 2 , am_def + 4 ) , Rand ( am_def - 1 , am_def + 1 ) , Rand ( am_def - 1 , am_def + 1 ) , Rand ( am_def - 1 , am_def + 1 ) ] ;
2050: LD_ADDR_OWVAR 31
2054: PUSH
2055: LD_EXP 5
2059: PUSH
2060: LD_INT 2
2062: PLUS
2063: PPUSH
2064: LD_EXP 5
2068: PUSH
2069: LD_INT 4
2071: PLUS
2072: PPUSH
2073: CALL_OW 12
2077: PUSH
2078: LD_EXP 5
2082: PUSH
2083: LD_INT 1
2085: MINUS
2086: PPUSH
2087: LD_EXP 5
2091: PUSH
2092: LD_INT 1
2094: PLUS
2095: PPUSH
2096: CALL_OW 12
2100: PUSH
2101: LD_EXP 5
2105: PUSH
2106: LD_INT 1
2108: MINUS
2109: PPUSH
2110: LD_EXP 5
2114: PUSH
2115: LD_INT 1
2117: PLUS
2118: PPUSH
2119: CALL_OW 12
2123: PUSH
2124: LD_EXP 5
2128: PUSH
2129: LD_INT 1
2131: MINUS
2132: PPUSH
2133: LD_EXP 5
2137: PUSH
2138: LD_INT 1
2140: PLUS
2141: PPUSH
2142: CALL_OW 12
2146: PUSH
2147: EMPTY
2148: LIST
2149: LIST
2150: LIST
2151: LIST
2152: ST_TO_ADDR
// hc_sex := sex_male ;
2153: LD_ADDR_OWVAR 27
2157: PUSH
2158: LD_INT 1
2160: ST_TO_ADDR
// hc_class := 1 ;
2161: LD_ADDR_OWVAR 28
2165: PUSH
2166: LD_INT 1
2168: ST_TO_ADDR
// hc_attr := [ 10 , 12 ] ;
2169: LD_ADDR_OWVAR 29
2173: PUSH
2174: LD_INT 10
2176: PUSH
2177: LD_INT 12
2179: PUSH
2180: EMPTY
2181: LIST
2182: LIST
2183: ST_TO_ADDR
// sikorski := CreateHuman ;
2184: LD_ADDR_EXP 13
2188: PUSH
2189: CALL_OW 44
2193: ST_TO_ADDR
// if global_diff > 1 then
2194: LD_EXP 2
2198: PUSH
2199: LD_INT 1
2201: GREATER
2202: IFFALSE 2221
// PlaceUnitArea ( sikorski , sikorski_area , false ) else
2204: LD_EXP 13
2208: PPUSH
2209: LD_INT 8
2211: PPUSH
2212: LD_INT 0
2214: PPUSH
2215: CALL_OW 49
2219: GO 2312
// begin vc_chassis := us_light_wheeled ;
2221: LD_ADDR_OWVAR 37
2225: PUSH
2226: LD_INT 1
2228: ST_TO_ADDR
// vc_engine := engine_combustion ;
2229: LD_ADDR_OWVAR 39
2233: PUSH
2234: LD_INT 1
2236: ST_TO_ADDR
// vc_control := control_manual ;
2237: LD_ADDR_OWVAR 38
2241: PUSH
2242: LD_INT 1
2244: ST_TO_ADDR
// vc_weapon := us_machine_gun ;
2245: LD_ADDR_OWVAR 40
2249: PUSH
2250: LD_INT 2
2252: ST_TO_ADDR
// vc_fuel_battery := 21 ;
2253: LD_ADDR_OWVAR 41
2257: PUSH
2258: LD_INT 21
2260: ST_TO_ADDR
// sikorski_veh := CreateVehicle ;
2261: LD_ADDR_EXP 21
2265: PUSH
2266: CALL_OW 45
2270: ST_TO_ADDR
// SetDir ( sikorski_veh , 0 ) ;
2271: LD_EXP 21
2275: PPUSH
2276: LD_INT 0
2278: PPUSH
2279: CALL_OW 233
// PlaceUnitArea ( sikorski_veh , sikorski_area , false ) ;
2283: LD_EXP 21
2287: PPUSH
2288: LD_INT 8
2290: PPUSH
2291: LD_INT 0
2293: PPUSH
2294: CALL_OW 49
// PlaceHumanInUnit ( sikorski , sikorski_veh ) ;
2298: LD_EXP 13
2302: PPUSH
2303: LD_EXP 21
2307: PPUSH
2308: CALL_OW 52
// end ; hc_importance := 0 ;
2312: LD_ADDR_OWVAR 32
2316: PUSH
2317: LD_INT 0
2319: ST_TO_ADDR
// hc_name := Ronn Harisson ;
2320: LD_ADDR_OWVAR 26
2324: PUSH
2325: LD_STRING Ronn Harisson
2327: ST_TO_ADDR
// hc_gallery := us ;
2328: LD_ADDR_OWVAR 33
2332: PUSH
2333: LD_STRING us
2335: ST_TO_ADDR
// hc_face_number := 6 ;
2336: LD_ADDR_OWVAR 34
2340: PUSH
2341: LD_INT 6
2343: ST_TO_ADDR
// ron := CreateHuman ;
2344: LD_ADDR_EXP 16
2348: PUSH
2349: CALL_OW 44
2353: ST_TO_ADDR
// hc_name := Jack Dickens ;
2354: LD_ADDR_OWVAR 26
2358: PUSH
2359: LD_STRING Jack Dickens
2361: ST_TO_ADDR
// hc_gallery :=  ;
2362: LD_ADDR_OWVAR 33
2366: PUSH
2367: LD_STRING 
2369: ST_TO_ADDR
// jack := CreateHuman ;
2370: LD_ADDR_EXP 17
2374: PUSH
2375: CALL_OW 44
2379: ST_TO_ADDR
// end ;
2380: LD_VAR 0 1
2384: RET
// every 0 0$01 trigger GetDistUnits ( sikorski , omikron ) <= 45 do
2385: LD_EXP 13
2389: PPUSH
2390: LD_INT 64
2392: PPUSH
2393: CALL_OW 296
2397: PUSH
2398: LD_INT 45
2400: LESSEQUAL
2401: IFFALSE 2451
2403: GO 2405
2405: DISABLE
// ComBuild ( FilterAllUnits ( [ [ f_side , 4 ] , [ f_class , 2 ] ] ) , b_workshop , 16 , 5 , 3 ) ; end_of_file
2406: LD_INT 22
2408: PUSH
2409: LD_INT 4
2411: PUSH
2412: EMPTY
2413: LIST
2414: LIST
2415: PUSH
2416: LD_INT 25
2418: PUSH
2419: LD_INT 2
2421: PUSH
2422: EMPTY
2423: LIST
2424: LIST
2425: PUSH
2426: EMPTY
2427: LIST
2428: LIST
2429: PPUSH
2430: CALL_OW 69
2434: PPUSH
2435: LD_INT 2
2437: PPUSH
2438: LD_INT 16
2440: PPUSH
2441: LD_INT 5
2443: PPUSH
2444: LD_INT 3
2446: PPUSH
2447: CALL_OW 145
2451: END
// export ru_sold , ru_stw , ru_tw , ru_tech , ru_veh , ru_eng , ru_mech , ru_sci , ru_bul , ru_b ; export ru2_sold , ru2_stw , ru2_tw , ru2_tech , ru2_veh , ru2_eng , ru2_mech , ru2_sci , ru2_bul , ru2_b ; export ru_radar ; export function InitRussian ; var ru , ru2 , i , un , filter ; begin
2452: LD_INT 0
2454: PPUSH
2455: PPUSH
2456: PPUSH
2457: PPUSH
2458: PPUSH
2459: PPUSH
// ru := 6 ;
2460: LD_ADDR_VAR 0 2
2464: PUSH
2465: LD_INT 6
2467: ST_TO_ADDR
// ru2 := 3 ;
2468: LD_ADDR_VAR 0 3
2472: PUSH
2473: LD_INT 3
2475: ST_TO_ADDR
// uc_nation := nation_russian ;
2476: LD_ADDR_OWVAR 21
2480: PUSH
2481: LD_INT 3
2483: ST_TO_ADDR
// ru_radar := 98 ;
2484: LD_ADDR_EXP 42
2488: PUSH
2489: LD_INT 98
2491: ST_TO_ADDR
// uc_side := ru ;
2492: LD_ADDR_OWVAR 20
2496: PUSH
2497: LD_VAR 0 2
2501: ST_TO_ADDR
// ru_sold := [ ] ;
2502: LD_ADDR_EXP 22
2506: PUSH
2507: EMPTY
2508: ST_TO_ADDR
// ru_stw := [ ] ;
2509: LD_ADDR_EXP 23
2513: PUSH
2514: EMPTY
2515: ST_TO_ADDR
// ru_tw := [ ] ;
2516: LD_ADDR_EXP 24
2520: PUSH
2521: EMPTY
2522: ST_TO_ADDR
// ru_b := [ ] ;
2523: LD_ADDR_EXP 31
2527: PUSH
2528: EMPTY
2529: ST_TO_ADDR
// ru_eng := [ ] ;
2530: LD_ADDR_EXP 27
2534: PUSH
2535: EMPTY
2536: ST_TO_ADDR
// ru_mech := [ ] ;
2537: LD_ADDR_EXP 28
2541: PUSH
2542: EMPTY
2543: ST_TO_ADDR
// ru_sci := [ ] ;
2544: LD_ADDR_EXP 29
2548: PUSH
2549: EMPTY
2550: ST_TO_ADDR
// ru_bul := [ b_bunker , 162 , 101 , 0 ] ;
2551: LD_ADDR_EXP 30
2555: PUSH
2556: LD_INT 32
2558: PUSH
2559: LD_INT 162
2561: PUSH
2562: LD_INT 101
2564: PUSH
2565: LD_INT 0
2567: PUSH
2568: EMPTY
2569: LIST
2570: LIST
2571: LIST
2572: LIST
2573: ST_TO_ADDR
// ru_tech := [ tech_tech1 , tech_tech2 , tech_tech3 , tech_oilpow , tech_oileng , tech_weap1 , tech_weap2 , tech_gatling , tech_advmet , tech_weap3 ] ;
2574: LD_ADDR_EXP 25
2578: PUSH
2579: LD_INT 48
2581: PUSH
2582: LD_INT 49
2584: PUSH
2585: LD_INT 50
2587: PUSH
2588: LD_INT 46
2590: PUSH
2591: LD_INT 47
2593: PUSH
2594: LD_INT 51
2596: PUSH
2597: LD_INT 52
2599: PUSH
2600: LD_INT 69
2602: PUSH
2603: LD_INT 34
2605: PUSH
2606: LD_INT 53
2608: PUSH
2609: EMPTY
2610: LIST
2611: LIST
2612: LIST
2613: LIST
2614: LIST
2615: LIST
2616: LIST
2617: LIST
2618: LIST
2619: LIST
2620: ST_TO_ADDR
// ru_veh := [ ru_medium_wheeled , engine_combustion , control_manual , ru_cargo_bay , ru_medium_tracked , engine_combustion , control_manual , ru_crane , ru_medium_tracked , engine_combustion , control_manual , ru_crane ] ;
2621: LD_ADDR_EXP 26
2625: PUSH
2626: LD_INT 21
2628: PUSH
2629: LD_INT 1
2631: PUSH
2632: LD_INT 1
2634: PUSH
2635: LD_INT 51
2637: PUSH
2638: LD_INT 22
2640: PUSH
2641: LD_INT 1
2643: PUSH
2644: LD_INT 1
2646: PUSH
2647: LD_INT 52
2649: PUSH
2650: LD_INT 22
2652: PUSH
2653: LD_INT 1
2655: PUSH
2656: LD_INT 1
2658: PUSH
2659: LD_INT 52
2661: PUSH
2662: EMPTY
2663: LIST
2664: LIST
2665: LIST
2666: LIST
2667: LIST
2668: LIST
2669: LIST
2670: LIST
2671: LIST
2672: LIST
2673: LIST
2674: LIST
2675: ST_TO_ADDR
// SetBName ( kirov , kirov ) ;
2676: LD_INT 71
2678: PPUSH
2679: LD_STRING kirov
2681: PPUSH
2682: CALL_OW 500
// hc_gallery := ru ;
2686: LD_ADDR_OWVAR 33
2690: PUSH
2691: LD_STRING ru
2693: ST_TO_ADDR
// hc_face_number := 8 ;
2694: LD_ADDR_OWVAR 34
2698: PUSH
2699: LD_INT 8
2701: ST_TO_ADDR
// hc_skills := [ 7 , 4 , 3 , 2 ] ;
2702: LD_ADDR_OWVAR 31
2706: PUSH
2707: LD_INT 7
2709: PUSH
2710: LD_INT 4
2712: PUSH
2713: LD_INT 3
2715: PUSH
2716: LD_INT 2
2718: PUSH
2719: EMPTY
2720: LIST
2721: LIST
2722: LIST
2723: LIST
2724: ST_TO_ADDR
// hc_sex := sex_male ;
2725: LD_ADDR_OWVAR 27
2729: PUSH
2730: LD_INT 1
2732: ST_TO_ADDR
// hc_name := P³k. Iwan Kurin ;
2733: LD_ADDR_OWVAR 26
2737: PUSH
2738: LD_STRING P³k. Iwan Kurin
2740: ST_TO_ADDR
// hc_attr := [ 10 , 10 ] ;
2741: LD_ADDR_OWVAR 29
2745: PUSH
2746: LD_INT 10
2748: PUSH
2749: LD_INT 10
2751: PUSH
2752: EMPTY
2753: LIST
2754: LIST
2755: ST_TO_ADDR
// kurin := CreateHuman ;
2756: LD_ADDR_EXP 14
2760: PUSH
2761: CALL_OW 44
2765: ST_TO_ADDR
// PlaceHumanInUnit ( kurin , kirov ) ;
2766: LD_EXP 14
2770: PPUSH
2771: LD_INT 71
2773: PPUSH
2774: CALL_OW 52
// filter := FilterAllUnits ( [ [ f_side , 6 ] , [ f_btype , b_bunker ] ] ) ;
2778: LD_ADDR_VAR 0 6
2782: PUSH
2783: LD_INT 22
2785: PUSH
2786: LD_INT 6
2788: PUSH
2789: EMPTY
2790: LIST
2791: LIST
2792: PUSH
2793: LD_INT 30
2795: PUSH
2796: LD_INT 32
2798: PUSH
2799: EMPTY
2800: LIST
2801: LIST
2802: PUSH
2803: EMPTY
2804: LIST
2805: LIST
2806: PPUSH
2807: CALL_OW 69
2811: ST_TO_ADDR
// for i = 1 to ru_force do
2812: LD_ADDR_VAR 0 4
2816: PUSH
2817: DOUBLE
2818: LD_INT 1
2820: DEC
2821: ST_TO_ADDR
2822: LD_EXP 3
2826: PUSH
2827: FOR_TO
2828: IFFALSE 2899
// begin un := CreateHumanWithClass ( 1 , ru_def ) ;
2830: LD_ADDR_VAR 0 5
2834: PUSH
2835: LD_INT 1
2837: PPUSH
2838: LD_EXP 4
2842: PPUSH
2843: CALL 418 0 2
2847: ST_TO_ADDR
// if i <= filter then
2848: LD_VAR 0 4
2852: PUSH
2853: LD_VAR 0 6
2857: LESSEQUAL
2858: IFFALSE 2882
// PlaceHumanInUnit ( un , filter [ i ] ) else
2860: LD_VAR 0 5
2864: PPUSH
2865: LD_VAR 0 6
2869: PUSH
2870: LD_VAR 0 4
2874: ARRAY
2875: PPUSH
2876: CALL_OW 52
2880: GO 2897
// PlaceUnitArea ( un , ru_area , false ) ;
2882: LD_VAR 0 5
2886: PPUSH
2887: LD_INT 4
2889: PPUSH
2890: LD_INT 0
2892: PPUSH
2893: CALL_OW 49
// end ;
2897: GO 2827
2899: POP
2900: POP
// for i = 1 to 6 do
2901: LD_ADDR_VAR 0 4
2905: PUSH
2906: DOUBLE
2907: LD_INT 1
2909: DEC
2910: ST_TO_ADDR
2911: LD_INT 6
2913: PUSH
2914: FOR_TO
2915: IFFALSE 2952
// begin un := CreateHumanWithClass ( 3 , ru_def ) ;
2917: LD_ADDR_VAR 0 5
2921: PUSH
2922: LD_INT 3
2924: PPUSH
2925: LD_EXP 4
2929: PPUSH
2930: CALL 418 0 2
2934: ST_TO_ADDR
// PlaceUnitArea ( un , ru_area , false ) ;
2935: LD_VAR 0 5
2939: PPUSH
2940: LD_INT 4
2942: PPUSH
2943: LD_INT 0
2945: PPUSH
2946: CALL_OW 49
// end ;
2950: GO 2914
2952: POP
2953: POP
// for i = 1 to 3 do
2954: LD_ADDR_VAR 0 4
2958: PUSH
2959: DOUBLE
2960: LD_INT 1
2962: DEC
2963: ST_TO_ADDR
2964: LD_INT 3
2966: PUSH
2967: FOR_TO
2968: IFFALSE 3005
// begin un := CreateHumanWithClass ( 4 , ru_def ) ;
2970: LD_ADDR_VAR 0 5
2974: PUSH
2975: LD_INT 4
2977: PPUSH
2978: LD_EXP 4
2982: PPUSH
2983: CALL 418 0 2
2987: ST_TO_ADDR
// PlaceUnitArea ( un , ru_area , false ) ;
2988: LD_VAR 0 5
2992: PPUSH
2993: LD_INT 4
2995: PPUSH
2996: LD_INT 0
2998: PPUSH
2999: CALL_OW 49
// end ;
3003: GO 2967
3005: POP
3006: POP
// for i = 1 to 4 do
3007: LD_ADDR_VAR 0 4
3011: PUSH
3012: DOUBLE
3013: LD_INT 1
3015: DEC
3016: ST_TO_ADDR
3017: LD_INT 4
3019: PUSH
3020: FOR_TO
3021: IFFALSE 3058
// begin un := CreateHumanWithClass ( 2 , ru_def ) ;
3023: LD_ADDR_VAR 0 5
3027: PUSH
3028: LD_INT 2
3030: PPUSH
3031: LD_EXP 4
3035: PPUSH
3036: CALL 418 0 2
3040: ST_TO_ADDR
// PlaceUnitArea ( un , ru_area , false ) ;
3041: LD_VAR 0 5
3045: PPUSH
3046: LD_INT 4
3048: PPUSH
3049: LD_INT 0
3051: PPUSH
3052: CALL_OW 49
// end ;
3056: GO 3020
3058: POP
3059: POP
// uc_side := ru2 ;
3060: LD_ADDR_OWVAR 20
3064: PUSH
3065: LD_VAR 0 3
3069: ST_TO_ADDR
// ru2_sold := [ ] ;
3070: LD_ADDR_EXP 32
3074: PUSH
3075: EMPTY
3076: ST_TO_ADDR
// ru2_stw := [ ] ;
3077: LD_ADDR_EXP 33
3081: PUSH
3082: EMPTY
3083: ST_TO_ADDR
// ru2_tw := [ ] ;
3084: LD_ADDR_EXP 34
3088: PUSH
3089: EMPTY
3090: ST_TO_ADDR
// ru2_b := [ ] ;
3091: LD_ADDR_EXP 41
3095: PUSH
3096: EMPTY
3097: ST_TO_ADDR
// ru2_eng := [ ] ;
3098: LD_ADDR_EXP 37
3102: PUSH
3103: EMPTY
3104: ST_TO_ADDR
// ru2_mech := [ ] ;
3105: LD_ADDR_EXP 38
3109: PUSH
3110: EMPTY
3111: ST_TO_ADDR
// ru2_sci := [ ] ;
3112: LD_ADDR_EXP 39
3116: PUSH
3117: EMPTY
3118: ST_TO_ADDR
// ru2_bul := [ b_lab , 90 , 71 , 1 , b_armoury , 88 , 58 , 2 , b_workshop , 103 , 66 , 4 , b_oil_power , 106 , 77 , 3 , b_oil_power , 110 , 77 , 3 , b_bunker , 109 , 65 , 4 , b_bunker , 92 , 85 , 0 , b_bunker , 74 , 72 , 0 , b_bunker , 71 , 66 , 2 , b_bunker , 115 , 79 , 4 , b_bunker , 112 , 69 , 4 , b_bunker , 111 , 84 , 5 ] ;
3119: LD_ADDR_EXP 40
3123: PUSH
3124: LD_INT 6
3126: PUSH
3127: LD_INT 90
3129: PUSH
3130: LD_INT 71
3132: PUSH
3133: LD_INT 1
3135: PUSH
3136: LD_INT 4
3138: PUSH
3139: LD_INT 88
3141: PUSH
3142: LD_INT 58
3144: PUSH
3145: LD_INT 2
3147: PUSH
3148: LD_INT 2
3150: PUSH
3151: LD_INT 103
3153: PUSH
3154: LD_INT 66
3156: PUSH
3157: LD_INT 4
3159: PUSH
3160: LD_INT 26
3162: PUSH
3163: LD_INT 106
3165: PUSH
3166: LD_INT 77
3168: PUSH
3169: LD_INT 3
3171: PUSH
3172: LD_INT 26
3174: PUSH
3175: LD_INT 110
3177: PUSH
3178: LD_INT 77
3180: PUSH
3181: LD_INT 3
3183: PUSH
3184: LD_INT 32
3186: PUSH
3187: LD_INT 109
3189: PUSH
3190: LD_INT 65
3192: PUSH
3193: LD_INT 4
3195: PUSH
3196: LD_INT 32
3198: PUSH
3199: LD_INT 92
3201: PUSH
3202: LD_INT 85
3204: PUSH
3205: LD_INT 0
3207: PUSH
3208: LD_INT 32
3210: PUSH
3211: LD_INT 74
3213: PUSH
3214: LD_INT 72
3216: PUSH
3217: LD_INT 0
3219: PUSH
3220: LD_INT 32
3222: PUSH
3223: LD_INT 71
3225: PUSH
3226: LD_INT 66
3228: PUSH
3229: LD_INT 2
3231: PUSH
3232: LD_INT 32
3234: PUSH
3235: LD_INT 115
3237: PUSH
3238: LD_INT 79
3240: PUSH
3241: LD_INT 4
3243: PUSH
3244: LD_INT 32
3246: PUSH
3247: LD_INT 112
3249: PUSH
3250: LD_INT 69
3252: PUSH
3253: LD_INT 4
3255: PUSH
3256: LD_INT 32
3258: PUSH
3259: LD_INT 111
3261: PUSH
3262: LD_INT 84
3264: PUSH
3265: LD_INT 5
3267: PUSH
3268: EMPTY
3269: LIST
3270: LIST
3271: LIST
3272: LIST
3273: LIST
3274: LIST
3275: LIST
3276: LIST
3277: LIST
3278: LIST
3279: LIST
3280: LIST
3281: LIST
3282: LIST
3283: LIST
3284: LIST
3285: LIST
3286: LIST
3287: LIST
3288: LIST
3289: LIST
3290: LIST
3291: LIST
3292: LIST
3293: LIST
3294: LIST
3295: LIST
3296: LIST
3297: LIST
3298: LIST
3299: LIST
3300: LIST
3301: LIST
3302: LIST
3303: LIST
3304: LIST
3305: LIST
3306: LIST
3307: LIST
3308: LIST
3309: LIST
3310: LIST
3311: LIST
3312: LIST
3313: LIST
3314: LIST
3315: LIST
3316: LIST
3317: ST_TO_ADDR
// ru2_tech := [ tech_tech1 , tech_tech2 , tech_weap1 , tech_weap2 , tech_gatling , tech_gun , tech_advmet , tech_weap3 , tech_tech3 ] ;
3318: LD_ADDR_EXP 35
3322: PUSH
3323: LD_INT 48
3325: PUSH
3326: LD_INT 49
3328: PUSH
3329: LD_INT 51
3331: PUSH
3332: LD_INT 52
3334: PUSH
3335: LD_INT 69
3337: PUSH
3338: LD_INT 39
3340: PUSH
3341: LD_INT 34
3343: PUSH
3344: LD_INT 53
3346: PUSH
3347: LD_INT 50
3349: PUSH
3350: EMPTY
3351: LIST
3352: LIST
3353: LIST
3354: LIST
3355: LIST
3356: LIST
3357: LIST
3358: LIST
3359: LIST
3360: ST_TO_ADDR
// ru2_veh := [ ru_medium_wheeled , engine_combustion , control_manual , ru_cargo_bay , ru_medium_tracked , engine_combustion , control_manual , ru_crane , ru_medium_tracked , engine_combustion , control_manual , ru_crane ] ;
3361: LD_ADDR_EXP 36
3365: PUSH
3366: LD_INT 21
3368: PUSH
3369: LD_INT 1
3371: PUSH
3372: LD_INT 1
3374: PUSH
3375: LD_INT 51
3377: PUSH
3378: LD_INT 22
3380: PUSH
3381: LD_INT 1
3383: PUSH
3384: LD_INT 1
3386: PUSH
3387: LD_INT 52
3389: PUSH
3390: LD_INT 22
3392: PUSH
3393: LD_INT 1
3395: PUSH
3396: LD_INT 1
3398: PUSH
3399: LD_INT 52
3401: PUSH
3402: EMPTY
3403: LIST
3404: LIST
3405: LIST
3406: LIST
3407: LIST
3408: LIST
3409: LIST
3410: LIST
3411: LIST
3412: LIST
3413: LIST
3414: LIST
3415: ST_TO_ADDR
// SetBName ( beria , beria ) ;
3416: LD_INT 106
3418: PPUSH
3419: LD_STRING beria
3421: PPUSH
3422: CALL_OW 500
// SetBName ( kagan , kagan ) ;
3426: LD_INT 112
3428: PPUSH
3429: LD_STRING kagan
3431: PPUSH
3432: CALL_OW 500
// for i = 1 to 12 do
3436: LD_ADDR_VAR 0 4
3440: PUSH
3441: DOUBLE
3442: LD_INT 1
3444: DEC
3445: ST_TO_ADDR
3446: LD_INT 12
3448: PUSH
3449: FOR_TO
3450: IFFALSE 3487
// begin un := CreateHumanWithClass ( 1 , ru_def ) ;
3452: LD_ADDR_VAR 0 5
3456: PUSH
3457: LD_INT 1
3459: PPUSH
3460: LD_EXP 4
3464: PPUSH
3465: CALL 418 0 2
3469: ST_TO_ADDR
// PlaceUnitArea ( un , ru2_area , false ) ;
3470: LD_VAR 0 5
3474: PPUSH
3475: LD_INT 9
3477: PPUSH
3478: LD_INT 0
3480: PPUSH
3481: CALL_OW 49
// end ;
3485: GO 3449
3487: POP
3488: POP
// for i = 1 to 6 do
3489: LD_ADDR_VAR 0 4
3493: PUSH
3494: DOUBLE
3495: LD_INT 1
3497: DEC
3498: ST_TO_ADDR
3499: LD_INT 6
3501: PUSH
3502: FOR_TO
3503: IFFALSE 3540
// begin un := CreateHumanWithClass ( 3 , ru_def ) ;
3505: LD_ADDR_VAR 0 5
3509: PUSH
3510: LD_INT 3
3512: PPUSH
3513: LD_EXP 4
3517: PPUSH
3518: CALL 418 0 2
3522: ST_TO_ADDR
// PlaceUnitArea ( un , ru2_area , false ) ;
3523: LD_VAR 0 5
3527: PPUSH
3528: LD_INT 9
3530: PPUSH
3531: LD_INT 0
3533: PPUSH
3534: CALL_OW 49
// end ;
3538: GO 3502
3540: POP
3541: POP
// for i = 1 to 4 do
3542: LD_ADDR_VAR 0 4
3546: PUSH
3547: DOUBLE
3548: LD_INT 1
3550: DEC
3551: ST_TO_ADDR
3552: LD_INT 4
3554: PUSH
3555: FOR_TO
3556: IFFALSE 3593
// begin un := CreateHumanWithClass ( 4 , ru_def ) ;
3558: LD_ADDR_VAR 0 5
3562: PUSH
3563: LD_INT 4
3565: PPUSH
3566: LD_EXP 4
3570: PPUSH
3571: CALL 418 0 2
3575: ST_TO_ADDR
// PlaceUnitArea ( un , ru2_area , false ) ;
3576: LD_VAR 0 5
3580: PPUSH
3581: LD_INT 9
3583: PPUSH
3584: LD_INT 0
3586: PPUSH
3587: CALL_OW 49
// end ;
3591: GO 3555
3593: POP
3594: POP
// for i = 1 to 4 do
3595: LD_ADDR_VAR 0 4
3599: PUSH
3600: DOUBLE
3601: LD_INT 1
3603: DEC
3604: ST_TO_ADDR
3605: LD_INT 4
3607: PUSH
3608: FOR_TO
3609: IFFALSE 3646
// begin un := CreateHumanWithClass ( 2 , ru_def ) ;
3611: LD_ADDR_VAR 0 5
3615: PUSH
3616: LD_INT 2
3618: PPUSH
3619: LD_EXP 4
3623: PPUSH
3624: CALL 418 0 2
3628: ST_TO_ADDR
// PlaceUnitArea ( un , ru2_area , false ) ;
3629: LD_VAR 0 5
3633: PPUSH
3634: LD_INT 9
3636: PPUSH
3637: LD_INT 0
3639: PPUSH
3640: CALL_OW 49
// end ;
3644: GO 3608
3646: POP
3647: POP
// end ;
3648: LD_VAR 0 1
3652: RET
// every 0 0$01 do var i , p , un , filter , h_dmgunit , b_dmgunit , b_unit , b_weap , b_upgrade , enemy_detected ;
3653: GO 3655
3655: DISABLE
3656: LD_INT 0
3658: PPUSH
3659: PPUSH
3660: PPUSH
3661: PPUSH
3662: PPUSH
3663: PPUSH
3664: PPUSH
3665: PPUSH
3666: PPUSH
3667: PPUSH
// begin enable ;
3668: ENABLE
// ru_sold := FilterAllUnits ( [ [ [ f_side , 6 ] , [ f_class , 1 ] , [ f_lives , 600 ] ] ] ) diff Kurin ;
3669: LD_ADDR_EXP 22
3673: PUSH
3674: LD_INT 22
3676: PUSH
3677: LD_INT 6
3679: PUSH
3680: EMPTY
3681: LIST
3682: LIST
3683: PUSH
3684: LD_INT 25
3686: PUSH
3687: LD_INT 1
3689: PUSH
3690: EMPTY
3691: LIST
3692: LIST
3693: PUSH
3694: LD_INT 24
3696: PUSH
3697: LD_INT 600
3699: PUSH
3700: EMPTY
3701: LIST
3702: LIST
3703: PUSH
3704: EMPTY
3705: LIST
3706: LIST
3707: LIST
3708: PUSH
3709: EMPTY
3710: LIST
3711: PPUSH
3712: CALL_OW 69
3716: PUSH
3717: LD_EXP 14
3721: DIFF
3722: ST_TO_ADDR
// ru_eng := FilterAllUnits ( [ [ [ f_side , 6 ] , [ f_class , 2 ] , [ f_lives , 600 ] ] ] ) ;
3723: LD_ADDR_EXP 27
3727: PUSH
3728: LD_INT 22
3730: PUSH
3731: LD_INT 6
3733: PUSH
3734: EMPTY
3735: LIST
3736: LIST
3737: PUSH
3738: LD_INT 25
3740: PUSH
3741: LD_INT 2
3743: PUSH
3744: EMPTY
3745: LIST
3746: LIST
3747: PUSH
3748: LD_INT 24
3750: PUSH
3751: LD_INT 600
3753: PUSH
3754: EMPTY
3755: LIST
3756: LIST
3757: PUSH
3758: EMPTY
3759: LIST
3760: LIST
3761: LIST
3762: PUSH
3763: EMPTY
3764: LIST
3765: PPUSH
3766: CALL_OW 69
3770: ST_TO_ADDR
// ru_mech := FilterAllUnits ( [ [ [ f_side , 6 ] , [ f_class , 3 ] , [ f_lives , 600 ] ] ] ) ;
3771: LD_ADDR_EXP 28
3775: PUSH
3776: LD_INT 22
3778: PUSH
3779: LD_INT 6
3781: PUSH
3782: EMPTY
3783: LIST
3784: LIST
3785: PUSH
3786: LD_INT 25
3788: PUSH
3789: LD_INT 3
3791: PUSH
3792: EMPTY
3793: LIST
3794: LIST
3795: PUSH
3796: LD_INT 24
3798: PUSH
3799: LD_INT 600
3801: PUSH
3802: EMPTY
3803: LIST
3804: LIST
3805: PUSH
3806: EMPTY
3807: LIST
3808: LIST
3809: LIST
3810: PUSH
3811: EMPTY
3812: LIST
3813: PPUSH
3814: CALL_OW 69
3818: ST_TO_ADDR
// ru_sci := FilterAllUnits ( [ [ [ f_side , 6 ] , [ f_class , 4 ] , [ f_lives , 600 ] ] ] ) ;
3819: LD_ADDR_EXP 29
3823: PUSH
3824: LD_INT 22
3826: PUSH
3827: LD_INT 6
3829: PUSH
3830: EMPTY
3831: LIST
3832: LIST
3833: PUSH
3834: LD_INT 25
3836: PUSH
3837: LD_INT 4
3839: PUSH
3840: EMPTY
3841: LIST
3842: LIST
3843: PUSH
3844: LD_INT 24
3846: PUSH
3847: LD_INT 600
3849: PUSH
3850: EMPTY
3851: LIST
3852: LIST
3853: PUSH
3854: EMPTY
3855: LIST
3856: LIST
3857: LIST
3858: PUSH
3859: EMPTY
3860: LIST
3861: PPUSH
3862: CALL_OW 69
3866: ST_TO_ADDR
// ru_tw := FilterAllUnits ( [ [ [ f_side , 6 ] , [ f_or , [ f_btype , b_breastwork ] , [ f_btype , b_bunker ] ] , [ f_lives , 250 ] ] ] ) ;
3867: LD_ADDR_EXP 24
3871: PUSH
3872: LD_INT 22
3874: PUSH
3875: LD_INT 6
3877: PUSH
3878: EMPTY
3879: LIST
3880: LIST
3881: PUSH
3882: LD_INT 2
3884: PUSH
3885: LD_INT 30
3887: PUSH
3888: LD_INT 31
3890: PUSH
3891: EMPTY
3892: LIST
3893: LIST
3894: PUSH
3895: LD_INT 30
3897: PUSH
3898: LD_INT 32
3900: PUSH
3901: EMPTY
3902: LIST
3903: LIST
3904: PUSH
3905: EMPTY
3906: LIST
3907: LIST
3908: LIST
3909: PUSH
3910: LD_INT 24
3912: PUSH
3913: LD_INT 250
3915: PUSH
3916: EMPTY
3917: LIST
3918: LIST
3919: PUSH
3920: EMPTY
3921: LIST
3922: LIST
3923: LIST
3924: PUSH
3925: EMPTY
3926: LIST
3927: PPUSH
3928: CALL_OW 69
3932: ST_TO_ADDR
// ru_b := FilterAllUnits ( [ [ f_side , 6 ] , [ f_type , unit_building ] ] ) ;
3933: LD_ADDR_EXP 31
3937: PUSH
3938: LD_INT 22
3940: PUSH
3941: LD_INT 6
3943: PUSH
3944: EMPTY
3945: LIST
3946: LIST
3947: PUSH
3948: LD_INT 21
3950: PUSH
3951: LD_INT 3
3953: PUSH
3954: EMPTY
3955: LIST
3956: LIST
3957: PUSH
3958: EMPTY
3959: LIST
3960: LIST
3961: PPUSH
3962: CALL_OW 69
3966: ST_TO_ADDR
// b_dmgunit := FilterAllUnits ( [ [ [ f_side , 6 ] , [ f_type , unit_building ] , [ f_not , [ f_lives , 1000 ] ] ] ] ) ;
3967: LD_ADDR_VAR 0 6
3971: PUSH
3972: LD_INT 22
3974: PUSH
3975: LD_INT 6
3977: PUSH
3978: EMPTY
3979: LIST
3980: LIST
3981: PUSH
3982: LD_INT 21
3984: PUSH
3985: LD_INT 3
3987: PUSH
3988: EMPTY
3989: LIST
3990: LIST
3991: PUSH
3992: LD_INT 3
3994: PUSH
3995: LD_INT 24
3997: PUSH
3998: LD_INT 1000
4000: PUSH
4001: EMPTY
4002: LIST
4003: LIST
4004: PUSH
4005: EMPTY
4006: LIST
4007: LIST
4008: PUSH
4009: EMPTY
4010: LIST
4011: LIST
4012: LIST
4013: PUSH
4014: EMPTY
4015: LIST
4016: PPUSH
4017: CALL_OW 69
4021: ST_TO_ADDR
// h_dmgunit := FilterAllUnits ( [ [ [ f_side , 6 ] , [ f_type , unit_human ] , [ f_not , [ f_lives , 600 ] ] ] ] ) ;
4022: LD_ADDR_VAR 0 5
4026: PUSH
4027: LD_INT 22
4029: PUSH
4030: LD_INT 6
4032: PUSH
4033: EMPTY
4034: LIST
4035: LIST
4036: PUSH
4037: LD_INT 21
4039: PUSH
4040: LD_INT 1
4042: PUSH
4043: EMPTY
4044: LIST
4045: LIST
4046: PUSH
4047: LD_INT 3
4049: PUSH
4050: LD_INT 24
4052: PUSH
4053: LD_INT 600
4055: PUSH
4056: EMPTY
4057: LIST
4058: LIST
4059: PUSH
4060: EMPTY
4061: LIST
4062: LIST
4063: PUSH
4064: EMPTY
4065: LIST
4066: LIST
4067: LIST
4068: PUSH
4069: EMPTY
4070: LIST
4071: PPUSH
4072: CALL_OW 69
4076: ST_TO_ADDR
// b_weap := AvailableWeaponList ( ru_fac ) diff [ ru_crane , ru_cargo_bay , ru_bulldozer , ru_radar ] ;
4077: LD_ADDR_VAR 0 8
4081: PUSH
4082: LD_INT 92
4084: PPUSH
4085: CALL_OW 478
4089: PUSH
4090: LD_INT 52
4092: PUSH
4093: LD_INT 51
4095: PUSH
4096: LD_INT 53
4098: PUSH
4099: LD_EXP 42
4103: PUSH
4104: EMPTY
4105: LIST
4106: LIST
4107: LIST
4108: LIST
4109: DIFF
4110: ST_TO_ADDR
// b_upgrade := [ b_depot , b_armoury , b_breastwork , b_workshop ] ;
4111: LD_ADDR_VAR 0 9
4115: PUSH
4116: LD_INT 0
4118: PUSH
4119: LD_INT 4
4121: PUSH
4122: LD_INT 31
4124: PUSH
4125: LD_INT 2
4127: PUSH
4128: EMPTY
4129: LIST
4130: LIST
4131: LIST
4132: LIST
4133: ST_TO_ADDR
// if FilterUnitsInArea ( kirov_strict , [ f_or , [ f_side , 1 ] , [ f_side , 2 ] ] ) > 0 then
4134: LD_INT 10
4136: PPUSH
4137: LD_INT 2
4139: PUSH
4140: LD_INT 22
4142: PUSH
4143: LD_INT 1
4145: PUSH
4146: EMPTY
4147: LIST
4148: LIST
4149: PUSH
4150: LD_INT 22
4152: PUSH
4153: LD_INT 2
4155: PUSH
4156: EMPTY
4157: LIST
4158: LIST
4159: PUSH
4160: EMPTY
4161: LIST
4162: LIST
4163: LIST
4164: PPUSH
4165: CALL_OW 70
4169: PUSH
4170: LD_INT 0
4172: GREATER
4173: IFFALSE 4185
// enemy_detected := true else
4175: LD_ADDR_VAR 0 10
4179: PUSH
4180: LD_INT 1
4182: ST_TO_ADDR
4183: GO 4193
// enemy_detected := false ;
4185: LD_ADDR_VAR 0 10
4189: PUSH
4190: LD_INT 0
4192: ST_TO_ADDR
// if enemy_detected = false then
4193: LD_VAR 0 10
4197: PUSH
4198: LD_INT 0
4200: EQUAL
4201: IFFALSE 4263
// for i = 1 to ru_b do
4203: LD_ADDR_VAR 0 1
4207: PUSH
4208: DOUBLE
4209: LD_INT 1
4211: DEC
4212: ST_TO_ADDR
4213: LD_EXP 31
4217: PUSH
4218: FOR_TO
4219: IFFALSE 4261
// if GetBType ( ru_b [ i ] ) in b_upgrade then
4221: LD_EXP 31
4225: PUSH
4226: LD_VAR 0 1
4230: ARRAY
4231: PPUSH
4232: CALL_OW 266
4236: PUSH
4237: LD_VAR 0 9
4241: IN
4242: IFFALSE 4259
// ComUpgrade ( ru_b [ i ] ) ;
4244: LD_EXP 31
4248: PUSH
4249: LD_VAR 0 1
4253: ARRAY
4254: PPUSH
4255: CALL_OW 146
4259: GO 4218
4261: POP
4262: POP
// if ru_sold > 0 then
4263: LD_EXP 22
4267: PUSH
4268: LD_INT 0
4270: GREATER
4271: IFFALSE 4685
// begin filter := UnitFilter ( ru_sold , [ f_not , [ f_inside ] ] ) ;
4273: LD_ADDR_VAR 0 4
4277: PUSH
4278: LD_EXP 22
4282: PPUSH
4283: LD_INT 3
4285: PUSH
4286: LD_INT 54
4288: PUSH
4289: EMPTY
4290: LIST
4291: PUSH
4292: EMPTY
4293: LIST
4294: LIST
4295: PPUSH
4296: CALL_OW 72
4300: ST_TO_ADDR
// if UnitFilter ( ru_tw , [ f_empty ] ) > 0 then
4301: LD_EXP 24
4305: PPUSH
4306: LD_INT 58
4308: PUSH
4309: EMPTY
4310: LIST
4311: PPUSH
4312: CALL_OW 72
4316: PUSH
4317: LD_INT 0
4319: GREATER
4320: IFFALSE 4388
// begin if filter = 0 then
4322: LD_VAR 0 4
4326: PUSH
4327: LD_INT 0
4329: EQUAL
4330: IFFALSE 4355
// ComExitBuilding ( ru_sold [ Rand ( 1 , ru_sold ) ] ) ;
4332: LD_EXP 22
4336: PUSH
4337: LD_INT 1
4339: PPUSH
4340: LD_EXP 22
4344: PPUSH
4345: CALL_OW 12
4349: ARRAY
4350: PPUSH
4351: CALL_OW 122
// ComEnterUnit ( filter [ 1 ] , UnitFilter ( ru_tw , [ f_empty ] ) [ 1 ] ) ;
4355: LD_VAR 0 4
4359: PUSH
4360: LD_INT 1
4362: ARRAY
4363: PPUSH
4364: LD_EXP 24
4368: PPUSH
4369: LD_INT 58
4371: PUSH
4372: EMPTY
4373: LIST
4374: PPUSH
4375: CALL_OW 72
4379: PUSH
4380: LD_INT 1
4382: ARRAY
4383: PPUSH
4384: CALL_OW 120
// end ; if UnitFilter ( ru_tw , [ f_empty ] ) = 0 then
4388: LD_EXP 24
4392: PPUSH
4393: LD_INT 58
4395: PUSH
4396: EMPTY
4397: LIST
4398: PPUSH
4399: CALL_OW 72
4403: PUSH
4404: LD_INT 0
4406: EQUAL
4407: IFFALSE 4562
// begin b_unit := FilterAllUnits ( [ [ f_side , 6 ] , [ f_or , [ f_btype , b_armoury ] , [ f_btype , b_barracks ] ] ] ) ;
4409: LD_ADDR_VAR 0 7
4413: PUSH
4414: LD_INT 22
4416: PUSH
4417: LD_INT 6
4419: PUSH
4420: EMPTY
4421: LIST
4422: LIST
4423: PUSH
4424: LD_INT 2
4426: PUSH
4427: LD_INT 30
4429: PUSH
4430: LD_INT 4
4432: PUSH
4433: EMPTY
4434: LIST
4435: LIST
4436: PUSH
4437: LD_INT 30
4439: PUSH
4440: LD_INT 5
4442: PUSH
4443: EMPTY
4444: LIST
4445: LIST
4446: PUSH
4447: EMPTY
4448: LIST
4449: LIST
4450: LIST
4451: PUSH
4452: EMPTY
4453: LIST
4454: LIST
4455: PPUSH
4456: CALL_OW 69
4460: ST_TO_ADDR
// if b_unit > 0 then
4461: LD_VAR 0 7
4465: PUSH
4466: LD_INT 0
4468: GREATER
4469: IFFALSE 4562
// for p = 1 to b_unit do
4471: LD_ADDR_VAR 0 2
4475: PUSH
4476: DOUBLE
4477: LD_INT 1
4479: DEC
4480: ST_TO_ADDR
4481: LD_VAR 0 7
4485: PUSH
4486: FOR_TO
4487: IFFALSE 4560
// if UnitsInSide ( b_unit [ p ] ) < 6 then
4489: LD_VAR 0 7
4493: PUSH
4494: LD_VAR 0 2
4498: ARRAY
4499: PPUSH
4500: CALL_OW 313
4504: PUSH
4505: LD_INT 6
4507: LESS
4508: IFFALSE 4558
// for i = 1 to filter do
4510: LD_ADDR_VAR 0 1
4514: PUSH
4515: DOUBLE
4516: LD_INT 1
4518: DEC
4519: ST_TO_ADDR
4520: LD_VAR 0 4
4524: PUSH
4525: FOR_TO
4526: IFFALSE 4556
// ComEnterUnit ( filter [ i ] , b_unit [ p ] ) ;
4528: LD_VAR 0 4
4532: PUSH
4533: LD_VAR 0 1
4537: ARRAY
4538: PPUSH
4539: LD_VAR 0 7
4543: PUSH
4544: LD_VAR 0 2
4548: ARRAY
4549: PPUSH
4550: CALL_OW 120
4554: GO 4525
4556: POP
4557: POP
4558: GO 4486
4560: POP
4561: POP
// end ; if UnitFilter ( ru_tw , [ [ f_btype , b_bunker ] , [ f_bweapon , 0 ] ] ) > 0 then
4562: LD_EXP 24
4566: PPUSH
4567: LD_INT 30
4569: PUSH
4570: LD_INT 32
4572: PUSH
4573: EMPTY
4574: LIST
4575: LIST
4576: PUSH
4577: LD_INT 35
4579: PUSH
4580: LD_INT 0
4582: PUSH
4583: EMPTY
4584: LIST
4585: LIST
4586: PUSH
4587: EMPTY
4588: LIST
4589: LIST
4590: PPUSH
4591: CALL_OW 72
4595: PUSH
4596: LD_INT 0
4598: GREATER
4599: IFFALSE 4685
// begin filter := UnitFilter ( ru_tw , [ [ f_btype , b_bunker ] , [ f_bweapon , 0 ] ] ) ;
4601: LD_ADDR_VAR 0 4
4605: PUSH
4606: LD_EXP 24
4610: PPUSH
4611: LD_INT 30
4613: PUSH
4614: LD_INT 32
4616: PUSH
4617: EMPTY
4618: LIST
4619: LIST
4620: PUSH
4621: LD_INT 35
4623: PUSH
4624: LD_INT 0
4626: PUSH
4627: EMPTY
4628: LIST
4629: LIST
4630: PUSH
4631: EMPTY
4632: LIST
4633: LIST
4634: PPUSH
4635: CALL_OW 72
4639: ST_TO_ADDR
// if BuildingStatus ( ru_fac ) = bs_idle then
4640: LD_INT 92
4642: PPUSH
4643: CALL_OW 461
4647: PUSH
4648: LD_INT 2
4650: EQUAL
4651: IFFALSE 4685
// ComPlaceWeapon ( filter [ 1 ] , b_weap [ Rand ( 1 , b_weap ) ] ) ;
4653: LD_VAR 0 4
4657: PUSH
4658: LD_INT 1
4660: ARRAY
4661: PPUSH
4662: LD_VAR 0 8
4666: PUSH
4667: LD_INT 1
4669: PPUSH
4670: LD_VAR 0 8
4674: PPUSH
4675: CALL_OW 12
4679: ARRAY
4680: PPUSH
4681: CALL_OW 148
// end ; end ; if ru_mech > 0 then
4685: LD_EXP 28
4689: PUSH
4690: LD_INT 0
4692: GREATER
4693: IFFALSE 4753
// for i = 1 to ru_mech do
4695: LD_ADDR_VAR 0 1
4699: PUSH
4700: DOUBLE
4701: LD_INT 1
4703: DEC
4704: ST_TO_ADDR
4705: LD_EXP 28
4709: PUSH
4710: FOR_TO
4711: IFFALSE 4751
// if not IsInUnit ( ru_mech [ i ] ) then
4713: LD_EXP 28
4717: PUSH
4718: LD_VAR 0 1
4722: ARRAY
4723: PPUSH
4724: CALL_OW 310
4728: NOT
4729: IFFALSE 4749
// ComEnterUnit ( ru_mech [ i ] , ru_fac ) ;
4731: LD_EXP 28
4735: PUSH
4736: LD_VAR 0 1
4740: ARRAY
4741: PPUSH
4742: LD_INT 92
4744: PPUSH
4745: CALL_OW 120
4749: GO 4710
4751: POP
4752: POP
// if ru_fac then
4753: LD_INT 92
4755: IFFALSE 4861
// if ru_veh > 0 then
4757: LD_EXP 26
4761: PUSH
4762: LD_INT 0
4764: GREATER
4765: IFFALSE 4861
// if BuildingStatus ( ru_fac ) = bs_idle then
4767: LD_INT 92
4769: PPUSH
4770: CALL_OW 461
4774: PUSH
4775: LD_INT 2
4777: EQUAL
4778: IFFALSE 4861
// begin ComConstruct ( ru_fac , ru_veh [ 1 ] , ru_veh [ 2 ] , ru_veh [ 3 ] , ru_veh [ 4 ] ) ;
4780: LD_INT 92
4782: PPUSH
4783: LD_EXP 26
4787: PUSH
4788: LD_INT 1
4790: ARRAY
4791: PPUSH
4792: LD_EXP 26
4796: PUSH
4797: LD_INT 2
4799: ARRAY
4800: PPUSH
4801: LD_EXP 26
4805: PUSH
4806: LD_INT 3
4808: ARRAY
4809: PPUSH
4810: LD_EXP 26
4814: PUSH
4815: LD_INT 4
4817: ARRAY
4818: PPUSH
4819: CALL_OW 125
// for i = 1 to 4 do
4823: LD_ADDR_VAR 0 1
4827: PUSH
4828: DOUBLE
4829: LD_INT 1
4831: DEC
4832: ST_TO_ADDR
4833: LD_INT 4
4835: PUSH
4836: FOR_TO
4837: IFFALSE 4859
// ru_veh := Delete ( ru_veh , 1 ) ;
4839: LD_ADDR_EXP 26
4843: PUSH
4844: LD_EXP 26
4848: PPUSH
4849: LD_INT 1
4851: PPUSH
4852: CALL_OW 3
4856: ST_TO_ADDR
4857: GO 4836
4859: POP
4860: POP
// end ; if ru_bul > 0 and enemy_detected = false then
4861: LD_EXP 30
4865: PUSH
4866: LD_INT 0
4868: GREATER
4869: PUSH
4870: LD_VAR 0 10
4874: PUSH
4875: LD_INT 0
4877: EQUAL
4878: AND
4879: IFFALSE 4982
// if ru_eng > 0 then
4881: LD_EXP 27
4885: PUSH
4886: LD_INT 0
4888: GREATER
4889: IFFALSE 4982
// for i = 1 to ru_eng do
4891: LD_ADDR_VAR 0 1
4895: PUSH
4896: DOUBLE
4897: LD_INT 1
4899: DEC
4900: ST_TO_ADDR
4901: LD_EXP 27
4905: PUSH
4906: FOR_TO
4907: IFFALSE 4980
// if not HasTask ( ru_eng [ i ] ) then
4909: LD_EXP 27
4913: PUSH
4914: LD_VAR 0 1
4918: ARRAY
4919: PPUSH
4920: CALL_OW 314
4924: NOT
4925: IFFALSE 4978
// begin ComBuild ( ru_eng [ i ] , ru_bul [ 1 ] , ru_bul [ 2 ] , ru_bul [ 3 ] , ru_bul [ 4 ] ) ;
4927: LD_EXP 27
4931: PUSH
4932: LD_VAR 0 1
4936: ARRAY
4937: PPUSH
4938: LD_EXP 30
4942: PUSH
4943: LD_INT 1
4945: ARRAY
4946: PPUSH
4947: LD_EXP 30
4951: PUSH
4952: LD_INT 2
4954: ARRAY
4955: PPUSH
4956: LD_EXP 30
4960: PUSH
4961: LD_INT 3
4963: ARRAY
4964: PPUSH
4965: LD_EXP 30
4969: PUSH
4970: LD_INT 4
4972: ARRAY
4973: PPUSH
4974: CALL_OW 145
// end ;
4978: GO 4906
4980: POP
4981: POP
// if b_dmgunit > 0 then
4982: LD_VAR 0 6
4986: PUSH
4987: LD_INT 0
4989: GREATER
4990: IFFALSE 5175
// begin if ru_eng > 0 then
4992: LD_EXP 27
4996: PUSH
4997: LD_INT 0
4999: GREATER
5000: IFFALSE 5080
// for i = 1 to ru_eng do
5002: LD_ADDR_VAR 0 1
5006: PUSH
5007: DOUBLE
5008: LD_INT 1
5010: DEC
5011: ST_TO_ADDR
5012: LD_EXP 27
5016: PUSH
5017: FOR_TO
5018: IFFALSE 5078
// begin if IsInUnit ( ru_eng [ i ] ) then
5020: LD_EXP 27
5024: PUSH
5025: LD_VAR 0 1
5029: ARRAY
5030: PPUSH
5031: CALL_OW 310
5035: IFFALSE 5052
// ComExitBuilding ( ru_eng [ i ] ) ;
5037: LD_EXP 27
5041: PUSH
5042: LD_VAR 0 1
5046: ARRAY
5047: PPUSH
5048: CALL_OW 122
// ComRepairBuilding ( ru_eng [ i ] , b_dmgunit [ 1 ] ) ;
5052: LD_EXP 27
5056: PUSH
5057: LD_VAR 0 1
5061: ARRAY
5062: PPUSH
5063: LD_VAR 0 6
5067: PUSH
5068: LD_INT 1
5070: ARRAY
5071: PPUSH
5072: CALL_OW 130
// end ;
5076: GO 5017
5078: POP
5079: POP
// if FilterAllUnits ( [ [ f_side , 6 ] , [ f_weapon , ru_crane ] ] ) > 0 then
5080: LD_INT 22
5082: PUSH
5083: LD_INT 6
5085: PUSH
5086: EMPTY
5087: LIST
5088: LIST
5089: PUSH
5090: LD_INT 34
5092: PUSH
5093: LD_INT 52
5095: PUSH
5096: EMPTY
5097: LIST
5098: LIST
5099: PUSH
5100: EMPTY
5101: LIST
5102: LIST
5103: PPUSH
5104: CALL_OW 69
5108: PUSH
5109: LD_INT 0
5111: GREATER
5112: IFFALSE 5173
// for p in FilterAllUnits ( [ [ f_side , 6 ] , [ f_weapon , ru_crane ] ] ) do
5114: LD_ADDR_VAR 0 2
5118: PUSH
5119: LD_INT 22
5121: PUSH
5122: LD_INT 6
5124: PUSH
5125: EMPTY
5126: LIST
5127: LIST
5128: PUSH
5129: LD_INT 34
5131: PUSH
5132: LD_INT 52
5134: PUSH
5135: EMPTY
5136: LIST
5137: LIST
5138: PUSH
5139: EMPTY
5140: LIST
5141: LIST
5142: PPUSH
5143: CALL_OW 69
5147: PUSH
5148: FOR_IN
5149: IFFALSE 5171
// ComRepairBuilding ( p , b_dmgunit [ 1 ] ) ;
5151: LD_VAR 0 2
5155: PPUSH
5156: LD_VAR 0 6
5160: PUSH
5161: LD_INT 1
5163: ARRAY
5164: PPUSH
5165: CALL_OW 130
5169: GO 5148
5171: POP
5172: POP
// end else
5173: GO 5303
// if ru_bul = 0 then
5175: LD_EXP 30
5179: PUSH
5180: LD_INT 0
5182: EQUAL
5183: IFFALSE 5303
// for i = 1 to ru_eng do
5185: LD_ADDR_VAR 0 1
5189: PUSH
5190: DOUBLE
5191: LD_INT 1
5193: DEC
5194: ST_TO_ADDR
5195: LD_EXP 27
5199: PUSH
5200: FOR_TO
5201: IFFALSE 5301
// if not HasTask ( ru_eng [ i ] ) then
5203: LD_EXP 27
5207: PUSH
5208: LD_VAR 0 1
5212: ARRAY
5213: PPUSH
5214: CALL_OW 314
5218: NOT
5219: IFFALSE 5299
// ComEnterUnit ( ru_eng [ i ] , NearestUnitToUnit ( FilterAllUnits ( [ [ f_side , 6 ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) , ru_eng [ i ] ) ) ;
5221: LD_EXP 27
5225: PUSH
5226: LD_VAR 0 1
5230: ARRAY
5231: PPUSH
5232: LD_INT 22
5234: PUSH
5235: LD_INT 6
5237: PUSH
5238: EMPTY
5239: LIST
5240: LIST
5241: PUSH
5242: LD_INT 2
5244: PUSH
5245: LD_INT 30
5247: PUSH
5248: LD_INT 0
5250: PUSH
5251: EMPTY
5252: LIST
5253: LIST
5254: PUSH
5255: LD_INT 30
5257: PUSH
5258: LD_INT 1
5260: PUSH
5261: EMPTY
5262: LIST
5263: LIST
5264: PUSH
5265: EMPTY
5266: LIST
5267: LIST
5268: LIST
5269: PUSH
5270: EMPTY
5271: LIST
5272: LIST
5273: PPUSH
5274: CALL_OW 69
5278: PPUSH
5279: LD_EXP 27
5283: PUSH
5284: LD_VAR 0 1
5288: ARRAY
5289: PPUSH
5290: CALL_OW 74
5294: PPUSH
5295: CALL_OW 120
5299: GO 5200
5301: POP
5302: POP
// if h_dmgunit > 0 then
5303: LD_VAR 0 5
5307: PUSH
5308: LD_INT 0
5310: GREATER
5311: IFFALSE 5518
// begin for p = 1 to h_dmgunit do
5313: LD_ADDR_VAR 0 2
5317: PUSH
5318: DOUBLE
5319: LD_INT 1
5321: DEC
5322: ST_TO_ADDR
5323: LD_VAR 0 5
5327: PUSH
5328: FOR_TO
5329: IFFALSE 5378
// if GetDistUnits ( h_dmgunit [ p ] , ru_lab ) > 6 then
5331: LD_VAR 0 5
5335: PUSH
5336: LD_VAR 0 2
5340: ARRAY
5341: PPUSH
5342: LD_INT 83
5344: PPUSH
5345: CALL_OW 296
5349: PUSH
5350: LD_INT 6
5352: GREATER
5353: IFFALSE 5376
// ComMoveXY ( h_dmgunit [ p ] , 140 , 76 ) ;
5355: LD_VAR 0 5
5359: PUSH
5360: LD_VAR 0 2
5364: ARRAY
5365: PPUSH
5366: LD_INT 140
5368: PPUSH
5369: LD_INT 76
5371: PPUSH
5372: CALL_OW 111
5376: GO 5328
5378: POP
5379: POP
// if ru_sci > 0 then
5380: LD_EXP 29
5384: PUSH
5385: LD_INT 0
5387: GREATER
5388: IFFALSE 5518
// for i = 1 to ru_sci do
5390: LD_ADDR_VAR 0 1
5394: PUSH
5395: DOUBLE
5396: LD_INT 1
5398: DEC
5399: ST_TO_ADDR
5400: LD_EXP 29
5404: PUSH
5405: FOR_TO
5406: IFFALSE 5516
// if IsInUnit ( ru_sci [ i ] ) then
5408: LD_EXP 29
5412: PUSH
5413: LD_VAR 0 1
5417: ARRAY
5418: PPUSH
5419: CALL_OW 310
5423: IFFALSE 5442
// ComExitBuilding ( ru_sci [ i ] ) else
5425: LD_EXP 29
5429: PUSH
5430: LD_VAR 0 1
5434: ARRAY
5435: PPUSH
5436: CALL_OW 122
5440: GO 5514
// if not HasTask ( ru_sci [ i ] ) then
5442: LD_EXP 29
5446: PUSH
5447: LD_VAR 0 1
5451: ARRAY
5452: PPUSH
5453: CALL_OW 314
5457: NOT
5458: IFFALSE 5514
// if GetDistUnits ( ru_sci [ i ] , h_dmgunit [ 1 ] ) <= 15 then
5460: LD_EXP 29
5464: PUSH
5465: LD_VAR 0 1
5469: ARRAY
5470: PPUSH
5471: LD_VAR 0 5
5475: PUSH
5476: LD_INT 1
5478: ARRAY
5479: PPUSH
5480: CALL_OW 296
5484: PUSH
5485: LD_INT 15
5487: LESSEQUAL
5488: IFFALSE 5514
// ComHeal ( ru_sci [ i ] , h_dmgunit [ 1 ] ) ;
5490: LD_EXP 29
5494: PUSH
5495: LD_VAR 0 1
5499: ARRAY
5500: PPUSH
5501: LD_VAR 0 5
5505: PUSH
5506: LD_INT 1
5508: ARRAY
5509: PPUSH
5510: CALL_OW 128
5514: GO 5405
5516: POP
5517: POP
// end ; if h_dmgunit = 0 then
5518: LD_VAR 0 5
5522: PUSH
5523: LD_INT 0
5525: EQUAL
5526: IFFALSE 5643
// begin for i = 1 to ru_sci do
5528: LD_ADDR_VAR 0 1
5532: PUSH
5533: DOUBLE
5534: LD_INT 1
5536: DEC
5537: ST_TO_ADDR
5538: LD_EXP 29
5542: PUSH
5543: FOR_TO
5544: IFFALSE 5584
// if not IsInUnit ( ru_sci [ i ] ) then
5546: LD_EXP 29
5550: PUSH
5551: LD_VAR 0 1
5555: ARRAY
5556: PPUSH
5557: CALL_OW 310
5561: NOT
5562: IFFALSE 5582
// ComEnterUnit ( ru_sci [ i ] , ru_lab ) ;
5564: LD_EXP 29
5568: PUSH
5569: LD_VAR 0 1
5573: ARRAY
5574: PPUSH
5575: LD_INT 83
5577: PPUSH
5578: CALL_OW 120
5582: GO 5543
5584: POP
5585: POP
// if ru_tech > 0 then
5586: LD_EXP 25
5590: PUSH
5591: LD_INT 0
5593: GREATER
5594: IFFALSE 5643
// if BuildingStatus ( ru_lab ) = bs_idle then
5596: LD_INT 83
5598: PPUSH
5599: CALL_OW 461
5603: PUSH
5604: LD_INT 2
5606: EQUAL
5607: IFFALSE 5643
// begin ComResearch ( ru_lab , ru_tech [ 1 ] ) ;
5609: LD_INT 83
5611: PPUSH
5612: LD_EXP 25
5616: PUSH
5617: LD_INT 1
5619: ARRAY
5620: PPUSH
5621: CALL_OW 124
// ru_tech := Delete ( ru_tech , 1 ) ;
5625: LD_ADDR_EXP 25
5629: PUSH
5630: LD_EXP 25
5634: PPUSH
5635: LD_INT 1
5637: PPUSH
5638: CALL_OW 3
5642: ST_TO_ADDR
// end ; end ; end ;
5643: PPOPN 10
5645: END
// every 20 20$00 trigger ru_fac do var weap ;
5646: LD_INT 92
5648: IFFALSE 5781
5650: GO 5652
5652: DISABLE
5653: LD_INT 0
5655: PPUSH
// begin enable ;
5656: ENABLE
// weap := AvailableWeaponList ( ru_fac ) diff [ ru_crane , ru_cargo_bay , ru_bulldozer , ru_radar ] ;
5657: LD_ADDR_VAR 0 1
5661: PUSH
5662: LD_INT 92
5664: PPUSH
5665: CALL_OW 478
5669: PUSH
5670: LD_INT 52
5672: PUSH
5673: LD_INT 51
5675: PUSH
5676: LD_INT 53
5678: PUSH
5679: LD_EXP 42
5683: PUSH
5684: EMPTY
5685: LIST
5686: LIST
5687: LIST
5688: LIST
5689: DIFF
5690: ST_TO_ADDR
// ru_veh := ru_veh ^ [ ru_heavy_wheeled , engine_combustion , control_manual , weap [ Rand ( 1 , weap ) ] ] ;
5691: LD_ADDR_EXP 26
5695: PUSH
5696: LD_EXP 26
5700: PUSH
5701: LD_INT 23
5703: PUSH
5704: LD_INT 1
5706: PUSH
5707: LD_INT 1
5709: PUSH
5710: LD_VAR 0 1
5714: PUSH
5715: LD_INT 1
5717: PPUSH
5718: LD_VAR 0 1
5722: PPUSH
5723: CALL_OW 12
5727: ARRAY
5728: PUSH
5729: EMPTY
5730: LIST
5731: LIST
5732: LIST
5733: LIST
5734: ADD
5735: ST_TO_ADDR
// ru2_veh := ru2_veh ^ [ ru_heavy_wheeled , engine_combustion , control_manual , weap [ Rand ( 1 , weap ) ] ] ;
5736: LD_ADDR_EXP 36
5740: PUSH
5741: LD_EXP 36
5745: PUSH
5746: LD_INT 23
5748: PUSH
5749: LD_INT 1
5751: PUSH
5752: LD_INT 1
5754: PUSH
5755: LD_VAR 0 1
5759: PUSH
5760: LD_INT 1
5762: PPUSH
5763: LD_VAR 0 1
5767: PPUSH
5768: CALL_OW 12
5772: ARRAY
5773: PUSH
5774: EMPTY
5775: LIST
5776: LIST
5777: LIST
5778: LIST
5779: ADD
5780: ST_TO_ADDR
// end ;
5781: PPOPN 1
5783: END
// every 0 0$03 do var i , c , p , skr , filter , cargo , dep ;
5784: GO 5786
5786: DISABLE
5787: LD_INT 0
5789: PPUSH
5790: PPUSH
5791: PPUSH
5792: PPUSH
5793: PPUSH
5794: PPUSH
5795: PPUSH
// begin enable ;
5796: ENABLE
// filter := FilterAllUnits ( [ [ f_ok ] , [ f_side , 6 ] , [ f_or , [ f_class , class_engineer ] , [ f_class , class_apeman_engineer ] ] ] ) ;
5797: LD_ADDR_VAR 0 5
5801: PUSH
5802: LD_INT 50
5804: PUSH
5805: EMPTY
5806: LIST
5807: PUSH
5808: LD_INT 22
5810: PUSH
5811: LD_INT 6
5813: PUSH
5814: EMPTY
5815: LIST
5816: LIST
5817: PUSH
5818: LD_INT 2
5820: PUSH
5821: LD_INT 25
5823: PUSH
5824: LD_INT 2
5826: PUSH
5827: EMPTY
5828: LIST
5829: LIST
5830: PUSH
5831: LD_INT 25
5833: PUSH
5834: LD_INT 16
5836: PUSH
5837: EMPTY
5838: LIST
5839: LIST
5840: PUSH
5841: EMPTY
5842: LIST
5843: LIST
5844: LIST
5845: PUSH
5846: EMPTY
5847: LIST
5848: LIST
5849: LIST
5850: PPUSH
5851: CALL_OW 69
5855: ST_TO_ADDR
// cargo := FilterAllUnits ( [ [ f_or , [ f_side , 6 ] , [ f_side , 3 ] ] , [ f_weapon , ru_cargo_bay ] , [ f_lives , 600 ] ] ) ;
5856: LD_ADDR_VAR 0 6
5860: PUSH
5861: LD_INT 2
5863: PUSH
5864: LD_INT 22
5866: PUSH
5867: LD_INT 6
5869: PUSH
5870: EMPTY
5871: LIST
5872: LIST
5873: PUSH
5874: LD_INT 22
5876: PUSH
5877: LD_INT 3
5879: PUSH
5880: EMPTY
5881: LIST
5882: LIST
5883: PUSH
5884: EMPTY
5885: LIST
5886: LIST
5887: LIST
5888: PUSH
5889: LD_INT 34
5891: PUSH
5892: LD_INT 51
5894: PUSH
5895: EMPTY
5896: LIST
5897: LIST
5898: PUSH
5899: LD_INT 24
5901: PUSH
5902: LD_INT 600
5904: PUSH
5905: EMPTY
5906: LIST
5907: LIST
5908: PUSH
5909: EMPTY
5910: LIST
5911: LIST
5912: LIST
5913: PPUSH
5914: CALL_OW 69
5918: ST_TO_ADDR
// dep := FilterAllUnits ( [ [ f_or , [ f_side , 6 ] , [ f_side , 3 ] ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
5919: LD_ADDR_VAR 0 7
5923: PUSH
5924: LD_INT 2
5926: PUSH
5927: LD_INT 22
5929: PUSH
5930: LD_INT 6
5932: PUSH
5933: EMPTY
5934: LIST
5935: LIST
5936: PUSH
5937: LD_INT 22
5939: PUSH
5940: LD_INT 3
5942: PUSH
5943: EMPTY
5944: LIST
5945: LIST
5946: PUSH
5947: EMPTY
5948: LIST
5949: LIST
5950: LIST
5951: PUSH
5952: LD_INT 2
5954: PUSH
5955: LD_INT 30
5957: PUSH
5958: LD_INT 0
5960: PUSH
5961: EMPTY
5962: LIST
5963: LIST
5964: PUSH
5965: LD_INT 30
5967: PUSH
5968: LD_INT 1
5970: PUSH
5971: EMPTY
5972: LIST
5973: LIST
5974: PUSH
5975: EMPTY
5976: LIST
5977: LIST
5978: LIST
5979: PUSH
5980: EMPTY
5981: LIST
5982: LIST
5983: PPUSH
5984: CALL_OW 69
5988: ST_TO_ADDR
// skr = GetListOfCratesInArea ( crates_main_area ) ;
5989: LD_ADDR_VAR 0 4
5993: PUSH
5994: LD_INT 2
5996: PPUSH
5997: CALL_OW 435
6001: ST_TO_ADDR
// c = 1 ;
6002: LD_ADDR_VAR 0 2
6006: PUSH
6007: LD_INT 1
6009: ST_TO_ADDR
// if cargo > 0 then
6010: LD_VAR 0 6
6014: PUSH
6015: LD_INT 0
6017: GREATER
6018: IFFALSE 6312
// while c < skr do
6020: LD_VAR 0 2
6024: PUSH
6025: LD_VAR 0 4
6029: LESS
6030: IFFALSE 6312
// begin if cargo > 0 then
6032: LD_VAR 0 6
6036: PUSH
6037: LD_INT 0
6039: GREATER
6040: IFFALSE 6310
// for i = 1 to cargo do
6042: LD_ADDR_VAR 0 1
6046: PUSH
6047: DOUBLE
6048: LD_INT 1
6050: DEC
6051: ST_TO_ADDR
6052: LD_VAR 0 6
6056: PUSH
6057: FOR_TO
6058: IFFALSE 6308
// begin if GetFuel ( cargo [ i ] ) > 40 and GetDistUnitXY ( cargo [ i ] , skr [ c ] , skr [ c + 1 ] ) < 51 then
6060: LD_VAR 0 6
6064: PUSH
6065: LD_VAR 0 1
6069: ARRAY
6070: PPUSH
6071: CALL_OW 261
6075: PUSH
6076: LD_INT 40
6078: GREATER
6079: PUSH
6080: LD_VAR 0 6
6084: PUSH
6085: LD_VAR 0 1
6089: ARRAY
6090: PPUSH
6091: LD_VAR 0 4
6095: PUSH
6096: LD_VAR 0 2
6100: ARRAY
6101: PPUSH
6102: LD_VAR 0 4
6106: PUSH
6107: LD_VAR 0 2
6111: PUSH
6112: LD_INT 1
6114: PLUS
6115: ARRAY
6116: PPUSH
6117: CALL_OW 297
6121: PUSH
6122: LD_INT 51
6124: LESS
6125: AND
6126: IFFALSE 6169
// ComCollect ( cargo [ i ] , skr [ c ] , skr [ c + 1 ] ) ;
6128: LD_VAR 0 6
6132: PUSH
6133: LD_VAR 0 1
6137: ARRAY
6138: PPUSH
6139: LD_VAR 0 4
6143: PUSH
6144: LD_VAR 0 2
6148: ARRAY
6149: PPUSH
6150: LD_VAR 0 4
6154: PUSH
6155: LD_VAR 0 2
6159: PUSH
6160: LD_INT 1
6162: PLUS
6163: ARRAY
6164: PPUSH
6165: CALL_OW 117
// if GetFuel ( cargo [ i ] ) <= 40 then
6169: LD_VAR 0 6
6173: PUSH
6174: LD_VAR 0 1
6178: ARRAY
6179: PPUSH
6180: CALL_OW 261
6184: PUSH
6185: LD_INT 40
6187: LESSEQUAL
6188: IFFALSE 6292
// begin repeat begin ComMoveXY ( cargo [ i ] , GetX ( dep [ i ] ) , GetY ( dep [ 1 ] ) ) ;
6190: LD_VAR 0 6
6194: PUSH
6195: LD_VAR 0 1
6199: ARRAY
6200: PPUSH
6201: LD_VAR 0 7
6205: PUSH
6206: LD_VAR 0 1
6210: ARRAY
6211: PPUSH
6212: CALL_OW 250
6216: PPUSH
6217: LD_VAR 0 7
6221: PUSH
6222: LD_INT 1
6224: ARRAY
6225: PPUSH
6226: CALL_OW 251
6230: PPUSH
6231: CALL_OW 111
// Wait ( 0 0$01 ) ;
6235: LD_INT 35
6237: PPUSH
6238: CALL_OW 67
// end until GetDistUnits ( cargo [ i ] , dep [ i ] ) < 7 ;
6242: LD_VAR 0 6
6246: PUSH
6247: LD_VAR 0 1
6251: ARRAY
6252: PPUSH
6253: LD_VAR 0 7
6257: PUSH
6258: LD_VAR 0 1
6262: ARRAY
6263: PPUSH
6264: CALL_OW 296
6268: PUSH
6269: LD_INT 7
6271: LESS
6272: IFFALSE 6190
// SetFuel ( cargo [ i ] , 100 ) ;
6274: LD_VAR 0 6
6278: PUSH
6279: LD_VAR 0 1
6283: ARRAY
6284: PPUSH
6285: LD_INT 100
6287: PPUSH
6288: CALL_OW 240
// end ; c = c + 2 ;
6292: LD_ADDR_VAR 0 2
6296: PUSH
6297: LD_VAR 0 2
6301: PUSH
6302: LD_INT 2
6304: PLUS
6305: ST_TO_ADDR
// end ;
6306: GO 6057
6308: POP
6309: POP
// end ;
6310: GO 6020
// end ;
6312: PPOPN 7
6314: END
// every 0 0$01 do var i , p , un , filter , h_dmgunit , b_dmgunit , b_unit , b_weap , b_upgrade , b_fac , b_labb , b_ext , enemy_detected ;
6315: GO 6317
6317: DISABLE
6318: LD_INT 0
6320: PPUSH
6321: PPUSH
6322: PPUSH
6323: PPUSH
6324: PPUSH
6325: PPUSH
6326: PPUSH
6327: PPUSH
6328: PPUSH
6329: PPUSH
6330: PPUSH
6331: PPUSH
6332: PPUSH
// begin enable ;
6333: ENABLE
// ru2_sold := FilterAllUnits ( [ [ [ f_side , 3 ] , [ f_class , 1 ] , [ f_lives , 600 ] ] ] ) ;
6334: LD_ADDR_EXP 32
6338: PUSH
6339: LD_INT 22
6341: PUSH
6342: LD_INT 3
6344: PUSH
6345: EMPTY
6346: LIST
6347: LIST
6348: PUSH
6349: LD_INT 25
6351: PUSH
6352: LD_INT 1
6354: PUSH
6355: EMPTY
6356: LIST
6357: LIST
6358: PUSH
6359: LD_INT 24
6361: PUSH
6362: LD_INT 600
6364: PUSH
6365: EMPTY
6366: LIST
6367: LIST
6368: PUSH
6369: EMPTY
6370: LIST
6371: LIST
6372: LIST
6373: PUSH
6374: EMPTY
6375: LIST
6376: PPUSH
6377: CALL_OW 69
6381: ST_TO_ADDR
// ru2_eng := FilterAllUnits ( [ [ [ f_side , 3 ] , [ f_class , 2 ] , [ f_lives , 600 ] ] ] ) ;
6382: LD_ADDR_EXP 37
6386: PUSH
6387: LD_INT 22
6389: PUSH
6390: LD_INT 3
6392: PUSH
6393: EMPTY
6394: LIST
6395: LIST
6396: PUSH
6397: LD_INT 25
6399: PUSH
6400: LD_INT 2
6402: PUSH
6403: EMPTY
6404: LIST
6405: LIST
6406: PUSH
6407: LD_INT 24
6409: PUSH
6410: LD_INT 600
6412: PUSH
6413: EMPTY
6414: LIST
6415: LIST
6416: PUSH
6417: EMPTY
6418: LIST
6419: LIST
6420: LIST
6421: PUSH
6422: EMPTY
6423: LIST
6424: PPUSH
6425: CALL_OW 69
6429: ST_TO_ADDR
// ru2_mech := FilterAllUnits ( [ [ [ f_side , 3 ] , [ f_class , 3 ] , [ f_lives , 600 ] ] ] ) ;
6430: LD_ADDR_EXP 38
6434: PUSH
6435: LD_INT 22
6437: PUSH
6438: LD_INT 3
6440: PUSH
6441: EMPTY
6442: LIST
6443: LIST
6444: PUSH
6445: LD_INT 25
6447: PUSH
6448: LD_INT 3
6450: PUSH
6451: EMPTY
6452: LIST
6453: LIST
6454: PUSH
6455: LD_INT 24
6457: PUSH
6458: LD_INT 600
6460: PUSH
6461: EMPTY
6462: LIST
6463: LIST
6464: PUSH
6465: EMPTY
6466: LIST
6467: LIST
6468: LIST
6469: PUSH
6470: EMPTY
6471: LIST
6472: PPUSH
6473: CALL_OW 69
6477: ST_TO_ADDR
// ru2_sci := FilterAllUnits ( [ [ [ f_side , 3 ] , [ f_class , 4 ] , [ f_lives , 600 ] ] ] ) ;
6478: LD_ADDR_EXP 39
6482: PUSH
6483: LD_INT 22
6485: PUSH
6486: LD_INT 3
6488: PUSH
6489: EMPTY
6490: LIST
6491: LIST
6492: PUSH
6493: LD_INT 25
6495: PUSH
6496: LD_INT 4
6498: PUSH
6499: EMPTY
6500: LIST
6501: LIST
6502: PUSH
6503: LD_INT 24
6505: PUSH
6506: LD_INT 600
6508: PUSH
6509: EMPTY
6510: LIST
6511: LIST
6512: PUSH
6513: EMPTY
6514: LIST
6515: LIST
6516: LIST
6517: PUSH
6518: EMPTY
6519: LIST
6520: PPUSH
6521: CALL_OW 69
6525: ST_TO_ADDR
// ru2_tw := FilterAllUnits ( [ [ [ f_side , 3 ] , [ f_or , [ f_btype , b_breastwork ] , [ f_btype , b_bunker ] ] , [ f_lives , 250 ] ] ] ) ;
6526: LD_ADDR_EXP 34
6530: PUSH
6531: LD_INT 22
6533: PUSH
6534: LD_INT 3
6536: PUSH
6537: EMPTY
6538: LIST
6539: LIST
6540: PUSH
6541: LD_INT 2
6543: PUSH
6544: LD_INT 30
6546: PUSH
6547: LD_INT 31
6549: PUSH
6550: EMPTY
6551: LIST
6552: LIST
6553: PUSH
6554: LD_INT 30
6556: PUSH
6557: LD_INT 32
6559: PUSH
6560: EMPTY
6561: LIST
6562: LIST
6563: PUSH
6564: EMPTY
6565: LIST
6566: LIST
6567: LIST
6568: PUSH
6569: LD_INT 24
6571: PUSH
6572: LD_INT 250
6574: PUSH
6575: EMPTY
6576: LIST
6577: LIST
6578: PUSH
6579: EMPTY
6580: LIST
6581: LIST
6582: LIST
6583: PUSH
6584: EMPTY
6585: LIST
6586: PPUSH
6587: CALL_OW 69
6591: ST_TO_ADDR
// ru2_b := FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_building ] ] ) ;
6592: LD_ADDR_EXP 41
6596: PUSH
6597: LD_INT 22
6599: PUSH
6600: LD_INT 3
6602: PUSH
6603: EMPTY
6604: LIST
6605: LIST
6606: PUSH
6607: LD_INT 21
6609: PUSH
6610: LD_INT 3
6612: PUSH
6613: EMPTY
6614: LIST
6615: LIST
6616: PUSH
6617: EMPTY
6618: LIST
6619: LIST
6620: PPUSH
6621: CALL_OW 69
6625: ST_TO_ADDR
// b_dmgunit := FilterUnitsInArea ( beria_defa , [ [ [ f_side , 3 ] , [ f_type , unit_building ] , [ f_not , [ f_lives , 1000 ] ] ] ] ) ;
6626: LD_ADDR_VAR 0 6
6630: PUSH
6631: LD_INT 17
6633: PPUSH
6634: LD_INT 22
6636: PUSH
6637: LD_INT 3
6639: PUSH
6640: EMPTY
6641: LIST
6642: LIST
6643: PUSH
6644: LD_INT 21
6646: PUSH
6647: LD_INT 3
6649: PUSH
6650: EMPTY
6651: LIST
6652: LIST
6653: PUSH
6654: LD_INT 3
6656: PUSH
6657: LD_INT 24
6659: PUSH
6660: LD_INT 1000
6662: PUSH
6663: EMPTY
6664: LIST
6665: LIST
6666: PUSH
6667: EMPTY
6668: LIST
6669: LIST
6670: PUSH
6671: EMPTY
6672: LIST
6673: LIST
6674: LIST
6675: PUSH
6676: EMPTY
6677: LIST
6678: PPUSH
6679: CALL_OW 70
6683: ST_TO_ADDR
// h_dmgunit := FilterAllUnits ( [ [ [ f_side , 3 ] , [ f_type , unit_human ] , [ f_not , [ f_lives , 600 ] ] ] ] ) ;
6684: LD_ADDR_VAR 0 5
6688: PUSH
6689: LD_INT 22
6691: PUSH
6692: LD_INT 3
6694: PUSH
6695: EMPTY
6696: LIST
6697: LIST
6698: PUSH
6699: LD_INT 21
6701: PUSH
6702: LD_INT 1
6704: PUSH
6705: EMPTY
6706: LIST
6707: LIST
6708: PUSH
6709: LD_INT 3
6711: PUSH
6712: LD_INT 24
6714: PUSH
6715: LD_INT 600
6717: PUSH
6718: EMPTY
6719: LIST
6720: LIST
6721: PUSH
6722: EMPTY
6723: LIST
6724: LIST
6725: PUSH
6726: EMPTY
6727: LIST
6728: LIST
6729: LIST
6730: PUSH
6731: EMPTY
6732: LIST
6733: PPUSH
6734: CALL_OW 69
6738: ST_TO_ADDR
// if FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_factory ] ] ) then
6739: LD_INT 22
6741: PUSH
6742: LD_INT 3
6744: PUSH
6745: EMPTY
6746: LIST
6747: LIST
6748: PUSH
6749: LD_INT 30
6751: PUSH
6752: LD_INT 3
6754: PUSH
6755: EMPTY
6756: LIST
6757: LIST
6758: PUSH
6759: EMPTY
6760: LIST
6761: LIST
6762: PPUSH
6763: CALL_OW 69
6767: IFFALSE 6807
// b_fac := FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_factory ] ] ) [ 1 ] ;
6769: LD_ADDR_VAR 0 10
6773: PUSH
6774: LD_INT 22
6776: PUSH
6777: LD_INT 3
6779: PUSH
6780: EMPTY
6781: LIST
6782: LIST
6783: PUSH
6784: LD_INT 30
6786: PUSH
6787: LD_INT 3
6789: PUSH
6790: EMPTY
6791: LIST
6792: LIST
6793: PUSH
6794: EMPTY
6795: LIST
6796: LIST
6797: PPUSH
6798: CALL_OW 69
6802: PUSH
6803: LD_INT 1
6805: ARRAY
6806: ST_TO_ADDR
// if FilterAllUnits ( [ [ f_side , 3 ] , [ f_or , [ f_btype , b_lab ] , [ f_btype , b_lab_half ] , [ f_btype , b_lab_full ] ] ] ) then
6807: LD_INT 22
6809: PUSH
6810: LD_INT 3
6812: PUSH
6813: EMPTY
6814: LIST
6815: LIST
6816: PUSH
6817: LD_INT 2
6819: PUSH
6820: LD_INT 30
6822: PUSH
6823: LD_INT 6
6825: PUSH
6826: EMPTY
6827: LIST
6828: LIST
6829: PUSH
6830: LD_INT 30
6832: PUSH
6833: LD_INT 7
6835: PUSH
6836: EMPTY
6837: LIST
6838: LIST
6839: PUSH
6840: LD_INT 30
6842: PUSH
6843: LD_INT 8
6845: PUSH
6846: EMPTY
6847: LIST
6848: LIST
6849: PUSH
6850: EMPTY
6851: LIST
6852: LIST
6853: LIST
6854: LIST
6855: PUSH
6856: EMPTY
6857: LIST
6858: LIST
6859: PPUSH
6860: CALL_OW 69
6864: IFFALSE 6933
// b_labb := FilterAllUnits ( [ [ f_side , 3 ] , [ f_or , [ f_btype , b_lab ] , [ f_btype , b_lab_half ] , [ f_btype , b_lab_full ] ] ] ) [ 1 ] ;
6866: LD_ADDR_VAR 0 11
6870: PUSH
6871: LD_INT 22
6873: PUSH
6874: LD_INT 3
6876: PUSH
6877: EMPTY
6878: LIST
6879: LIST
6880: PUSH
6881: LD_INT 2
6883: PUSH
6884: LD_INT 30
6886: PUSH
6887: LD_INT 6
6889: PUSH
6890: EMPTY
6891: LIST
6892: LIST
6893: PUSH
6894: LD_INT 30
6896: PUSH
6897: LD_INT 7
6899: PUSH
6900: EMPTY
6901: LIST
6902: LIST
6903: PUSH
6904: LD_INT 30
6906: PUSH
6907: LD_INT 8
6909: PUSH
6910: EMPTY
6911: LIST
6912: LIST
6913: PUSH
6914: EMPTY
6915: LIST
6916: LIST
6917: LIST
6918: LIST
6919: PUSH
6920: EMPTY
6921: LIST
6922: LIST
6923: PPUSH
6924: CALL_OW 69
6928: PUSH
6929: LD_INT 1
6931: ARRAY
6932: ST_TO_ADDR
// b_weap := AvailableWeaponList ( b_fac ) diff [ ru_crane , ru_cargo_bay , ru_bulldozer ] ;
6933: LD_ADDR_VAR 0 8
6937: PUSH
6938: LD_VAR 0 10
6942: PPUSH
6943: CALL_OW 478
6947: PUSH
6948: LD_INT 52
6950: PUSH
6951: LD_INT 51
6953: PUSH
6954: LD_INT 53
6956: PUSH
6957: EMPTY
6958: LIST
6959: LIST
6960: LIST
6961: DIFF
6962: ST_TO_ADDR
// b_upgrade := [ b_depot , b_armoury , b_workshop ] ;
6963: LD_ADDR_VAR 0 9
6967: PUSH
6968: LD_INT 0
6970: PUSH
6971: LD_INT 4
6973: PUSH
6974: LD_INT 2
6976: PUSH
6977: EMPTY
6978: LIST
6979: LIST
6980: LIST
6981: ST_TO_ADDR
// b_ext := [ ] ;
6982: LD_ADDR_VAR 0 12
6986: PUSH
6987: EMPTY
6988: ST_TO_ADDR
// if FilterUnitsInArea ( beria_strict , [ f_or , [ f_side , 1 ] , [ f_side , 2 ] ] ) diff FilterAllUnits ( [ f_weapon , us_radar ] ) > 0 then
6989: LD_INT 11
6991: PPUSH
6992: LD_INT 2
6994: PUSH
6995: LD_INT 22
6997: PUSH
6998: LD_INT 1
7000: PUSH
7001: EMPTY
7002: LIST
7003: LIST
7004: PUSH
7005: LD_INT 22
7007: PUSH
7008: LD_INT 2
7010: PUSH
7011: EMPTY
7012: LIST
7013: LIST
7014: PUSH
7015: EMPTY
7016: LIST
7017: LIST
7018: LIST
7019: PPUSH
7020: CALL_OW 70
7024: PUSH
7025: LD_INT 34
7027: PUSH
7028: LD_INT 11
7030: PUSH
7031: EMPTY
7032: LIST
7033: LIST
7034: PPUSH
7035: CALL_OW 69
7039: PUSH
7040: LD_INT 0
7042: GREATER
7043: DIFF
7044: IFFALSE 7056
// enemy_detected := true else
7046: LD_ADDR_VAR 0 13
7050: PUSH
7051: LD_INT 1
7053: ST_TO_ADDR
7054: GO 7064
// enemy_detected := false ;
7056: LD_ADDR_VAR 0 13
7060: PUSH
7061: LD_INT 0
7063: ST_TO_ADDR
// if enemy_detected = false then
7064: LD_VAR 0 13
7068: PUSH
7069: LD_INT 0
7071: EQUAL
7072: IFFALSE 7173
// for i = 1 to ru2_b do
7074: LD_ADDR_VAR 0 1
7078: PUSH
7079: DOUBLE
7080: LD_INT 1
7082: DEC
7083: ST_TO_ADDR
7084: LD_EXP 41
7088: PUSH
7089: FOR_TO
7090: IFFALSE 7171
// begin if GetBType ( ru2_b [ i ] ) in b_upgrade then
7092: LD_EXP 41
7096: PUSH
7097: LD_VAR 0 1
7101: ARRAY
7102: PPUSH
7103: CALL_OW 266
7107: PUSH
7108: LD_VAR 0 9
7112: IN
7113: IFFALSE 7130
// ComUpgrade ( ru2_b [ i ] ) ;
7115: LD_EXP 41
7119: PUSH
7120: LD_VAR 0 1
7124: ARRAY
7125: PPUSH
7126: CALL_OW 146
// if GetBType ( ru2_b [ i ] ) in b_lab then
7130: LD_EXP 41
7134: PUSH
7135: LD_VAR 0 1
7139: ARRAY
7140: PPUSH
7141: CALL_OW 266
7145: PUSH
7146: LD_INT 6
7148: IN
7149: IFFALSE 7169
// ComUpgradeLab ( ru2_b [ i ] , b_lab_weapon ) ;
7151: LD_EXP 41
7155: PUSH
7156: LD_VAR 0 1
7160: ARRAY
7161: PPUSH
7162: LD_INT 10
7164: PPUSH
7165: CALL_OW 147
// end ;
7169: GO 7089
7171: POP
7172: POP
// if ru2_sold > 0 then
7173: LD_EXP 32
7177: PUSH
7178: LD_INT 0
7180: GREATER
7181: IFFALSE 7644
// begin filter := UnitFilter ( ru2_sold , [ f_not , [ f_inside ] ] ) ;
7183: LD_ADDR_VAR 0 4
7187: PUSH
7188: LD_EXP 32
7192: PPUSH
7193: LD_INT 3
7195: PUSH
7196: LD_INT 54
7198: PUSH
7199: EMPTY
7200: LIST
7201: PUSH
7202: EMPTY
7203: LIST
7204: LIST
7205: PPUSH
7206: CALL_OW 72
7210: ST_TO_ADDR
// if UnitFilter ( ru2_tw , [ f_empty ] ) > 0 then
7211: LD_EXP 34
7215: PPUSH
7216: LD_INT 58
7218: PUSH
7219: EMPTY
7220: LIST
7221: PPUSH
7222: CALL_OW 72
7226: PUSH
7227: LD_INT 0
7229: GREATER
7230: IFFALSE 7345
// begin if filter = 0 then
7232: LD_VAR 0 4
7236: PUSH
7237: LD_INT 0
7239: EQUAL
7240: IFFALSE 7265
// ComExitBuilding ( ru2_sold [ Rand ( 1 , ru2_sold ) ] ) ;
7242: LD_EXP 32
7246: PUSH
7247: LD_INT 1
7249: PPUSH
7250: LD_EXP 32
7254: PPUSH
7255: CALL_OW 12
7259: ARRAY
7260: PPUSH
7261: CALL_OW 122
// if filter > 0 then
7265: LD_VAR 0 4
7269: PUSH
7270: LD_INT 0
7272: GREATER
7273: IFFALSE 7345
// for i = 1 to UnitFilter ( ru2_tw , [ f_empty ] ) do
7275: LD_ADDR_VAR 0 1
7279: PUSH
7280: DOUBLE
7281: LD_INT 1
7283: DEC
7284: ST_TO_ADDR
7285: LD_EXP 34
7289: PPUSH
7290: LD_INT 58
7292: PUSH
7293: EMPTY
7294: LIST
7295: PPUSH
7296: CALL_OW 72
7300: PUSH
7301: FOR_TO
7302: IFFALSE 7343
// ComEnterUnit ( filter [ i ] , UnitFilter ( ru2_tw , [ f_empty ] ) [ i ] ) ;
7304: LD_VAR 0 4
7308: PUSH
7309: LD_VAR 0 1
7313: ARRAY
7314: PPUSH
7315: LD_EXP 34
7319: PPUSH
7320: LD_INT 58
7322: PUSH
7323: EMPTY
7324: LIST
7325: PPUSH
7326: CALL_OW 72
7330: PUSH
7331: LD_VAR 0 1
7335: ARRAY
7336: PPUSH
7337: CALL_OW 120
7341: GO 7301
7343: POP
7344: POP
// end ; if UnitFilter ( ru2_tw , [ f_empty ] ) = 0 then
7345: LD_EXP 34
7349: PPUSH
7350: LD_INT 58
7352: PUSH
7353: EMPTY
7354: LIST
7355: PPUSH
7356: CALL_OW 72
7360: PUSH
7361: LD_INT 0
7363: EQUAL
7364: IFFALSE 7519
// begin b_unit := FilterAllUnits ( [ [ f_side , 3 ] , [ f_or , [ f_btype , b_armoury ] , [ f_btype , b_barracks ] ] ] ) ;
7366: LD_ADDR_VAR 0 7
7370: PUSH
7371: LD_INT 22
7373: PUSH
7374: LD_INT 3
7376: PUSH
7377: EMPTY
7378: LIST
7379: LIST
7380: PUSH
7381: LD_INT 2
7383: PUSH
7384: LD_INT 30
7386: PUSH
7387: LD_INT 4
7389: PUSH
7390: EMPTY
7391: LIST
7392: LIST
7393: PUSH
7394: LD_INT 30
7396: PUSH
7397: LD_INT 5
7399: PUSH
7400: EMPTY
7401: LIST
7402: LIST
7403: PUSH
7404: EMPTY
7405: LIST
7406: LIST
7407: LIST
7408: PUSH
7409: EMPTY
7410: LIST
7411: LIST
7412: PPUSH
7413: CALL_OW 69
7417: ST_TO_ADDR
// if b_unit > 0 then
7418: LD_VAR 0 7
7422: PUSH
7423: LD_INT 0
7425: GREATER
7426: IFFALSE 7519
// for p = 1 to b_unit do
7428: LD_ADDR_VAR 0 2
7432: PUSH
7433: DOUBLE
7434: LD_INT 1
7436: DEC
7437: ST_TO_ADDR
7438: LD_VAR 0 7
7442: PUSH
7443: FOR_TO
7444: IFFALSE 7517
// if UnitsInSide ( b_unit [ p ] ) < 6 then
7446: LD_VAR 0 7
7450: PUSH
7451: LD_VAR 0 2
7455: ARRAY
7456: PPUSH
7457: CALL_OW 313
7461: PUSH
7462: LD_INT 6
7464: LESS
7465: IFFALSE 7515
// for i = 1 to filter do
7467: LD_ADDR_VAR 0 1
7471: PUSH
7472: DOUBLE
7473: LD_INT 1
7475: DEC
7476: ST_TO_ADDR
7477: LD_VAR 0 4
7481: PUSH
7482: FOR_TO
7483: IFFALSE 7513
// ComEnterUnit ( filter [ i ] , b_unit [ p ] ) ;
7485: LD_VAR 0 4
7489: PUSH
7490: LD_VAR 0 1
7494: ARRAY
7495: PPUSH
7496: LD_VAR 0 7
7500: PUSH
7501: LD_VAR 0 2
7505: ARRAY
7506: PPUSH
7507: CALL_OW 120
7511: GO 7482
7513: POP
7514: POP
7515: GO 7443
7517: POP
7518: POP
// end ; if UnitFilter ( ru2_tw , [ [ f_btype , b_bunker ] , [ f_bweapon , 0 ] ] ) > 0 then
7519: LD_EXP 34
7523: PPUSH
7524: LD_INT 30
7526: PUSH
7527: LD_INT 32
7529: PUSH
7530: EMPTY
7531: LIST
7532: LIST
7533: PUSH
7534: LD_INT 35
7536: PUSH
7537: LD_INT 0
7539: PUSH
7540: EMPTY
7541: LIST
7542: LIST
7543: PUSH
7544: EMPTY
7545: LIST
7546: LIST
7547: PPUSH
7548: CALL_OW 72
7552: PUSH
7553: LD_INT 0
7555: GREATER
7556: IFFALSE 7644
// begin filter := UnitFilter ( ru2_tw , [ [ f_btype , b_bunker ] , [ f_bweapon , 0 ] ] ) ;
7558: LD_ADDR_VAR 0 4
7562: PUSH
7563: LD_EXP 34
7567: PPUSH
7568: LD_INT 30
7570: PUSH
7571: LD_INT 32
7573: PUSH
7574: EMPTY
7575: LIST
7576: LIST
7577: PUSH
7578: LD_INT 35
7580: PUSH
7581: LD_INT 0
7583: PUSH
7584: EMPTY
7585: LIST
7586: LIST
7587: PUSH
7588: EMPTY
7589: LIST
7590: LIST
7591: PPUSH
7592: CALL_OW 72
7596: ST_TO_ADDR
// if BuildingStatus ( b_fac ) = bs_idle then
7597: LD_VAR 0 10
7601: PPUSH
7602: CALL_OW 461
7606: PUSH
7607: LD_INT 2
7609: EQUAL
7610: IFFALSE 7644
// ComPlaceWeapon ( filter [ 1 ] , b_weap [ Rand ( 1 , b_weap ) ] ) ;
7612: LD_VAR 0 4
7616: PUSH
7617: LD_INT 1
7619: ARRAY
7620: PPUSH
7621: LD_VAR 0 8
7625: PUSH
7626: LD_INT 1
7628: PPUSH
7629: LD_VAR 0 8
7633: PPUSH
7634: CALL_OW 12
7638: ARRAY
7639: PPUSH
7640: CALL_OW 148
// end ; end ; if b_fac > 0 and ru2_mech > 0 then
7644: LD_VAR 0 10
7648: PUSH
7649: LD_INT 0
7651: GREATER
7652: PUSH
7653: LD_EXP 38
7657: PUSH
7658: LD_INT 0
7660: GREATER
7661: AND
7662: IFFALSE 7724
// for i = 1 to ru2_mech do
7664: LD_ADDR_VAR 0 1
7668: PUSH
7669: DOUBLE
7670: LD_INT 1
7672: DEC
7673: ST_TO_ADDR
7674: LD_EXP 38
7678: PUSH
7679: FOR_TO
7680: IFFALSE 7722
// if not IsInUnit ( ru2_mech [ i ] ) then
7682: LD_EXP 38
7686: PUSH
7687: LD_VAR 0 1
7691: ARRAY
7692: PPUSH
7693: CALL_OW 310
7697: NOT
7698: IFFALSE 7720
// ComEnterUnit ( ru2_mech [ i ] , b_fac ) ;
7700: LD_EXP 38
7704: PUSH
7705: LD_VAR 0 1
7709: ARRAY
7710: PPUSH
7711: LD_VAR 0 10
7715: PPUSH
7716: CALL_OW 120
7720: GO 7679
7722: POP
7723: POP
// if b_fac > 0 and ru2_veh > 0 then
7724: LD_VAR 0 10
7728: PUSH
7729: LD_INT 0
7731: GREATER
7732: PUSH
7733: LD_EXP 36
7737: PUSH
7738: LD_INT 0
7740: GREATER
7741: AND
7742: IFFALSE 7842
// if BuildingStatus ( b_fac ) = bs_idle then
7744: LD_VAR 0 10
7748: PPUSH
7749: CALL_OW 461
7753: PUSH
7754: LD_INT 2
7756: EQUAL
7757: IFFALSE 7842
// begin ComConstruct ( b_fac , ru2_veh [ 1 ] , ru2_veh [ 2 ] , ru2_veh [ 3 ] , ru2_veh [ 4 ] ) ;
7759: LD_VAR 0 10
7763: PPUSH
7764: LD_EXP 36
7768: PUSH
7769: LD_INT 1
7771: ARRAY
7772: PPUSH
7773: LD_EXP 36
7777: PUSH
7778: LD_INT 2
7780: ARRAY
7781: PPUSH
7782: LD_EXP 36
7786: PUSH
7787: LD_INT 3
7789: ARRAY
7790: PPUSH
7791: LD_EXP 36
7795: PUSH
7796: LD_INT 4
7798: ARRAY
7799: PPUSH
7800: CALL_OW 125
// for i = 1 to 4 do
7804: LD_ADDR_VAR 0 1
7808: PUSH
7809: DOUBLE
7810: LD_INT 1
7812: DEC
7813: ST_TO_ADDR
7814: LD_INT 4
7816: PUSH
7817: FOR_TO
7818: IFFALSE 7840
// ru2_veh := Delete ( ru2_veh , 1 ) ;
7820: LD_ADDR_EXP 36
7824: PUSH
7825: LD_EXP 36
7829: PPUSH
7830: LD_INT 1
7832: PPUSH
7833: CALL_OW 3
7837: ST_TO_ADDR
7838: GO 7817
7840: POP
7841: POP
// end ; if ru2_bul > 0 and enemy_detected = false then
7842: LD_EXP 40
7846: PUSH
7847: LD_INT 0
7849: GREATER
7850: PUSH
7851: LD_VAR 0 13
7855: PUSH
7856: LD_INT 0
7858: EQUAL
7859: AND
7860: IFFALSE 7963
// if ru2_eng > 0 then
7862: LD_EXP 37
7866: PUSH
7867: LD_INT 0
7869: GREATER
7870: IFFALSE 7963
// for i = 1 to ru2_eng do
7872: LD_ADDR_VAR 0 1
7876: PUSH
7877: DOUBLE
7878: LD_INT 1
7880: DEC
7881: ST_TO_ADDR
7882: LD_EXP 37
7886: PUSH
7887: FOR_TO
7888: IFFALSE 7961
// if not HasTask ( ru2_eng [ i ] ) then
7890: LD_EXP 37
7894: PUSH
7895: LD_VAR 0 1
7899: ARRAY
7900: PPUSH
7901: CALL_OW 314
7905: NOT
7906: IFFALSE 7959
// begin ComBuild ( ru2_eng [ i ] , ru2_bul [ 1 ] , ru2_bul [ 2 ] , ru2_bul [ 3 ] , ru2_bul [ 4 ] ) ;
7908: LD_EXP 37
7912: PUSH
7913: LD_VAR 0 1
7917: ARRAY
7918: PPUSH
7919: LD_EXP 40
7923: PUSH
7924: LD_INT 1
7926: ARRAY
7927: PPUSH
7928: LD_EXP 40
7932: PUSH
7933: LD_INT 2
7935: ARRAY
7936: PPUSH
7937: LD_EXP 40
7941: PUSH
7942: LD_INT 3
7944: ARRAY
7945: PPUSH
7946: LD_EXP 40
7950: PUSH
7951: LD_INT 4
7953: ARRAY
7954: PPUSH
7955: CALL_OW 145
// end ;
7959: GO 7887
7961: POP
7962: POP
// for i = 1 to ru2_b do
7963: LD_ADDR_VAR 0 1
7967: PUSH
7968: DOUBLE
7969: LD_INT 1
7971: DEC
7972: ST_TO_ADDR
7973: LD_EXP 41
7977: PUSH
7978: FOR_TO
7979: IFFALSE 8167
// if BuildingStatus ( ru2_b [ i ] ) = bs_need_extension then
7981: LD_EXP 41
7985: PUSH
7986: LD_VAR 0 1
7990: ARRAY
7991: PPUSH
7992: CALL_OW 461
7996: PUSH
7997: LD_INT 8
7999: EQUAL
8000: IFFALSE 8165
// begin b_ext := GetExtPositions ( ru2_b [ i ] ) ;
8002: LD_ADDR_VAR 0 12
8006: PUSH
8007: LD_EXP 41
8011: PUSH
8012: LD_VAR 0 1
8016: ARRAY
8017: PPUSH
8018: CALL_OW 270
8022: ST_TO_ADDR
// if b_ext > 0 and not b_ext_gun in ru2_bul then
8023: LD_VAR 0 12
8027: PUSH
8028: LD_INT 0
8030: GREATER
8031: PUSH
8032: LD_INT 17
8034: PUSH
8035: LD_EXP 40
8039: IN
8040: NOT
8041: AND
8042: IFFALSE 8165
// ru2_bul := ru2_bul ^ [ b_ext_noncombat , b_ext [ 1 ] [ 1 ] , b_ext [ 1 ] [ 2 ] , 3 , b_ext_track , b_ext [ 2 ] [ 1 ] , b_ext [ 2 ] [ 2 ] , 5 , b_ext_gun , b_ext [ 3 ] [ 1 ] , b_ext [ 3 ] [ 2 ] , 2 ] ;
8044: LD_ADDR_EXP 40
8048: PUSH
8049: LD_EXP 40
8053: PUSH
8054: LD_INT 19
8056: PUSH
8057: LD_VAR 0 12
8061: PUSH
8062: LD_INT 1
8064: ARRAY
8065: PUSH
8066: LD_INT 1
8068: ARRAY
8069: PUSH
8070: LD_VAR 0 12
8074: PUSH
8075: LD_INT 1
8077: ARRAY
8078: PUSH
8079: LD_INT 2
8081: ARRAY
8082: PUSH
8083: LD_INT 3
8085: PUSH
8086: LD_INT 16
8088: PUSH
8089: LD_VAR 0 12
8093: PUSH
8094: LD_INT 2
8096: ARRAY
8097: PUSH
8098: LD_INT 1
8100: ARRAY
8101: PUSH
8102: LD_VAR 0 12
8106: PUSH
8107: LD_INT 2
8109: ARRAY
8110: PUSH
8111: LD_INT 2
8113: ARRAY
8114: PUSH
8115: LD_INT 5
8117: PUSH
8118: LD_INT 17
8120: PUSH
8121: LD_VAR 0 12
8125: PUSH
8126: LD_INT 3
8128: ARRAY
8129: PUSH
8130: LD_INT 1
8132: ARRAY
8133: PUSH
8134: LD_VAR 0 12
8138: PUSH
8139: LD_INT 3
8141: ARRAY
8142: PUSH
8143: LD_INT 2
8145: ARRAY
8146: PUSH
8147: LD_INT 2
8149: PUSH
8150: EMPTY
8151: LIST
8152: LIST
8153: LIST
8154: LIST
8155: LIST
8156: LIST
8157: LIST
8158: LIST
8159: LIST
8160: LIST
8161: LIST
8162: LIST
8163: ADD
8164: ST_TO_ADDR
// end ;
8165: GO 7978
8167: POP
8168: POP
// if b_dmgunit > 0 then
8169: LD_VAR 0 6
8173: PUSH
8174: LD_INT 0
8176: GREATER
8177: IFFALSE 8362
// begin if ru2_eng > 0 then
8179: LD_EXP 37
8183: PUSH
8184: LD_INT 0
8186: GREATER
8187: IFFALSE 8267
// for i = 1 to ru2_eng do
8189: LD_ADDR_VAR 0 1
8193: PUSH
8194: DOUBLE
8195: LD_INT 1
8197: DEC
8198: ST_TO_ADDR
8199: LD_EXP 37
8203: PUSH
8204: FOR_TO
8205: IFFALSE 8265
// begin if IsInUnit ( ru2_eng [ i ] ) then
8207: LD_EXP 37
8211: PUSH
8212: LD_VAR 0 1
8216: ARRAY
8217: PPUSH
8218: CALL_OW 310
8222: IFFALSE 8239
// ComExitBuilding ( ru2_eng [ i ] ) ;
8224: LD_EXP 37
8228: PUSH
8229: LD_VAR 0 1
8233: ARRAY
8234: PPUSH
8235: CALL_OW 122
// ComRepairBuilding ( ru2_eng [ i ] , b_dmgunit [ 1 ] ) ;
8239: LD_EXP 37
8243: PUSH
8244: LD_VAR 0 1
8248: ARRAY
8249: PPUSH
8250: LD_VAR 0 6
8254: PUSH
8255: LD_INT 1
8257: ARRAY
8258: PPUSH
8259: CALL_OW 130
// end ;
8263: GO 8204
8265: POP
8266: POP
// if FilterAllUnits ( [ [ f_side , 3 ] , [ f_weapon , ru_crane ] ] ) > 0 then
8267: LD_INT 22
8269: PUSH
8270: LD_INT 3
8272: PUSH
8273: EMPTY
8274: LIST
8275: LIST
8276: PUSH
8277: LD_INT 34
8279: PUSH
8280: LD_INT 52
8282: PUSH
8283: EMPTY
8284: LIST
8285: LIST
8286: PUSH
8287: EMPTY
8288: LIST
8289: LIST
8290: PPUSH
8291: CALL_OW 69
8295: PUSH
8296: LD_INT 0
8298: GREATER
8299: IFFALSE 8360
// for p in FilterAllUnits ( [ [ f_side , 3 ] , [ f_weapon , ru_crane ] ] ) do
8301: LD_ADDR_VAR 0 2
8305: PUSH
8306: LD_INT 22
8308: PUSH
8309: LD_INT 3
8311: PUSH
8312: EMPTY
8313: LIST
8314: LIST
8315: PUSH
8316: LD_INT 34
8318: PUSH
8319: LD_INT 52
8321: PUSH
8322: EMPTY
8323: LIST
8324: LIST
8325: PUSH
8326: EMPTY
8327: LIST
8328: LIST
8329: PPUSH
8330: CALL_OW 69
8334: PUSH
8335: FOR_IN
8336: IFFALSE 8358
// ComRepairBuilding ( p , b_dmgunit [ 1 ] ) ;
8338: LD_VAR 0 2
8342: PPUSH
8343: LD_VAR 0 6
8347: PUSH
8348: LD_INT 1
8350: ARRAY
8351: PPUSH
8352: CALL_OW 130
8356: GO 8335
8358: POP
8359: POP
// end else
8360: GO 8490
// if ru2_bul = 0 then
8362: LD_EXP 40
8366: PUSH
8367: LD_INT 0
8369: EQUAL
8370: IFFALSE 8490
// for i = 1 to ru2_eng do
8372: LD_ADDR_VAR 0 1
8376: PUSH
8377: DOUBLE
8378: LD_INT 1
8380: DEC
8381: ST_TO_ADDR
8382: LD_EXP 37
8386: PUSH
8387: FOR_TO
8388: IFFALSE 8488
// if not HasTask ( ru2_eng [ i ] ) then
8390: LD_EXP 37
8394: PUSH
8395: LD_VAR 0 1
8399: ARRAY
8400: PPUSH
8401: CALL_OW 314
8405: NOT
8406: IFFALSE 8486
// ComEnterUnit ( ru2_eng [ i ] , NearestUnitToUnit ( FilterAllUnits ( [ [ f_side , 3 ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) , ru2_eng [ i ] ) ) ;
8408: LD_EXP 37
8412: PUSH
8413: LD_VAR 0 1
8417: ARRAY
8418: PPUSH
8419: LD_INT 22
8421: PUSH
8422: LD_INT 3
8424: PUSH
8425: EMPTY
8426: LIST
8427: LIST
8428: PUSH
8429: LD_INT 2
8431: PUSH
8432: LD_INT 30
8434: PUSH
8435: LD_INT 0
8437: PUSH
8438: EMPTY
8439: LIST
8440: LIST
8441: PUSH
8442: LD_INT 30
8444: PUSH
8445: LD_INT 1
8447: PUSH
8448: EMPTY
8449: LIST
8450: LIST
8451: PUSH
8452: EMPTY
8453: LIST
8454: LIST
8455: LIST
8456: PUSH
8457: EMPTY
8458: LIST
8459: LIST
8460: PPUSH
8461: CALL_OW 69
8465: PPUSH
8466: LD_EXP 37
8470: PUSH
8471: LD_VAR 0 1
8475: ARRAY
8476: PPUSH
8477: CALL_OW 74
8481: PPUSH
8482: CALL_OW 120
8486: GO 8387
8488: POP
8489: POP
// if b_labb > 0 then
8490: LD_VAR 0 11
8494: PUSH
8495: LD_INT 0
8497: GREATER
8498: IFFALSE 8848
// begin if h_dmgunit > 0 then
8500: LD_VAR 0 5
8504: PUSH
8505: LD_INT 0
8507: GREATER
8508: IFFALSE 8717
// begin for p = 1 to h_dmgunit do
8510: LD_ADDR_VAR 0 2
8514: PUSH
8515: DOUBLE
8516: LD_INT 1
8518: DEC
8519: ST_TO_ADDR
8520: LD_VAR 0 5
8524: PUSH
8525: FOR_TO
8526: IFFALSE 8577
// if GetDistUnits ( h_dmgunit [ p ] , b_labb ) > 6 then
8528: LD_VAR 0 5
8532: PUSH
8533: LD_VAR 0 2
8537: ARRAY
8538: PPUSH
8539: LD_VAR 0 11
8543: PPUSH
8544: CALL_OW 296
8548: PUSH
8549: LD_INT 6
8551: GREATER
8552: IFFALSE 8575
// ComMoveXY ( h_dmgunit [ p ] , 95 , 72 ) ;
8554: LD_VAR 0 5
8558: PUSH
8559: LD_VAR 0 2
8563: ARRAY
8564: PPUSH
8565: LD_INT 95
8567: PPUSH
8568: LD_INT 72
8570: PPUSH
8571: CALL_OW 111
8575: GO 8525
8577: POP
8578: POP
// if ru2_sci > 0 then
8579: LD_EXP 39
8583: PUSH
8584: LD_INT 0
8586: GREATER
8587: IFFALSE 8717
// for i = 1 to ru2_sci do
8589: LD_ADDR_VAR 0 1
8593: PUSH
8594: DOUBLE
8595: LD_INT 1
8597: DEC
8598: ST_TO_ADDR
8599: LD_EXP 39
8603: PUSH
8604: FOR_TO
8605: IFFALSE 8715
// if IsInUnit ( ru2_sci [ i ] ) then
8607: LD_EXP 39
8611: PUSH
8612: LD_VAR 0 1
8616: ARRAY
8617: PPUSH
8618: CALL_OW 310
8622: IFFALSE 8641
// ComExitBuilding ( ru2_sci [ i ] ) else
8624: LD_EXP 39
8628: PUSH
8629: LD_VAR 0 1
8633: ARRAY
8634: PPUSH
8635: CALL_OW 122
8639: GO 8713
// if not HasTask ( ru2_sci [ i ] ) then
8641: LD_EXP 39
8645: PUSH
8646: LD_VAR 0 1
8650: ARRAY
8651: PPUSH
8652: CALL_OW 314
8656: NOT
8657: IFFALSE 8713
// if GetDistUnits ( ru2_sci [ i ] , h_dmgunit [ 1 ] ) <= 15 then
8659: LD_EXP 39
8663: PUSH
8664: LD_VAR 0 1
8668: ARRAY
8669: PPUSH
8670: LD_VAR 0 5
8674: PUSH
8675: LD_INT 1
8677: ARRAY
8678: PPUSH
8679: CALL_OW 296
8683: PUSH
8684: LD_INT 15
8686: LESSEQUAL
8687: IFFALSE 8713
// ComHeal ( ru2_sci [ i ] , h_dmgunit [ 1 ] ) ;
8689: LD_EXP 39
8693: PUSH
8694: LD_VAR 0 1
8698: ARRAY
8699: PPUSH
8700: LD_VAR 0 5
8704: PUSH
8705: LD_INT 1
8707: ARRAY
8708: PPUSH
8709: CALL_OW 128
8713: GO 8604
8715: POP
8716: POP
// end ; if h_dmgunit = 0 then
8717: LD_VAR 0 5
8721: PUSH
8722: LD_INT 0
8724: EQUAL
8725: IFFALSE 8848
// begin for i = 1 to ru2_sci do
8727: LD_ADDR_VAR 0 1
8731: PUSH
8732: DOUBLE
8733: LD_INT 1
8735: DEC
8736: ST_TO_ADDR
8737: LD_EXP 39
8741: PUSH
8742: FOR_TO
8743: IFFALSE 8785
// if not IsInUnit ( ru2_sci [ i ] ) then
8745: LD_EXP 39
8749: PUSH
8750: LD_VAR 0 1
8754: ARRAY
8755: PPUSH
8756: CALL_OW 310
8760: NOT
8761: IFFALSE 8783
// ComEnterUnit ( ru2_sci [ i ] , b_labb ) ;
8763: LD_EXP 39
8767: PUSH
8768: LD_VAR 0 1
8772: ARRAY
8773: PPUSH
8774: LD_VAR 0 11
8778: PPUSH
8779: CALL_OW 120
8783: GO 8742
8785: POP
8786: POP
// if ru2_tech > 0 then
8787: LD_EXP 35
8791: PUSH
8792: LD_INT 0
8794: GREATER
8795: IFFALSE 8848
// if BuildingStatus ( b_labb ) = bs_idle then
8797: LD_VAR 0 11
8801: PPUSH
8802: CALL_OW 461
8806: PUSH
8807: LD_INT 2
8809: EQUAL
8810: IFFALSE 8848
// begin ComResearch ( b_labb , ru2_tech [ 1 ] ) ;
8812: LD_VAR 0 11
8816: PPUSH
8817: LD_EXP 35
8821: PUSH
8822: LD_INT 1
8824: ARRAY
8825: PPUSH
8826: CALL_OW 124
// ru2_tech := Delete ( ru2_tech , 1 ) ;
8830: LD_ADDR_EXP 35
8834: PUSH
8835: LD_EXP 35
8839: PPUSH
8840: LD_INT 1
8842: PPUSH
8843: CALL_OW 3
8847: ST_TO_ADDR
// end ; end ; end ; end ;
8848: PPOPN 13
8850: END
// every 0 0$01 trigger russian_produce do
8851: LD_EXP 19
8855: IFFALSE 9304
8857: GO 8859
8859: DISABLE
// begin case global_diff of 1 :
8860: LD_EXP 2
8864: PUSH
8865: LD_INT 1
8867: DOUBLE
8868: EQUAL
8869: IFTRUE 8873
8871: GO 8937
8873: POP
// ru_veh := ru_veh ^ [ ru_medium_wheeled , engine_combustion , control_manual , ru_heavy_machine_gun , ru_medium_wheeled , engine_combustion , control_manual , ru_heavy_machine_gun , ru_medium_wheeled , engine_combustion , control_manual , ru_gatling_gun ] ; 2 :
8874: LD_ADDR_EXP 26
8878: PUSH
8879: LD_EXP 26
8883: PUSH
8884: LD_INT 21
8886: PUSH
8887: LD_INT 1
8889: PUSH
8890: LD_INT 1
8892: PUSH
8893: LD_INT 42
8895: PUSH
8896: LD_INT 21
8898: PUSH
8899: LD_INT 1
8901: PUSH
8902: LD_INT 1
8904: PUSH
8905: LD_INT 42
8907: PUSH
8908: LD_INT 21
8910: PUSH
8911: LD_INT 1
8913: PUSH
8914: LD_INT 1
8916: PUSH
8917: LD_INT 43
8919: PUSH
8920: EMPTY
8921: LIST
8922: LIST
8923: LIST
8924: LIST
8925: LIST
8926: LIST
8927: LIST
8928: LIST
8929: LIST
8930: LIST
8931: LIST
8932: LIST
8933: ADD
8934: ST_TO_ADDR
8935: GO 9082
8937: LD_INT 2
8939: DOUBLE
8940: EQUAL
8941: IFTRUE 8945
8943: GO 9009
8945: POP
// ru_veh := ru_veh ^ [ ru_medium_wheeled , engine_combustion , control_manual , ru_gun , ru_medium_tracked , engine_combustion , control_manual , ru_heavy_machine_gun , ru_medium_tracked , engine_combustion , control_manual , ru_gatling_gun ] ; 3 :
8946: LD_ADDR_EXP 26
8950: PUSH
8951: LD_EXP 26
8955: PUSH
8956: LD_INT 21
8958: PUSH
8959: LD_INT 1
8961: PUSH
8962: LD_INT 1
8964: PUSH
8965: LD_INT 44
8967: PUSH
8968: LD_INT 22
8970: PUSH
8971: LD_INT 1
8973: PUSH
8974: LD_INT 1
8976: PUSH
8977: LD_INT 42
8979: PUSH
8980: LD_INT 22
8982: PUSH
8983: LD_INT 1
8985: PUSH
8986: LD_INT 1
8988: PUSH
8989: LD_INT 43
8991: PUSH
8992: EMPTY
8993: LIST
8994: LIST
8995: LIST
8996: LIST
8997: LIST
8998: LIST
8999: LIST
9000: LIST
9001: LIST
9002: LIST
9003: LIST
9004: LIST
9005: ADD
9006: ST_TO_ADDR
9007: GO 9082
9009: LD_INT 3
9011: DOUBLE
9012: EQUAL
9013: IFTRUE 9017
9015: GO 9081
9017: POP
// ru_veh := ru_veh ^ [ ru_heavy_wheeled , engine_combustion , control_manual , ru_gatling_gun , ru_medium_tracked , engine_combustion , control_manual , ru_gun , ru_medium_tracked , engine_combustion , control_manual , ru_gun ] ; end ;
9018: LD_ADDR_EXP 26
9022: PUSH
9023: LD_EXP 26
9027: PUSH
9028: LD_INT 23
9030: PUSH
9031: LD_INT 1
9033: PUSH
9034: LD_INT 1
9036: PUSH
9037: LD_INT 43
9039: PUSH
9040: LD_INT 22
9042: PUSH
9043: LD_INT 1
9045: PUSH
9046: LD_INT 1
9048: PUSH
9049: LD_INT 44
9051: PUSH
9052: LD_INT 22
9054: PUSH
9055: LD_INT 1
9057: PUSH
9058: LD_INT 1
9060: PUSH
9061: LD_INT 44
9063: PUSH
9064: EMPTY
9065: LIST
9066: LIST
9067: LIST
9068: LIST
9069: LIST
9070: LIST
9071: LIST
9072: LIST
9073: LIST
9074: LIST
9075: LIST
9076: LIST
9077: ADD
9078: ST_TO_ADDR
9079: GO 9082
9081: POP
// case global_diff of 1 :
9082: LD_EXP 2
9086: PUSH
9087: LD_INT 1
9089: DOUBLE
9090: EQUAL
9091: IFTRUE 9095
9093: GO 9159
9095: POP
// ru2_veh := ru2_veh ^ [ ru_medium_wheeled , engine_combustion , control_manual , ru_heavy_machine_gun , ru_medium_wheeled , engine_combustion , control_manual , ru_heavy_machine_gun , ru_medium_wheeled , engine_combustion , control_manual , ru_gatling_gun ] ; 2 :
9096: LD_ADDR_EXP 36
9100: PUSH
9101: LD_EXP 36
9105: PUSH
9106: LD_INT 21
9108: PUSH
9109: LD_INT 1
9111: PUSH
9112: LD_INT 1
9114: PUSH
9115: LD_INT 42
9117: PUSH
9118: LD_INT 21
9120: PUSH
9121: LD_INT 1
9123: PUSH
9124: LD_INT 1
9126: PUSH
9127: LD_INT 42
9129: PUSH
9130: LD_INT 21
9132: PUSH
9133: LD_INT 1
9135: PUSH
9136: LD_INT 1
9138: PUSH
9139: LD_INT 43
9141: PUSH
9142: EMPTY
9143: LIST
9144: LIST
9145: LIST
9146: LIST
9147: LIST
9148: LIST
9149: LIST
9150: LIST
9151: LIST
9152: LIST
9153: LIST
9154: LIST
9155: ADD
9156: ST_TO_ADDR
9157: GO 9304
9159: LD_INT 2
9161: DOUBLE
9162: EQUAL
9163: IFTRUE 9167
9165: GO 9231
9167: POP
// ru2_veh := ru2_veh ^ [ ru_medium_wheeled , engine_combustion , control_manual , ru_gun , ru_medium_tracked , engine_combustion , control_manual , ru_gun , ru_medium_tracked , engine_combustion , control_manual , ru_gatling_gun ] ; 3 :
9168: LD_ADDR_EXP 36
9172: PUSH
9173: LD_EXP 36
9177: PUSH
9178: LD_INT 21
9180: PUSH
9181: LD_INT 1
9183: PUSH
9184: LD_INT 1
9186: PUSH
9187: LD_INT 44
9189: PUSH
9190: LD_INT 22
9192: PUSH
9193: LD_INT 1
9195: PUSH
9196: LD_INT 1
9198: PUSH
9199: LD_INT 44
9201: PUSH
9202: LD_INT 22
9204: PUSH
9205: LD_INT 1
9207: PUSH
9208: LD_INT 1
9210: PUSH
9211: LD_INT 43
9213: PUSH
9214: EMPTY
9215: LIST
9216: LIST
9217: LIST
9218: LIST
9219: LIST
9220: LIST
9221: LIST
9222: LIST
9223: LIST
9224: LIST
9225: LIST
9226: LIST
9227: ADD
9228: ST_TO_ADDR
9229: GO 9304
9231: LD_INT 3
9233: DOUBLE
9234: EQUAL
9235: IFTRUE 9239
9237: GO 9303
9239: POP
// ru2_veh := ru2_veh ^ [ ru_heavy_wheeled , engine_combustion , control_manual , ru_heavy_machine_gun , ru_medium_tracked , engine_combustion , control_manual , ru_gun , ru_medium_tracked , engine_combustion , control_manual , ru_gun ] ; end ;
9240: LD_ADDR_EXP 36
9244: PUSH
9245: LD_EXP 36
9249: PUSH
9250: LD_INT 23
9252: PUSH
9253: LD_INT 1
9255: PUSH
9256: LD_INT 1
9258: PUSH
9259: LD_INT 42
9261: PUSH
9262: LD_INT 22
9264: PUSH
9265: LD_INT 1
9267: PUSH
9268: LD_INT 1
9270: PUSH
9271: LD_INT 44
9273: PUSH
9274: LD_INT 22
9276: PUSH
9277: LD_INT 1
9279: PUSH
9280: LD_INT 1
9282: PUSH
9283: LD_INT 44
9285: PUSH
9286: EMPTY
9287: LIST
9288: LIST
9289: LIST
9290: LIST
9291: LIST
9292: LIST
9293: LIST
9294: LIST
9295: LIST
9296: LIST
9297: LIST
9298: LIST
9299: ADD
9300: ST_TO_ADDR
9301: GO 9304
9303: POP
// end ;
9304: END
// every 12 12$00 trigger timer >= [ 26 26$00 , 21 21$00 , 16 16$00 ] [ global_diff ] and FilterAllUnits ( [ f_side , 3 ] ) > 0 do var veh , i , p , area ;
9305: LD_EXP 1
9309: PUSH
9310: LD_INT 54600
9312: PUSH
9313: LD_INT 44100
9315: PUSH
9316: LD_INT 33600
9318: PUSH
9319: EMPTY
9320: LIST
9321: LIST
9322: LIST
9323: PUSH
9324: LD_EXP 2
9328: ARRAY
9329: GREATEREQUAL
9330: PUSH
9331: LD_INT 22
9333: PUSH
9334: LD_INT 3
9336: PUSH
9337: EMPTY
9338: LIST
9339: LIST
9340: PPUSH
9341: CALL_OW 69
9345: PUSH
9346: LD_INT 0
9348: GREATER
9349: AND
9350: IFFALSE 9566
9352: GO 9354
9354: DISABLE
9355: LD_INT 0
9357: PPUSH
9358: PPUSH
9359: PPUSH
9360: PPUSH
// begin enable ;
9361: ENABLE
// uc_side := [ 3 , 6 ] [ Rand ( 1 , 2 ) ] ;
9362: LD_ADDR_OWVAR 20
9366: PUSH
9367: LD_INT 3
9369: PUSH
9370: LD_INT 6
9372: PUSH
9373: EMPTY
9374: LIST
9375: LIST
9376: PUSH
9377: LD_INT 1
9379: PPUSH
9380: LD_INT 2
9382: PPUSH
9383: CALL_OW 12
9387: ARRAY
9388: ST_TO_ADDR
// uc_nation := 3 ;
9389: LD_ADDR_OWVAR 21
9393: PUSH
9394: LD_INT 3
9396: ST_TO_ADDR
// area := [ ru_west , south_spawn ] ;
9397: LD_ADDR_VAR 0 4
9401: PUSH
9402: LD_INT 18
9404: PUSH
9405: LD_INT 7
9407: PUSH
9408: EMPTY
9409: LIST
9410: LIST
9411: ST_TO_ADDR
// p := Rand ( 1 , 2 ) ;
9412: LD_ADDR_VAR 0 3
9416: PUSH
9417: LD_INT 1
9419: PPUSH
9420: LD_INT 2
9422: PPUSH
9423: CALL_OW 12
9427: ST_TO_ADDR
// for i = 1 to Rand ( 1 , 2 ) do
9428: LD_ADDR_VAR 0 2
9432: PUSH
9433: DOUBLE
9434: LD_INT 1
9436: DEC
9437: ST_TO_ADDR
9438: LD_INT 1
9440: PPUSH
9441: LD_INT 2
9443: PPUSH
9444: CALL_OW 12
9448: PUSH
9449: FOR_TO
9450: IFFALSE 9564
// begin vc_chassis := ru_medium_tracked ;
9452: LD_ADDR_OWVAR 37
9456: PUSH
9457: LD_INT 22
9459: ST_TO_ADDR
// vc_engine := engine_combustion ;
9460: LD_ADDR_OWVAR 39
9464: PUSH
9465: LD_INT 1
9467: ST_TO_ADDR
// vc_control := control_manual ;
9468: LD_ADDR_OWVAR 38
9472: PUSH
9473: LD_INT 1
9475: ST_TO_ADDR
// vc_weapon := [ ru_gatling_gun , ru_gun , ru_rocket_launcher ] [ Rand ( 1 , 3 ) ] ;
9476: LD_ADDR_OWVAR 40
9480: PUSH
9481: LD_INT 43
9483: PUSH
9484: LD_INT 44
9486: PUSH
9487: LD_INT 45
9489: PUSH
9490: EMPTY
9491: LIST
9492: LIST
9493: LIST
9494: PUSH
9495: LD_INT 1
9497: PPUSH
9498: LD_INT 3
9500: PPUSH
9501: CALL_OW 12
9505: ARRAY
9506: ST_TO_ADDR
// veh := CreateVehicle ;
9507: LD_ADDR_VAR 0 1
9511: PUSH
9512: CALL_OW 45
9516: ST_TO_ADDR
// PlaceUnitArea ( veh , area [ p ] , false ) ;
9517: LD_VAR 0 1
9521: PPUSH
9522: LD_VAR 0 4
9526: PUSH
9527: LD_VAR 0 3
9531: ARRAY
9532: PPUSH
9533: LD_INT 0
9535: PPUSH
9536: CALL_OW 49
// PlaceHumanInUnit ( CreateHumanWithClass ( 3 , ru_def ) , veh ) ;
9540: LD_INT 3
9542: PPUSH
9543: LD_EXP 4
9547: PPUSH
9548: CALL 418 0 2
9552: PPUSH
9553: LD_VAR 0 1
9557: PPUSH
9558: CALL_OW 52
// end ;
9562: GO 9449
9564: POP
9565: POP
// end ;
9566: PPOPN 4
9568: END
// every 4 4$35 trigger FilterAllUnits ( [ [ f_or , [ f_side , 3 ] , [ f_side , 6 ] ] , [ f_type , unit_vehicle ] , [ f_not , [ f_or , [ f_weapon , ru_crane ] , [ f_weapon , ru_cargo_bay ] , [ f_weapon , ru_bulldozer ] ] ] ] ) >= 6 do var filter , enemy , i ;
9569: LD_INT 2
9571: PUSH
9572: LD_INT 22
9574: PUSH
9575: LD_INT 3
9577: PUSH
9578: EMPTY
9579: LIST
9580: LIST
9581: PUSH
9582: LD_INT 22
9584: PUSH
9585: LD_INT 6
9587: PUSH
9588: EMPTY
9589: LIST
9590: LIST
9591: PUSH
9592: EMPTY
9593: LIST
9594: LIST
9595: LIST
9596: PUSH
9597: LD_INT 21
9599: PUSH
9600: LD_INT 2
9602: PUSH
9603: EMPTY
9604: LIST
9605: LIST
9606: PUSH
9607: LD_INT 3
9609: PUSH
9610: LD_INT 2
9612: PUSH
9613: LD_INT 34
9615: PUSH
9616: LD_INT 52
9618: PUSH
9619: EMPTY
9620: LIST
9621: LIST
9622: PUSH
9623: LD_INT 34
9625: PUSH
9626: LD_INT 51
9628: PUSH
9629: EMPTY
9630: LIST
9631: LIST
9632: PUSH
9633: LD_INT 34
9635: PUSH
9636: LD_INT 53
9638: PUSH
9639: EMPTY
9640: LIST
9641: LIST
9642: PUSH
9643: EMPTY
9644: LIST
9645: LIST
9646: LIST
9647: LIST
9648: PUSH
9649: EMPTY
9650: LIST
9651: LIST
9652: PUSH
9653: EMPTY
9654: LIST
9655: LIST
9656: LIST
9657: PPUSH
9658: CALL_OW 69
9662: PUSH
9663: LD_INT 6
9665: GREATEREQUAL
9666: IFFALSE 10042
9668: GO 9670
9670: DISABLE
9671: LD_INT 0
9673: PPUSH
9674: PPUSH
9675: PPUSH
// begin enable ;
9676: ENABLE
// filter := FilterAllUnits ( [ [ f_or , [ f_side , 6 ] , [ f_side , 3 ] ] , [ f_type , unit_vehicle ] , [ f_not , [ f_or , [ f_weapon , ru_crane ] , [ f_weapon , ru_cargo_bay ] , [ f_weapon , ru_bulldozer ] ] ] ] ) ;
9677: LD_ADDR_VAR 0 1
9681: PUSH
9682: LD_INT 2
9684: PUSH
9685: LD_INT 22
9687: PUSH
9688: LD_INT 6
9690: PUSH
9691: EMPTY
9692: LIST
9693: LIST
9694: PUSH
9695: LD_INT 22
9697: PUSH
9698: LD_INT 3
9700: PUSH
9701: EMPTY
9702: LIST
9703: LIST
9704: PUSH
9705: EMPTY
9706: LIST
9707: LIST
9708: LIST
9709: PUSH
9710: LD_INT 21
9712: PUSH
9713: LD_INT 2
9715: PUSH
9716: EMPTY
9717: LIST
9718: LIST
9719: PUSH
9720: LD_INT 3
9722: PUSH
9723: LD_INT 2
9725: PUSH
9726: LD_INT 34
9728: PUSH
9729: LD_INT 52
9731: PUSH
9732: EMPTY
9733: LIST
9734: LIST
9735: PUSH
9736: LD_INT 34
9738: PUSH
9739: LD_INT 51
9741: PUSH
9742: EMPTY
9743: LIST
9744: LIST
9745: PUSH
9746: LD_INT 34
9748: PUSH
9749: LD_INT 53
9751: PUSH
9752: EMPTY
9753: LIST
9754: LIST
9755: PUSH
9756: EMPTY
9757: LIST
9758: LIST
9759: LIST
9760: LIST
9761: PUSH
9762: EMPTY
9763: LIST
9764: LIST
9765: PUSH
9766: EMPTY
9767: LIST
9768: LIST
9769: LIST
9770: PPUSH
9771: CALL_OW 69
9775: ST_TO_ADDR
// while ( filter >= 4 ) do
9776: LD_VAR 0 1
9780: PUSH
9781: LD_INT 4
9783: GREATEREQUAL
9784: IFFALSE 10042
// begin Wait ( 0 0$01 ) ;
9786: LD_INT 35
9788: PPUSH
9789: CALL_OW 67
// filter := FilterAllUnits ( [ [ f_or , [ f_side , 6 ] , [ f_side , 3 ] ] , [ f_type , unit_vehicle ] , [ f_not , [ f_or , [ f_weapon , ru_crane ] , [ f_weapon , ru_cargo_bay ] , [ f_weapon , ru_bulldozer ] ] ] ] ) ;
9793: LD_ADDR_VAR 0 1
9797: PUSH
9798: LD_INT 2
9800: PUSH
9801: LD_INT 22
9803: PUSH
9804: LD_INT 6
9806: PUSH
9807: EMPTY
9808: LIST
9809: LIST
9810: PUSH
9811: LD_INT 22
9813: PUSH
9814: LD_INT 3
9816: PUSH
9817: EMPTY
9818: LIST
9819: LIST
9820: PUSH
9821: EMPTY
9822: LIST
9823: LIST
9824: LIST
9825: PUSH
9826: LD_INT 21
9828: PUSH
9829: LD_INT 2
9831: PUSH
9832: EMPTY
9833: LIST
9834: LIST
9835: PUSH
9836: LD_INT 3
9838: PUSH
9839: LD_INT 2
9841: PUSH
9842: LD_INT 34
9844: PUSH
9845: LD_INT 52
9847: PUSH
9848: EMPTY
9849: LIST
9850: LIST
9851: PUSH
9852: LD_INT 34
9854: PUSH
9855: LD_INT 51
9857: PUSH
9858: EMPTY
9859: LIST
9860: LIST
9861: PUSH
9862: LD_INT 34
9864: PUSH
9865: LD_INT 53
9867: PUSH
9868: EMPTY
9869: LIST
9870: LIST
9871: PUSH
9872: EMPTY
9873: LIST
9874: LIST
9875: LIST
9876: LIST
9877: PUSH
9878: EMPTY
9879: LIST
9880: LIST
9881: PUSH
9882: EMPTY
9883: LIST
9884: LIST
9885: LIST
9886: PPUSH
9887: CALL_OW 69
9891: ST_TO_ADDR
// if FilterAllUnits ( [ f_side , 2 ] ) = 0 then
9892: LD_INT 22
9894: PUSH
9895: LD_INT 2
9897: PUSH
9898: EMPTY
9899: LIST
9900: LIST
9901: PPUSH
9902: CALL_OW 69
9906: PUSH
9907: LD_INT 0
9909: EQUAL
9910: IFFALSE 9952
// enemy := FilterAllUnits ( [ f_or , [ f_side , 1 ] , [ f_side , 4 ] ] ) else
9912: LD_ADDR_VAR 0 2
9916: PUSH
9917: LD_INT 2
9919: PUSH
9920: LD_INT 22
9922: PUSH
9923: LD_INT 1
9925: PUSH
9926: EMPTY
9927: LIST
9928: LIST
9929: PUSH
9930: LD_INT 22
9932: PUSH
9933: LD_INT 4
9935: PUSH
9936: EMPTY
9937: LIST
9938: LIST
9939: PUSH
9940: EMPTY
9941: LIST
9942: LIST
9943: LIST
9944: PPUSH
9945: CALL_OW 69
9949: ST_TO_ADDR
9950: GO 9972
// enemy := FilterAllUnits ( [ f_side , 2 ] ) ;
9952: LD_ADDR_VAR 0 2
9956: PUSH
9957: LD_INT 22
9959: PUSH
9960: LD_INT 2
9962: PUSH
9963: EMPTY
9964: LIST
9965: LIST
9966: PPUSH
9967: CALL_OW 69
9971: ST_TO_ADDR
// if filter > 0 then
9972: LD_VAR 0 1
9976: PUSH
9977: LD_INT 0
9979: GREATER
9980: IFFALSE 10040
// for i = 1 to filter do
9982: LD_ADDR_VAR 0 3
9986: PUSH
9987: DOUBLE
9988: LD_INT 1
9990: DEC
9991: ST_TO_ADDR
9992: LD_VAR 0 1
9996: PUSH
9997: FOR_TO
9998: IFFALSE 10038
// ComAttackUnit ( filter [ i ] , NearestUnitToUnit ( enemy , filter [ i ] ) ) ;
10000: LD_VAR 0 1
10004: PUSH
10005: LD_VAR 0 3
10009: ARRAY
10010: PPUSH
10011: LD_VAR 0 2
10015: PPUSH
10016: LD_VAR 0 1
10020: PUSH
10021: LD_VAR 0 3
10025: ARRAY
10026: PPUSH
10027: CALL_OW 74
10031: PPUSH
10032: CALL_OW 115
10036: GO 9997
10038: POP
10039: POP
// end ;
10040: GO 9776
// end ;
10042: PPOPN 3
10044: END
// export ru_spec_group ; every 0 0$10 trigger FilterUnitsInArea ( buffor , [ [ f_side , 1 ] , [ f_type , unit_building ] ] ) > 0 do var i , un , veh ;
10045: LD_INT 22
10047: PPUSH
10048: LD_INT 22
10050: PUSH
10051: LD_INT 1
10053: PUSH
10054: EMPTY
10055: LIST
10056: LIST
10057: PUSH
10058: LD_INT 21
10060: PUSH
10061: LD_INT 3
10063: PUSH
10064: EMPTY
10065: LIST
10066: LIST
10067: PUSH
10068: EMPTY
10069: LIST
10070: LIST
10071: PPUSH
10072: CALL_OW 70
10076: PUSH
10077: LD_INT 0
10079: GREATER
10080: IFFALSE 10225
10082: GO 10084
10084: DISABLE
10085: LD_INT 0
10087: PPUSH
10088: PPUSH
10089: PPUSH
// begin uc_side := 6 ;
10090: LD_ADDR_OWVAR 20
10094: PUSH
10095: LD_INT 6
10097: ST_TO_ADDR
// uc_nation := 3 ;
10098: LD_ADDR_OWVAR 21
10102: PUSH
10103: LD_INT 3
10105: ST_TO_ADDR
// for i = 1 to Difficulty + 1 do
10106: LD_ADDR_VAR 0 1
10110: PUSH
10111: DOUBLE
10112: LD_INT 1
10114: DEC
10115: ST_TO_ADDR
10116: LD_OWVAR 67
10120: PUSH
10121: LD_INT 1
10123: PLUS
10124: PUSH
10125: FOR_TO
10126: IFFALSE 10220
// begin vc_chassis := ru_medium_tracked ;
10128: LD_ADDR_OWVAR 37
10132: PUSH
10133: LD_INT 22
10135: ST_TO_ADDR
// vc_engine := engine_combustion ;
10136: LD_ADDR_OWVAR 39
10140: PUSH
10141: LD_INT 1
10143: ST_TO_ADDR
// vc_control := control_manual ;
10144: LD_ADDR_OWVAR 38
10148: PUSH
10149: LD_INT 1
10151: ST_TO_ADDR
// vc_weapon := ru_rocket_launcher ;
10152: LD_ADDR_OWVAR 40
10156: PUSH
10157: LD_INT 45
10159: ST_TO_ADDR
// veh := CreateVehicle ;
10160: LD_ADDR_VAR 0 3
10164: PUSH
10165: CALL_OW 45
10169: ST_TO_ADDR
// un := CreateHumanWithClass ( 3 , ru_def ) ;
10170: LD_ADDR_VAR 0 2
10174: PUSH
10175: LD_INT 3
10177: PPUSH
10178: LD_EXP 4
10182: PPUSH
10183: CALL 418 0 2
10187: ST_TO_ADDR
// PlaceHumanInUnit ( un , veh ) ;
10188: LD_VAR 0 2
10192: PPUSH
10193: LD_VAR 0 3
10197: PPUSH
10198: CALL_OW 52
// ru_spec_group := ru_spec_group ^ veh ;
10202: LD_ADDR_EXP 43
10206: PUSH
10207: LD_EXP 43
10211: PUSH
10212: LD_VAR 0 3
10216: ADD
10217: ST_TO_ADDR
// end ;
10218: GO 10125
10220: POP
10221: POP
// enable ( 99 ) ;
10222: LD_INT 99
10224: ENABLE_MARKED
// end ;
10225: PPOPN 3
10227: END
// every 0 0$01 trigger ru_spec_group marked 99 do var i , enemy , filter ;
10228: LD_EXP 43
10232: IFFALSE 10401
10234: GO 10236
10236: DISABLE
10237: LD_INT 0
10239: PPUSH
10240: PPUSH
10241: PPUSH
// begin enable ;
10242: ENABLE
// filter := ru_spec_group ;
10243: LD_ADDR_VAR 0 3
10247: PUSH
10248: LD_EXP 43
10252: ST_TO_ADDR
// if FilterAllUnits ( [ f_side , 2 ] ) = 0 then
10253: LD_INT 22
10255: PUSH
10256: LD_INT 2
10258: PUSH
10259: EMPTY
10260: LIST
10261: LIST
10262: PPUSH
10263: CALL_OW 69
10267: PUSH
10268: LD_INT 0
10270: EQUAL
10271: IFFALSE 10313
// enemy := FilterAllUnits ( [ f_or , [ f_side , 1 ] , [ f_side , 4 ] ] ) else
10273: LD_ADDR_VAR 0 2
10277: PUSH
10278: LD_INT 2
10280: PUSH
10281: LD_INT 22
10283: PUSH
10284: LD_INT 1
10286: PUSH
10287: EMPTY
10288: LIST
10289: LIST
10290: PUSH
10291: LD_INT 22
10293: PUSH
10294: LD_INT 4
10296: PUSH
10297: EMPTY
10298: LIST
10299: LIST
10300: PUSH
10301: EMPTY
10302: LIST
10303: LIST
10304: LIST
10305: PPUSH
10306: CALL_OW 69
10310: ST_TO_ADDR
10311: GO 10333
// enemy := FilterAllUnits ( [ f_side , 2 ] ) ;
10313: LD_ADDR_VAR 0 2
10317: PUSH
10318: LD_INT 22
10320: PUSH
10321: LD_INT 2
10323: PUSH
10324: EMPTY
10325: LIST
10326: LIST
10327: PPUSH
10328: CALL_OW 69
10332: ST_TO_ADDR
// if filter > 0 then
10333: LD_VAR 0 3
10337: PUSH
10338: LD_INT 0
10340: GREATER
10341: IFFALSE 10401
// for i = 1 to filter do
10343: LD_ADDR_VAR 0 1
10347: PUSH
10348: DOUBLE
10349: LD_INT 1
10351: DEC
10352: ST_TO_ADDR
10353: LD_VAR 0 3
10357: PUSH
10358: FOR_TO
10359: IFFALSE 10399
// ComAttackUnit ( filter [ i ] , NearestUnitToUnit ( enemy , filter [ i ] ) ) ;
10361: LD_VAR 0 3
10365: PUSH
10366: LD_VAR 0 1
10370: ARRAY
10371: PPUSH
10372: LD_VAR 0 2
10376: PPUSH
10377: LD_VAR 0 3
10381: PUSH
10382: LD_VAR 0 1
10386: ARRAY
10387: PPUSH
10388: CALL_OW 74
10392: PPUSH
10393: CALL_OW 115
10397: GO 10358
10399: POP
10400: POP
// end ; end_of_file
10401: PPOPN 3
10403: END
// export function ArabianAttack ( side , num , typ , area ) ; var i , un , filter , veh , chassis , weapon ; begin
10404: LD_INT 0
10406: PPUSH
10407: PPUSH
10408: PPUSH
10409: PPUSH
10410: PPUSH
10411: PPUSH
10412: PPUSH
// uc_side := side ;
10413: LD_ADDR_OWVAR 20
10417: PUSH
10418: LD_VAR 0 1
10422: ST_TO_ADDR
// uc_nation := nation_arabian ;
10423: LD_ADDR_OWVAR 21
10427: PUSH
10428: LD_INT 2
10430: ST_TO_ADDR
// chassis := [ ar_light_trike , ar_medium_trike , ar_half_tracked ] ;
10431: LD_ADDR_VAR 0 10
10435: PUSH
10436: LD_INT 12
10438: PUSH
10439: LD_INT 13
10441: PUSH
10442: LD_INT 14
10444: PUSH
10445: EMPTY
10446: LIST
10447: LIST
10448: LIST
10449: ST_TO_ADDR
// weapon := [ ar_multimissile_ballista , ar_double_machine_gun , ar_gatling_gun , ar_gun , ar_rocket_launcher ] ;
10450: LD_ADDR_VAR 0 11
10454: PUSH
10455: LD_INT 22
10457: PUSH
10458: LD_INT 24
10460: PUSH
10461: LD_INT 25
10463: PUSH
10464: LD_INT 27
10466: PUSH
10467: LD_INT 28
10469: PUSH
10470: EMPTY
10471: LIST
10472: LIST
10473: LIST
10474: LIST
10475: LIST
10476: ST_TO_ADDR
// case typ of 1 :
10477: LD_VAR 0 3
10481: PUSH
10482: LD_INT 1
10484: DOUBLE
10485: EQUAL
10486: IFTRUE 10490
10488: GO 10715
10490: POP
// begin for i = 1 to num do
10491: LD_ADDR_VAR 0 6
10495: PUSH
10496: DOUBLE
10497: LD_INT 1
10499: DEC
10500: ST_TO_ADDR
10501: LD_VAR 0 2
10505: PUSH
10506: FOR_TO
10507: IFFALSE 10666
// begin vc_chassis := chassis [ Rand ( 1 , 2 ) ] ;
10509: LD_ADDR_OWVAR 37
10513: PUSH
10514: LD_VAR 0 10
10518: PUSH
10519: LD_INT 1
10521: PPUSH
10522: LD_INT 2
10524: PPUSH
10525: CALL_OW 12
10529: ARRAY
10530: ST_TO_ADDR
// vc_engine := engine_combustion ;
10531: LD_ADDR_OWVAR 39
10535: PUSH
10536: LD_INT 1
10538: ST_TO_ADDR
// vc_control := control_manual ;
10539: LD_ADDR_OWVAR 38
10543: PUSH
10544: LD_INT 1
10546: ST_TO_ADDR
// vc_weapon := weapon [ Rand ( 1 , 2 ) ] ;
10547: LD_ADDR_OWVAR 40
10551: PUSH
10552: LD_VAR 0 11
10556: PUSH
10557: LD_INT 1
10559: PPUSH
10560: LD_INT 2
10562: PPUSH
10563: CALL_OW 12
10567: ARRAY
10568: ST_TO_ADDR
// veh := CreateVehicle ;
10569: LD_ADDR_VAR 0 9
10573: PUSH
10574: CALL_OW 45
10578: ST_TO_ADDR
// if area = ar_area1 then
10579: LD_VAR 0 4
10583: PUSH
10584: LD_INT 6
10586: EQUAL
10587: IFFALSE 10603
// SetDir ( veh , 3 ) else
10589: LD_VAR 0 9
10593: PPUSH
10594: LD_INT 3
10596: PPUSH
10597: CALL_OW 233
10601: GO 10615
// SetDir ( veh , 0 ) ;
10603: LD_VAR 0 9
10607: PPUSH
10608: LD_INT 0
10610: PPUSH
10611: CALL_OW 233
// PlaceUnitArea ( veh , area , false ) ;
10615: LD_VAR 0 9
10619: PPUSH
10620: LD_VAR 0 4
10624: PPUSH
10625: LD_INT 0
10627: PPUSH
10628: CALL_OW 49
// un := CreateHumanWithClass ( 1 , ar_def ) ;
10632: LD_ADDR_VAR 0 7
10636: PUSH
10637: LD_INT 1
10639: PPUSH
10640: LD_EXP 7
10644: PPUSH
10645: CALL 418 0 2
10649: ST_TO_ADDR
// PlaceHumanInUnit ( un , veh ) ;
10650: LD_VAR 0 7
10654: PPUSH
10655: LD_VAR 0 9
10659: PPUSH
10660: CALL_OW 52
// end ;
10664: GO 10506
10666: POP
10667: POP
// for i = 1 to 3 do
10668: LD_ADDR_VAR 0 6
10672: PUSH
10673: DOUBLE
10674: LD_INT 1
10676: DEC
10677: ST_TO_ADDR
10678: LD_INT 3
10680: PUSH
10681: FOR_TO
10682: IFFALSE 10711
// PlaceUnitArea ( CreateHumanWithClass ( class_mortar , ar_def ) , area , false ) ;
10684: LD_INT 8
10686: PPUSH
10687: LD_EXP 7
10691: PPUSH
10692: CALL 418 0 2
10696: PPUSH
10697: LD_VAR 0 4
10701: PPUSH
10702: LD_INT 0
10704: PPUSH
10705: CALL_OW 49
10709: GO 10681
10711: POP
10712: POP
// end ; 2 :
10713: GO 10982
10715: LD_INT 2
10717: DOUBLE
10718: EQUAL
10719: IFTRUE 10723
10721: GO 10981
10723: POP
// begin for i = 1 to num do
10724: LD_ADDR_VAR 0 6
10728: PUSH
10729: DOUBLE
10730: LD_INT 1
10732: DEC
10733: ST_TO_ADDR
10734: LD_VAR 0 2
10738: PUSH
10739: FOR_TO
10740: IFFALSE 10899
// begin vc_chassis := chassis [ Rand ( 2 , 3 ) ] ;
10742: LD_ADDR_OWVAR 37
10746: PUSH
10747: LD_VAR 0 10
10751: PUSH
10752: LD_INT 2
10754: PPUSH
10755: LD_INT 3
10757: PPUSH
10758: CALL_OW 12
10762: ARRAY
10763: ST_TO_ADDR
// vc_engine := engine_combustion ;
10764: LD_ADDR_OWVAR 39
10768: PUSH
10769: LD_INT 1
10771: ST_TO_ADDR
// vc_control := control_manual ;
10772: LD_ADDR_OWVAR 38
10776: PUSH
10777: LD_INT 1
10779: ST_TO_ADDR
// vc_weapon := weapon [ Rand ( 3 , 5 ) ] ;
10780: LD_ADDR_OWVAR 40
10784: PUSH
10785: LD_VAR 0 11
10789: PUSH
10790: LD_INT 3
10792: PPUSH
10793: LD_INT 5
10795: PPUSH
10796: CALL_OW 12
10800: ARRAY
10801: ST_TO_ADDR
// veh := CreateVehicle ;
10802: LD_ADDR_VAR 0 9
10806: PUSH
10807: CALL_OW 45
10811: ST_TO_ADDR
// if area = ar_area1 then
10812: LD_VAR 0 4
10816: PUSH
10817: LD_INT 6
10819: EQUAL
10820: IFFALSE 10836
// SetDir ( veh , 3 ) else
10822: LD_VAR 0 9
10826: PPUSH
10827: LD_INT 3
10829: PPUSH
10830: CALL_OW 233
10834: GO 10848
// SetDir ( veh , 0 ) ;
10836: LD_VAR 0 9
10840: PPUSH
10841: LD_INT 0
10843: PPUSH
10844: CALL_OW 233
// PlaceUnitArea ( veh , area , false ) ;
10848: LD_VAR 0 9
10852: PPUSH
10853: LD_VAR 0 4
10857: PPUSH
10858: LD_INT 0
10860: PPUSH
10861: CALL_OW 49
// un := CreateHumanWithClass ( 1 , ar_def ) ;
10865: LD_ADDR_VAR 0 7
10869: PUSH
10870: LD_INT 1
10872: PPUSH
10873: LD_EXP 7
10877: PPUSH
10878: CALL 418 0 2
10882: ST_TO_ADDR
// PlaceHumanInUnit ( un , veh ) ;
10883: LD_VAR 0 7
10887: PPUSH
10888: LD_VAR 0 9
10892: PPUSH
10893: CALL_OW 52
// end ;
10897: GO 10739
10899: POP
10900: POP
// for i = 1 to 2 do
10901: LD_ADDR_VAR 0 6
10905: PUSH
10906: DOUBLE
10907: LD_INT 1
10909: DEC
10910: ST_TO_ADDR
10911: LD_INT 2
10913: PUSH
10914: FOR_TO
10915: IFFALSE 10977
// begin uc_nation := 0 ;
10917: LD_ADDR_OWVAR 21
10921: PUSH
10922: LD_INT 0
10924: ST_TO_ADDR
// hc_class := 17 ;
10925: LD_ADDR_OWVAR 28
10929: PUSH
10930: LD_INT 17
10932: ST_TO_ADDR
// hc_attr := [ 11 , 13 ] ;
10933: LD_ADDR_OWVAR 29
10937: PUSH
10938: LD_INT 11
10940: PUSH
10941: LD_INT 13
10943: PUSH
10944: EMPTY
10945: LIST
10946: LIST
10947: ST_TO_ADDR
// un := CreateHuman ;
10948: LD_ADDR_VAR 0 7
10952: PUSH
10953: CALL_OW 44
10957: ST_TO_ADDR
// PlaceUnitArea ( un , area , false ) ;
10958: LD_VAR 0 7
10962: PPUSH
10963: LD_VAR 0 4
10967: PPUSH
10968: LD_INT 0
10970: PPUSH
10971: CALL_OW 49
// end ;
10975: GO 10914
10977: POP
10978: POP
// end ; end ;
10979: GO 10982
10981: POP
// end ;
10982: LD_VAR 0 5
10986: RET
// export function FHeike ; begin
10987: LD_INT 0
10989: PPUSH
// uc_side := 2 ;
10990: LD_ADDR_OWVAR 20
10994: PUSH
10995: LD_INT 2
10997: ST_TO_ADDR
// uc_nation := 2 ;
10998: LD_ADDR_OWVAR 21
11002: PUSH
11003: LD_INT 2
11005: ST_TO_ADDR
// hc_gallery := sandar ;
11006: LD_ADDR_OWVAR 33
11010: PUSH
11011: LD_STRING sandar
11013: ST_TO_ADDR
// hc_face_number := 2 ;
11014: LD_ADDR_OWVAR 34
11018: PUSH
11019: LD_INT 2
11021: ST_TO_ADDR
// hc_name := Heike Steyer ;
11022: LD_ADDR_OWVAR 26
11026: PUSH
11027: LD_STRING Heike Steyer
11029: ST_TO_ADDR
// hc_sex := sex_female ;
11030: LD_ADDR_OWVAR 27
11034: PUSH
11035: LD_INT 2
11037: ST_TO_ADDR
// hc_class := 1 ;
11038: LD_ADDR_OWVAR 28
11042: PUSH
11043: LD_INT 1
11045: ST_TO_ADDR
// heike := CreateHuman ;
11046: LD_ADDR_EXP 15
11050: PUSH
11051: CALL_OW 44
11055: ST_TO_ADDR
// end ;
11056: LD_VAR 0 1
11060: RET
// every 0 0$01 do var filter , enemy , i ;
11061: GO 11063
11063: DISABLE
11064: LD_INT 0
11066: PPUSH
11067: PPUSH
11068: PPUSH
// begin enable ;
11069: ENABLE
// filter := FilterAllUnits ( [ f_side , 2 ] ) ;
11070: LD_ADDR_VAR 0 1
11074: PUSH
11075: LD_INT 22
11077: PUSH
11078: LD_INT 2
11080: PUSH
11081: EMPTY
11082: LIST
11083: LIST
11084: PPUSH
11085: CALL_OW 69
11089: ST_TO_ADDR
// enemy := FilterAllUnits ( [ f_or , [ f_side , 1 ] , [ f_side , 3 ] , [ f_side , 6 ] ] ) ;
11090: LD_ADDR_VAR 0 2
11094: PUSH
11095: LD_INT 2
11097: PUSH
11098: LD_INT 22
11100: PUSH
11101: LD_INT 1
11103: PUSH
11104: EMPTY
11105: LIST
11106: LIST
11107: PUSH
11108: LD_INT 22
11110: PUSH
11111: LD_INT 3
11113: PUSH
11114: EMPTY
11115: LIST
11116: LIST
11117: PUSH
11118: LD_INT 22
11120: PUSH
11121: LD_INT 6
11123: PUSH
11124: EMPTY
11125: LIST
11126: LIST
11127: PUSH
11128: EMPTY
11129: LIST
11130: LIST
11131: LIST
11132: LIST
11133: PPUSH
11134: CALL_OW 69
11138: ST_TO_ADDR
// if filter > 0 then
11139: LD_VAR 0 1
11143: PUSH
11144: LD_INT 0
11146: GREATER
11147: IFFALSE 11207
// for i = 1 to filter do
11149: LD_ADDR_VAR 0 3
11153: PUSH
11154: DOUBLE
11155: LD_INT 1
11157: DEC
11158: ST_TO_ADDR
11159: LD_VAR 0 1
11163: PUSH
11164: FOR_TO
11165: IFFALSE 11205
// ComAttackUnit ( filter [ i ] , NearestUnitToUnit ( enemy , filter [ i ] ) ) ;
11167: LD_VAR 0 1
11171: PUSH
11172: LD_VAR 0 3
11176: ARRAY
11177: PPUSH
11178: LD_VAR 0 2
11182: PPUSH
11183: LD_VAR 0 1
11187: PUSH
11188: LD_VAR 0 3
11192: ARRAY
11193: PPUSH
11194: CALL_OW 74
11198: PPUSH
11199: CALL_OW 115
11203: GO 11164
11205: POP
11206: POP
// end ; end_of_file
11207: PPOPN 3
11209: END
// on UnitDestroyed ( un ) do begin if un = sikorski then
11210: LD_VAR 0 1
11214: PUSH
11215: LD_EXP 13
11219: EQUAL
11220: IFFALSE 11229
// YouLost ( sik ) ;
11222: LD_STRING sik
11224: PPUSH
11225: CALL_OW 104
// if un = omikron then
11229: LD_VAR 0 1
11233: PUSH
11234: LD_INT 64
11236: EQUAL
11237: IFFALSE 11246
// YouLost ( omi ) ;
11239: LD_STRING omi
11241: PPUSH
11242: CALL_OW 104
// if GetSide ( un ) = 6 and un in FilterAllUnits ( [ f_type , unit_building ] ) then
11246: LD_VAR 0 1
11250: PPUSH
11251: CALL_OW 255
11255: PUSH
11256: LD_INT 6
11258: EQUAL
11259: PUSH
11260: LD_VAR 0 1
11264: PUSH
11265: LD_INT 21
11267: PUSH
11268: LD_INT 3
11270: PUSH
11271: EMPTY
11272: LIST
11273: LIST
11274: PPUSH
11275: CALL_OW 69
11279: IN
11280: AND
11281: IFFALSE 11500
// begin if GetBType ( un ) = b_factory then
11283: LD_VAR 0 1
11287: PPUSH
11288: CALL_OW 266
11292: PUSH
11293: LD_INT 3
11295: EQUAL
11296: IFFALSE 11312
// ru_bul := ru_bul ^ b_workshop ;
11298: LD_ADDR_EXP 30
11302: PUSH
11303: LD_EXP 30
11307: PUSH
11308: LD_INT 2
11310: ADD
11311: ST_TO_ADDR
// if GetBType ( un ) = b_lab_full or GetBType ( un ) = b_lab_half then
11312: LD_VAR 0 1
11316: PPUSH
11317: CALL_OW 266
11321: PUSH
11322: LD_INT 8
11324: EQUAL
11325: PUSH
11326: LD_VAR 0 1
11330: PPUSH
11331: CALL_OW 266
11335: PUSH
11336: LD_INT 7
11338: EQUAL
11339: OR
11340: IFFALSE 11356
// ru_bul := ru_bul ^ b_lab ;
11342: LD_ADDR_EXP 30
11346: PUSH
11347: LD_EXP 30
11351: PUSH
11352: LD_INT 6
11354: ADD
11355: ST_TO_ADDR
// if GetBType ( un ) = b_barracks then
11356: LD_VAR 0 1
11360: PPUSH
11361: CALL_OW 266
11365: PUSH
11366: LD_INT 5
11368: EQUAL
11369: IFFALSE 11385
// ru_bul := ru_bul ^ b_armoury ;
11371: LD_ADDR_EXP 30
11375: PUSH
11376: LD_EXP 30
11380: PUSH
11381: LD_INT 4
11383: ADD
11384: ST_TO_ADDR
// if not GetBType ( un ) in [ b_factory , b_lab_full , b_lab_half , b_barracks ] then
11385: LD_VAR 0 1
11389: PPUSH
11390: CALL_OW 266
11394: PUSH
11395: LD_INT 3
11397: PUSH
11398: LD_INT 8
11400: PUSH
11401: LD_INT 7
11403: PUSH
11404: LD_INT 5
11406: PUSH
11407: EMPTY
11408: LIST
11409: LIST
11410: LIST
11411: LIST
11412: IN
11413: NOT
11414: IFFALSE 11437
// ru_bul := ru_bul ^ GetBType ( un ) ;
11416: LD_ADDR_EXP 30
11420: PUSH
11421: LD_EXP 30
11425: PUSH
11426: LD_VAR 0 1
11430: PPUSH
11431: CALL_OW 266
11435: ADD
11436: ST_TO_ADDR
// ru_bul := ru_bul ^ GetX ( un ) ;
11437: LD_ADDR_EXP 30
11441: PUSH
11442: LD_EXP 30
11446: PUSH
11447: LD_VAR 0 1
11451: PPUSH
11452: CALL_OW 250
11456: ADD
11457: ST_TO_ADDR
// ru_bul := ru_bul ^ GetY ( un ) ;
11458: LD_ADDR_EXP 30
11462: PUSH
11463: LD_EXP 30
11467: PUSH
11468: LD_VAR 0 1
11472: PPUSH
11473: CALL_OW 251
11477: ADD
11478: ST_TO_ADDR
// ru_bul := ru_bul ^ GetDir ( un ) ;
11479: LD_ADDR_EXP 30
11483: PUSH
11484: LD_EXP 30
11488: PUSH
11489: LD_VAR 0 1
11493: PPUSH
11494: CALL_OW 254
11498: ADD
11499: ST_TO_ADDR
// end ; if GetSide ( un ) = 6 and un in FilterAllUnits ( [ f_type , unit_vehicle ] ) diff FilterAllUnits ( [ f_weapon , ru_rocket_launcher ] ) then
11500: LD_VAR 0 1
11504: PPUSH
11505: CALL_OW 255
11509: PUSH
11510: LD_INT 6
11512: EQUAL
11513: PUSH
11514: LD_VAR 0 1
11518: PUSH
11519: LD_INT 21
11521: PUSH
11522: LD_INT 2
11524: PUSH
11525: EMPTY
11526: LIST
11527: LIST
11528: PPUSH
11529: CALL_OW 69
11533: PUSH
11534: LD_INT 34
11536: PUSH
11537: LD_INT 45
11539: PUSH
11540: EMPTY
11541: LIST
11542: LIST
11543: PPUSH
11544: CALL_OW 69
11548: DIFF
11549: IN
11550: AND
11551: IFFALSE 11637
// begin ru_veh := ru_veh ^ GetChassis ( un ) ;
11553: LD_ADDR_EXP 26
11557: PUSH
11558: LD_EXP 26
11562: PUSH
11563: LD_VAR 0 1
11567: PPUSH
11568: CALL_OW 265
11572: ADD
11573: ST_TO_ADDR
// ru_veh := ru_veh ^ GetEngine ( un ) ;
11574: LD_ADDR_EXP 26
11578: PUSH
11579: LD_EXP 26
11583: PUSH
11584: LD_VAR 0 1
11588: PPUSH
11589: CALL_OW 262
11593: ADD
11594: ST_TO_ADDR
// ru_veh := ru_veh ^ GetControl ( un ) ;
11595: LD_ADDR_EXP 26
11599: PUSH
11600: LD_EXP 26
11604: PUSH
11605: LD_VAR 0 1
11609: PPUSH
11610: CALL_OW 263
11614: ADD
11615: ST_TO_ADDR
// ru_veh := ru_veh ^ GetWeapon ( un ) ;
11616: LD_ADDR_EXP 26
11620: PUSH
11621: LD_EXP 26
11625: PUSH
11626: LD_VAR 0 1
11630: PPUSH
11631: CALL_OW 264
11635: ADD
11636: ST_TO_ADDR
// end ; if un in FilterAllUnits ( [ [ f_side , 6 ] , [ f_class , 3 ] ] ) and FilterAllUnits ( [ [ f_side , 6 ] , [ f_btype , b_factory ] , [ f_lives , 251 ] ] ) > 0 then
11637: LD_VAR 0 1
11641: PUSH
11642: LD_INT 22
11644: PUSH
11645: LD_INT 6
11647: PUSH
11648: EMPTY
11649: LIST
11650: LIST
11651: PUSH
11652: LD_INT 25
11654: PUSH
11655: LD_INT 3
11657: PUSH
11658: EMPTY
11659: LIST
11660: LIST
11661: PUSH
11662: EMPTY
11663: LIST
11664: LIST
11665: PPUSH
11666: CALL_OW 69
11670: IN
11671: PUSH
11672: LD_INT 22
11674: PUSH
11675: LD_INT 6
11677: PUSH
11678: EMPTY
11679: LIST
11680: LIST
11681: PUSH
11682: LD_INT 30
11684: PUSH
11685: LD_INT 3
11687: PUSH
11688: EMPTY
11689: LIST
11690: LIST
11691: PUSH
11692: LD_INT 24
11694: PUSH
11695: LD_INT 251
11697: PUSH
11698: EMPTY
11699: LIST
11700: LIST
11701: PUSH
11702: EMPTY
11703: LIST
11704: LIST
11705: LIST
11706: PPUSH
11707: CALL_OW 69
11711: PUSH
11712: LD_INT 0
11714: GREATER
11715: AND
11716: IFFALSE 11764
// begin uc_side := 6 ;
11718: LD_ADDR_OWVAR 20
11722: PUSH
11723: LD_INT 6
11725: ST_TO_ADDR
// uc_nation := 3 ;
11726: LD_ADDR_OWVAR 21
11730: PUSH
11731: LD_INT 3
11733: ST_TO_ADDR
// un := CreateHumanWithClass ( 3 , ru_def ) ;
11734: LD_ADDR_VAR 0 1
11738: PUSH
11739: LD_INT 3
11741: PPUSH
11742: LD_EXP 4
11746: PPUSH
11747: CALL 418 0 2
11751: ST_TO_ADDR
// PlaceHumanInUnit ( un , ru_fac ) ;
11752: LD_VAR 0 1
11756: PPUSH
11757: LD_INT 92
11759: PPUSH
11760: CALL_OW 52
// end ; if GetSide ( un ) = 3 and un in FilterAllUnits ( [ f_type , unit_building ] ) then
11764: LD_VAR 0 1
11768: PPUSH
11769: CALL_OW 255
11773: PUSH
11774: LD_INT 3
11776: EQUAL
11777: PUSH
11778: LD_VAR 0 1
11782: PUSH
11783: LD_INT 21
11785: PUSH
11786: LD_INT 3
11788: PUSH
11789: EMPTY
11790: LIST
11791: LIST
11792: PPUSH
11793: CALL_OW 69
11797: IN
11798: AND
11799: IFFALSE 12030
// begin if GetBType ( un ) = b_factory then
11801: LD_VAR 0 1
11805: PPUSH
11806: CALL_OW 266
11810: PUSH
11811: LD_INT 3
11813: EQUAL
11814: IFFALSE 11830
// ru2_bul := ru2_bul ^ b_workshop ;
11816: LD_ADDR_EXP 40
11820: PUSH
11821: LD_EXP 40
11825: PUSH
11826: LD_INT 2
11828: ADD
11829: ST_TO_ADDR
// if GetBType ( un ) = b_lab_full or GetBType ( un ) = b_lab_half then
11830: LD_VAR 0 1
11834: PPUSH
11835: CALL_OW 266
11839: PUSH
11840: LD_INT 8
11842: EQUAL
11843: PUSH
11844: LD_VAR 0 1
11848: PPUSH
11849: CALL_OW 266
11853: PUSH
11854: LD_INT 7
11856: EQUAL
11857: OR
11858: IFFALSE 11874
// ru2_bul := ru2_bul ^ b_lab ;
11860: LD_ADDR_EXP 40
11864: PUSH
11865: LD_EXP 40
11869: PUSH
11870: LD_INT 6
11872: ADD
11873: ST_TO_ADDR
// if GetBType ( un ) = b_barracks then
11874: LD_VAR 0 1
11878: PPUSH
11879: CALL_OW 266
11883: PUSH
11884: LD_INT 5
11886: EQUAL
11887: IFFALSE 11903
// ru2_bul := ru2_bul ^ b_armoury ;
11889: LD_ADDR_EXP 40
11893: PUSH
11894: LD_EXP 40
11898: PUSH
11899: LD_INT 4
11901: ADD
11902: ST_TO_ADDR
// if not GetBType ( un ) in [ b_factory , b_lab_full , b_lab_half , b_barracks , b_ext_gun , b_ext_noncombat , b_ext_track ] then
11903: LD_VAR 0 1
11907: PPUSH
11908: CALL_OW 266
11912: PUSH
11913: LD_INT 3
11915: PUSH
11916: LD_INT 8
11918: PUSH
11919: LD_INT 7
11921: PUSH
11922: LD_INT 5
11924: PUSH
11925: LD_INT 17
11927: PUSH
11928: LD_INT 19
11930: PUSH
11931: LD_INT 16
11933: PUSH
11934: EMPTY
11935: LIST
11936: LIST
11937: LIST
11938: LIST
11939: LIST
11940: LIST
11941: LIST
11942: IN
11943: NOT
11944: IFFALSE 11967
// ru2_bul := ru2_bul ^ GetBType ( un ) ;
11946: LD_ADDR_EXP 40
11950: PUSH
11951: LD_EXP 40
11955: PUSH
11956: LD_VAR 0 1
11960: PPUSH
11961: CALL_OW 266
11965: ADD
11966: ST_TO_ADDR
// ru2_bul := ru2_bul ^ GetX ( un ) ;
11967: LD_ADDR_EXP 40
11971: PUSH
11972: LD_EXP 40
11976: PUSH
11977: LD_VAR 0 1
11981: PPUSH
11982: CALL_OW 250
11986: ADD
11987: ST_TO_ADDR
// ru2_bul := ru2_bul ^ GetY ( un ) ;
11988: LD_ADDR_EXP 40
11992: PUSH
11993: LD_EXP 40
11997: PUSH
11998: LD_VAR 0 1
12002: PPUSH
12003: CALL_OW 251
12007: ADD
12008: ST_TO_ADDR
// ru2_bul := ru2_bul ^ GetDir ( un ) ;
12009: LD_ADDR_EXP 40
12013: PUSH
12014: LD_EXP 40
12018: PUSH
12019: LD_VAR 0 1
12023: PPUSH
12024: CALL_OW 254
12028: ADD
12029: ST_TO_ADDR
// end ; if GetSide ( un ) = 3 and un in FilterAllUnits ( [ f_type , unit_vehicle ] ) diff FilterAllUnits ( [ f_weapon , ru_rocket_launcher ] ) then
12030: LD_VAR 0 1
12034: PPUSH
12035: CALL_OW 255
12039: PUSH
12040: LD_INT 3
12042: EQUAL
12043: PUSH
12044: LD_VAR 0 1
12048: PUSH
12049: LD_INT 21
12051: PUSH
12052: LD_INT 2
12054: PUSH
12055: EMPTY
12056: LIST
12057: LIST
12058: PPUSH
12059: CALL_OW 69
12063: PUSH
12064: LD_INT 34
12066: PUSH
12067: LD_INT 45
12069: PUSH
12070: EMPTY
12071: LIST
12072: LIST
12073: PPUSH
12074: CALL_OW 69
12078: DIFF
12079: IN
12080: AND
12081: IFFALSE 12167
// begin ru2_veh := ru2_veh ^ GetChassis ( un ) ;
12083: LD_ADDR_EXP 36
12087: PUSH
12088: LD_EXP 36
12092: PUSH
12093: LD_VAR 0 1
12097: PPUSH
12098: CALL_OW 265
12102: ADD
12103: ST_TO_ADDR
// ru2_veh := ru2_veh ^ GetEngine ( un ) ;
12104: LD_ADDR_EXP 36
12108: PUSH
12109: LD_EXP 36
12113: PUSH
12114: LD_VAR 0 1
12118: PPUSH
12119: CALL_OW 262
12123: ADD
12124: ST_TO_ADDR
// ru2_veh := ru2_veh ^ GetControl ( un ) ;
12125: LD_ADDR_EXP 36
12129: PUSH
12130: LD_EXP 36
12134: PUSH
12135: LD_VAR 0 1
12139: PPUSH
12140: CALL_OW 263
12144: ADD
12145: ST_TO_ADDR
// ru2_veh := ru2_veh ^ GetWeapon ( un ) ;
12146: LD_ADDR_EXP 36
12150: PUSH
12151: LD_EXP 36
12155: PUSH
12156: LD_VAR 0 1
12160: PPUSH
12161: CALL_OW 264
12165: ADD
12166: ST_TO_ADDR
// end ; if un in FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 3 ] ] ) and FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_factory ] , [ f_lives , 251 ] ] ) > 0 then
12167: LD_VAR 0 1
12171: PUSH
12172: LD_INT 22
12174: PUSH
12175: LD_INT 3
12177: PUSH
12178: EMPTY
12179: LIST
12180: LIST
12181: PUSH
12182: LD_INT 25
12184: PUSH
12185: LD_INT 3
12187: PUSH
12188: EMPTY
12189: LIST
12190: LIST
12191: PUSH
12192: EMPTY
12193: LIST
12194: LIST
12195: PPUSH
12196: CALL_OW 69
12200: IN
12201: PUSH
12202: LD_INT 22
12204: PUSH
12205: LD_INT 3
12207: PUSH
12208: EMPTY
12209: LIST
12210: LIST
12211: PUSH
12212: LD_INT 30
12214: PUSH
12215: LD_INT 3
12217: PUSH
12218: EMPTY
12219: LIST
12220: LIST
12221: PUSH
12222: LD_INT 24
12224: PUSH
12225: LD_INT 251
12227: PUSH
12228: EMPTY
12229: LIST
12230: LIST
12231: PUSH
12232: EMPTY
12233: LIST
12234: LIST
12235: LIST
12236: PPUSH
12237: CALL_OW 69
12241: PUSH
12242: LD_INT 0
12244: GREATER
12245: AND
12246: IFFALSE 12324
// begin uc_side := 3 ;
12248: LD_ADDR_OWVAR 20
12252: PUSH
12253: LD_INT 3
12255: ST_TO_ADDR
// uc_nation := 3 ;
12256: LD_ADDR_OWVAR 21
12260: PUSH
12261: LD_INT 3
12263: ST_TO_ADDR
// un := CreateHumanWithClass ( 3 , ru_def ) ;
12264: LD_ADDR_VAR 0 1
12268: PUSH
12269: LD_INT 3
12271: PPUSH
12272: LD_EXP 4
12276: PPUSH
12277: CALL 418 0 2
12281: ST_TO_ADDR
// PlaceHumanInUnit ( un , FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_factory ] ] ) [ 1 ] ) ;
12282: LD_VAR 0 1
12286: PPUSH
12287: LD_INT 22
12289: PUSH
12290: LD_INT 3
12292: PUSH
12293: EMPTY
12294: LIST
12295: LIST
12296: PUSH
12297: LD_INT 30
12299: PUSH
12300: LD_INT 3
12302: PUSH
12303: EMPTY
12304: LIST
12305: LIST
12306: PUSH
12307: EMPTY
12308: LIST
12309: LIST
12310: PPUSH
12311: CALL_OW 69
12315: PUSH
12316: LD_INT 1
12318: ARRAY
12319: PPUSH
12320: CALL_OW 52
// end ; end ;
12324: PPOPN 1
12326: END
// on BuildingComplete ( b ) do var i ;
12327: LD_INT 0
12329: PPUSH
// begin if b in FilterAllUnits ( [ f_side , 6 ] ) then
12330: LD_VAR 0 1
12334: PUSH
12335: LD_INT 22
12337: PUSH
12338: LD_INT 6
12340: PUSH
12341: EMPTY
12342: LIST
12343: LIST
12344: PPUSH
12345: CALL_OW 69
12349: IN
12350: IFFALSE 12390
// for i = 1 to 4 do
12352: LD_ADDR_VAR 0 2
12356: PUSH
12357: DOUBLE
12358: LD_INT 1
12360: DEC
12361: ST_TO_ADDR
12362: LD_INT 4
12364: PUSH
12365: FOR_TO
12366: IFFALSE 12388
// ru_bul := Delete ( ru_bul , 1 ) ;
12368: LD_ADDR_EXP 30
12372: PUSH
12373: LD_EXP 30
12377: PPUSH
12378: LD_INT 1
12380: PPUSH
12381: CALL_OW 3
12385: ST_TO_ADDR
12386: GO 12365
12388: POP
12389: POP
// if b in FilterAllUnits ( [ f_side , 3 ] ) then
12390: LD_VAR 0 1
12394: PUSH
12395: LD_INT 22
12397: PUSH
12398: LD_INT 3
12400: PUSH
12401: EMPTY
12402: LIST
12403: LIST
12404: PPUSH
12405: CALL_OW 69
12409: IN
12410: IFFALSE 12450
// for i = 1 to 4 do
12412: LD_ADDR_VAR 0 2
12416: PUSH
12417: DOUBLE
12418: LD_INT 1
12420: DEC
12421: ST_TO_ADDR
12422: LD_INT 4
12424: PUSH
12425: FOR_TO
12426: IFFALSE 12448
// ru2_bul := Delete ( ru2_bul , 1 ) ;
12428: LD_ADDR_EXP 40
12432: PUSH
12433: LD_EXP 40
12437: PPUSH
12438: LD_INT 1
12440: PPUSH
12441: CALL_OW 3
12445: ST_TO_ADDR
12446: GO 12425
12448: POP
12449: POP
// end ; end_of_file
12450: PPOPN 2
12452: END
// export function Start_Game ; begin
12453: LD_INT 0
12455: PPUSH
// case Query ( textdiff ) of 1 :
12456: LD_STRING textdiff
12458: PPUSH
12459: CALL_OW 97
12463: PUSH
12464: LD_INT 1
12466: DOUBLE
12467: EQUAL
12468: IFTRUE 12472
12470: GO 12483
12472: POP
// global_diff := 1 ; 2 :
12473: LD_ADDR_EXP 2
12477: PUSH
12478: LD_INT 1
12480: ST_TO_ADDR
12481: GO 12522
12483: LD_INT 2
12485: DOUBLE
12486: EQUAL
12487: IFTRUE 12491
12489: GO 12502
12491: POP
// global_diff := 2 ; 3 :
12492: LD_ADDR_EXP 2
12496: PUSH
12497: LD_INT 2
12499: ST_TO_ADDR
12500: GO 12522
12502: LD_INT 3
12504: DOUBLE
12505: EQUAL
12506: IFTRUE 12510
12508: GO 12521
12510: POP
// global_diff := 3 ; end ;
12511: LD_ADDR_EXP 2
12515: PUSH
12516: LD_INT 3
12518: ST_TO_ADDR
12519: GO 12522
12521: POP
// CenterOnXY ( 70 , 130 ) ;
12522: LD_INT 70
12524: PPUSH
12525: LD_INT 130
12527: PPUSH
12528: CALL_OW 84
// case Query ( text1 ) of 1 :
12532: LD_STRING text1
12534: PPUSH
12535: CALL_OW 97
12539: PUSH
12540: LD_INT 1
12542: DOUBLE
12543: EQUAL
12544: IFTRUE 12548
12546: GO 12551
12548: POP
// ; end ;
12549: GO 12552
12551: POP
// ChangeMissionObjectives ( target1 ) ;
12552: LD_STRING target1
12554: PPUSH
12555: CALL_OW 337
// game_started := true ;
12559: LD_ADDR_EXP 9
12563: PUSH
12564: LD_INT 1
12566: ST_TO_ADDR
// crates_allow := true ;
12567: LD_ADDR_EXP 12
12571: PUSH
12572: LD_INT 1
12574: ST_TO_ADDR
// if global_diff > 2 then
12575: LD_EXP 2
12579: PUSH
12580: LD_INT 2
12582: GREATER
12583: IFFALSE 12592
// RemoveUnit ( us_spec_b ) ;
12585: LD_INT 140
12587: PPUSH
12588: CALL_OW 64
// end ;
12592: LD_VAR 0 1
12596: RET
// every 0 0$0.3 trigger SeeSide ( sikorski_veh , 6 ) or SeeSide ( sikorski_veh , 3 ) or SeeSide ( sikorski , 3 ) or SeeSide ( sikorski , 6 ) do
12597: LD_EXP 21
12601: PPUSH
12602: LD_INT 6
12604: PPUSH
12605: CALL 863 0 2
12609: PUSH
12610: LD_EXP 21
12614: PPUSH
12615: LD_INT 3
12617: PPUSH
12618: CALL 863 0 2
12622: OR
12623: PUSH
12624: LD_EXP 13
12628: PPUSH
12629: LD_INT 3
12631: PPUSH
12632: CALL 863 0 2
12636: OR
12637: PUSH
12638: LD_EXP 13
12642: PPUSH
12643: LD_INT 6
12645: PPUSH
12646: CALL 863 0 2
12650: OR
12651: IFFALSE 12668
12653: GO 12655
12655: DISABLE
// Say ( sikorski , DRus ) ;
12656: LD_EXP 13
12660: PPUSH
12661: LD_STRING DRus
12663: PPUSH
12664: CALL_OW 88
12668: END
// every 0 0$01 trigger See ( 4 , sikorski ) or See ( 4 , sikorski_veh ) do var i , per ;
12669: LD_INT 4
12671: PPUSH
12672: LD_EXP 13
12676: PPUSH
12677: CALL_OW 292
12681: PUSH
12682: LD_INT 4
12684: PPUSH
12685: LD_EXP 21
12689: PPUSH
12690: CALL_OW 292
12694: OR
12695: IFFALSE 13117
12697: GO 12699
12699: DISABLE
12700: LD_INT 0
12702: PPUSH
12703: PPUSH
// begin Wait ( 0 0$05 ) ;
12704: LD_INT 175
12706: PPUSH
12707: CALL_OW 67
// for i in FilterAllUnits ( [ f_side , 4 ] ) do
12711: LD_ADDR_VAR 0 1
12715: PUSH
12716: LD_INT 22
12718: PUSH
12719: LD_INT 4
12721: PUSH
12722: EMPTY
12723: LIST
12724: LIST
12725: PPUSH
12726: CALL_OW 69
12730: PUSH
12731: FOR_IN
12732: IFFALSE 12748
// SetSide ( i , 1 ) ;
12734: LD_VAR 0 1
12738: PPUSH
12739: LD_INT 1
12741: PPUSH
12742: CALL_OW 235
12746: GO 12731
12748: POP
12749: POP
// per := FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_sex , sex_male ] ] ) diff sikorski ;
12750: LD_ADDR_VAR 0 2
12754: PUSH
12755: LD_INT 22
12757: PUSH
12758: LD_INT 1
12760: PUSH
12761: EMPTY
12762: LIST
12763: LIST
12764: PUSH
12765: LD_INT 21
12767: PUSH
12768: LD_INT 1
12770: PUSH
12771: EMPTY
12772: LIST
12773: LIST
12774: PUSH
12775: LD_INT 26
12777: PUSH
12778: LD_INT 1
12780: PUSH
12781: EMPTY
12782: LIST
12783: LIST
12784: PUSH
12785: EMPTY
12786: LIST
12787: LIST
12788: LIST
12789: PPUSH
12790: CALL_OW 69
12794: PUSH
12795: LD_EXP 13
12799: DIFF
12800: ST_TO_ADDR
// InGameOn ;
12801: CALL_OW 8
// CenterNowOnXY ( 19 , 13 ) ;
12805: LD_INT 19
12807: PPUSH
12808: LD_INT 13
12810: PPUSH
12811: CALL_OW 86
// if IsInUnit ( sikorski ) then
12815: LD_EXP 13
12819: PPUSH
12820: CALL_OW 310
12824: IFFALSE 12842
// begin ComExitVehicle ( sikorski ) ;
12826: LD_EXP 13
12830: PPUSH
12831: CALL_OW 121
// Wait ( 0 0$0.3 ) ;
12835: LD_INT 10
12837: PPUSH
12838: CALL_OW 67
// end ; ComTurnUnit ( sikorski , per [ 1 ] ) ;
12842: LD_EXP 13
12846: PPUSH
12847: LD_VAR 0 2
12851: PUSH
12852: LD_INT 1
12854: ARRAY
12855: PPUSH
12856: CALL_OW 119
// ComTurnUnit ( per [ 1 ] , sikorski ) ;
12860: LD_VAR 0 2
12864: PUSH
12865: LD_INT 1
12867: ARRAY
12868: PPUSH
12869: LD_EXP 13
12873: PPUSH
12874: CALL_OW 119
// Wait ( 0 0$0.3 ) ;
12878: LD_INT 10
12880: PPUSH
12881: CALL_OW 67
// Say ( sikorski , DS-1 ) ;
12885: LD_EXP 13
12889: PPUSH
12890: LD_STRING DS-1
12892: PPUSH
12893: CALL_OW 88
// Say ( per [ 1 ] , DP-1 ) ;
12897: LD_VAR 0 2
12901: PUSH
12902: LD_INT 1
12904: ARRAY
12905: PPUSH
12906: LD_STRING DP-1
12908: PPUSH
12909: CALL_OW 88
// Say ( sikorski , DS-2 ) ;
12913: LD_EXP 13
12917: PPUSH
12918: LD_STRING DS-2
12920: PPUSH
12921: CALL_OW 88
// Say ( per [ 1 ] , DP-2 ) ;
12925: LD_VAR 0 2
12929: PUSH
12930: LD_INT 1
12932: ARRAY
12933: PPUSH
12934: LD_STRING DP-2
12936: PPUSH
12937: CALL_OW 88
// Say ( sikorski , DS-3 ) ;
12941: LD_EXP 13
12945: PPUSH
12946: LD_STRING DS-3
12948: PPUSH
12949: CALL_OW 88
// Say ( per [ 1 ] , DP-3 ) ;
12953: LD_VAR 0 2
12957: PUSH
12958: LD_INT 1
12960: ARRAY
12961: PPUSH
12962: LD_STRING DP-3
12964: PPUSH
12965: CALL_OW 88
// Say ( sikorski , DS-4 ) ;
12969: LD_EXP 13
12973: PPUSH
12974: LD_STRING DS-4
12976: PPUSH
12977: CALL_OW 88
// Wait ( 0 0$0.6 ) ;
12981: LD_INT 21
12983: PPUSH
12984: CALL_OW 67
// SayRadio ( ron , DR-1 ) ;
12988: LD_EXP 16
12992: PPUSH
12993: LD_STRING DR-1
12995: PPUSH
12996: CALL_OW 94
// Say ( sikorski , DS-5 ) ;
13000: LD_EXP 13
13004: PPUSH
13005: LD_STRING DS-5
13007: PPUSH
13008: CALL_OW 88
// SayRadio ( ron , DR-2 ) ;
13012: LD_EXP 16
13016: PPUSH
13017: LD_STRING DR-2
13019: PPUSH
13020: CALL_OW 94
// Say ( sikorski , DS-6 ) ;
13024: LD_EXP 13
13028: PPUSH
13029: LD_STRING DS-6
13031: PPUSH
13032: CALL_OW 88
// Wait ( 0 0$0.3 ) ;
13036: LD_INT 10
13038: PPUSH
13039: CALL_OW 67
// SayRadio ( ron , DR-3 ) ;
13043: LD_EXP 16
13047: PPUSH
13048: LD_STRING DR-3
13050: PPUSH
13051: CALL_OW 94
// InGameOff ;
13055: CALL_OW 9
// ChangeMissionObjectives ( target2 ) ;
13059: LD_STRING target2
13061: PPUSH
13062: CALL_OW 337
// Wait ( 0 0$03 ) ;
13066: LD_INT 105
13068: PPUSH
13069: CALL_OW 67
// Say ( sikorski , DS-7 ) ;
13073: LD_EXP 13
13077: PPUSH
13078: LD_STRING DS-7
13080: PPUSH
13081: CALL_OW 88
// Wait ( [ 6 6$00 , 5 5$00 , 4 4$00 ] [ global_diff ] ) ;
13085: LD_INT 12600
13087: PUSH
13088: LD_INT 10500
13090: PUSH
13091: LD_INT 8400
13093: PUSH
13094: EMPTY
13095: LIST
13096: LIST
13097: LIST
13098: PUSH
13099: LD_EXP 2
13103: ARRAY
13104: PPUSH
13105: CALL_OW 67
// russian_produce := true ;
13109: LD_ADDR_EXP 19
13113: PUSH
13114: LD_INT 1
13116: ST_TO_ADDR
// end ;
13117: PPOPN 2
13119: END
// export us_unit ; every 0 0$11 trigger timer >= [ 25 25$00 , 27 27$30 , 29 29$20 ] [ global_diff ] do
13120: LD_EXP 1
13124: PUSH
13125: LD_INT 52500
13127: PUSH
13128: LD_INT 57750
13130: PUSH
13131: LD_INT 61600
13133: PUSH
13134: EMPTY
13135: LIST
13136: LIST
13137: LIST
13138: PUSH
13139: LD_EXP 2
13143: ARRAY
13144: GREATEREQUAL
13145: IFFALSE 13313
13147: GO 13149
13149: DISABLE
// begin uc_side := 8 ;
13150: LD_ADDR_OWVAR 20
13154: PUSH
13155: LD_INT 8
13157: ST_TO_ADDR
// uc_nation := 1 ;
13158: LD_ADDR_OWVAR 21
13162: PUSH
13163: LD_INT 1
13165: ST_TO_ADDR
// hc_sex := sex_male ;
13166: LD_ADDR_OWVAR 27
13170: PUSH
13171: LD_INT 1
13173: ST_TO_ADDR
// hc_gallery :=  ;
13174: LD_ADDR_OWVAR 33
13178: PUSH
13179: LD_STRING 
13181: ST_TO_ADDR
// hc_name :=  ;
13182: LD_ADDR_OWVAR 26
13186: PUSH
13187: LD_STRING 
13189: ST_TO_ADDR
// hc_class := Rand ( 1 , 4 ) ;
13190: LD_ADDR_OWVAR 28
13194: PUSH
13195: LD_INT 1
13197: PPUSH
13198: LD_INT 4
13200: PPUSH
13201: CALL_OW 12
13205: ST_TO_ADDR
// hc_skills := [ Rand ( 2 , am_def ) , Rand ( 2 , am_def ) , Rand ( 2 , am_def ) , Rand ( 2 , am_def ) ] ;
13206: LD_ADDR_OWVAR 31
13210: PUSH
13211: LD_INT 2
13213: PPUSH
13214: LD_EXP 5
13218: PPUSH
13219: CALL_OW 12
13223: PUSH
13224: LD_INT 2
13226: PPUSH
13227: LD_EXP 5
13231: PPUSH
13232: CALL_OW 12
13236: PUSH
13237: LD_INT 2
13239: PPUSH
13240: LD_EXP 5
13244: PPUSH
13245: CALL_OW 12
13249: PUSH
13250: LD_INT 2
13252: PPUSH
13253: LD_EXP 5
13257: PPUSH
13258: CALL_OW 12
13262: PUSH
13263: EMPTY
13264: LIST
13265: LIST
13266: LIST
13267: LIST
13268: ST_TO_ADDR
// us_unit := CreateHuman ;
13269: LD_ADDR_EXP 44
13273: PUSH
13274: CALL_OW 44
13278: ST_TO_ADDR
// PlaceUnitArea ( us_unit , swamp_spawn , true ) ;
13279: LD_EXP 44
13283: PPUSH
13284: LD_INT 13
13286: PPUSH
13287: LD_INT 1
13289: PPUSH
13290: CALL_OW 49
// Wait ( 0 0$0.3 ) ;
13294: LD_INT 10
13296: PPUSH
13297: CALL_OW 67
// SayRadio ( us_unit , Dun1 ) ;
13301: LD_EXP 44
13305: PPUSH
13306: LD_STRING Dun1
13308: PPUSH
13309: CALL_OW 94
// end ;
13313: END
// every 0 0$01 trigger See ( 1 , us_unit ) do
13314: LD_INT 1
13316: PPUSH
13317: LD_EXP 44
13321: PPUSH
13322: CALL_OW 292
13326: IFFALSE 13343
13328: GO 13330
13330: DISABLE
// SetSide ( us_unit , 1 ) ;
13331: LD_EXP 44
13335: PPUSH
13336: LD_INT 1
13338: PPUSH
13339: CALL_OW 235
13343: END
// every 1 1$35 trigger timer >= [ 8 8$00 , 9 9$00 , 10 10$00 ] [ global_diff ] do var un , veh , i ;
13344: LD_EXP 1
13348: PUSH
13349: LD_INT 16800
13351: PUSH
13352: LD_INT 18900
13354: PUSH
13355: LD_INT 21000
13357: PUSH
13358: EMPTY
13359: LIST
13360: LIST
13361: LIST
13362: PUSH
13363: LD_EXP 2
13367: ARRAY
13368: GREATEREQUAL
13369: IFFALSE 13748
13371: GO 13373
13373: DISABLE
13374: LD_INT 0
13376: PPUSH
13377: PPUSH
13378: PPUSH
// begin uc_side := 4 ;
13379: LD_ADDR_OWVAR 20
13383: PUSH
13384: LD_INT 4
13386: ST_TO_ADDR
// uc_nation := 1 ;
13387: LD_ADDR_OWVAR 21
13391: PUSH
13392: LD_INT 1
13394: ST_TO_ADDR
// vc_chassis := [ us_medium_tracked , us_medium_wheeled , us_medium_wheeled ] [ global_diff ] ;
13395: LD_ADDR_OWVAR 37
13399: PUSH
13400: LD_INT 3
13402: PUSH
13403: LD_INT 2
13405: PUSH
13406: LD_INT 2
13408: PUSH
13409: EMPTY
13410: LIST
13411: LIST
13412: LIST
13413: PUSH
13414: LD_EXP 2
13418: ARRAY
13419: ST_TO_ADDR
// vc_engine := engine_solar ;
13420: LD_ADDR_OWVAR 39
13424: PUSH
13425: LD_INT 2
13427: ST_TO_ADDR
// vc_control := control_manual ;
13428: LD_ADDR_OWVAR 38
13432: PUSH
13433: LD_INT 1
13435: ST_TO_ADDR
// vc_weapon := us_cargo_bay ;
13436: LD_ADDR_OWVAR 40
13440: PUSH
13441: LD_INT 12
13443: ST_TO_ADDR
// veh := CreateVehicle ;
13444: LD_ADDR_VAR 0 2
13448: PUSH
13449: CALL_OW 45
13453: ST_TO_ADDR
// PlaceUnitArea ( veh , am_car , false ) ;
13454: LD_VAR 0 2
13458: PPUSH
13459: LD_INT 20
13461: PPUSH
13462: LD_INT 0
13464: PPUSH
13465: CALL_OW 49
// hc_sex := sex_male ;
13469: LD_ADDR_OWVAR 27
13473: PUSH
13474: LD_INT 1
13476: ST_TO_ADDR
// hc_gallery :=  ;
13477: LD_ADDR_OWVAR 33
13481: PUSH
13482: LD_STRING 
13484: ST_TO_ADDR
// hc_name :=  ;
13485: LD_ADDR_OWVAR 26
13489: PUSH
13490: LD_STRING 
13492: ST_TO_ADDR
// hc_class := 3 ;
13493: LD_ADDR_OWVAR 28
13497: PUSH
13498: LD_INT 3
13500: ST_TO_ADDR
// hc_skills := [ Rand ( 2 , am_def ) , Rand ( 2 , am_def ) , Rand ( 2 , am_def ) , Rand ( 2 , am_def ) ] ;
13501: LD_ADDR_OWVAR 31
13505: PUSH
13506: LD_INT 2
13508: PPUSH
13509: LD_EXP 5
13513: PPUSH
13514: CALL_OW 12
13518: PUSH
13519: LD_INT 2
13521: PPUSH
13522: LD_EXP 5
13526: PPUSH
13527: CALL_OW 12
13531: PUSH
13532: LD_INT 2
13534: PPUSH
13535: LD_EXP 5
13539: PPUSH
13540: CALL_OW 12
13544: PUSH
13545: LD_INT 2
13547: PPUSH
13548: LD_EXP 5
13552: PPUSH
13553: CALL_OW 12
13557: PUSH
13558: EMPTY
13559: LIST
13560: LIST
13561: LIST
13562: LIST
13563: ST_TO_ADDR
// un := CreateHuman ;
13564: LD_ADDR_VAR 0 1
13568: PUSH
13569: CALL_OW 44
13573: ST_TO_ADDR
// PlaceUnitArea ( veh , am_car , true ) ;
13574: LD_VAR 0 2
13578: PPUSH
13579: LD_INT 20
13581: PPUSH
13582: LD_INT 1
13584: PPUSH
13585: CALL_OW 49
// PlaceHumanInUnit ( un , veh ) ;
13589: LD_VAR 0 1
13593: PPUSH
13594: LD_VAR 0 2
13598: PPUSH
13599: CALL_OW 52
// SetCargo ( veh , mat_cans , 60 ) ;
13603: LD_VAR 0 2
13607: PPUSH
13608: LD_INT 1
13610: PPUSH
13611: LD_INT 60
13613: PPUSH
13614: CALL_OW 290
// SetFuel ( veh , 98 ) ;
13618: LD_VAR 0 2
13622: PPUSH
13623: LD_INT 98
13625: PPUSH
13626: CALL_OW 240
// SetLives ( un , 500 ) ;
13630: LD_VAR 0 1
13634: PPUSH
13635: LD_INT 500
13637: PPUSH
13638: CALL_OW 234
// SetLives ( veh , Rand ( 900 , 999 ) ) ;
13642: LD_VAR 0 2
13646: PPUSH
13647: LD_INT 900
13649: PPUSH
13650: LD_INT 999
13652: PPUSH
13653: CALL_OW 12
13657: PPUSH
13658: CALL_OW 234
// ComMoveXY ( un , 14 , 9 ) ;
13662: LD_VAR 0 1
13666: PPUSH
13667: LD_INT 14
13669: PPUSH
13670: LD_INT 9
13672: PPUSH
13673: CALL_OW 111
// repeat Wait ( 0 0$01 ) ;
13677: LD_INT 35
13679: PPUSH
13680: CALL_OW 67
// until See ( 1 , veh ) or See ( 1 , un ) ;
13684: LD_INT 1
13686: PPUSH
13687: LD_VAR 0 2
13691: PPUSH
13692: CALL_OW 292
13696: PUSH
13697: LD_INT 1
13699: PPUSH
13700: LD_VAR 0 1
13704: PPUSH
13705: CALL_OW 292
13709: OR
13710: IFFALSE 13677
// Say ( un , Dcargo ) ;
13712: LD_VAR 0 1
13716: PPUSH
13717: LD_STRING Dcargo
13719: PPUSH
13720: CALL_OW 88
// SetSide ( un , 1 ) ;
13724: LD_VAR 0 1
13728: PPUSH
13729: LD_INT 1
13731: PPUSH
13732: CALL_OW 235
// SetSide ( veh , 1 ) ;
13736: LD_VAR 0 2
13740: PPUSH
13741: LD_INT 1
13743: PPUSH
13744: CALL_OW 235
// end ;
13748: PPOPN 3
13750: END
// every 0 0$01 trigger timer >= [ 18 18$00 , 19 19$00 , 21 21$00 ] [ global_diff ] and FilterAllUnits ( [ [ f_side , 6 ] , [ f_type , unit_vehicle ] ] ) < 5 do var un , speaker , veh , i , area ;
13751: LD_EXP 1
13755: PUSH
13756: LD_INT 37800
13758: PUSH
13759: LD_INT 39900
13761: PUSH
13762: LD_INT 44100
13764: PUSH
13765: EMPTY
13766: LIST
13767: LIST
13768: LIST
13769: PUSH
13770: LD_EXP 2
13774: ARRAY
13775: GREATEREQUAL
13776: PUSH
13777: LD_INT 22
13779: PUSH
13780: LD_INT 6
13782: PUSH
13783: EMPTY
13784: LIST
13785: LIST
13786: PUSH
13787: LD_INT 21
13789: PUSH
13790: LD_INT 2
13792: PUSH
13793: EMPTY
13794: LIST
13795: LIST
13796: PUSH
13797: EMPTY
13798: LIST
13799: LIST
13800: PPUSH
13801: CALL_OW 69
13805: PUSH
13806: LD_INT 5
13808: LESS
13809: AND
13810: IFFALSE 14145
13812: GO 13814
13814: DISABLE
13815: LD_INT 0
13817: PPUSH
13818: PPUSH
13819: PPUSH
13820: PPUSH
13821: PPUSH
// begin area := [ us_north , us_south , us_north ] [ global_diff ] ;
13822: LD_ADDR_VAR 0 5
13826: PUSH
13827: LD_INT 21
13829: PUSH
13830: LD_INT 14
13832: PUSH
13833: LD_INT 21
13835: PUSH
13836: EMPTY
13837: LIST
13838: LIST
13839: LIST
13840: PUSH
13841: LD_EXP 2
13845: ARRAY
13846: ST_TO_ADDR
// speaker := [ ] ;
13847: LD_ADDR_VAR 0 2
13851: PUSH
13852: EMPTY
13853: ST_TO_ADDR
// uc_side := 1 ;
13854: LD_ADDR_OWVAR 20
13858: PUSH
13859: LD_INT 1
13861: ST_TO_ADDR
// uc_nation := 1 ;
13862: LD_ADDR_OWVAR 21
13866: PUSH
13867: LD_INT 1
13869: ST_TO_ADDR
// for i = 1 to 7 - [ global_diff ] do
13870: LD_ADDR_VAR 0 4
13874: PUSH
13875: DOUBLE
13876: LD_INT 1
13878: DEC
13879: ST_TO_ADDR
13880: LD_INT 7
13882: PUSH
13883: LD_EXP 2
13887: PUSH
13888: EMPTY
13889: LIST
13890: MINUS
13891: PUSH
13892: FOR_TO
13893: IFFALSE 13956
// begin un := CreateHumanWithClass ( Rand ( 1 , 4 ) , am_def ) ;
13895: LD_ADDR_VAR 0 1
13899: PUSH
13900: LD_INT 1
13902: PPUSH
13903: LD_INT 4
13905: PPUSH
13906: CALL_OW 12
13910: PPUSH
13911: LD_EXP 5
13915: PPUSH
13916: CALL 418 0 2
13920: ST_TO_ADDR
// PlaceUnitArea ( un , area , false ) ;
13921: LD_VAR 0 1
13925: PPUSH
13926: LD_VAR 0 5
13930: PPUSH
13931: LD_INT 0
13933: PPUSH
13934: CALL_OW 49
// speaker := speaker ^ un ;
13938: LD_ADDR_VAR 0 2
13942: PUSH
13943: LD_VAR 0 2
13947: PUSH
13948: LD_VAR 0 1
13952: ADD
13953: ST_TO_ADDR
// end ;
13954: GO 13892
13956: POP
13957: POP
// vc_chassis := [ us_medium_tracked , us_medium_wheeled , us_light_wheeled ] [ global_diff ] ;
13958: LD_ADDR_OWVAR 37
13962: PUSH
13963: LD_INT 3
13965: PUSH
13966: LD_INT 2
13968: PUSH
13969: LD_INT 1
13971: PUSH
13972: EMPTY
13973: LIST
13974: LIST
13975: LIST
13976: PUSH
13977: LD_EXP 2
13981: ARRAY
13982: ST_TO_ADDR
// vc_engine := engine_solar ;
13983: LD_ADDR_OWVAR 39
13987: PUSH
13988: LD_INT 2
13990: ST_TO_ADDR
// vc_control := control_manual ;
13991: LD_ADDR_OWVAR 38
13995: PUSH
13996: LD_INT 1
13998: ST_TO_ADDR
// vc_weapon := [ us_double_gun , us_gatling_gun , us_machine_gun ] [ global_diff ] ;
13999: LD_ADDR_OWVAR 40
14003: PUSH
14004: LD_INT 5
14006: PUSH
14007: LD_INT 4
14009: PUSH
14010: LD_INT 2
14012: PUSH
14013: EMPTY
14014: LIST
14015: LIST
14016: LIST
14017: PUSH
14018: LD_EXP 2
14022: ARRAY
14023: ST_TO_ADDR
// veh := CreateVehicle ;
14024: LD_ADDR_VAR 0 3
14028: PUSH
14029: CALL_OW 45
14033: ST_TO_ADDR
// PlaceUnitArea ( veh , area , false ) ;
14034: LD_VAR 0 3
14038: PPUSH
14039: LD_VAR 0 5
14043: PPUSH
14044: LD_INT 0
14046: PPUSH
14047: CALL_OW 49
// un := CreateHumanWithClass ( 3 , am_def ) ;
14051: LD_ADDR_VAR 0 1
14055: PUSH
14056: LD_INT 3
14058: PPUSH
14059: LD_EXP 5
14063: PPUSH
14064: CALL 418 0 2
14068: ST_TO_ADDR
// PlaceHumanInUnit ( un , veh ) ;
14069: LD_VAR 0 1
14073: PPUSH
14074: LD_VAR 0 3
14078: PPUSH
14079: CALL_OW 52
// Wait ( 0 0$0.3 ) ;
14083: LD_INT 10
14085: PPUSH
14086: CALL_OW 67
// SayRadio ( UnitFilter ( speaker , [ f_sex , sex_male ] ) [ 1 ] , Dhelp ) ;
14090: LD_VAR 0 2
14094: PPUSH
14095: LD_INT 26
14097: PUSH
14098: LD_INT 1
14100: PUSH
14101: EMPTY
14102: LIST
14103: LIST
14104: PPUSH
14105: CALL_OW 72
14109: PUSH
14110: LD_INT 1
14112: ARRAY
14113: PPUSH
14114: LD_STRING Dhelp
14116: PPUSH
14117: CALL_OW 94
// CenterNowOnXY ( GetX ( un ) , GetY ( un ) ) ;
14121: LD_VAR 0 1
14125: PPUSH
14126: CALL_OW 250
14130: PPUSH
14131: LD_VAR 0 1
14135: PPUSH
14136: CALL_OW 251
14140: PPUSH
14141: CALL_OW 86
// end ;
14145: PPOPN 5
14147: END
// every 0 0$01 trigger FilterUnitsInArea ( kurin_a , [ f_or , [ f_side , 3 ] , [ f_side , 6 ] ] ) > 0 do
14148: LD_INT 19
14150: PPUSH
14151: LD_INT 2
14153: PUSH
14154: LD_INT 22
14156: PUSH
14157: LD_INT 3
14159: PUSH
14160: EMPTY
14161: LIST
14162: LIST
14163: PUSH
14164: LD_INT 22
14166: PUSH
14167: LD_INT 6
14169: PUSH
14170: EMPTY
14171: LIST
14172: LIST
14173: PUSH
14174: EMPTY
14175: LIST
14176: LIST
14177: LIST
14178: PPUSH
14179: CALL_OW 70
14183: PUSH
14184: LD_INT 0
14186: GREATER
14187: IFFALSE 14215
14189: GO 14191
14191: DISABLE
// begin if IsLive ( kurin ) then
14192: LD_EXP 14
14196: PPUSH
14197: CALL_OW 300
14201: IFFALSE 14215
// SayRadio ( kurin , Dkurin ) ;
14203: LD_EXP 14
14207: PPUSH
14208: LD_STRING Dkurin
14210: PPUSH
14211: CALL_OW 94
// end ;
14215: END
// every 0 0$01 trigger timer > 27 27$00 do
14216: LD_EXP 1
14220: PUSH
14221: LD_INT 56700
14223: GREATER
14224: IFFALSE 14241
14226: GO 14228
14228: DISABLE
// SayRadio ( jack , ar_come ) ;
14229: LD_EXP 17
14233: PPUSH
14234: LD_STRING ar_come
14236: PPUSH
14237: CALL_OW 94
14241: END
// every 0 0$01 trigger FilterAllUnits ( [ f_side , 2 ] ) > 0 do
14242: LD_INT 22
14244: PUSH
14245: LD_INT 2
14247: PUSH
14248: EMPTY
14249: LIST
14250: LIST
14251: PPUSH
14252: CALL_OW 69
14256: PUSH
14257: LD_INT 0
14259: GREATER
14260: IFFALSE 14288
14262: GO 14264
14264: DISABLE
// begin FHeike ;
14265: CALL 10987 0 0
// Wait ( 0 0$01 ) ;
14269: LD_INT 35
14271: PPUSH
14272: CALL_OW 67
// SayRadio ( heike , heike1 ) ;
14276: LD_EXP 15
14280: PPUSH
14281: LD_STRING heike1
14283: PPUSH
14284: CALL_OW 94
// end ;
14288: END
// every 15 15$00 trigger timer > 22 22$00 do
14289: LD_EXP 1
14293: PUSH
14294: LD_INT 46200
14296: GREATER
14297: IFFALSE 14348
14299: GO 14301
14301: DISABLE
// begin enable ;
14302: ENABLE
// ArabianAttack ( 2 , ar_force , Rand ( 1 , 2 ) , [ ar_area1 , ar_area2 ] [ Rand ( 1 , 2 ) ] ) ;
14303: LD_INT 2
14305: PPUSH
14306: LD_EXP 8
14310: PPUSH
14311: LD_INT 1
14313: PPUSH
14314: LD_INT 2
14316: PPUSH
14317: CALL_OW 12
14321: PPUSH
14322: LD_INT 6
14324: PUSH
14325: LD_INT 16
14327: PUSH
14328: EMPTY
14329: LIST
14330: LIST
14331: PUSH
14332: LD_INT 1
14334: PPUSH
14335: LD_INT 2
14337: PPUSH
14338: CALL_OW 12
14342: ARRAY
14343: PPUSH
14344: CALL 10404 0 4
// end ;
14348: END
// every 0 0$01 trigger timer >= Rand ( 65 65$00 , 67 67$30 ) or ( FilterAllUnits ( [ f_side , 3 ] ) + FilterAllUnits ( [ f_side , 6 ] ) < 3 ) do var i ;
14349: LD_EXP 1
14353: PUSH
14354: LD_INT 136500
14356: PPUSH
14357: LD_INT 141750
14359: PPUSH
14360: CALL_OW 12
14364: GREATEREQUAL
14365: PUSH
14366: LD_INT 22
14368: PUSH
14369: LD_INT 3
14371: PUSH
14372: EMPTY
14373: LIST
14374: LIST
14375: PPUSH
14376: CALL_OW 69
14380: PUSH
14381: LD_INT 22
14383: PUSH
14384: LD_INT 6
14386: PUSH
14387: EMPTY
14388: LIST
14389: LIST
14390: PPUSH
14391: CALL_OW 69
14395: PLUS
14396: PUSH
14397: LD_INT 3
14399: LESS
14400: OR
14401: IFFALSE 14475
14403: GO 14405
14405: DISABLE
14406: LD_INT 0
14408: PPUSH
// begin InGameOn ;
14409: CALL_OW 8
// DialogueOn ;
14413: CALL_OW 6
// SayRadio ( ron , you_win ) ;
14417: LD_EXP 16
14421: PPUSH
14422: LD_STRING you_win
14424: PPUSH
14425: CALL_OW 94
// DialogueOff ;
14429: CALL_OW 7
// InGameOff ;
14433: CALL_OW 9
// AddMedal ( med , 1 ) ;
14437: LD_STRING med
14439: PPUSH
14440: LD_INT 1
14442: PPUSH
14443: CALL_OW 101
// End_The_Mission_Allowed := true ;
14447: LD_ADDR_OWVAR 57
14451: PUSH
14452: LD_INT 1
14454: ST_TO_ADDR
// case Query ( MEnd ) of 1 :
14455: LD_STRING MEnd
14457: PPUSH
14458: CALL_OW 97
14462: PUSH
14463: LD_INT 1
14465: DOUBLE
14466: EQUAL
14467: IFTRUE 14471
14469: GO 14474
14471: POP
// ; end ;
14472: GO 14475
14474: POP
// end ;
14475: PPOPN 1
14477: END
// on EndTheMissionRaised ( exitt ) do begin End_The_Mission_Allowed := false ;
14478: LD_ADDR_OWVAR 57
14482: PUSH
14483: LD_INT 0
14485: ST_TO_ADDR
// if FilterAllUnits ( [ f_side , 3 ] ) + FilterAllUnits ( [ f_side , 6 ] ) < 3 then
14486: LD_INT 22
14488: PUSH
14489: LD_INT 3
14491: PUSH
14492: EMPTY
14493: LIST
14494: LIST
14495: PPUSH
14496: CALL_OW 69
14500: PUSH
14501: LD_INT 22
14503: PUSH
14504: LD_INT 6
14506: PUSH
14507: EMPTY
14508: LIST
14509: LIST
14510: PPUSH
14511: CALL_OW 69
14515: PLUS
14516: PUSH
14517: LD_INT 3
14519: LESS
14520: IFFALSE 14534
// AddMedal ( ru , 1 ) else
14522: LD_STRING ru
14524: PPUSH
14525: LD_INT 1
14527: PPUSH
14528: CALL_OW 101
14532: GO 14545
// AddMedal ( ru , - 1 ) ;
14534: LD_STRING ru
14536: PPUSH
14537: LD_INT 1
14539: NEG
14540: PPUSH
14541: CALL_OW 101
// if FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] ] ) > 6 then
14545: LD_INT 22
14547: PUSH
14548: LD_INT 1
14550: PUSH
14551: EMPTY
14552: LIST
14553: LIST
14554: PUSH
14555: LD_INT 21
14557: PUSH
14558: LD_INT 1
14560: PUSH
14561: EMPTY
14562: LIST
14563: LIST
14564: PUSH
14565: EMPTY
14566: LIST
14567: LIST
14568: PPUSH
14569: CALL_OW 69
14573: PUSH
14574: LD_INT 6
14576: GREATER
14577: IFFALSE 14591
// AddMedal ( pep , 1 ) else
14579: LD_STRING pep
14581: PPUSH
14582: LD_INT 1
14584: PPUSH
14585: CALL_OW 101
14589: GO 14602
// AddMedal ( pep , - 1 ) ;
14591: LD_STRING pep
14593: PPUSH
14594: LD_INT 1
14596: NEG
14597: PPUSH
14598: CALL_OW 101
// GiveMedals ( MAIN ) ;
14602: LD_STRING MAIN
14604: PPUSH
14605: CALL_OW 102
// YouWin ;
14609: CALL_OW 103
// end ;
14613: PPOPN 1
14615: END
