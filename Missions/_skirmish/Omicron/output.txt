// starting begin InitMap ;
   0: CALL 863 0 0
// InitTriggers ;
   4: CALL 1248 0 0
// InitPlayer ;
   8: CALL 1485 0 0
// InitRussian ;
  12: CALL 2307 0 0
// Start_Game ;
  16: CALL 12308 0 0
// end ; end_of_file
  20: END
// export function PrepareAnimals ( num1 , num2 , num3 , area ) ; var l , apeman , tiger , bird ; begin
  21: LD_INT 0
  23: PPUSH
  24: PPUSH
  25: PPUSH
  26: PPUSH
  27: PPUSH
// uc_nation = nation_nature ;
  28: LD_ADDR_OWVAR 21
  32: PUSH
  33: LD_INT 0
  35: ST_TO_ADDR
// uc_side = 0 ;
  36: LD_ADDR_OWVAR 20
  40: PUSH
  41: LD_INT 0
  43: ST_TO_ADDR
// l = 0 ;
  44: LD_ADDR_VAR 0 6
  48: PUSH
  49: LD_INT 0
  51: ST_TO_ADDR
// repeat begin uc_direction = Rand ( 0 , 5 ) ;
  52: LD_ADDR_OWVAR 24
  56: PUSH
  57: LD_INT 0
  59: PPUSH
  60: LD_INT 5
  62: PPUSH
  63: CALL_OW 12
  67: ST_TO_ADDR
// hc_agressivity = Rand ( - 5 , 5 ) ;
  68: LD_ADDR_OWVAR 35
  72: PUSH
  73: LD_INT 5
  75: NEG
  76: PPUSH
  77: LD_INT 5
  79: PPUSH
  80: CALL_OW 12
  84: ST_TO_ADDR
// hc_gallery =  ;
  85: LD_ADDR_OWVAR 33
  89: PUSH
  90: LD_STRING 
  92: ST_TO_ADDR
// hc_class = class_apeman ;
  93: LD_ADDR_OWVAR 28
  97: PUSH
  98: LD_INT 12
 100: ST_TO_ADDR
// hc_attr = [ Rand ( 11 , 13 ) , Rand ( 10 , 11 ) ] ;
 101: LD_ADDR_OWVAR 29
 105: PUSH
 106: LD_INT 11
 108: PPUSH
 109: LD_INT 13
 111: PPUSH
 112: CALL_OW 12
 116: PUSH
 117: LD_INT 10
 119: PPUSH
 120: LD_INT 11
 122: PPUSH
 123: CALL_OW 12
 127: PUSH
 128: EMPTY
 129: LIST
 130: LIST
 131: ST_TO_ADDR
// hc_sex = sex_male ;
 132: LD_ADDR_OWVAR 27
 136: PUSH
 137: LD_INT 1
 139: ST_TO_ADDR
// hc_skills = [ Rand ( 0 , 2 ) , 0 , 0 , 0 ] ;
 140: LD_ADDR_OWVAR 31
 144: PUSH
 145: LD_INT 0
 147: PPUSH
 148: LD_INT 2
 150: PPUSH
 151: CALL_OW 12
 155: PUSH
 156: LD_INT 0
 158: PUSH
 159: LD_INT 0
 161: PUSH
 162: LD_INT 0
 164: PUSH
 165: EMPTY
 166: LIST
 167: LIST
 168: LIST
 169: LIST
 170: ST_TO_ADDR
// apeman = CreateHuman ;
 171: LD_ADDR_VAR 0 7
 175: PUSH
 176: CALL_OW 44
 180: ST_TO_ADDR
// PlaceUnitArea ( apeman , area , false ) ;
 181: LD_VAR 0 7
 185: PPUSH
 186: LD_VAR 0 4
 190: PPUSH
 191: LD_INT 0
 193: PPUSH
 194: CALL_OW 49
// l = l + 1 ;
 198: LD_ADDR_VAR 0 6
 202: PUSH
 203: LD_VAR 0 6
 207: PUSH
 208: LD_INT 1
 210: PLUS
 211: ST_TO_ADDR
// end until l = num1 ;
 212: LD_VAR 0 6
 216: PUSH
 217: LD_VAR 0 1
 221: EQUAL
 222: IFFALSE 52
// l = 0 ;
 224: LD_ADDR_VAR 0 6
 228: PUSH
 229: LD_INT 0
 231: ST_TO_ADDR
// repeat begin hc_agressivity = Rand ( 0 , 25 ) ;
 232: LD_ADDR_OWVAR 35
 236: PUSH
 237: LD_INT 0
 239: PPUSH
 240: LD_INT 25
 242: PPUSH
 243: CALL_OW 12
 247: ST_TO_ADDR
// hc_class = class_tiger ;
 248: LD_ADDR_OWVAR 28
 252: PUSH
 253: LD_INT 14
 255: ST_TO_ADDR
// hc_sex = sex_male ;
 256: LD_ADDR_OWVAR 27
 260: PUSH
 261: LD_INT 1
 263: ST_TO_ADDR
// hc_gallery = sandnature ;
 264: LD_ADDR_OWVAR 33
 268: PUSH
 269: LD_STRING sandnature
 271: ST_TO_ADDR
// hc_face_number = 3 ;
 272: LD_ADDR_OWVAR 34
 276: PUSH
 277: LD_INT 3
 279: ST_TO_ADDR
// tiger = CreateHuman ;
 280: LD_ADDR_VAR 0 8
 284: PUSH
 285: CALL_OW 44
 289: ST_TO_ADDR
// PlaceUnitArea ( tiger , area , false ) ;
 290: LD_VAR 0 8
 294: PPUSH
 295: LD_VAR 0 4
 299: PPUSH
 300: LD_INT 0
 302: PPUSH
 303: CALL_OW 49
// l = l + 1 ;
 307: LD_ADDR_VAR 0 6
 311: PUSH
 312: LD_VAR 0 6
 316: PUSH
 317: LD_INT 1
 319: PLUS
 320: ST_TO_ADDR
// end until l = num2 ;
 321: LD_VAR 0 6
 325: PUSH
 326: LD_VAR 0 2
 330: EQUAL
 331: IFFALSE 232
// l = 0 ;
 333: LD_ADDR_VAR 0 6
 337: PUSH
 338: LD_INT 0
 340: ST_TO_ADDR
// repeat begin hc_class = class_phororhacos ;
 341: LD_ADDR_OWVAR 28
 345: PUSH
 346: LD_INT 18
 348: ST_TO_ADDR
// hc_gallery = sandnature ;
 349: LD_ADDR_OWVAR 33
 353: PUSH
 354: LD_STRING sandnature
 356: ST_TO_ADDR
// hc_face_number = 1 ;
 357: LD_ADDR_OWVAR 34
 361: PUSH
 362: LD_INT 1
 364: ST_TO_ADDR
// bird = CreateHuman ;
 365: LD_ADDR_VAR 0 9
 369: PUSH
 370: CALL_OW 44
 374: ST_TO_ADDR
// PlaceUnitAnywhere ( bird , false ) ;
 375: LD_VAR 0 9
 379: PPUSH
 380: LD_INT 0
 382: PPUSH
 383: CALL_OW 51
// l = l + 1 ;
 387: LD_ADDR_VAR 0 6
 391: PUSH
 392: LD_VAR 0 6
 396: PUSH
 397: LD_INT 1
 399: PLUS
 400: ST_TO_ADDR
// end until l = num3 ;
 401: LD_VAR 0 6
 405: PUSH
 406: LD_VAR 0 3
 410: EQUAL
 411: IFFALSE 341
// end ;
 413: LD_VAR 0 5
 417: RET
// export function CreateHumanWithClass ( clas , lvl ) ; var skill_com , skill_eng , skill_mech , skill_sci , bonus ; begin
 418: LD_INT 0
 420: PPUSH
 421: PPUSH
 422: PPUSH
 423: PPUSH
 424: PPUSH
 425: PPUSH
// hc_class := clas ;
 426: LD_ADDR_OWVAR 28
 430: PUSH
 431: LD_VAR 0 1
 435: ST_TO_ADDR
// skill_com := ( lvl + Rand ( - 1 , 1 ) ) ;
 436: LD_ADDR_VAR 0 4
 440: PUSH
 441: LD_VAR 0 2
 445: PUSH
 446: LD_INT 1
 448: NEG
 449: PPUSH
 450: LD_INT 1
 452: PPUSH
 453: CALL_OW 12
 457: PLUS
 458: ST_TO_ADDR
// skill_eng := ( lvl + Rand ( - 1 , 1 ) ) ;
 459: LD_ADDR_VAR 0 5
 463: PUSH
 464: LD_VAR 0 2
 468: PUSH
 469: LD_INT 1
 471: NEG
 472: PPUSH
 473: LD_INT 1
 475: PPUSH
 476: CALL_OW 12
 480: PLUS
 481: ST_TO_ADDR
// skill_mech := ( lvl + Rand ( - 1 , 1 ) ) ;
 482: LD_ADDR_VAR 0 6
 486: PUSH
 487: LD_VAR 0 2
 491: PUSH
 492: LD_INT 1
 494: NEG
 495: PPUSH
 496: LD_INT 1
 498: PPUSH
 499: CALL_OW 12
 503: PLUS
 504: ST_TO_ADDR
// skill_sci := ( lvl + Rand ( - 1 , 1 ) ) ;
 505: LD_ADDR_VAR 0 7
 509: PUSH
 510: LD_VAR 0 2
 514: PUSH
 515: LD_INT 1
 517: NEG
 518: PPUSH
 519: LD_INT 1
 521: PPUSH
 522: CALL_OW 12
 526: PLUS
 527: ST_TO_ADDR
// if clas = 1 or clas = 9 then
 528: LD_VAR 0 1
 532: PUSH
 533: LD_INT 1
 535: EQUAL
 536: PUSH
 537: LD_VAR 0 1
 541: PUSH
 542: LD_INT 9
 544: EQUAL
 545: OR
 546: IFFALSE 571
// bonus := [ 2 , 0 , 0 , 0 ] ;
 548: LD_ADDR_VAR 0 8
 552: PUSH
 553: LD_INT 2
 555: PUSH
 556: LD_INT 0
 558: PUSH
 559: LD_INT 0
 561: PUSH
 562: LD_INT 0
 564: PUSH
 565: EMPTY
 566: LIST
 567: LIST
 568: LIST
 569: LIST
 570: ST_TO_ADDR
// if clas = 2 then
 571: LD_VAR 0 1
 575: PUSH
 576: LD_INT 2
 578: EQUAL
 579: IFFALSE 604
// bonus := [ 0 , 2 , 0 , 0 ] ;
 581: LD_ADDR_VAR 0 8
 585: PUSH
 586: LD_INT 0
 588: PUSH
 589: LD_INT 2
 591: PUSH
 592: LD_INT 0
 594: PUSH
 595: LD_INT 0
 597: PUSH
 598: EMPTY
 599: LIST
 600: LIST
 601: LIST
 602: LIST
 603: ST_TO_ADDR
// if clas = 3 then
 604: LD_VAR 0 1
 608: PUSH
 609: LD_INT 3
 611: EQUAL
 612: IFFALSE 637
// bonus := [ 0 , 0 , 2 , 0 ] ;
 614: LD_ADDR_VAR 0 8
 618: PUSH
 619: LD_INT 0
 621: PUSH
 622: LD_INT 0
 624: PUSH
 625: LD_INT 2
 627: PUSH
 628: LD_INT 0
 630: PUSH
 631: EMPTY
 632: LIST
 633: LIST
 634: LIST
 635: LIST
 636: ST_TO_ADDR
// if clas = 4 then
 637: LD_VAR 0 1
 641: PUSH
 642: LD_INT 4
 644: EQUAL
 645: IFFALSE 670
// bonus := [ 0 , 0 , 0 , 2 ] ;
 647: LD_ADDR_VAR 0 8
 651: PUSH
 652: LD_INT 0
 654: PUSH
 655: LD_INT 0
 657: PUSH
 658: LD_INT 0
 660: PUSH
 661: LD_INT 2
 663: PUSH
 664: EMPTY
 665: LIST
 666: LIST
 667: LIST
 668: LIST
 669: ST_TO_ADDR
// if clas > 4 and not clas = 9 then
 670: LD_VAR 0 1
 674: PUSH
 675: LD_INT 4
 677: GREATER
 678: PUSH
 679: LD_VAR 0 1
 683: PUSH
 684: LD_INT 9
 686: EQUAL
 687: NOT
 688: AND
 689: IFFALSE 714
// bonus := [ 0 , 0 , 0 , 0 ] ;
 691: LD_ADDR_VAR 0 8
 695: PUSH
 696: LD_INT 0
 698: PUSH
 699: LD_INT 0
 701: PUSH
 702: LD_INT 0
 704: PUSH
 705: LD_INT 0
 707: PUSH
 708: EMPTY
 709: LIST
 710: LIST
 711: LIST
 712: LIST
 713: ST_TO_ADDR
// hc_skills := [ skill_com + bonus [ 1 ] , skill_eng + bonus [ 2 ] , skill_mech + bonus [ 3 ] , skill_sci + bonus [ 4 ] ] ;
 714: LD_ADDR_OWVAR 31
 718: PUSH
 719: LD_VAR 0 4
 723: PUSH
 724: LD_VAR 0 8
 728: PUSH
 729: LD_INT 1
 731: ARRAY
 732: PLUS
 733: PUSH
 734: LD_VAR 0 5
 738: PUSH
 739: LD_VAR 0 8
 743: PUSH
 744: LD_INT 2
 746: ARRAY
 747: PLUS
 748: PUSH
 749: LD_VAR 0 6
 753: PUSH
 754: LD_VAR 0 8
 758: PUSH
 759: LD_INT 3
 761: ARRAY
 762: PLUS
 763: PUSH
 764: LD_VAR 0 7
 768: PUSH
 769: LD_VAR 0 8
 773: PUSH
 774: LD_INT 4
 776: ARRAY
 777: PLUS
 778: PUSH
 779: EMPTY
 780: LIST
 781: LIST
 782: LIST
 783: LIST
 784: ST_TO_ADDR
// hc_sex := Rand ( sex_male , sex_female ) ;
 785: LD_ADDR_OWVAR 27
 789: PUSH
 790: LD_INT 1
 792: PPUSH
 793: LD_INT 2
 795: PPUSH
 796: CALL_OW 12
 800: ST_TO_ADDR
// hc_gallery :=  ;
 801: LD_ADDR_OWVAR 33
 805: PUSH
 806: LD_STRING 
 808: ST_TO_ADDR
// hc_attr := [ Rand ( 8 , 12 ) , Rand ( 9 , 11 ) ] ;
 809: LD_ADDR_OWVAR 29
 813: PUSH
 814: LD_INT 8
 816: PPUSH
 817: LD_INT 12
 819: PPUSH
 820: CALL_OW 12
 824: PUSH
 825: LD_INT 9
 827: PPUSH
 828: LD_INT 11
 830: PPUSH
 831: CALL_OW 12
 835: PUSH
 836: EMPTY
 837: LIST
 838: LIST
 839: ST_TO_ADDR
// hc_name :=  ;
 840: LD_ADDR_OWVAR 26
 844: PUSH
 845: LD_STRING 
 847: ST_TO_ADDR
// result := CreateHuman ;
 848: LD_ADDR_VAR 0 3
 852: PUSH
 853: CALL_OW 44
 857: ST_TO_ADDR
// end ; end_of_file
 858: LD_VAR 0 3
 862: RET
// export function InitMap ; begin
 863: LD_INT 0
 865: PPUSH
// ResetFog ;
 866: CALL_OW 335
// PrepareAnimals ( 2 , 3 , 3 , nature_area ) ;
 870: LD_INT 2
 872: PPUSH
 873: LD_INT 3
 875: PPUSH
 876: LD_INT 3
 878: PPUSH
 879: LD_INT 1
 881: PPUSH
 882: CALL 21 0 4
// end ;
 886: LD_VAR 0 1
 890: RET
// export function SpawnCrates ; var i ; begin
 891: LD_INT 0
 893: PPUSH
 894: PPUSH
// while ( crates_allow ) do
 895: LD_EXP 12
 899: IFFALSE 1052
// begin Wait ( crates_time + Rand ( - 0 0$10 , 0 0$20 ) ) ;
 901: LD_EXP 10
 905: PUSH
 906: LD_INT 350
 908: NEG
 909: PPUSH
 910: LD_INT 700
 912: PPUSH
 913: CALL_OW 12
 917: PLUS
 918: PPUSH
 919: CALL_OW 67
// for i = 1 to crates_num do
 923: LD_ADDR_VAR 0 2
 927: PUSH
 928: DOUBLE
 929: LD_INT 1
 931: DEC
 932: ST_TO_ADDR
 933: LD_EXP 11
 937: PUSH
 938: FOR_TO
 939: IFFALSE 1048
// begin CreateCratesArea ( Rand ( 1 , 5 ) , crates_main_area , true ) ;
 941: LD_INT 1
 943: PPUSH
 944: LD_INT 5
 946: PPUSH
 947: CALL_OW 12
 951: PPUSH
 952: LD_INT 2
 954: PPUSH
 955: LD_INT 1
 957: PPUSH
 958: CALL_OW 55
// Wait ( Rand ( 0 0$03 , 0 0$12 ) ) ;
 962: LD_INT 105
 964: PPUSH
 965: LD_INT 420
 967: PPUSH
 968: CALL_OW 12
 972: PPUSH
 973: CALL_OW 67
// CreateCratesArea ( Rand ( 1 , 5 ) , crates_main_area , true ) ;
 977: LD_INT 1
 979: PPUSH
 980: LD_INT 5
 982: PPUSH
 983: CALL_OW 12
 987: PPUSH
 988: LD_INT 2
 990: PPUSH
 991: LD_INT 1
 993: PPUSH
 994: CALL_OW 55
// Wait ( Rand ( 0 0$04 , 0 0$15 ) ) ;
 998: LD_INT 140
1000: PPUSH
1001: LD_INT 525
1003: PPUSH
1004: CALL_OW 12
1008: PPUSH
1009: CALL_OW 67
// CreateCratesAnyWhere ( Rand ( 1 , 5 ) , true ) ;
1013: LD_INT 1
1015: PPUSH
1016: LD_INT 5
1018: PPUSH
1019: CALL_OW 12
1023: PPUSH
1024: LD_INT 1
1026: PPUSH
1027: CALL_OW 57
// Wait ( Rand ( 0 0$05 , 0 0$10 ) ) ;
1031: LD_INT 175
1033: PPUSH
1034: LD_INT 350
1036: PPUSH
1037: CALL_OW 12
1041: PPUSH
1042: CALL_OW 67
// end ;
1046: GO 938
1048: POP
1049: POP
// end ;
1050: GO 895
// end ;
1052: LD_VAR 0 1
1056: RET
// every 1 1$25 trigger game_started do
1057: LD_EXP 9
1061: IFFALSE 1115
1063: GO 1065
1065: DISABLE
// begin enable ;
1066: ENABLE
// if timer <= [ 23 23$00 , 21 21$00 , 19 19$00 ] [ global_diff ] then
1067: LD_EXP 1
1071: PUSH
1072: LD_INT 48300
1074: PUSH
1075: LD_INT 44100
1077: PUSH
1078: LD_INT 39900
1080: PUSH
1081: EMPTY
1082: LIST
1083: LIST
1084: LIST
1085: PUSH
1086: LD_EXP 2
1090: ARRAY
1091: LESSEQUAL
1092: IFFALSE 1115
// CreateCratesArea ( Rand ( 2 , 5 ) , us_crates , true ) ;
1094: LD_INT 2
1096: PPUSH
1097: LD_INT 5
1099: PPUSH
1100: CALL_OW 12
1104: PPUSH
1105: LD_INT 12
1107: PPUSH
1108: LD_INT 1
1110: PPUSH
1111: CALL_OW 55
// end ;
1115: END
// every 0 0$01 trigger game_started do
1116: LD_EXP 9
1120: IFFALSE 1129
1122: GO 1124
1124: DISABLE
// SpawnCrates ;
1125: CALL 891 0 0
1129: END
// export timer ; every 1 do
1130: GO 1132
1132: DISABLE
// timer := 0 0$00 ;
1133: LD_ADDR_EXP 1
1137: PUSH
1138: LD_INT 0
1140: ST_TO_ADDR
1141: END
// every 0 0$01 trigger game_started do
1142: LD_EXP 9
1146: IFFALSE 1183
1148: GO 1150
1150: DISABLE
// begin enable ;
1151: ENABLE
// timer := timer + 0 0$01 ;
1152: LD_ADDR_EXP 1
1156: PUSH
1157: LD_EXP 1
1161: PUSH
1162: LD_INT 35
1164: PLUS
1165: ST_TO_ADDR
// Display_Strings := [ #tick , timer ] ;
1166: LD_ADDR_OWVAR 47
1170: PUSH
1171: LD_STRING #tick
1173: PUSH
1174: LD_EXP 1
1178: PUSH
1179: EMPTY
1180: LIST
1181: LIST
1182: ST_TO_ADDR
// end ;
1183: END
// every 0 0$01 trigger timer <= 13 13$00 do
1184: LD_EXP 1
1188: PUSH
1189: LD_INT 27300
1191: LESSEQUAL
1192: IFFALSE 1205
1194: GO 1196
1196: DISABLE
// music_nat := 1 ;
1197: LD_ADDR_OWVAR 71
1201: PUSH
1202: LD_INT 1
1204: ST_TO_ADDR
1205: END
// every 5 5$00 trigger timer > 13 13$00 do
1206: LD_EXP 1
1210: PUSH
1211: LD_INT 27300
1213: GREATER
1214: IFFALSE 1247
1216: GO 1218
1218: DISABLE
// begin enable ;
1219: ENABLE
// music_nat := [ 1 , 3 ] [ Rand ( 1 , 2 ) ] ;
1220: LD_ADDR_OWVAR 71
1224: PUSH
1225: LD_INT 1
1227: PUSH
1228: LD_INT 3
1230: PUSH
1231: EMPTY
1232: LIST
1233: LIST
1234: PUSH
1235: LD_INT 1
1237: PPUSH
1238: LD_INT 2
1240: PPUSH
1241: CALL_OW 12
1245: ARRAY
1246: ST_TO_ADDR
// end ; end_of_file
1247: END
// export global_diff , ru_force , ru_def , am_def , am_force , ar_def , ar_force ; export game_started ; export crates_time , crates_num , crates_allow ; export sikorski , kurin , heike , ron , jack ; export sikorski_come , russian_produce , beria_action ; export function InitTriggers ; begin
1248: LD_INT 0
1250: PPUSH
// game_started := false ;
1251: LD_ADDR_EXP 9
1255: PUSH
1256: LD_INT 0
1258: ST_TO_ADDR
// global_diff := [ 1 , 2 , 3 ] ;
1259: LD_ADDR_EXP 2
1263: PUSH
1264: LD_INT 1
1266: PUSH
1267: LD_INT 2
1269: PUSH
1270: LD_INT 3
1272: PUSH
1273: EMPTY
1274: LIST
1275: LIST
1276: LIST
1277: ST_TO_ADDR
// crates_time := [ 0 0$55 , 1 1$15 , 1 1$35 ] [ global_diff ] ;
1278: LD_ADDR_EXP 10
1282: PUSH
1283: LD_INT 1925
1285: PUSH
1286: LD_INT 2625
1288: PUSH
1289: LD_INT 3325
1291: PUSH
1292: EMPTY
1293: LIST
1294: LIST
1295: LIST
1296: PUSH
1297: LD_EXP 2
1301: ARRAY
1302: ST_TO_ADDR
// crates_num := [ 3 , 2 , 1 ] [ global_diff ] ;
1303: LD_ADDR_EXP 11
1307: PUSH
1308: LD_INT 3
1310: PUSH
1311: LD_INT 2
1313: PUSH
1314: LD_INT 1
1316: PUSH
1317: EMPTY
1318: LIST
1319: LIST
1320: LIST
1321: PUSH
1322: LD_EXP 2
1326: ARRAY
1327: ST_TO_ADDR
// crates_allow := false ;
1328: LD_ADDR_EXP 12
1332: PUSH
1333: LD_INT 0
1335: ST_TO_ADDR
// am_def := [ 4 , 3 , 2 ] [ global_diff ] ;
1336: LD_ADDR_EXP 5
1340: PUSH
1341: LD_INT 4
1343: PUSH
1344: LD_INT 3
1346: PUSH
1347: LD_INT 2
1349: PUSH
1350: EMPTY
1351: LIST
1352: LIST
1353: LIST
1354: PUSH
1355: LD_EXP 2
1359: ARRAY
1360: ST_TO_ADDR
// ru_def := [ 2 , 3 , 4 ] [ global_diff ] ;
1361: LD_ADDR_EXP 4
1365: PUSH
1366: LD_INT 2
1368: PUSH
1369: LD_INT 3
1371: PUSH
1372: LD_INT 4
1374: PUSH
1375: EMPTY
1376: LIST
1377: LIST
1378: LIST
1379: PUSH
1380: LD_EXP 2
1384: ARRAY
1385: ST_TO_ADDR
// ru_force := [ 12 , 14 , 16 ] [ global_diff ] ;
1386: LD_ADDR_EXP 3
1390: PUSH
1391: LD_INT 12
1393: PUSH
1394: LD_INT 14
1396: PUSH
1397: LD_INT 16
1399: PUSH
1400: EMPTY
1401: LIST
1402: LIST
1403: LIST
1404: PUSH
1405: LD_EXP 2
1409: ARRAY
1410: ST_TO_ADDR
// ar_def := [ 3 , 4 , 5 ] [ global_diff ] ;
1411: LD_ADDR_EXP 7
1415: PUSH
1416: LD_INT 3
1418: PUSH
1419: LD_INT 4
1421: PUSH
1422: LD_INT 5
1424: PUSH
1425: EMPTY
1426: LIST
1427: LIST
1428: LIST
1429: PUSH
1430: LD_EXP 2
1434: ARRAY
1435: ST_TO_ADDR
// ar_force := [ 4 , 5 , 6 ] [ global_diff ] ;
1436: LD_ADDR_EXP 8
1440: PUSH
1441: LD_INT 4
1443: PUSH
1444: LD_INT 5
1446: PUSH
1447: LD_INT 6
1449: PUSH
1450: EMPTY
1451: LIST
1452: LIST
1453: LIST
1454: PUSH
1455: LD_EXP 2
1459: ARRAY
1460: ST_TO_ADDR
// sikorski_come := false ;
1461: LD_ADDR_EXP 18
1465: PUSH
1466: LD_INT 0
1468: ST_TO_ADDR
// russian_produce := false ;
1469: LD_ADDR_EXP 19
1473: PUSH
1474: LD_INT 0
1476: ST_TO_ADDR
// disable ( 99 ) ;
1477: LD_INT 99
1479: DISABLE_MARKED
// end ; end_of_file
1480: LD_VAR 0 1
1484: RET
// export function InitPlayer ; var i , p , un , am , am2 , filter ; begin
1485: LD_INT 0
1487: PPUSH
1488: PPUSH
1489: PPUSH
1490: PPUSH
1491: PPUSH
1492: PPUSH
1493: PPUSH
// uc_nation := nation_american ;
1494: LD_ADDR_OWVAR 21
1498: PUSH
1499: LD_INT 1
1501: ST_TO_ADDR
// am := 1 ;
1502: LD_ADDR_VAR 0 5
1506: PUSH
1507: LD_INT 1
1509: ST_TO_ADDR
// am2 := 4 ;
1510: LD_ADDR_VAR 0 6
1514: PUSH
1515: LD_INT 4
1517: ST_TO_ADDR
// filter := [ ] ;
1518: LD_ADDR_VAR 0 7
1522: PUSH
1523: EMPTY
1524: ST_TO_ADDR
// SetSide ( omikron , am2 ) ;
1525: LD_INT 64
1527: PPUSH
1528: LD_VAR 0 6
1532: PPUSH
1533: CALL_OW 235
// SetBName ( omikron , omikron ) ;
1537: LD_INT 64
1539: PPUSH
1540: LD_STRING omikron
1542: PPUSH
1543: CALL_OW 500
// ResetFog ;
1547: CALL_OW 335
// uc_side := am2 ;
1551: LD_ADDR_OWVAR 20
1555: PUSH
1556: LD_VAR 0 6
1560: ST_TO_ADDR
// for i = 1 to 4 do
1561: LD_ADDR_VAR 0 2
1565: PUSH
1566: DOUBLE
1567: LD_INT 1
1569: DEC
1570: ST_TO_ADDR
1571: LD_INT 4
1573: PUSH
1574: FOR_TO
1575: IFFALSE 1697
// for p = 1 to 2 do
1577: LD_ADDR_VAR 0 3
1581: PUSH
1582: DOUBLE
1583: LD_INT 1
1585: DEC
1586: ST_TO_ADDR
1587: LD_INT 2
1589: PUSH
1590: FOR_TO
1591: IFFALSE 1693
// begin un := CreateHumanWithClass ( i , am_def ) ;
1593: LD_ADDR_VAR 0 4
1597: PUSH
1598: LD_VAR 0 2
1602: PPUSH
1603: LD_EXP 5
1607: PPUSH
1608: CALL 418 0 2
1612: ST_TO_ADDR
// PlaceUnitArea ( un , am_area , false ) ;
1613: LD_VAR 0 4
1617: PPUSH
1618: LD_INT 3
1620: PPUSH
1621: LD_INT 0
1623: PPUSH
1624: CALL_OW 49
// if GetClass ( un ) = 1 then
1628: LD_VAR 0 4
1632: PPUSH
1633: CALL_OW 257
1637: PUSH
1638: LD_INT 1
1640: EQUAL
1641: IFFALSE 1691
// ComEnterUnit ( un , ( FilterAllUnits ( [ [ f_side , 4 ] , [ f_btype , b_breastwork ] ] ) diff us_spec_b ) [ p ] ) ;
1643: LD_VAR 0 4
1647: PPUSH
1648: LD_INT 22
1650: PUSH
1651: LD_INT 4
1653: PUSH
1654: EMPTY
1655: LIST
1656: LIST
1657: PUSH
1658: LD_INT 30
1660: PUSH
1661: LD_INT 31
1663: PUSH
1664: EMPTY
1665: LIST
1666: LIST
1667: PUSH
1668: EMPTY
1669: LIST
1670: LIST
1671: PPUSH
1672: CALL_OW 69
1676: PUSH
1677: LD_INT 140
1679: DIFF
1680: PUSH
1681: LD_VAR 0 3
1685: ARRAY
1686: PPUSH
1687: CALL_OW 120
// end ;
1691: GO 1590
1693: POP
1694: POP
1695: GO 1574
1697: POP
1698: POP
// vc_chassis := us_medium_wheeled ;
1699: LD_ADDR_OWVAR 37
1703: PUSH
1704: LD_INT 2
1706: ST_TO_ADDR
// vc_engine := engine_solar ;
1707: LD_ADDR_OWVAR 39
1711: PUSH
1712: LD_INT 2
1714: ST_TO_ADDR
// vc_control := control_manual ;
1715: LD_ADDR_OWVAR 38
1719: PUSH
1720: LD_INT 1
1722: ST_TO_ADDR
// vc_weapon := [ us_double_gun , us_double_gun , us_gatling_gun ] [ global_diff ] ;
1723: LD_ADDR_OWVAR 40
1727: PUSH
1728: LD_INT 5
1730: PUSH
1731: LD_INT 5
1733: PUSH
1734: LD_INT 4
1736: PUSH
1737: EMPTY
1738: LIST
1739: LIST
1740: LIST
1741: PUSH
1742: LD_EXP 2
1746: ARRAY
1747: ST_TO_ADDR
// un := CreateVehicle ;
1748: LD_ADDR_VAR 0 4
1752: PUSH
1753: CALL_OW 45
1757: ST_TO_ADDR
// SetDir ( un , 4 ) ;
1758: LD_VAR 0 4
1762: PPUSH
1763: LD_INT 4
1765: PPUSH
1766: CALL_OW 233
// PlaceUnitXY ( un , 12 , 17 , false ) ;
1770: LD_VAR 0 4
1774: PPUSH
1775: LD_INT 12
1777: PPUSH
1778: LD_INT 17
1780: PPUSH
1781: LD_INT 0
1783: PPUSH
1784: CALL_OW 48
// vc_chassis := us_light_wheeled ;
1788: LD_ADDR_OWVAR 37
1792: PUSH
1793: LD_INT 1
1795: ST_TO_ADDR
// vc_engine := engine_combustion ;
1796: LD_ADDR_OWVAR 39
1800: PUSH
1801: LD_INT 1
1803: ST_TO_ADDR
// vc_control := control_manual ;
1804: LD_ADDR_OWVAR 38
1808: PUSH
1809: LD_INT 1
1811: ST_TO_ADDR
// vc_weapon := us_light_gun ;
1812: LD_ADDR_OWVAR 40
1816: PUSH
1817: LD_INT 3
1819: ST_TO_ADDR
// un := CreateVehicle ;
1820: LD_ADDR_VAR 0 4
1824: PUSH
1825: CALL_OW 45
1829: ST_TO_ADDR
// SetDir ( un , 4 ) ;
1830: LD_VAR 0 4
1834: PPUSH
1835: LD_INT 4
1837: PPUSH
1838: CALL_OW 233
// PlaceUnitXY ( un , 19 , 19 , false ) ;
1842: LD_VAR 0 4
1846: PPUSH
1847: LD_INT 19
1849: PPUSH
1850: LD_INT 19
1852: PPUSH
1853: LD_INT 0
1855: PPUSH
1856: CALL_OW 48
// uc_side := am ;
1860: LD_ADDR_OWVAR 20
1864: PUSH
1865: LD_VAR 0 5
1869: ST_TO_ADDR
// hc_importance := 100 ;
1870: LD_ADDR_OWVAR 32
1874: PUSH
1875: LD_INT 100
1877: ST_TO_ADDR
// hc_name := Jeremy Sikorski ;
1878: LD_ADDR_OWVAR 26
1882: PUSH
1883: LD_STRING Jeremy Sikorski
1885: ST_TO_ADDR
// hc_gallery := us ;
1886: LD_ADDR_OWVAR 33
1890: PUSH
1891: LD_STRING us
1893: ST_TO_ADDR
// hc_face_number := 19 ;
1894: LD_ADDR_OWVAR 34
1898: PUSH
1899: LD_INT 19
1901: ST_TO_ADDR
// hc_skills := [ Rand ( am_def + 2 , am_def + 4 ) , Rand ( am_def - 1 , am_def + 1 ) , Rand ( am_def - 1 , am_def + 1 ) , Rand ( am_def - 1 , am_def + 1 ) ] ;
1902: LD_ADDR_OWVAR 31
1906: PUSH
1907: LD_EXP 5
1911: PUSH
1912: LD_INT 2
1914: PLUS
1915: PPUSH
1916: LD_EXP 5
1920: PUSH
1921: LD_INT 4
1923: PLUS
1924: PPUSH
1925: CALL_OW 12
1929: PUSH
1930: LD_EXP 5
1934: PUSH
1935: LD_INT 1
1937: MINUS
1938: PPUSH
1939: LD_EXP 5
1943: PUSH
1944: LD_INT 1
1946: PLUS
1947: PPUSH
1948: CALL_OW 12
1952: PUSH
1953: LD_EXP 5
1957: PUSH
1958: LD_INT 1
1960: MINUS
1961: PPUSH
1962: LD_EXP 5
1966: PUSH
1967: LD_INT 1
1969: PLUS
1970: PPUSH
1971: CALL_OW 12
1975: PUSH
1976: LD_EXP 5
1980: PUSH
1981: LD_INT 1
1983: MINUS
1984: PPUSH
1985: LD_EXP 5
1989: PUSH
1990: LD_INT 1
1992: PLUS
1993: PPUSH
1994: CALL_OW 12
1998: PUSH
1999: EMPTY
2000: LIST
2001: LIST
2002: LIST
2003: LIST
2004: ST_TO_ADDR
// hc_sex := sex_male ;
2005: LD_ADDR_OWVAR 27
2009: PUSH
2010: LD_INT 1
2012: ST_TO_ADDR
// hc_class := 1 ;
2013: LD_ADDR_OWVAR 28
2017: PUSH
2018: LD_INT 1
2020: ST_TO_ADDR
// hc_attr := [ 10 , 12 ] ;
2021: LD_ADDR_OWVAR 29
2025: PUSH
2026: LD_INT 10
2028: PUSH
2029: LD_INT 12
2031: PUSH
2032: EMPTY
2033: LIST
2034: LIST
2035: ST_TO_ADDR
// sikorski := CreateHuman ;
2036: LD_ADDR_EXP 13
2040: PUSH
2041: CALL_OW 44
2045: ST_TO_ADDR
// vc_chassis := us_light_wheeled ;
2046: LD_ADDR_OWVAR 37
2050: PUSH
2051: LD_INT 1
2053: ST_TO_ADDR
// vc_engine := engine_combustion ;
2054: LD_ADDR_OWVAR 39
2058: PUSH
2059: LD_INT 1
2061: ST_TO_ADDR
// vc_control := control_manual ;
2062: LD_ADDR_OWVAR 38
2066: PUSH
2067: LD_INT 1
2069: ST_TO_ADDR
// vc_weapon := us_machine_gun ;
2070: LD_ADDR_OWVAR 40
2074: PUSH
2075: LD_INT 2
2077: ST_TO_ADDR
// vc_fuel_battery := 21 ;
2078: LD_ADDR_OWVAR 41
2082: PUSH
2083: LD_INT 21
2085: ST_TO_ADDR
// un := CreateVehicle ;
2086: LD_ADDR_VAR 0 4
2090: PUSH
2091: CALL_OW 45
2095: ST_TO_ADDR
// SetDir ( un , 0 ) ;
2096: LD_VAR 0 4
2100: PPUSH
2101: LD_INT 0
2103: PPUSH
2104: CALL_OW 233
// PlaceUnitArea ( un , sikorski_area , false ) ;
2108: LD_VAR 0 4
2112: PPUSH
2113: LD_INT 8
2115: PPUSH
2116: LD_INT 0
2118: PPUSH
2119: CALL_OW 49
// PlaceHumanInUnit ( sikorski , un ) ;
2123: LD_EXP 13
2127: PPUSH
2128: LD_VAR 0 4
2132: PPUSH
2133: CALL_OW 52
// hc_importance := 0 ;
2137: LD_ADDR_OWVAR 32
2141: PUSH
2142: LD_INT 0
2144: ST_TO_ADDR
// hc_name := Ronn Harisson ;
2145: LD_ADDR_OWVAR 26
2149: PUSH
2150: LD_STRING Ronn Harisson
2152: ST_TO_ADDR
// hc_gallery := us ;
2153: LD_ADDR_OWVAR 33
2157: PUSH
2158: LD_STRING us
2160: ST_TO_ADDR
// hc_face_number := 6 ;
2161: LD_ADDR_OWVAR 34
2165: PUSH
2166: LD_INT 6
2168: ST_TO_ADDR
// ron := CreateHuman ;
2169: LD_ADDR_EXP 16
2173: PUSH
2174: CALL_OW 44
2178: ST_TO_ADDR
// hc_name := Jack Dickens ;
2179: LD_ADDR_OWVAR 26
2183: PUSH
2184: LD_STRING Jack Dickens
2186: ST_TO_ADDR
// hc_gallery :=  ;
2187: LD_ADDR_OWVAR 33
2191: PUSH
2192: LD_STRING 
2194: ST_TO_ADDR
// jack := CreateHuman ;
2195: LD_ADDR_EXP 17
2199: PUSH
2200: CALL_OW 44
2204: ST_TO_ADDR
// end ;
2205: LD_VAR 0 1
2209: RET
// every 0 0$01 trigger GetDistUnits ( sikorski , omikron ) <= 45 do
2210: LD_EXP 13
2214: PPUSH
2215: LD_INT 64
2217: PPUSH
2218: CALL_OW 296
2222: PUSH
2223: LD_INT 45
2225: LESSEQUAL
2226: IFFALSE 2276
2228: GO 2230
2230: DISABLE
// ComBuild ( FilterAllUnits ( [ [ f_side , 4 ] , [ f_class , 2 ] ] ) , b_workshop , 16 , 5 , 3 ) ;
2231: LD_INT 22
2233: PUSH
2234: LD_INT 4
2236: PUSH
2237: EMPTY
2238: LIST
2239: LIST
2240: PUSH
2241: LD_INT 25
2243: PUSH
2244: LD_INT 2
2246: PUSH
2247: EMPTY
2248: LIST
2249: LIST
2250: PUSH
2251: EMPTY
2252: LIST
2253: LIST
2254: PPUSH
2255: CALL_OW 69
2259: PPUSH
2260: LD_INT 2
2262: PPUSH
2263: LD_INT 16
2265: PPUSH
2266: LD_INT 5
2268: PPUSH
2269: LD_INT 3
2271: PPUSH
2272: CALL_OW 145
2276: END
// every 0 0$01 trigger See ( 3 , sikorski ) do
2277: LD_INT 3
2279: PPUSH
2280: LD_EXP 13
2284: PPUSH
2285: CALL_OW 292
2289: IFFALSE 2306
2291: GO 2293
2293: DISABLE
// Say ( sikorski , DRus ) ; end_of_file
2294: LD_EXP 13
2298: PPUSH
2299: LD_STRING DRus
2301: PPUSH
2302: CALL_OW 88
2306: END
// export ru_sold , ru_stw , ru_tw , ru_tech , ru_veh , ru_eng , ru_mech , ru_sci , ru_bul , ru_b ; export ru2_sold , ru2_stw , ru2_tw , ru2_tech , ru2_veh , ru2_eng , ru2_mech , ru2_sci , ru2_bul , ru2_b ; export ru_radar ; export function InitRussian ; var ru , ru2 , i , un , filter ; begin
2307: LD_INT 0
2309: PPUSH
2310: PPUSH
2311: PPUSH
2312: PPUSH
2313: PPUSH
2314: PPUSH
// ru := 6 ;
2315: LD_ADDR_VAR 0 2
2319: PUSH
2320: LD_INT 6
2322: ST_TO_ADDR
// ru2 := 3 ;
2323: LD_ADDR_VAR 0 3
2327: PUSH
2328: LD_INT 3
2330: ST_TO_ADDR
// uc_nation := nation_russian ;
2331: LD_ADDR_OWVAR 21
2335: PUSH
2336: LD_INT 3
2338: ST_TO_ADDR
// ru_radar := 98 ;
2339: LD_ADDR_EXP 41
2343: PUSH
2344: LD_INT 98
2346: ST_TO_ADDR
// uc_side := ru ;
2347: LD_ADDR_OWVAR 20
2351: PUSH
2352: LD_VAR 0 2
2356: ST_TO_ADDR
// ru_sold := [ ] ;
2357: LD_ADDR_EXP 21
2361: PUSH
2362: EMPTY
2363: ST_TO_ADDR
// ru_stw := [ ] ;
2364: LD_ADDR_EXP 22
2368: PUSH
2369: EMPTY
2370: ST_TO_ADDR
// ru_tw := [ ] ;
2371: LD_ADDR_EXP 23
2375: PUSH
2376: EMPTY
2377: ST_TO_ADDR
// ru_b := [ ] ;
2378: LD_ADDR_EXP 30
2382: PUSH
2383: EMPTY
2384: ST_TO_ADDR
// ru_eng := [ ] ;
2385: LD_ADDR_EXP 26
2389: PUSH
2390: EMPTY
2391: ST_TO_ADDR
// ru_mech := [ ] ;
2392: LD_ADDR_EXP 27
2396: PUSH
2397: EMPTY
2398: ST_TO_ADDR
// ru_sci := [ ] ;
2399: LD_ADDR_EXP 28
2403: PUSH
2404: EMPTY
2405: ST_TO_ADDR
// ru_bul := [ b_bunker , 162 , 101 , 0 ] ;
2406: LD_ADDR_EXP 29
2410: PUSH
2411: LD_INT 32
2413: PUSH
2414: LD_INT 162
2416: PUSH
2417: LD_INT 101
2419: PUSH
2420: LD_INT 0
2422: PUSH
2423: EMPTY
2424: LIST
2425: LIST
2426: LIST
2427: LIST
2428: ST_TO_ADDR
// ru_tech := [ tech_tech1 , tech_tech2 , tech_tech3 , tech_oilpow , tech_oileng , tech_weap1 , tech_weap2 , tech_gatling , tech_advmet , tech_weap3 ] ;
2429: LD_ADDR_EXP 24
2433: PUSH
2434: LD_INT 48
2436: PUSH
2437: LD_INT 49
2439: PUSH
2440: LD_INT 50
2442: PUSH
2443: LD_INT 46
2445: PUSH
2446: LD_INT 47
2448: PUSH
2449: LD_INT 51
2451: PUSH
2452: LD_INT 52
2454: PUSH
2455: LD_INT 69
2457: PUSH
2458: LD_INT 34
2460: PUSH
2461: LD_INT 53
2463: PUSH
2464: EMPTY
2465: LIST
2466: LIST
2467: LIST
2468: LIST
2469: LIST
2470: LIST
2471: LIST
2472: LIST
2473: LIST
2474: LIST
2475: ST_TO_ADDR
// ru_veh := [ ru_medium_wheeled , engine_combustion , control_manual , ru_cargo_bay , ru_medium_tracked , engine_combustion , control_manual , ru_crane , ru_medium_tracked , engine_combustion , control_manual , ru_crane ] ;
2476: LD_ADDR_EXP 25
2480: PUSH
2481: LD_INT 21
2483: PUSH
2484: LD_INT 1
2486: PUSH
2487: LD_INT 1
2489: PUSH
2490: LD_INT 51
2492: PUSH
2493: LD_INT 22
2495: PUSH
2496: LD_INT 1
2498: PUSH
2499: LD_INT 1
2501: PUSH
2502: LD_INT 52
2504: PUSH
2505: LD_INT 22
2507: PUSH
2508: LD_INT 1
2510: PUSH
2511: LD_INT 1
2513: PUSH
2514: LD_INT 52
2516: PUSH
2517: EMPTY
2518: LIST
2519: LIST
2520: LIST
2521: LIST
2522: LIST
2523: LIST
2524: LIST
2525: LIST
2526: LIST
2527: LIST
2528: LIST
2529: LIST
2530: ST_TO_ADDR
// SetBName ( kirov , kirov ) ;
2531: LD_INT 71
2533: PPUSH
2534: LD_STRING kirov
2536: PPUSH
2537: CALL_OW 500
// hc_gallery := ru ;
2541: LD_ADDR_OWVAR 33
2545: PUSH
2546: LD_STRING ru
2548: ST_TO_ADDR
// hc_face_number := 8 ;
2549: LD_ADDR_OWVAR 34
2553: PUSH
2554: LD_INT 8
2556: ST_TO_ADDR
// hc_skills := [ 7 , 4 , 3 , 2 ] ;
2557: LD_ADDR_OWVAR 31
2561: PUSH
2562: LD_INT 7
2564: PUSH
2565: LD_INT 4
2567: PUSH
2568: LD_INT 3
2570: PUSH
2571: LD_INT 2
2573: PUSH
2574: EMPTY
2575: LIST
2576: LIST
2577: LIST
2578: LIST
2579: ST_TO_ADDR
// hc_sex := sex_male ;
2580: LD_ADDR_OWVAR 27
2584: PUSH
2585: LD_INT 1
2587: ST_TO_ADDR
// hc_name := P³k. Iwan Kurin ;
2588: LD_ADDR_OWVAR 26
2592: PUSH
2593: LD_STRING P³k. Iwan Kurin
2595: ST_TO_ADDR
// hc_attr := [ 10 , 10 ] ;
2596: LD_ADDR_OWVAR 29
2600: PUSH
2601: LD_INT 10
2603: PUSH
2604: LD_INT 10
2606: PUSH
2607: EMPTY
2608: LIST
2609: LIST
2610: ST_TO_ADDR
// kurin := CreateHuman ;
2611: LD_ADDR_EXP 14
2615: PUSH
2616: CALL_OW 44
2620: ST_TO_ADDR
// PlaceHumanInUnit ( kurin , kirov ) ;
2621: LD_EXP 14
2625: PPUSH
2626: LD_INT 71
2628: PPUSH
2629: CALL_OW 52
// filter := FilterAllUnits ( [ [ f_side , 6 ] , [ f_btype , b_bunker ] ] ) ;
2633: LD_ADDR_VAR 0 6
2637: PUSH
2638: LD_INT 22
2640: PUSH
2641: LD_INT 6
2643: PUSH
2644: EMPTY
2645: LIST
2646: LIST
2647: PUSH
2648: LD_INT 30
2650: PUSH
2651: LD_INT 32
2653: PUSH
2654: EMPTY
2655: LIST
2656: LIST
2657: PUSH
2658: EMPTY
2659: LIST
2660: LIST
2661: PPUSH
2662: CALL_OW 69
2666: ST_TO_ADDR
// for i = 1 to ru_force do
2667: LD_ADDR_VAR 0 4
2671: PUSH
2672: DOUBLE
2673: LD_INT 1
2675: DEC
2676: ST_TO_ADDR
2677: LD_EXP 3
2681: PUSH
2682: FOR_TO
2683: IFFALSE 2754
// begin un := CreateHumanWithClass ( 1 , ru_def ) ;
2685: LD_ADDR_VAR 0 5
2689: PUSH
2690: LD_INT 1
2692: PPUSH
2693: LD_EXP 4
2697: PPUSH
2698: CALL 418 0 2
2702: ST_TO_ADDR
// if i <= filter then
2703: LD_VAR 0 4
2707: PUSH
2708: LD_VAR 0 6
2712: LESSEQUAL
2713: IFFALSE 2737
// PlaceHumanInUnit ( un , filter [ i ] ) else
2715: LD_VAR 0 5
2719: PPUSH
2720: LD_VAR 0 6
2724: PUSH
2725: LD_VAR 0 4
2729: ARRAY
2730: PPUSH
2731: CALL_OW 52
2735: GO 2752
// PlaceUnitArea ( un , ru_area , false ) ;
2737: LD_VAR 0 5
2741: PPUSH
2742: LD_INT 4
2744: PPUSH
2745: LD_INT 0
2747: PPUSH
2748: CALL_OW 49
// end ;
2752: GO 2682
2754: POP
2755: POP
// for i = 1 to 6 do
2756: LD_ADDR_VAR 0 4
2760: PUSH
2761: DOUBLE
2762: LD_INT 1
2764: DEC
2765: ST_TO_ADDR
2766: LD_INT 6
2768: PUSH
2769: FOR_TO
2770: IFFALSE 2807
// begin un := CreateHumanWithClass ( 3 , ru_def ) ;
2772: LD_ADDR_VAR 0 5
2776: PUSH
2777: LD_INT 3
2779: PPUSH
2780: LD_EXP 4
2784: PPUSH
2785: CALL 418 0 2
2789: ST_TO_ADDR
// PlaceUnitArea ( un , ru_area , false ) ;
2790: LD_VAR 0 5
2794: PPUSH
2795: LD_INT 4
2797: PPUSH
2798: LD_INT 0
2800: PPUSH
2801: CALL_OW 49
// end ;
2805: GO 2769
2807: POP
2808: POP
// for i = 1 to 3 do
2809: LD_ADDR_VAR 0 4
2813: PUSH
2814: DOUBLE
2815: LD_INT 1
2817: DEC
2818: ST_TO_ADDR
2819: LD_INT 3
2821: PUSH
2822: FOR_TO
2823: IFFALSE 2860
// begin un := CreateHumanWithClass ( 4 , ru_def ) ;
2825: LD_ADDR_VAR 0 5
2829: PUSH
2830: LD_INT 4
2832: PPUSH
2833: LD_EXP 4
2837: PPUSH
2838: CALL 418 0 2
2842: ST_TO_ADDR
// PlaceUnitArea ( un , ru_area , false ) ;
2843: LD_VAR 0 5
2847: PPUSH
2848: LD_INT 4
2850: PPUSH
2851: LD_INT 0
2853: PPUSH
2854: CALL_OW 49
// end ;
2858: GO 2822
2860: POP
2861: POP
// for i = 1 to 4 do
2862: LD_ADDR_VAR 0 4
2866: PUSH
2867: DOUBLE
2868: LD_INT 1
2870: DEC
2871: ST_TO_ADDR
2872: LD_INT 4
2874: PUSH
2875: FOR_TO
2876: IFFALSE 2913
// begin un := CreateHumanWithClass ( 2 , ru_def ) ;
2878: LD_ADDR_VAR 0 5
2882: PUSH
2883: LD_INT 2
2885: PPUSH
2886: LD_EXP 4
2890: PPUSH
2891: CALL 418 0 2
2895: ST_TO_ADDR
// PlaceUnitArea ( un , ru_area , false ) ;
2896: LD_VAR 0 5
2900: PPUSH
2901: LD_INT 4
2903: PPUSH
2904: LD_INT 0
2906: PPUSH
2907: CALL_OW 49
// end ;
2911: GO 2875
2913: POP
2914: POP
// uc_side := ru2 ;
2915: LD_ADDR_OWVAR 20
2919: PUSH
2920: LD_VAR 0 3
2924: ST_TO_ADDR
// ru2_sold := [ ] ;
2925: LD_ADDR_EXP 31
2929: PUSH
2930: EMPTY
2931: ST_TO_ADDR
// ru2_stw := [ ] ;
2932: LD_ADDR_EXP 32
2936: PUSH
2937: EMPTY
2938: ST_TO_ADDR
// ru2_tw := [ ] ;
2939: LD_ADDR_EXP 33
2943: PUSH
2944: EMPTY
2945: ST_TO_ADDR
// ru2_b := [ ] ;
2946: LD_ADDR_EXP 40
2950: PUSH
2951: EMPTY
2952: ST_TO_ADDR
// ru2_eng := [ ] ;
2953: LD_ADDR_EXP 36
2957: PUSH
2958: EMPTY
2959: ST_TO_ADDR
// ru2_mech := [ ] ;
2960: LD_ADDR_EXP 37
2964: PUSH
2965: EMPTY
2966: ST_TO_ADDR
// ru2_sci := [ ] ;
2967: LD_ADDR_EXP 38
2971: PUSH
2972: EMPTY
2973: ST_TO_ADDR
// ru2_bul := [ b_lab , 90 , 71 , 1 , b_armoury , 88 , 58 , 2 , b_workshop , 103 , 66 , 4 , b_oil_power , 106 , 77 , 3 , b_oil_power , 110 , 77 , 3 , b_bunker , 109 , 65 , 4 , b_bunker , 92 , 85 , 0 , b_bunker , 74 , 72 , 0 , b_bunker , 71 , 66 , 2 , b_bunker , 115 , 79 , 4 , b_bunker , 112 , 69 , 4 , b_bunker , 111 , 84 , 5 ] ;
2974: LD_ADDR_EXP 39
2978: PUSH
2979: LD_INT 6
2981: PUSH
2982: LD_INT 90
2984: PUSH
2985: LD_INT 71
2987: PUSH
2988: LD_INT 1
2990: PUSH
2991: LD_INT 4
2993: PUSH
2994: LD_INT 88
2996: PUSH
2997: LD_INT 58
2999: PUSH
3000: LD_INT 2
3002: PUSH
3003: LD_INT 2
3005: PUSH
3006: LD_INT 103
3008: PUSH
3009: LD_INT 66
3011: PUSH
3012: LD_INT 4
3014: PUSH
3015: LD_INT 26
3017: PUSH
3018: LD_INT 106
3020: PUSH
3021: LD_INT 77
3023: PUSH
3024: LD_INT 3
3026: PUSH
3027: LD_INT 26
3029: PUSH
3030: LD_INT 110
3032: PUSH
3033: LD_INT 77
3035: PUSH
3036: LD_INT 3
3038: PUSH
3039: LD_INT 32
3041: PUSH
3042: LD_INT 109
3044: PUSH
3045: LD_INT 65
3047: PUSH
3048: LD_INT 4
3050: PUSH
3051: LD_INT 32
3053: PUSH
3054: LD_INT 92
3056: PUSH
3057: LD_INT 85
3059: PUSH
3060: LD_INT 0
3062: PUSH
3063: LD_INT 32
3065: PUSH
3066: LD_INT 74
3068: PUSH
3069: LD_INT 72
3071: PUSH
3072: LD_INT 0
3074: PUSH
3075: LD_INT 32
3077: PUSH
3078: LD_INT 71
3080: PUSH
3081: LD_INT 66
3083: PUSH
3084: LD_INT 2
3086: PUSH
3087: LD_INT 32
3089: PUSH
3090: LD_INT 115
3092: PUSH
3093: LD_INT 79
3095: PUSH
3096: LD_INT 4
3098: PUSH
3099: LD_INT 32
3101: PUSH
3102: LD_INT 112
3104: PUSH
3105: LD_INT 69
3107: PUSH
3108: LD_INT 4
3110: PUSH
3111: LD_INT 32
3113: PUSH
3114: LD_INT 111
3116: PUSH
3117: LD_INT 84
3119: PUSH
3120: LD_INT 5
3122: PUSH
3123: EMPTY
3124: LIST
3125: LIST
3126: LIST
3127: LIST
3128: LIST
3129: LIST
3130: LIST
3131: LIST
3132: LIST
3133: LIST
3134: LIST
3135: LIST
3136: LIST
3137: LIST
3138: LIST
3139: LIST
3140: LIST
3141: LIST
3142: LIST
3143: LIST
3144: LIST
3145: LIST
3146: LIST
3147: LIST
3148: LIST
3149: LIST
3150: LIST
3151: LIST
3152: LIST
3153: LIST
3154: LIST
3155: LIST
3156: LIST
3157: LIST
3158: LIST
3159: LIST
3160: LIST
3161: LIST
3162: LIST
3163: LIST
3164: LIST
3165: LIST
3166: LIST
3167: LIST
3168: LIST
3169: LIST
3170: LIST
3171: LIST
3172: ST_TO_ADDR
// ru2_tech := [ tech_tech1 , tech_tech2 , tech_weap1 , tech_weap2 , tech_gatling , tech_gun , tech_advmet , tech_weap3 , tech_tech3 ] ;
3173: LD_ADDR_EXP 34
3177: PUSH
3178: LD_INT 48
3180: PUSH
3181: LD_INT 49
3183: PUSH
3184: LD_INT 51
3186: PUSH
3187: LD_INT 52
3189: PUSH
3190: LD_INT 69
3192: PUSH
3193: LD_INT 39
3195: PUSH
3196: LD_INT 34
3198: PUSH
3199: LD_INT 53
3201: PUSH
3202: LD_INT 50
3204: PUSH
3205: EMPTY
3206: LIST
3207: LIST
3208: LIST
3209: LIST
3210: LIST
3211: LIST
3212: LIST
3213: LIST
3214: LIST
3215: ST_TO_ADDR
// ru2_veh := [ ru_medium_wheeled , engine_combustion , control_manual , ru_cargo_bay , ru_medium_tracked , engine_combustion , control_manual , ru_crane , ru_medium_tracked , engine_combustion , control_manual , ru_crane ] ;
3216: LD_ADDR_EXP 35
3220: PUSH
3221: LD_INT 21
3223: PUSH
3224: LD_INT 1
3226: PUSH
3227: LD_INT 1
3229: PUSH
3230: LD_INT 51
3232: PUSH
3233: LD_INT 22
3235: PUSH
3236: LD_INT 1
3238: PUSH
3239: LD_INT 1
3241: PUSH
3242: LD_INT 52
3244: PUSH
3245: LD_INT 22
3247: PUSH
3248: LD_INT 1
3250: PUSH
3251: LD_INT 1
3253: PUSH
3254: LD_INT 52
3256: PUSH
3257: EMPTY
3258: LIST
3259: LIST
3260: LIST
3261: LIST
3262: LIST
3263: LIST
3264: LIST
3265: LIST
3266: LIST
3267: LIST
3268: LIST
3269: LIST
3270: ST_TO_ADDR
// SetBName ( beria , beria ) ;
3271: LD_INT 106
3273: PPUSH
3274: LD_STRING beria
3276: PPUSH
3277: CALL_OW 500
// SetBName ( kagan , kagan ) ;
3281: LD_INT 112
3283: PPUSH
3284: LD_STRING kagan
3286: PPUSH
3287: CALL_OW 500
// for i = 1 to 12 do
3291: LD_ADDR_VAR 0 4
3295: PUSH
3296: DOUBLE
3297: LD_INT 1
3299: DEC
3300: ST_TO_ADDR
3301: LD_INT 12
3303: PUSH
3304: FOR_TO
3305: IFFALSE 3342
// begin un := CreateHumanWithClass ( 1 , ru_def ) ;
3307: LD_ADDR_VAR 0 5
3311: PUSH
3312: LD_INT 1
3314: PPUSH
3315: LD_EXP 4
3319: PPUSH
3320: CALL 418 0 2
3324: ST_TO_ADDR
// PlaceUnitArea ( un , ru2_area , false ) ;
3325: LD_VAR 0 5
3329: PPUSH
3330: LD_INT 9
3332: PPUSH
3333: LD_INT 0
3335: PPUSH
3336: CALL_OW 49
// end ;
3340: GO 3304
3342: POP
3343: POP
// for i = 1 to 6 do
3344: LD_ADDR_VAR 0 4
3348: PUSH
3349: DOUBLE
3350: LD_INT 1
3352: DEC
3353: ST_TO_ADDR
3354: LD_INT 6
3356: PUSH
3357: FOR_TO
3358: IFFALSE 3395
// begin un := CreateHumanWithClass ( 3 , ru_def ) ;
3360: LD_ADDR_VAR 0 5
3364: PUSH
3365: LD_INT 3
3367: PPUSH
3368: LD_EXP 4
3372: PPUSH
3373: CALL 418 0 2
3377: ST_TO_ADDR
// PlaceUnitArea ( un , ru2_area , false ) ;
3378: LD_VAR 0 5
3382: PPUSH
3383: LD_INT 9
3385: PPUSH
3386: LD_INT 0
3388: PPUSH
3389: CALL_OW 49
// end ;
3393: GO 3357
3395: POP
3396: POP
// for i = 1 to 4 do
3397: LD_ADDR_VAR 0 4
3401: PUSH
3402: DOUBLE
3403: LD_INT 1
3405: DEC
3406: ST_TO_ADDR
3407: LD_INT 4
3409: PUSH
3410: FOR_TO
3411: IFFALSE 3448
// begin un := CreateHumanWithClass ( 4 , ru_def ) ;
3413: LD_ADDR_VAR 0 5
3417: PUSH
3418: LD_INT 4
3420: PPUSH
3421: LD_EXP 4
3425: PPUSH
3426: CALL 418 0 2
3430: ST_TO_ADDR
// PlaceUnitArea ( un , ru2_area , false ) ;
3431: LD_VAR 0 5
3435: PPUSH
3436: LD_INT 9
3438: PPUSH
3439: LD_INT 0
3441: PPUSH
3442: CALL_OW 49
// end ;
3446: GO 3410
3448: POP
3449: POP
// for i = 1 to 4 do
3450: LD_ADDR_VAR 0 4
3454: PUSH
3455: DOUBLE
3456: LD_INT 1
3458: DEC
3459: ST_TO_ADDR
3460: LD_INT 4
3462: PUSH
3463: FOR_TO
3464: IFFALSE 3501
// begin un := CreateHumanWithClass ( 2 , ru_def ) ;
3466: LD_ADDR_VAR 0 5
3470: PUSH
3471: LD_INT 2
3473: PPUSH
3474: LD_EXP 4
3478: PPUSH
3479: CALL 418 0 2
3483: ST_TO_ADDR
// PlaceUnitArea ( un , ru2_area , false ) ;
3484: LD_VAR 0 5
3488: PPUSH
3489: LD_INT 9
3491: PPUSH
3492: LD_INT 0
3494: PPUSH
3495: CALL_OW 49
// end ;
3499: GO 3463
3501: POP
3502: POP
// end ;
3503: LD_VAR 0 1
3507: RET
// every 0 0$01 do var i , p , un , filter , h_dmgunit , b_dmgunit , b_unit , b_weap , b_upgrade , enemy_detected ;
3508: GO 3510
3510: DISABLE
3511: LD_INT 0
3513: PPUSH
3514: PPUSH
3515: PPUSH
3516: PPUSH
3517: PPUSH
3518: PPUSH
3519: PPUSH
3520: PPUSH
3521: PPUSH
3522: PPUSH
// begin enable ;
3523: ENABLE
// ru_sold := FilterAllUnits ( [ [ [ f_side , 6 ] , [ f_class , 1 ] , [ f_lives , 600 ] ] ] ) diff Kurin ;
3524: LD_ADDR_EXP 21
3528: PUSH
3529: LD_INT 22
3531: PUSH
3532: LD_INT 6
3534: PUSH
3535: EMPTY
3536: LIST
3537: LIST
3538: PUSH
3539: LD_INT 25
3541: PUSH
3542: LD_INT 1
3544: PUSH
3545: EMPTY
3546: LIST
3547: LIST
3548: PUSH
3549: LD_INT 24
3551: PUSH
3552: LD_INT 600
3554: PUSH
3555: EMPTY
3556: LIST
3557: LIST
3558: PUSH
3559: EMPTY
3560: LIST
3561: LIST
3562: LIST
3563: PUSH
3564: EMPTY
3565: LIST
3566: PPUSH
3567: CALL_OW 69
3571: PUSH
3572: LD_EXP 14
3576: DIFF
3577: ST_TO_ADDR
// ru_eng := FilterAllUnits ( [ [ [ f_side , 6 ] , [ f_class , 2 ] , [ f_lives , 600 ] ] ] ) ;
3578: LD_ADDR_EXP 26
3582: PUSH
3583: LD_INT 22
3585: PUSH
3586: LD_INT 6
3588: PUSH
3589: EMPTY
3590: LIST
3591: LIST
3592: PUSH
3593: LD_INT 25
3595: PUSH
3596: LD_INT 2
3598: PUSH
3599: EMPTY
3600: LIST
3601: LIST
3602: PUSH
3603: LD_INT 24
3605: PUSH
3606: LD_INT 600
3608: PUSH
3609: EMPTY
3610: LIST
3611: LIST
3612: PUSH
3613: EMPTY
3614: LIST
3615: LIST
3616: LIST
3617: PUSH
3618: EMPTY
3619: LIST
3620: PPUSH
3621: CALL_OW 69
3625: ST_TO_ADDR
// ru_mech := FilterAllUnits ( [ [ [ f_side , 6 ] , [ f_class , 3 ] , [ f_lives , 600 ] ] ] ) ;
3626: LD_ADDR_EXP 27
3630: PUSH
3631: LD_INT 22
3633: PUSH
3634: LD_INT 6
3636: PUSH
3637: EMPTY
3638: LIST
3639: LIST
3640: PUSH
3641: LD_INT 25
3643: PUSH
3644: LD_INT 3
3646: PUSH
3647: EMPTY
3648: LIST
3649: LIST
3650: PUSH
3651: LD_INT 24
3653: PUSH
3654: LD_INT 600
3656: PUSH
3657: EMPTY
3658: LIST
3659: LIST
3660: PUSH
3661: EMPTY
3662: LIST
3663: LIST
3664: LIST
3665: PUSH
3666: EMPTY
3667: LIST
3668: PPUSH
3669: CALL_OW 69
3673: ST_TO_ADDR
// ru_sci := FilterAllUnits ( [ [ [ f_side , 6 ] , [ f_class , 4 ] , [ f_lives , 600 ] ] ] ) ;
3674: LD_ADDR_EXP 28
3678: PUSH
3679: LD_INT 22
3681: PUSH
3682: LD_INT 6
3684: PUSH
3685: EMPTY
3686: LIST
3687: LIST
3688: PUSH
3689: LD_INT 25
3691: PUSH
3692: LD_INT 4
3694: PUSH
3695: EMPTY
3696: LIST
3697: LIST
3698: PUSH
3699: LD_INT 24
3701: PUSH
3702: LD_INT 600
3704: PUSH
3705: EMPTY
3706: LIST
3707: LIST
3708: PUSH
3709: EMPTY
3710: LIST
3711: LIST
3712: LIST
3713: PUSH
3714: EMPTY
3715: LIST
3716: PPUSH
3717: CALL_OW 69
3721: ST_TO_ADDR
// ru_tw := FilterAllUnits ( [ [ [ f_side , 6 ] , [ f_or , [ f_btype , b_breastwork ] , [ f_btype , b_bunker ] ] , [ f_lives , 250 ] ] ] ) ;
3722: LD_ADDR_EXP 23
3726: PUSH
3727: LD_INT 22
3729: PUSH
3730: LD_INT 6
3732: PUSH
3733: EMPTY
3734: LIST
3735: LIST
3736: PUSH
3737: LD_INT 2
3739: PUSH
3740: LD_INT 30
3742: PUSH
3743: LD_INT 31
3745: PUSH
3746: EMPTY
3747: LIST
3748: LIST
3749: PUSH
3750: LD_INT 30
3752: PUSH
3753: LD_INT 32
3755: PUSH
3756: EMPTY
3757: LIST
3758: LIST
3759: PUSH
3760: EMPTY
3761: LIST
3762: LIST
3763: LIST
3764: PUSH
3765: LD_INT 24
3767: PUSH
3768: LD_INT 250
3770: PUSH
3771: EMPTY
3772: LIST
3773: LIST
3774: PUSH
3775: EMPTY
3776: LIST
3777: LIST
3778: LIST
3779: PUSH
3780: EMPTY
3781: LIST
3782: PPUSH
3783: CALL_OW 69
3787: ST_TO_ADDR
// ru_b := FilterAllUnits ( [ [ f_side , 6 ] , [ f_type , unit_building ] ] ) ;
3788: LD_ADDR_EXP 30
3792: PUSH
3793: LD_INT 22
3795: PUSH
3796: LD_INT 6
3798: PUSH
3799: EMPTY
3800: LIST
3801: LIST
3802: PUSH
3803: LD_INT 21
3805: PUSH
3806: LD_INT 3
3808: PUSH
3809: EMPTY
3810: LIST
3811: LIST
3812: PUSH
3813: EMPTY
3814: LIST
3815: LIST
3816: PPUSH
3817: CALL_OW 69
3821: ST_TO_ADDR
// b_dmgunit := FilterAllUnits ( [ [ [ f_side , 6 ] , [ f_type , unit_building ] , [ f_not , [ f_lives , 1000 ] ] ] ] ) ;
3822: LD_ADDR_VAR 0 6
3826: PUSH
3827: LD_INT 22
3829: PUSH
3830: LD_INT 6
3832: PUSH
3833: EMPTY
3834: LIST
3835: LIST
3836: PUSH
3837: LD_INT 21
3839: PUSH
3840: LD_INT 3
3842: PUSH
3843: EMPTY
3844: LIST
3845: LIST
3846: PUSH
3847: LD_INT 3
3849: PUSH
3850: LD_INT 24
3852: PUSH
3853: LD_INT 1000
3855: PUSH
3856: EMPTY
3857: LIST
3858: LIST
3859: PUSH
3860: EMPTY
3861: LIST
3862: LIST
3863: PUSH
3864: EMPTY
3865: LIST
3866: LIST
3867: LIST
3868: PUSH
3869: EMPTY
3870: LIST
3871: PPUSH
3872: CALL_OW 69
3876: ST_TO_ADDR
// h_dmgunit := FilterAllUnits ( [ [ [ f_side , 6 ] , [ f_type , unit_human ] , [ f_not , [ f_lives , 600 ] ] ] ] ) ;
3877: LD_ADDR_VAR 0 5
3881: PUSH
3882: LD_INT 22
3884: PUSH
3885: LD_INT 6
3887: PUSH
3888: EMPTY
3889: LIST
3890: LIST
3891: PUSH
3892: LD_INT 21
3894: PUSH
3895: LD_INT 1
3897: PUSH
3898: EMPTY
3899: LIST
3900: LIST
3901: PUSH
3902: LD_INT 3
3904: PUSH
3905: LD_INT 24
3907: PUSH
3908: LD_INT 600
3910: PUSH
3911: EMPTY
3912: LIST
3913: LIST
3914: PUSH
3915: EMPTY
3916: LIST
3917: LIST
3918: PUSH
3919: EMPTY
3920: LIST
3921: LIST
3922: LIST
3923: PUSH
3924: EMPTY
3925: LIST
3926: PPUSH
3927: CALL_OW 69
3931: ST_TO_ADDR
// b_weap := AvailableWeaponList ( ru_fac ) diff [ ru_crane , ru_cargo_bay , ru_bulldozer , ru_radar ] ;
3932: LD_ADDR_VAR 0 8
3936: PUSH
3937: LD_INT 92
3939: PPUSH
3940: CALL_OW 478
3944: PUSH
3945: LD_INT 52
3947: PUSH
3948: LD_INT 51
3950: PUSH
3951: LD_INT 53
3953: PUSH
3954: LD_EXP 41
3958: PUSH
3959: EMPTY
3960: LIST
3961: LIST
3962: LIST
3963: LIST
3964: DIFF
3965: ST_TO_ADDR
// b_upgrade := [ b_depot , b_armoury , b_breastwork , b_workshop ] ;
3966: LD_ADDR_VAR 0 9
3970: PUSH
3971: LD_INT 0
3973: PUSH
3974: LD_INT 4
3976: PUSH
3977: LD_INT 31
3979: PUSH
3980: LD_INT 2
3982: PUSH
3983: EMPTY
3984: LIST
3985: LIST
3986: LIST
3987: LIST
3988: ST_TO_ADDR
// if FilterUnitsInArea ( kirov_strict , [ f_or , [ f_side , 1 ] , [ f_side , 2 ] ] ) > 0 then
3989: LD_INT 10
3991: PPUSH
3992: LD_INT 2
3994: PUSH
3995: LD_INT 22
3997: PUSH
3998: LD_INT 1
4000: PUSH
4001: EMPTY
4002: LIST
4003: LIST
4004: PUSH
4005: LD_INT 22
4007: PUSH
4008: LD_INT 2
4010: PUSH
4011: EMPTY
4012: LIST
4013: LIST
4014: PUSH
4015: EMPTY
4016: LIST
4017: LIST
4018: LIST
4019: PPUSH
4020: CALL_OW 70
4024: PUSH
4025: LD_INT 0
4027: GREATER
4028: IFFALSE 4040
// enemy_detected := true else
4030: LD_ADDR_VAR 0 10
4034: PUSH
4035: LD_INT 1
4037: ST_TO_ADDR
4038: GO 4048
// enemy_detected := false ;
4040: LD_ADDR_VAR 0 10
4044: PUSH
4045: LD_INT 0
4047: ST_TO_ADDR
// if enemy_detected = false then
4048: LD_VAR 0 10
4052: PUSH
4053: LD_INT 0
4055: EQUAL
4056: IFFALSE 4118
// for i = 1 to ru_b do
4058: LD_ADDR_VAR 0 1
4062: PUSH
4063: DOUBLE
4064: LD_INT 1
4066: DEC
4067: ST_TO_ADDR
4068: LD_EXP 30
4072: PUSH
4073: FOR_TO
4074: IFFALSE 4116
// if GetBType ( ru_b [ i ] ) in b_upgrade then
4076: LD_EXP 30
4080: PUSH
4081: LD_VAR 0 1
4085: ARRAY
4086: PPUSH
4087: CALL_OW 266
4091: PUSH
4092: LD_VAR 0 9
4096: IN
4097: IFFALSE 4114
// ComUpgrade ( ru_b [ i ] ) ;
4099: LD_EXP 30
4103: PUSH
4104: LD_VAR 0 1
4108: ARRAY
4109: PPUSH
4110: CALL_OW 146
4114: GO 4073
4116: POP
4117: POP
// if ru_sold > 0 then
4118: LD_EXP 21
4122: PUSH
4123: LD_INT 0
4125: GREATER
4126: IFFALSE 4540
// begin filter := UnitFilter ( ru_sold , [ f_not , [ f_inside ] ] ) ;
4128: LD_ADDR_VAR 0 4
4132: PUSH
4133: LD_EXP 21
4137: PPUSH
4138: LD_INT 3
4140: PUSH
4141: LD_INT 54
4143: PUSH
4144: EMPTY
4145: LIST
4146: PUSH
4147: EMPTY
4148: LIST
4149: LIST
4150: PPUSH
4151: CALL_OW 72
4155: ST_TO_ADDR
// if UnitFilter ( ru_tw , [ f_empty ] ) > 0 then
4156: LD_EXP 23
4160: PPUSH
4161: LD_INT 58
4163: PUSH
4164: EMPTY
4165: LIST
4166: PPUSH
4167: CALL_OW 72
4171: PUSH
4172: LD_INT 0
4174: GREATER
4175: IFFALSE 4243
// begin if filter = 0 then
4177: LD_VAR 0 4
4181: PUSH
4182: LD_INT 0
4184: EQUAL
4185: IFFALSE 4210
// ComExitBuilding ( ru_sold [ Rand ( 1 , ru_sold ) ] ) ;
4187: LD_EXP 21
4191: PUSH
4192: LD_INT 1
4194: PPUSH
4195: LD_EXP 21
4199: PPUSH
4200: CALL_OW 12
4204: ARRAY
4205: PPUSH
4206: CALL_OW 122
// ComEnterUnit ( filter [ 1 ] , UnitFilter ( ru_tw , [ f_empty ] ) [ 1 ] ) ;
4210: LD_VAR 0 4
4214: PUSH
4215: LD_INT 1
4217: ARRAY
4218: PPUSH
4219: LD_EXP 23
4223: PPUSH
4224: LD_INT 58
4226: PUSH
4227: EMPTY
4228: LIST
4229: PPUSH
4230: CALL_OW 72
4234: PUSH
4235: LD_INT 1
4237: ARRAY
4238: PPUSH
4239: CALL_OW 120
// end ; if UnitFilter ( ru_tw , [ f_empty ] ) = 0 then
4243: LD_EXP 23
4247: PPUSH
4248: LD_INT 58
4250: PUSH
4251: EMPTY
4252: LIST
4253: PPUSH
4254: CALL_OW 72
4258: PUSH
4259: LD_INT 0
4261: EQUAL
4262: IFFALSE 4417
// begin b_unit := FilterAllUnits ( [ [ f_side , 6 ] , [ f_or , [ f_btype , b_armoury ] , [ f_btype , b_barracks ] ] ] ) ;
4264: LD_ADDR_VAR 0 7
4268: PUSH
4269: LD_INT 22
4271: PUSH
4272: LD_INT 6
4274: PUSH
4275: EMPTY
4276: LIST
4277: LIST
4278: PUSH
4279: LD_INT 2
4281: PUSH
4282: LD_INT 30
4284: PUSH
4285: LD_INT 4
4287: PUSH
4288: EMPTY
4289: LIST
4290: LIST
4291: PUSH
4292: LD_INT 30
4294: PUSH
4295: LD_INT 5
4297: PUSH
4298: EMPTY
4299: LIST
4300: LIST
4301: PUSH
4302: EMPTY
4303: LIST
4304: LIST
4305: LIST
4306: PUSH
4307: EMPTY
4308: LIST
4309: LIST
4310: PPUSH
4311: CALL_OW 69
4315: ST_TO_ADDR
// if b_unit > 0 then
4316: LD_VAR 0 7
4320: PUSH
4321: LD_INT 0
4323: GREATER
4324: IFFALSE 4417
// for p = 1 to b_unit do
4326: LD_ADDR_VAR 0 2
4330: PUSH
4331: DOUBLE
4332: LD_INT 1
4334: DEC
4335: ST_TO_ADDR
4336: LD_VAR 0 7
4340: PUSH
4341: FOR_TO
4342: IFFALSE 4415
// if UnitsInSide ( b_unit [ p ] ) < 6 then
4344: LD_VAR 0 7
4348: PUSH
4349: LD_VAR 0 2
4353: ARRAY
4354: PPUSH
4355: CALL_OW 313
4359: PUSH
4360: LD_INT 6
4362: LESS
4363: IFFALSE 4413
// for i = 1 to filter do
4365: LD_ADDR_VAR 0 1
4369: PUSH
4370: DOUBLE
4371: LD_INT 1
4373: DEC
4374: ST_TO_ADDR
4375: LD_VAR 0 4
4379: PUSH
4380: FOR_TO
4381: IFFALSE 4411
// ComEnterUnit ( filter [ i ] , b_unit [ p ] ) ;
4383: LD_VAR 0 4
4387: PUSH
4388: LD_VAR 0 1
4392: ARRAY
4393: PPUSH
4394: LD_VAR 0 7
4398: PUSH
4399: LD_VAR 0 2
4403: ARRAY
4404: PPUSH
4405: CALL_OW 120
4409: GO 4380
4411: POP
4412: POP
4413: GO 4341
4415: POP
4416: POP
// end ; if UnitFilter ( ru_tw , [ [ f_btype , b_bunker ] , [ f_bweapon , 0 ] ] ) > 0 then
4417: LD_EXP 23
4421: PPUSH
4422: LD_INT 30
4424: PUSH
4425: LD_INT 32
4427: PUSH
4428: EMPTY
4429: LIST
4430: LIST
4431: PUSH
4432: LD_INT 35
4434: PUSH
4435: LD_INT 0
4437: PUSH
4438: EMPTY
4439: LIST
4440: LIST
4441: PUSH
4442: EMPTY
4443: LIST
4444: LIST
4445: PPUSH
4446: CALL_OW 72
4450: PUSH
4451: LD_INT 0
4453: GREATER
4454: IFFALSE 4540
// begin filter := UnitFilter ( ru_tw , [ [ f_btype , b_bunker ] , [ f_bweapon , 0 ] ] ) ;
4456: LD_ADDR_VAR 0 4
4460: PUSH
4461: LD_EXP 23
4465: PPUSH
4466: LD_INT 30
4468: PUSH
4469: LD_INT 32
4471: PUSH
4472: EMPTY
4473: LIST
4474: LIST
4475: PUSH
4476: LD_INT 35
4478: PUSH
4479: LD_INT 0
4481: PUSH
4482: EMPTY
4483: LIST
4484: LIST
4485: PUSH
4486: EMPTY
4487: LIST
4488: LIST
4489: PPUSH
4490: CALL_OW 72
4494: ST_TO_ADDR
// if BuildingStatus ( ru_fac ) = bs_idle then
4495: LD_INT 92
4497: PPUSH
4498: CALL_OW 461
4502: PUSH
4503: LD_INT 2
4505: EQUAL
4506: IFFALSE 4540
// ComPlaceWeapon ( filter [ 1 ] , b_weap [ Rand ( 1 , b_weap ) ] ) ;
4508: LD_VAR 0 4
4512: PUSH
4513: LD_INT 1
4515: ARRAY
4516: PPUSH
4517: LD_VAR 0 8
4521: PUSH
4522: LD_INT 1
4524: PPUSH
4525: LD_VAR 0 8
4529: PPUSH
4530: CALL_OW 12
4534: ARRAY
4535: PPUSH
4536: CALL_OW 148
// end ; end ; if ru_mech > 0 then
4540: LD_EXP 27
4544: PUSH
4545: LD_INT 0
4547: GREATER
4548: IFFALSE 4608
// for i = 1 to ru_mech do
4550: LD_ADDR_VAR 0 1
4554: PUSH
4555: DOUBLE
4556: LD_INT 1
4558: DEC
4559: ST_TO_ADDR
4560: LD_EXP 27
4564: PUSH
4565: FOR_TO
4566: IFFALSE 4606
// if not IsInUnit ( ru_mech [ i ] ) then
4568: LD_EXP 27
4572: PUSH
4573: LD_VAR 0 1
4577: ARRAY
4578: PPUSH
4579: CALL_OW 310
4583: NOT
4584: IFFALSE 4604
// ComEnterUnit ( ru_mech [ i ] , ru_fac ) ;
4586: LD_EXP 27
4590: PUSH
4591: LD_VAR 0 1
4595: ARRAY
4596: PPUSH
4597: LD_INT 92
4599: PPUSH
4600: CALL_OW 120
4604: GO 4565
4606: POP
4607: POP
// if ru_fac then
4608: LD_INT 92
4610: IFFALSE 4716
// if ru_veh > 0 then
4612: LD_EXP 25
4616: PUSH
4617: LD_INT 0
4619: GREATER
4620: IFFALSE 4716
// if BuildingStatus ( ru_fac ) = bs_idle then
4622: LD_INT 92
4624: PPUSH
4625: CALL_OW 461
4629: PUSH
4630: LD_INT 2
4632: EQUAL
4633: IFFALSE 4716
// begin ComConstruct ( ru_fac , ru_veh [ 1 ] , ru_veh [ 2 ] , ru_veh [ 3 ] , ru_veh [ 4 ] ) ;
4635: LD_INT 92
4637: PPUSH
4638: LD_EXP 25
4642: PUSH
4643: LD_INT 1
4645: ARRAY
4646: PPUSH
4647: LD_EXP 25
4651: PUSH
4652: LD_INT 2
4654: ARRAY
4655: PPUSH
4656: LD_EXP 25
4660: PUSH
4661: LD_INT 3
4663: ARRAY
4664: PPUSH
4665: LD_EXP 25
4669: PUSH
4670: LD_INT 4
4672: ARRAY
4673: PPUSH
4674: CALL_OW 125
// for i = 1 to 4 do
4678: LD_ADDR_VAR 0 1
4682: PUSH
4683: DOUBLE
4684: LD_INT 1
4686: DEC
4687: ST_TO_ADDR
4688: LD_INT 4
4690: PUSH
4691: FOR_TO
4692: IFFALSE 4714
// ru_veh := Delete ( ru_veh , 1 ) ;
4694: LD_ADDR_EXP 25
4698: PUSH
4699: LD_EXP 25
4703: PPUSH
4704: LD_INT 1
4706: PPUSH
4707: CALL_OW 3
4711: ST_TO_ADDR
4712: GO 4691
4714: POP
4715: POP
// end ; if ru_bul > 0 and enemy_detected = false then
4716: LD_EXP 29
4720: PUSH
4721: LD_INT 0
4723: GREATER
4724: PUSH
4725: LD_VAR 0 10
4729: PUSH
4730: LD_INT 0
4732: EQUAL
4733: AND
4734: IFFALSE 4837
// if ru_eng > 0 then
4736: LD_EXP 26
4740: PUSH
4741: LD_INT 0
4743: GREATER
4744: IFFALSE 4837
// for i = 1 to ru_eng do
4746: LD_ADDR_VAR 0 1
4750: PUSH
4751: DOUBLE
4752: LD_INT 1
4754: DEC
4755: ST_TO_ADDR
4756: LD_EXP 26
4760: PUSH
4761: FOR_TO
4762: IFFALSE 4835
// if not HasTask ( ru_eng [ i ] ) then
4764: LD_EXP 26
4768: PUSH
4769: LD_VAR 0 1
4773: ARRAY
4774: PPUSH
4775: CALL_OW 314
4779: NOT
4780: IFFALSE 4833
// begin ComBuild ( ru_eng [ i ] , ru_bul [ 1 ] , ru_bul [ 2 ] , ru_bul [ 3 ] , ru_bul [ 4 ] ) ;
4782: LD_EXP 26
4786: PUSH
4787: LD_VAR 0 1
4791: ARRAY
4792: PPUSH
4793: LD_EXP 29
4797: PUSH
4798: LD_INT 1
4800: ARRAY
4801: PPUSH
4802: LD_EXP 29
4806: PUSH
4807: LD_INT 2
4809: ARRAY
4810: PPUSH
4811: LD_EXP 29
4815: PUSH
4816: LD_INT 3
4818: ARRAY
4819: PPUSH
4820: LD_EXP 29
4824: PUSH
4825: LD_INT 4
4827: ARRAY
4828: PPUSH
4829: CALL_OW 145
// end ;
4833: GO 4761
4835: POP
4836: POP
// if b_dmgunit > 0 then
4837: LD_VAR 0 6
4841: PUSH
4842: LD_INT 0
4844: GREATER
4845: IFFALSE 5030
// begin if ru_eng > 0 then
4847: LD_EXP 26
4851: PUSH
4852: LD_INT 0
4854: GREATER
4855: IFFALSE 4935
// for i = 1 to ru_eng do
4857: LD_ADDR_VAR 0 1
4861: PUSH
4862: DOUBLE
4863: LD_INT 1
4865: DEC
4866: ST_TO_ADDR
4867: LD_EXP 26
4871: PUSH
4872: FOR_TO
4873: IFFALSE 4933
// begin if IsInUnit ( ru_eng [ i ] ) then
4875: LD_EXP 26
4879: PUSH
4880: LD_VAR 0 1
4884: ARRAY
4885: PPUSH
4886: CALL_OW 310
4890: IFFALSE 4907
// ComExitBuilding ( ru_eng [ i ] ) ;
4892: LD_EXP 26
4896: PUSH
4897: LD_VAR 0 1
4901: ARRAY
4902: PPUSH
4903: CALL_OW 122
// ComRepairBuilding ( ru_eng [ i ] , b_dmgunit [ 1 ] ) ;
4907: LD_EXP 26
4911: PUSH
4912: LD_VAR 0 1
4916: ARRAY
4917: PPUSH
4918: LD_VAR 0 6
4922: PUSH
4923: LD_INT 1
4925: ARRAY
4926: PPUSH
4927: CALL_OW 130
// end ;
4931: GO 4872
4933: POP
4934: POP
// if FilterAllUnits ( [ [ f_side , 6 ] , [ f_weapon , ru_crane ] ] ) > 0 then
4935: LD_INT 22
4937: PUSH
4938: LD_INT 6
4940: PUSH
4941: EMPTY
4942: LIST
4943: LIST
4944: PUSH
4945: LD_INT 34
4947: PUSH
4948: LD_INT 52
4950: PUSH
4951: EMPTY
4952: LIST
4953: LIST
4954: PUSH
4955: EMPTY
4956: LIST
4957: LIST
4958: PPUSH
4959: CALL_OW 69
4963: PUSH
4964: LD_INT 0
4966: GREATER
4967: IFFALSE 5028
// for p in FilterAllUnits ( [ [ f_side , 6 ] , [ f_weapon , ru_crane ] ] ) do
4969: LD_ADDR_VAR 0 2
4973: PUSH
4974: LD_INT 22
4976: PUSH
4977: LD_INT 6
4979: PUSH
4980: EMPTY
4981: LIST
4982: LIST
4983: PUSH
4984: LD_INT 34
4986: PUSH
4987: LD_INT 52
4989: PUSH
4990: EMPTY
4991: LIST
4992: LIST
4993: PUSH
4994: EMPTY
4995: LIST
4996: LIST
4997: PPUSH
4998: CALL_OW 69
5002: PUSH
5003: FOR_IN
5004: IFFALSE 5026
// ComRepairBuilding ( p , b_dmgunit [ 1 ] ) ;
5006: LD_VAR 0 2
5010: PPUSH
5011: LD_VAR 0 6
5015: PUSH
5016: LD_INT 1
5018: ARRAY
5019: PPUSH
5020: CALL_OW 130
5024: GO 5003
5026: POP
5027: POP
// end else
5028: GO 5158
// if ru_bul = 0 then
5030: LD_EXP 29
5034: PUSH
5035: LD_INT 0
5037: EQUAL
5038: IFFALSE 5158
// for i = 1 to ru_eng do
5040: LD_ADDR_VAR 0 1
5044: PUSH
5045: DOUBLE
5046: LD_INT 1
5048: DEC
5049: ST_TO_ADDR
5050: LD_EXP 26
5054: PUSH
5055: FOR_TO
5056: IFFALSE 5156
// if not HasTask ( ru_eng [ i ] ) then
5058: LD_EXP 26
5062: PUSH
5063: LD_VAR 0 1
5067: ARRAY
5068: PPUSH
5069: CALL_OW 314
5073: NOT
5074: IFFALSE 5154
// ComEnterUnit ( ru_eng [ i ] , NearestUnitToUnit ( FilterAllUnits ( [ [ f_side , 6 ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) , ru_eng [ i ] ) ) ;
5076: LD_EXP 26
5080: PUSH
5081: LD_VAR 0 1
5085: ARRAY
5086: PPUSH
5087: LD_INT 22
5089: PUSH
5090: LD_INT 6
5092: PUSH
5093: EMPTY
5094: LIST
5095: LIST
5096: PUSH
5097: LD_INT 2
5099: PUSH
5100: LD_INT 30
5102: PUSH
5103: LD_INT 0
5105: PUSH
5106: EMPTY
5107: LIST
5108: LIST
5109: PUSH
5110: LD_INT 30
5112: PUSH
5113: LD_INT 1
5115: PUSH
5116: EMPTY
5117: LIST
5118: LIST
5119: PUSH
5120: EMPTY
5121: LIST
5122: LIST
5123: LIST
5124: PUSH
5125: EMPTY
5126: LIST
5127: LIST
5128: PPUSH
5129: CALL_OW 69
5133: PPUSH
5134: LD_EXP 26
5138: PUSH
5139: LD_VAR 0 1
5143: ARRAY
5144: PPUSH
5145: CALL_OW 74
5149: PPUSH
5150: CALL_OW 120
5154: GO 5055
5156: POP
5157: POP
// if h_dmgunit > 0 then
5158: LD_VAR 0 5
5162: PUSH
5163: LD_INT 0
5165: GREATER
5166: IFFALSE 5373
// begin for p = 1 to h_dmgunit do
5168: LD_ADDR_VAR 0 2
5172: PUSH
5173: DOUBLE
5174: LD_INT 1
5176: DEC
5177: ST_TO_ADDR
5178: LD_VAR 0 5
5182: PUSH
5183: FOR_TO
5184: IFFALSE 5233
// if GetDistUnits ( h_dmgunit [ p ] , ru_lab ) > 6 then
5186: LD_VAR 0 5
5190: PUSH
5191: LD_VAR 0 2
5195: ARRAY
5196: PPUSH
5197: LD_INT 83
5199: PPUSH
5200: CALL_OW 296
5204: PUSH
5205: LD_INT 6
5207: GREATER
5208: IFFALSE 5231
// ComMoveXY ( h_dmgunit [ p ] , 140 , 76 ) ;
5210: LD_VAR 0 5
5214: PUSH
5215: LD_VAR 0 2
5219: ARRAY
5220: PPUSH
5221: LD_INT 140
5223: PPUSH
5224: LD_INT 76
5226: PPUSH
5227: CALL_OW 111
5231: GO 5183
5233: POP
5234: POP
// if ru_sci > 0 then
5235: LD_EXP 28
5239: PUSH
5240: LD_INT 0
5242: GREATER
5243: IFFALSE 5373
// for i = 1 to ru_sci do
5245: LD_ADDR_VAR 0 1
5249: PUSH
5250: DOUBLE
5251: LD_INT 1
5253: DEC
5254: ST_TO_ADDR
5255: LD_EXP 28
5259: PUSH
5260: FOR_TO
5261: IFFALSE 5371
// if IsInUnit ( ru_sci [ i ] ) then
5263: LD_EXP 28
5267: PUSH
5268: LD_VAR 0 1
5272: ARRAY
5273: PPUSH
5274: CALL_OW 310
5278: IFFALSE 5297
// ComExitBuilding ( ru_sci [ i ] ) else
5280: LD_EXP 28
5284: PUSH
5285: LD_VAR 0 1
5289: ARRAY
5290: PPUSH
5291: CALL_OW 122
5295: GO 5369
// if not HasTask ( ru_sci [ i ] ) then
5297: LD_EXP 28
5301: PUSH
5302: LD_VAR 0 1
5306: ARRAY
5307: PPUSH
5308: CALL_OW 314
5312: NOT
5313: IFFALSE 5369
// if GetDistUnits ( ru_sci [ i ] , h_dmgunit [ 1 ] ) <= 15 then
5315: LD_EXP 28
5319: PUSH
5320: LD_VAR 0 1
5324: ARRAY
5325: PPUSH
5326: LD_VAR 0 5
5330: PUSH
5331: LD_INT 1
5333: ARRAY
5334: PPUSH
5335: CALL_OW 296
5339: PUSH
5340: LD_INT 15
5342: LESSEQUAL
5343: IFFALSE 5369
// ComHeal ( ru_sci [ i ] , h_dmgunit [ 1 ] ) ;
5345: LD_EXP 28
5349: PUSH
5350: LD_VAR 0 1
5354: ARRAY
5355: PPUSH
5356: LD_VAR 0 5
5360: PUSH
5361: LD_INT 1
5363: ARRAY
5364: PPUSH
5365: CALL_OW 128
5369: GO 5260
5371: POP
5372: POP
// end ; if h_dmgunit = 0 then
5373: LD_VAR 0 5
5377: PUSH
5378: LD_INT 0
5380: EQUAL
5381: IFFALSE 5498
// begin for i = 1 to ru_sci do
5383: LD_ADDR_VAR 0 1
5387: PUSH
5388: DOUBLE
5389: LD_INT 1
5391: DEC
5392: ST_TO_ADDR
5393: LD_EXP 28
5397: PUSH
5398: FOR_TO
5399: IFFALSE 5439
// if not IsInUnit ( ru_sci [ i ] ) then
5401: LD_EXP 28
5405: PUSH
5406: LD_VAR 0 1
5410: ARRAY
5411: PPUSH
5412: CALL_OW 310
5416: NOT
5417: IFFALSE 5437
// ComEnterUnit ( ru_sci [ i ] , ru_lab ) ;
5419: LD_EXP 28
5423: PUSH
5424: LD_VAR 0 1
5428: ARRAY
5429: PPUSH
5430: LD_INT 83
5432: PPUSH
5433: CALL_OW 120
5437: GO 5398
5439: POP
5440: POP
// if ru_tech > 0 then
5441: LD_EXP 24
5445: PUSH
5446: LD_INT 0
5448: GREATER
5449: IFFALSE 5498
// if BuildingStatus ( ru_lab ) = bs_idle then
5451: LD_INT 83
5453: PPUSH
5454: CALL_OW 461
5458: PUSH
5459: LD_INT 2
5461: EQUAL
5462: IFFALSE 5498
// begin ComResearch ( ru_lab , ru_tech [ 1 ] ) ;
5464: LD_INT 83
5466: PPUSH
5467: LD_EXP 24
5471: PUSH
5472: LD_INT 1
5474: ARRAY
5475: PPUSH
5476: CALL_OW 124
// ru_tech := Delete ( ru_tech , 1 ) ;
5480: LD_ADDR_EXP 24
5484: PUSH
5485: LD_EXP 24
5489: PPUSH
5490: LD_INT 1
5492: PPUSH
5493: CALL_OW 3
5497: ST_TO_ADDR
// end ; end ; end ;
5498: PPOPN 10
5500: END
// every 20 20$00 trigger ru_fac do var weap ;
5501: LD_INT 92
5503: IFFALSE 5636
5505: GO 5507
5507: DISABLE
5508: LD_INT 0
5510: PPUSH
// begin enable ;
5511: ENABLE
// weap := AvailableWeaponList ( ru_fac ) diff [ ru_crane , ru_cargo_bay , ru_bulldozer , ru_radar ] ;
5512: LD_ADDR_VAR 0 1
5516: PUSH
5517: LD_INT 92
5519: PPUSH
5520: CALL_OW 478
5524: PUSH
5525: LD_INT 52
5527: PUSH
5528: LD_INT 51
5530: PUSH
5531: LD_INT 53
5533: PUSH
5534: LD_EXP 41
5538: PUSH
5539: EMPTY
5540: LIST
5541: LIST
5542: LIST
5543: LIST
5544: DIFF
5545: ST_TO_ADDR
// ru_veh := ru_veh ^ [ ru_heavy_wheeled , engine_combustion , control_manual , weap [ Rand ( 1 , weap ) ] ] ;
5546: LD_ADDR_EXP 25
5550: PUSH
5551: LD_EXP 25
5555: PUSH
5556: LD_INT 23
5558: PUSH
5559: LD_INT 1
5561: PUSH
5562: LD_INT 1
5564: PUSH
5565: LD_VAR 0 1
5569: PUSH
5570: LD_INT 1
5572: PPUSH
5573: LD_VAR 0 1
5577: PPUSH
5578: CALL_OW 12
5582: ARRAY
5583: PUSH
5584: EMPTY
5585: LIST
5586: LIST
5587: LIST
5588: LIST
5589: ADD
5590: ST_TO_ADDR
// ru2_veh := ru2_veh ^ [ ru_heavy_wheeled , engine_combustion , control_manual , weap [ Rand ( 1 , weap ) ] ] ;
5591: LD_ADDR_EXP 35
5595: PUSH
5596: LD_EXP 35
5600: PUSH
5601: LD_INT 23
5603: PUSH
5604: LD_INT 1
5606: PUSH
5607: LD_INT 1
5609: PUSH
5610: LD_VAR 0 1
5614: PUSH
5615: LD_INT 1
5617: PPUSH
5618: LD_VAR 0 1
5622: PPUSH
5623: CALL_OW 12
5627: ARRAY
5628: PUSH
5629: EMPTY
5630: LIST
5631: LIST
5632: LIST
5633: LIST
5634: ADD
5635: ST_TO_ADDR
// end ;
5636: PPOPN 1
5638: END
// every 0 0$03 do var i , c , p , skr , filter , cargo , dep ;
5639: GO 5641
5641: DISABLE
5642: LD_INT 0
5644: PPUSH
5645: PPUSH
5646: PPUSH
5647: PPUSH
5648: PPUSH
5649: PPUSH
5650: PPUSH
// begin enable ;
5651: ENABLE
// filter := FilterAllUnits ( [ [ f_ok ] , [ f_side , 6 ] , [ f_or , [ f_class , class_engineer ] , [ f_class , class_apeman_engineer ] ] ] ) ;
5652: LD_ADDR_VAR 0 5
5656: PUSH
5657: LD_INT 50
5659: PUSH
5660: EMPTY
5661: LIST
5662: PUSH
5663: LD_INT 22
5665: PUSH
5666: LD_INT 6
5668: PUSH
5669: EMPTY
5670: LIST
5671: LIST
5672: PUSH
5673: LD_INT 2
5675: PUSH
5676: LD_INT 25
5678: PUSH
5679: LD_INT 2
5681: PUSH
5682: EMPTY
5683: LIST
5684: LIST
5685: PUSH
5686: LD_INT 25
5688: PUSH
5689: LD_INT 16
5691: PUSH
5692: EMPTY
5693: LIST
5694: LIST
5695: PUSH
5696: EMPTY
5697: LIST
5698: LIST
5699: LIST
5700: PUSH
5701: EMPTY
5702: LIST
5703: LIST
5704: LIST
5705: PPUSH
5706: CALL_OW 69
5710: ST_TO_ADDR
// cargo := FilterAllUnits ( [ [ f_or , [ f_side , 6 ] , [ f_side , 3 ] ] , [ f_weapon , ru_cargo_bay ] , [ f_lives , 600 ] ] ) ;
5711: LD_ADDR_VAR 0 6
5715: PUSH
5716: LD_INT 2
5718: PUSH
5719: LD_INT 22
5721: PUSH
5722: LD_INT 6
5724: PUSH
5725: EMPTY
5726: LIST
5727: LIST
5728: PUSH
5729: LD_INT 22
5731: PUSH
5732: LD_INT 3
5734: PUSH
5735: EMPTY
5736: LIST
5737: LIST
5738: PUSH
5739: EMPTY
5740: LIST
5741: LIST
5742: LIST
5743: PUSH
5744: LD_INT 34
5746: PUSH
5747: LD_INT 51
5749: PUSH
5750: EMPTY
5751: LIST
5752: LIST
5753: PUSH
5754: LD_INT 24
5756: PUSH
5757: LD_INT 600
5759: PUSH
5760: EMPTY
5761: LIST
5762: LIST
5763: PUSH
5764: EMPTY
5765: LIST
5766: LIST
5767: LIST
5768: PPUSH
5769: CALL_OW 69
5773: ST_TO_ADDR
// dep := FilterAllUnits ( [ [ f_or , [ f_side , 6 ] , [ f_side , 3 ] ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
5774: LD_ADDR_VAR 0 7
5778: PUSH
5779: LD_INT 2
5781: PUSH
5782: LD_INT 22
5784: PUSH
5785: LD_INT 6
5787: PUSH
5788: EMPTY
5789: LIST
5790: LIST
5791: PUSH
5792: LD_INT 22
5794: PUSH
5795: LD_INT 3
5797: PUSH
5798: EMPTY
5799: LIST
5800: LIST
5801: PUSH
5802: EMPTY
5803: LIST
5804: LIST
5805: LIST
5806: PUSH
5807: LD_INT 2
5809: PUSH
5810: LD_INT 30
5812: PUSH
5813: LD_INT 0
5815: PUSH
5816: EMPTY
5817: LIST
5818: LIST
5819: PUSH
5820: LD_INT 30
5822: PUSH
5823: LD_INT 1
5825: PUSH
5826: EMPTY
5827: LIST
5828: LIST
5829: PUSH
5830: EMPTY
5831: LIST
5832: LIST
5833: LIST
5834: PUSH
5835: EMPTY
5836: LIST
5837: LIST
5838: PPUSH
5839: CALL_OW 69
5843: ST_TO_ADDR
// skr = GetListOfCratesInArea ( crates_main_area ) ;
5844: LD_ADDR_VAR 0 4
5848: PUSH
5849: LD_INT 2
5851: PPUSH
5852: CALL_OW 435
5856: ST_TO_ADDR
// c = 1 ;
5857: LD_ADDR_VAR 0 2
5861: PUSH
5862: LD_INT 1
5864: ST_TO_ADDR
// if cargo > 0 then
5865: LD_VAR 0 6
5869: PUSH
5870: LD_INT 0
5872: GREATER
5873: IFFALSE 6167
// while c < skr do
5875: LD_VAR 0 2
5879: PUSH
5880: LD_VAR 0 4
5884: LESS
5885: IFFALSE 6167
// begin if cargo > 0 then
5887: LD_VAR 0 6
5891: PUSH
5892: LD_INT 0
5894: GREATER
5895: IFFALSE 6165
// for i = 1 to cargo do
5897: LD_ADDR_VAR 0 1
5901: PUSH
5902: DOUBLE
5903: LD_INT 1
5905: DEC
5906: ST_TO_ADDR
5907: LD_VAR 0 6
5911: PUSH
5912: FOR_TO
5913: IFFALSE 6163
// begin if GetFuel ( cargo [ i ] ) > 40 and GetDistUnitXY ( cargo [ i ] , skr [ c ] , skr [ c + 1 ] ) < 51 then
5915: LD_VAR 0 6
5919: PUSH
5920: LD_VAR 0 1
5924: ARRAY
5925: PPUSH
5926: CALL_OW 261
5930: PUSH
5931: LD_INT 40
5933: GREATER
5934: PUSH
5935: LD_VAR 0 6
5939: PUSH
5940: LD_VAR 0 1
5944: ARRAY
5945: PPUSH
5946: LD_VAR 0 4
5950: PUSH
5951: LD_VAR 0 2
5955: ARRAY
5956: PPUSH
5957: LD_VAR 0 4
5961: PUSH
5962: LD_VAR 0 2
5966: PUSH
5967: LD_INT 1
5969: PLUS
5970: ARRAY
5971: PPUSH
5972: CALL_OW 297
5976: PUSH
5977: LD_INT 51
5979: LESS
5980: AND
5981: IFFALSE 6024
// ComCollect ( cargo [ i ] , skr [ c ] , skr [ c + 1 ] ) ;
5983: LD_VAR 0 6
5987: PUSH
5988: LD_VAR 0 1
5992: ARRAY
5993: PPUSH
5994: LD_VAR 0 4
5998: PUSH
5999: LD_VAR 0 2
6003: ARRAY
6004: PPUSH
6005: LD_VAR 0 4
6009: PUSH
6010: LD_VAR 0 2
6014: PUSH
6015: LD_INT 1
6017: PLUS
6018: ARRAY
6019: PPUSH
6020: CALL_OW 117
// if GetFuel ( cargo [ i ] ) <= 40 then
6024: LD_VAR 0 6
6028: PUSH
6029: LD_VAR 0 1
6033: ARRAY
6034: PPUSH
6035: CALL_OW 261
6039: PUSH
6040: LD_INT 40
6042: LESSEQUAL
6043: IFFALSE 6147
// begin repeat begin ComMoveXY ( cargo [ i ] , GetX ( dep [ i ] ) , GetY ( dep [ 1 ] ) ) ;
6045: LD_VAR 0 6
6049: PUSH
6050: LD_VAR 0 1
6054: ARRAY
6055: PPUSH
6056: LD_VAR 0 7
6060: PUSH
6061: LD_VAR 0 1
6065: ARRAY
6066: PPUSH
6067: CALL_OW 250
6071: PPUSH
6072: LD_VAR 0 7
6076: PUSH
6077: LD_INT 1
6079: ARRAY
6080: PPUSH
6081: CALL_OW 251
6085: PPUSH
6086: CALL_OW 111
// Wait ( 0 0$01 ) ;
6090: LD_INT 35
6092: PPUSH
6093: CALL_OW 67
// end until GetDistUnits ( cargo [ i ] , dep [ i ] ) < 7 ;
6097: LD_VAR 0 6
6101: PUSH
6102: LD_VAR 0 1
6106: ARRAY
6107: PPUSH
6108: LD_VAR 0 7
6112: PUSH
6113: LD_VAR 0 1
6117: ARRAY
6118: PPUSH
6119: CALL_OW 296
6123: PUSH
6124: LD_INT 7
6126: LESS
6127: IFFALSE 6045
// SetFuel ( cargo [ i ] , 100 ) ;
6129: LD_VAR 0 6
6133: PUSH
6134: LD_VAR 0 1
6138: ARRAY
6139: PPUSH
6140: LD_INT 100
6142: PPUSH
6143: CALL_OW 240
// end ; c = c + 2 ;
6147: LD_ADDR_VAR 0 2
6151: PUSH
6152: LD_VAR 0 2
6156: PUSH
6157: LD_INT 2
6159: PLUS
6160: ST_TO_ADDR
// end ;
6161: GO 5912
6163: POP
6164: POP
// end ;
6165: GO 5875
// end ;
6167: PPOPN 7
6169: END
// every 0 0$01 do var i , p , un , filter , h_dmgunit , b_dmgunit , b_unit , b_weap , b_upgrade , b_fac , b_labb , b_ext , enemy_detected ;
6170: GO 6172
6172: DISABLE
6173: LD_INT 0
6175: PPUSH
6176: PPUSH
6177: PPUSH
6178: PPUSH
6179: PPUSH
6180: PPUSH
6181: PPUSH
6182: PPUSH
6183: PPUSH
6184: PPUSH
6185: PPUSH
6186: PPUSH
6187: PPUSH
// begin enable ;
6188: ENABLE
// ru2_sold := FilterAllUnits ( [ [ [ f_side , 3 ] , [ f_class , 1 ] , [ f_lives , 600 ] ] ] ) ;
6189: LD_ADDR_EXP 31
6193: PUSH
6194: LD_INT 22
6196: PUSH
6197: LD_INT 3
6199: PUSH
6200: EMPTY
6201: LIST
6202: LIST
6203: PUSH
6204: LD_INT 25
6206: PUSH
6207: LD_INT 1
6209: PUSH
6210: EMPTY
6211: LIST
6212: LIST
6213: PUSH
6214: LD_INT 24
6216: PUSH
6217: LD_INT 600
6219: PUSH
6220: EMPTY
6221: LIST
6222: LIST
6223: PUSH
6224: EMPTY
6225: LIST
6226: LIST
6227: LIST
6228: PUSH
6229: EMPTY
6230: LIST
6231: PPUSH
6232: CALL_OW 69
6236: ST_TO_ADDR
// ru2_eng := FilterAllUnits ( [ [ [ f_side , 3 ] , [ f_class , 2 ] , [ f_lives , 600 ] ] ] ) ;
6237: LD_ADDR_EXP 36
6241: PUSH
6242: LD_INT 22
6244: PUSH
6245: LD_INT 3
6247: PUSH
6248: EMPTY
6249: LIST
6250: LIST
6251: PUSH
6252: LD_INT 25
6254: PUSH
6255: LD_INT 2
6257: PUSH
6258: EMPTY
6259: LIST
6260: LIST
6261: PUSH
6262: LD_INT 24
6264: PUSH
6265: LD_INT 600
6267: PUSH
6268: EMPTY
6269: LIST
6270: LIST
6271: PUSH
6272: EMPTY
6273: LIST
6274: LIST
6275: LIST
6276: PUSH
6277: EMPTY
6278: LIST
6279: PPUSH
6280: CALL_OW 69
6284: ST_TO_ADDR
// ru2_mech := FilterAllUnits ( [ [ [ f_side , 3 ] , [ f_class , 3 ] , [ f_lives , 600 ] ] ] ) ;
6285: LD_ADDR_EXP 37
6289: PUSH
6290: LD_INT 22
6292: PUSH
6293: LD_INT 3
6295: PUSH
6296: EMPTY
6297: LIST
6298: LIST
6299: PUSH
6300: LD_INT 25
6302: PUSH
6303: LD_INT 3
6305: PUSH
6306: EMPTY
6307: LIST
6308: LIST
6309: PUSH
6310: LD_INT 24
6312: PUSH
6313: LD_INT 600
6315: PUSH
6316: EMPTY
6317: LIST
6318: LIST
6319: PUSH
6320: EMPTY
6321: LIST
6322: LIST
6323: LIST
6324: PUSH
6325: EMPTY
6326: LIST
6327: PPUSH
6328: CALL_OW 69
6332: ST_TO_ADDR
// ru2_sci := FilterAllUnits ( [ [ [ f_side , 3 ] , [ f_class , 4 ] , [ f_lives , 600 ] ] ] ) ;
6333: LD_ADDR_EXP 38
6337: PUSH
6338: LD_INT 22
6340: PUSH
6341: LD_INT 3
6343: PUSH
6344: EMPTY
6345: LIST
6346: LIST
6347: PUSH
6348: LD_INT 25
6350: PUSH
6351: LD_INT 4
6353: PUSH
6354: EMPTY
6355: LIST
6356: LIST
6357: PUSH
6358: LD_INT 24
6360: PUSH
6361: LD_INT 600
6363: PUSH
6364: EMPTY
6365: LIST
6366: LIST
6367: PUSH
6368: EMPTY
6369: LIST
6370: LIST
6371: LIST
6372: PUSH
6373: EMPTY
6374: LIST
6375: PPUSH
6376: CALL_OW 69
6380: ST_TO_ADDR
// ru2_tw := FilterAllUnits ( [ [ [ f_side , 3 ] , [ f_or , [ f_btype , b_breastwork ] , [ f_btype , b_bunker ] ] , [ f_lives , 250 ] ] ] ) ;
6381: LD_ADDR_EXP 33
6385: PUSH
6386: LD_INT 22
6388: PUSH
6389: LD_INT 3
6391: PUSH
6392: EMPTY
6393: LIST
6394: LIST
6395: PUSH
6396: LD_INT 2
6398: PUSH
6399: LD_INT 30
6401: PUSH
6402: LD_INT 31
6404: PUSH
6405: EMPTY
6406: LIST
6407: LIST
6408: PUSH
6409: LD_INT 30
6411: PUSH
6412: LD_INT 32
6414: PUSH
6415: EMPTY
6416: LIST
6417: LIST
6418: PUSH
6419: EMPTY
6420: LIST
6421: LIST
6422: LIST
6423: PUSH
6424: LD_INT 24
6426: PUSH
6427: LD_INT 250
6429: PUSH
6430: EMPTY
6431: LIST
6432: LIST
6433: PUSH
6434: EMPTY
6435: LIST
6436: LIST
6437: LIST
6438: PUSH
6439: EMPTY
6440: LIST
6441: PPUSH
6442: CALL_OW 69
6446: ST_TO_ADDR
// ru2_b := FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_building ] ] ) ;
6447: LD_ADDR_EXP 40
6451: PUSH
6452: LD_INT 22
6454: PUSH
6455: LD_INT 3
6457: PUSH
6458: EMPTY
6459: LIST
6460: LIST
6461: PUSH
6462: LD_INT 21
6464: PUSH
6465: LD_INT 3
6467: PUSH
6468: EMPTY
6469: LIST
6470: LIST
6471: PUSH
6472: EMPTY
6473: LIST
6474: LIST
6475: PPUSH
6476: CALL_OW 69
6480: ST_TO_ADDR
// b_dmgunit := FilterUnitsInArea ( beria_defa , [ [ [ f_side , 3 ] , [ f_type , unit_building ] , [ f_not , [ f_lives , 1000 ] ] ] ] ) ;
6481: LD_ADDR_VAR 0 6
6485: PUSH
6486: LD_INT 17
6488: PPUSH
6489: LD_INT 22
6491: PUSH
6492: LD_INT 3
6494: PUSH
6495: EMPTY
6496: LIST
6497: LIST
6498: PUSH
6499: LD_INT 21
6501: PUSH
6502: LD_INT 3
6504: PUSH
6505: EMPTY
6506: LIST
6507: LIST
6508: PUSH
6509: LD_INT 3
6511: PUSH
6512: LD_INT 24
6514: PUSH
6515: LD_INT 1000
6517: PUSH
6518: EMPTY
6519: LIST
6520: LIST
6521: PUSH
6522: EMPTY
6523: LIST
6524: LIST
6525: PUSH
6526: EMPTY
6527: LIST
6528: LIST
6529: LIST
6530: PUSH
6531: EMPTY
6532: LIST
6533: PPUSH
6534: CALL_OW 70
6538: ST_TO_ADDR
// h_dmgunit := FilterAllUnits ( [ [ [ f_side , 3 ] , [ f_type , unit_human ] , [ f_not , [ f_lives , 600 ] ] ] ] ) ;
6539: LD_ADDR_VAR 0 5
6543: PUSH
6544: LD_INT 22
6546: PUSH
6547: LD_INT 3
6549: PUSH
6550: EMPTY
6551: LIST
6552: LIST
6553: PUSH
6554: LD_INT 21
6556: PUSH
6557: LD_INT 1
6559: PUSH
6560: EMPTY
6561: LIST
6562: LIST
6563: PUSH
6564: LD_INT 3
6566: PUSH
6567: LD_INT 24
6569: PUSH
6570: LD_INT 600
6572: PUSH
6573: EMPTY
6574: LIST
6575: LIST
6576: PUSH
6577: EMPTY
6578: LIST
6579: LIST
6580: PUSH
6581: EMPTY
6582: LIST
6583: LIST
6584: LIST
6585: PUSH
6586: EMPTY
6587: LIST
6588: PPUSH
6589: CALL_OW 69
6593: ST_TO_ADDR
// if FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_factory ] ] ) then
6594: LD_INT 22
6596: PUSH
6597: LD_INT 3
6599: PUSH
6600: EMPTY
6601: LIST
6602: LIST
6603: PUSH
6604: LD_INT 30
6606: PUSH
6607: LD_INT 3
6609: PUSH
6610: EMPTY
6611: LIST
6612: LIST
6613: PUSH
6614: EMPTY
6615: LIST
6616: LIST
6617: PPUSH
6618: CALL_OW 69
6622: IFFALSE 6662
// b_fac := FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_factory ] ] ) [ 1 ] ;
6624: LD_ADDR_VAR 0 10
6628: PUSH
6629: LD_INT 22
6631: PUSH
6632: LD_INT 3
6634: PUSH
6635: EMPTY
6636: LIST
6637: LIST
6638: PUSH
6639: LD_INT 30
6641: PUSH
6642: LD_INT 3
6644: PUSH
6645: EMPTY
6646: LIST
6647: LIST
6648: PUSH
6649: EMPTY
6650: LIST
6651: LIST
6652: PPUSH
6653: CALL_OW 69
6657: PUSH
6658: LD_INT 1
6660: ARRAY
6661: ST_TO_ADDR
// if FilterAllUnits ( [ [ f_side , 3 ] , [ f_or , [ f_btype , b_lab ] , [ f_btype , b_lab_half ] , [ f_btype , b_lab_full ] ] ] ) then
6662: LD_INT 22
6664: PUSH
6665: LD_INT 3
6667: PUSH
6668: EMPTY
6669: LIST
6670: LIST
6671: PUSH
6672: LD_INT 2
6674: PUSH
6675: LD_INT 30
6677: PUSH
6678: LD_INT 6
6680: PUSH
6681: EMPTY
6682: LIST
6683: LIST
6684: PUSH
6685: LD_INT 30
6687: PUSH
6688: LD_INT 7
6690: PUSH
6691: EMPTY
6692: LIST
6693: LIST
6694: PUSH
6695: LD_INT 30
6697: PUSH
6698: LD_INT 8
6700: PUSH
6701: EMPTY
6702: LIST
6703: LIST
6704: PUSH
6705: EMPTY
6706: LIST
6707: LIST
6708: LIST
6709: LIST
6710: PUSH
6711: EMPTY
6712: LIST
6713: LIST
6714: PPUSH
6715: CALL_OW 69
6719: IFFALSE 6788
// b_labb := FilterAllUnits ( [ [ f_side , 3 ] , [ f_or , [ f_btype , b_lab ] , [ f_btype , b_lab_half ] , [ f_btype , b_lab_full ] ] ] ) [ 1 ] ;
6721: LD_ADDR_VAR 0 11
6725: PUSH
6726: LD_INT 22
6728: PUSH
6729: LD_INT 3
6731: PUSH
6732: EMPTY
6733: LIST
6734: LIST
6735: PUSH
6736: LD_INT 2
6738: PUSH
6739: LD_INT 30
6741: PUSH
6742: LD_INT 6
6744: PUSH
6745: EMPTY
6746: LIST
6747: LIST
6748: PUSH
6749: LD_INT 30
6751: PUSH
6752: LD_INT 7
6754: PUSH
6755: EMPTY
6756: LIST
6757: LIST
6758: PUSH
6759: LD_INT 30
6761: PUSH
6762: LD_INT 8
6764: PUSH
6765: EMPTY
6766: LIST
6767: LIST
6768: PUSH
6769: EMPTY
6770: LIST
6771: LIST
6772: LIST
6773: LIST
6774: PUSH
6775: EMPTY
6776: LIST
6777: LIST
6778: PPUSH
6779: CALL_OW 69
6783: PUSH
6784: LD_INT 1
6786: ARRAY
6787: ST_TO_ADDR
// b_weap := AvailableWeaponList ( b_fac ) diff [ ru_crane , ru_cargo_bay , ru_bulldozer ] ;
6788: LD_ADDR_VAR 0 8
6792: PUSH
6793: LD_VAR 0 10
6797: PPUSH
6798: CALL_OW 478
6802: PUSH
6803: LD_INT 52
6805: PUSH
6806: LD_INT 51
6808: PUSH
6809: LD_INT 53
6811: PUSH
6812: EMPTY
6813: LIST
6814: LIST
6815: LIST
6816: DIFF
6817: ST_TO_ADDR
// b_upgrade := [ b_depot , b_armoury , b_workshop ] ;
6818: LD_ADDR_VAR 0 9
6822: PUSH
6823: LD_INT 0
6825: PUSH
6826: LD_INT 4
6828: PUSH
6829: LD_INT 2
6831: PUSH
6832: EMPTY
6833: LIST
6834: LIST
6835: LIST
6836: ST_TO_ADDR
// b_ext := [ ] ;
6837: LD_ADDR_VAR 0 12
6841: PUSH
6842: EMPTY
6843: ST_TO_ADDR
// if FilterUnitsInArea ( beria_strict , [ f_or , [ f_side , 1 ] , [ f_side , 2 ] ] ) diff FilterAllUnits ( [ f_weapon , us_radar ] ) > 0 then
6844: LD_INT 11
6846: PPUSH
6847: LD_INT 2
6849: PUSH
6850: LD_INT 22
6852: PUSH
6853: LD_INT 1
6855: PUSH
6856: EMPTY
6857: LIST
6858: LIST
6859: PUSH
6860: LD_INT 22
6862: PUSH
6863: LD_INT 2
6865: PUSH
6866: EMPTY
6867: LIST
6868: LIST
6869: PUSH
6870: EMPTY
6871: LIST
6872: LIST
6873: LIST
6874: PPUSH
6875: CALL_OW 70
6879: PUSH
6880: LD_INT 34
6882: PUSH
6883: LD_INT 11
6885: PUSH
6886: EMPTY
6887: LIST
6888: LIST
6889: PPUSH
6890: CALL_OW 69
6894: PUSH
6895: LD_INT 0
6897: GREATER
6898: DIFF
6899: IFFALSE 6911
// enemy_detected := true else
6901: LD_ADDR_VAR 0 13
6905: PUSH
6906: LD_INT 1
6908: ST_TO_ADDR
6909: GO 6919
// enemy_detected := false ;
6911: LD_ADDR_VAR 0 13
6915: PUSH
6916: LD_INT 0
6918: ST_TO_ADDR
// if enemy_detected = false then
6919: LD_VAR 0 13
6923: PUSH
6924: LD_INT 0
6926: EQUAL
6927: IFFALSE 7028
// for i = 1 to ru2_b do
6929: LD_ADDR_VAR 0 1
6933: PUSH
6934: DOUBLE
6935: LD_INT 1
6937: DEC
6938: ST_TO_ADDR
6939: LD_EXP 40
6943: PUSH
6944: FOR_TO
6945: IFFALSE 7026
// begin if GetBType ( ru2_b [ i ] ) in b_upgrade then
6947: LD_EXP 40
6951: PUSH
6952: LD_VAR 0 1
6956: ARRAY
6957: PPUSH
6958: CALL_OW 266
6962: PUSH
6963: LD_VAR 0 9
6967: IN
6968: IFFALSE 6985
// ComUpgrade ( ru2_b [ i ] ) ;
6970: LD_EXP 40
6974: PUSH
6975: LD_VAR 0 1
6979: ARRAY
6980: PPUSH
6981: CALL_OW 146
// if GetBType ( ru2_b [ i ] ) in b_lab then
6985: LD_EXP 40
6989: PUSH
6990: LD_VAR 0 1
6994: ARRAY
6995: PPUSH
6996: CALL_OW 266
7000: PUSH
7001: LD_INT 6
7003: IN
7004: IFFALSE 7024
// ComUpgradeLab ( ru2_b [ i ] , b_lab_weapon ) ;
7006: LD_EXP 40
7010: PUSH
7011: LD_VAR 0 1
7015: ARRAY
7016: PPUSH
7017: LD_INT 10
7019: PPUSH
7020: CALL_OW 147
// end ;
7024: GO 6944
7026: POP
7027: POP
// if ru2_sold > 0 then
7028: LD_EXP 31
7032: PUSH
7033: LD_INT 0
7035: GREATER
7036: IFFALSE 7499
// begin filter := UnitFilter ( ru2_sold , [ f_not , [ f_inside ] ] ) ;
7038: LD_ADDR_VAR 0 4
7042: PUSH
7043: LD_EXP 31
7047: PPUSH
7048: LD_INT 3
7050: PUSH
7051: LD_INT 54
7053: PUSH
7054: EMPTY
7055: LIST
7056: PUSH
7057: EMPTY
7058: LIST
7059: LIST
7060: PPUSH
7061: CALL_OW 72
7065: ST_TO_ADDR
// if UnitFilter ( ru2_tw , [ f_empty ] ) > 0 then
7066: LD_EXP 33
7070: PPUSH
7071: LD_INT 58
7073: PUSH
7074: EMPTY
7075: LIST
7076: PPUSH
7077: CALL_OW 72
7081: PUSH
7082: LD_INT 0
7084: GREATER
7085: IFFALSE 7200
// begin if filter = 0 then
7087: LD_VAR 0 4
7091: PUSH
7092: LD_INT 0
7094: EQUAL
7095: IFFALSE 7120
// ComExitBuilding ( ru2_sold [ Rand ( 1 , ru2_sold ) ] ) ;
7097: LD_EXP 31
7101: PUSH
7102: LD_INT 1
7104: PPUSH
7105: LD_EXP 31
7109: PPUSH
7110: CALL_OW 12
7114: ARRAY
7115: PPUSH
7116: CALL_OW 122
// if filter > 0 then
7120: LD_VAR 0 4
7124: PUSH
7125: LD_INT 0
7127: GREATER
7128: IFFALSE 7200
// for i = 1 to UnitFilter ( ru2_tw , [ f_empty ] ) do
7130: LD_ADDR_VAR 0 1
7134: PUSH
7135: DOUBLE
7136: LD_INT 1
7138: DEC
7139: ST_TO_ADDR
7140: LD_EXP 33
7144: PPUSH
7145: LD_INT 58
7147: PUSH
7148: EMPTY
7149: LIST
7150: PPUSH
7151: CALL_OW 72
7155: PUSH
7156: FOR_TO
7157: IFFALSE 7198
// ComEnterUnit ( filter [ i ] , UnitFilter ( ru2_tw , [ f_empty ] ) [ i ] ) ;
7159: LD_VAR 0 4
7163: PUSH
7164: LD_VAR 0 1
7168: ARRAY
7169: PPUSH
7170: LD_EXP 33
7174: PPUSH
7175: LD_INT 58
7177: PUSH
7178: EMPTY
7179: LIST
7180: PPUSH
7181: CALL_OW 72
7185: PUSH
7186: LD_VAR 0 1
7190: ARRAY
7191: PPUSH
7192: CALL_OW 120
7196: GO 7156
7198: POP
7199: POP
// end ; if UnitFilter ( ru2_tw , [ f_empty ] ) = 0 then
7200: LD_EXP 33
7204: PPUSH
7205: LD_INT 58
7207: PUSH
7208: EMPTY
7209: LIST
7210: PPUSH
7211: CALL_OW 72
7215: PUSH
7216: LD_INT 0
7218: EQUAL
7219: IFFALSE 7374
// begin b_unit := FilterAllUnits ( [ [ f_side , 3 ] , [ f_or , [ f_btype , b_armoury ] , [ f_btype , b_barracks ] ] ] ) ;
7221: LD_ADDR_VAR 0 7
7225: PUSH
7226: LD_INT 22
7228: PUSH
7229: LD_INT 3
7231: PUSH
7232: EMPTY
7233: LIST
7234: LIST
7235: PUSH
7236: LD_INT 2
7238: PUSH
7239: LD_INT 30
7241: PUSH
7242: LD_INT 4
7244: PUSH
7245: EMPTY
7246: LIST
7247: LIST
7248: PUSH
7249: LD_INT 30
7251: PUSH
7252: LD_INT 5
7254: PUSH
7255: EMPTY
7256: LIST
7257: LIST
7258: PUSH
7259: EMPTY
7260: LIST
7261: LIST
7262: LIST
7263: PUSH
7264: EMPTY
7265: LIST
7266: LIST
7267: PPUSH
7268: CALL_OW 69
7272: ST_TO_ADDR
// if b_unit > 0 then
7273: LD_VAR 0 7
7277: PUSH
7278: LD_INT 0
7280: GREATER
7281: IFFALSE 7374
// for p = 1 to b_unit do
7283: LD_ADDR_VAR 0 2
7287: PUSH
7288: DOUBLE
7289: LD_INT 1
7291: DEC
7292: ST_TO_ADDR
7293: LD_VAR 0 7
7297: PUSH
7298: FOR_TO
7299: IFFALSE 7372
// if UnitsInSide ( b_unit [ p ] ) < 6 then
7301: LD_VAR 0 7
7305: PUSH
7306: LD_VAR 0 2
7310: ARRAY
7311: PPUSH
7312: CALL_OW 313
7316: PUSH
7317: LD_INT 6
7319: LESS
7320: IFFALSE 7370
// for i = 1 to filter do
7322: LD_ADDR_VAR 0 1
7326: PUSH
7327: DOUBLE
7328: LD_INT 1
7330: DEC
7331: ST_TO_ADDR
7332: LD_VAR 0 4
7336: PUSH
7337: FOR_TO
7338: IFFALSE 7368
// ComEnterUnit ( filter [ i ] , b_unit [ p ] ) ;
7340: LD_VAR 0 4
7344: PUSH
7345: LD_VAR 0 1
7349: ARRAY
7350: PPUSH
7351: LD_VAR 0 7
7355: PUSH
7356: LD_VAR 0 2
7360: ARRAY
7361: PPUSH
7362: CALL_OW 120
7366: GO 7337
7368: POP
7369: POP
7370: GO 7298
7372: POP
7373: POP
// end ; if UnitFilter ( ru2_tw , [ [ f_btype , b_bunker ] , [ f_bweapon , 0 ] ] ) > 0 then
7374: LD_EXP 33
7378: PPUSH
7379: LD_INT 30
7381: PUSH
7382: LD_INT 32
7384: PUSH
7385: EMPTY
7386: LIST
7387: LIST
7388: PUSH
7389: LD_INT 35
7391: PUSH
7392: LD_INT 0
7394: PUSH
7395: EMPTY
7396: LIST
7397: LIST
7398: PUSH
7399: EMPTY
7400: LIST
7401: LIST
7402: PPUSH
7403: CALL_OW 72
7407: PUSH
7408: LD_INT 0
7410: GREATER
7411: IFFALSE 7499
// begin filter := UnitFilter ( ru2_tw , [ [ f_btype , b_bunker ] , [ f_bweapon , 0 ] ] ) ;
7413: LD_ADDR_VAR 0 4
7417: PUSH
7418: LD_EXP 33
7422: PPUSH
7423: LD_INT 30
7425: PUSH
7426: LD_INT 32
7428: PUSH
7429: EMPTY
7430: LIST
7431: LIST
7432: PUSH
7433: LD_INT 35
7435: PUSH
7436: LD_INT 0
7438: PUSH
7439: EMPTY
7440: LIST
7441: LIST
7442: PUSH
7443: EMPTY
7444: LIST
7445: LIST
7446: PPUSH
7447: CALL_OW 72
7451: ST_TO_ADDR
// if BuildingStatus ( b_fac ) = bs_idle then
7452: LD_VAR 0 10
7456: PPUSH
7457: CALL_OW 461
7461: PUSH
7462: LD_INT 2
7464: EQUAL
7465: IFFALSE 7499
// ComPlaceWeapon ( filter [ 1 ] , b_weap [ Rand ( 1 , b_weap ) ] ) ;
7467: LD_VAR 0 4
7471: PUSH
7472: LD_INT 1
7474: ARRAY
7475: PPUSH
7476: LD_VAR 0 8
7480: PUSH
7481: LD_INT 1
7483: PPUSH
7484: LD_VAR 0 8
7488: PPUSH
7489: CALL_OW 12
7493: ARRAY
7494: PPUSH
7495: CALL_OW 148
// end ; end ; if b_fac > 0 and ru2_mech > 0 then
7499: LD_VAR 0 10
7503: PUSH
7504: LD_INT 0
7506: GREATER
7507: PUSH
7508: LD_EXP 37
7512: PUSH
7513: LD_INT 0
7515: GREATER
7516: AND
7517: IFFALSE 7579
// for i = 1 to ru2_mech do
7519: LD_ADDR_VAR 0 1
7523: PUSH
7524: DOUBLE
7525: LD_INT 1
7527: DEC
7528: ST_TO_ADDR
7529: LD_EXP 37
7533: PUSH
7534: FOR_TO
7535: IFFALSE 7577
// if not IsInUnit ( ru2_mech [ i ] ) then
7537: LD_EXP 37
7541: PUSH
7542: LD_VAR 0 1
7546: ARRAY
7547: PPUSH
7548: CALL_OW 310
7552: NOT
7553: IFFALSE 7575
// ComEnterUnit ( ru2_mech [ i ] , b_fac ) ;
7555: LD_EXP 37
7559: PUSH
7560: LD_VAR 0 1
7564: ARRAY
7565: PPUSH
7566: LD_VAR 0 10
7570: PPUSH
7571: CALL_OW 120
7575: GO 7534
7577: POP
7578: POP
// if b_fac > 0 and ru2_veh > 0 then
7579: LD_VAR 0 10
7583: PUSH
7584: LD_INT 0
7586: GREATER
7587: PUSH
7588: LD_EXP 35
7592: PUSH
7593: LD_INT 0
7595: GREATER
7596: AND
7597: IFFALSE 7697
// if BuildingStatus ( b_fac ) = bs_idle then
7599: LD_VAR 0 10
7603: PPUSH
7604: CALL_OW 461
7608: PUSH
7609: LD_INT 2
7611: EQUAL
7612: IFFALSE 7697
// begin ComConstruct ( b_fac , ru2_veh [ 1 ] , ru2_veh [ 2 ] , ru2_veh [ 3 ] , ru2_veh [ 4 ] ) ;
7614: LD_VAR 0 10
7618: PPUSH
7619: LD_EXP 35
7623: PUSH
7624: LD_INT 1
7626: ARRAY
7627: PPUSH
7628: LD_EXP 35
7632: PUSH
7633: LD_INT 2
7635: ARRAY
7636: PPUSH
7637: LD_EXP 35
7641: PUSH
7642: LD_INT 3
7644: ARRAY
7645: PPUSH
7646: LD_EXP 35
7650: PUSH
7651: LD_INT 4
7653: ARRAY
7654: PPUSH
7655: CALL_OW 125
// for i = 1 to 4 do
7659: LD_ADDR_VAR 0 1
7663: PUSH
7664: DOUBLE
7665: LD_INT 1
7667: DEC
7668: ST_TO_ADDR
7669: LD_INT 4
7671: PUSH
7672: FOR_TO
7673: IFFALSE 7695
// ru2_veh := Delete ( ru2_veh , 1 ) ;
7675: LD_ADDR_EXP 35
7679: PUSH
7680: LD_EXP 35
7684: PPUSH
7685: LD_INT 1
7687: PPUSH
7688: CALL_OW 3
7692: ST_TO_ADDR
7693: GO 7672
7695: POP
7696: POP
// end ; if ru2_bul > 0 and enemy_detected = false then
7697: LD_EXP 39
7701: PUSH
7702: LD_INT 0
7704: GREATER
7705: PUSH
7706: LD_VAR 0 13
7710: PUSH
7711: LD_INT 0
7713: EQUAL
7714: AND
7715: IFFALSE 7818
// if ru2_eng > 0 then
7717: LD_EXP 36
7721: PUSH
7722: LD_INT 0
7724: GREATER
7725: IFFALSE 7818
// for i = 1 to ru2_eng do
7727: LD_ADDR_VAR 0 1
7731: PUSH
7732: DOUBLE
7733: LD_INT 1
7735: DEC
7736: ST_TO_ADDR
7737: LD_EXP 36
7741: PUSH
7742: FOR_TO
7743: IFFALSE 7816
// if not HasTask ( ru2_eng [ i ] ) then
7745: LD_EXP 36
7749: PUSH
7750: LD_VAR 0 1
7754: ARRAY
7755: PPUSH
7756: CALL_OW 314
7760: NOT
7761: IFFALSE 7814
// begin ComBuild ( ru2_eng [ i ] , ru2_bul [ 1 ] , ru2_bul [ 2 ] , ru2_bul [ 3 ] , ru2_bul [ 4 ] ) ;
7763: LD_EXP 36
7767: PUSH
7768: LD_VAR 0 1
7772: ARRAY
7773: PPUSH
7774: LD_EXP 39
7778: PUSH
7779: LD_INT 1
7781: ARRAY
7782: PPUSH
7783: LD_EXP 39
7787: PUSH
7788: LD_INT 2
7790: ARRAY
7791: PPUSH
7792: LD_EXP 39
7796: PUSH
7797: LD_INT 3
7799: ARRAY
7800: PPUSH
7801: LD_EXP 39
7805: PUSH
7806: LD_INT 4
7808: ARRAY
7809: PPUSH
7810: CALL_OW 145
// end ;
7814: GO 7742
7816: POP
7817: POP
// for i = 1 to ru2_b do
7818: LD_ADDR_VAR 0 1
7822: PUSH
7823: DOUBLE
7824: LD_INT 1
7826: DEC
7827: ST_TO_ADDR
7828: LD_EXP 40
7832: PUSH
7833: FOR_TO
7834: IFFALSE 8022
// if BuildingStatus ( ru2_b [ i ] ) = bs_need_extension then
7836: LD_EXP 40
7840: PUSH
7841: LD_VAR 0 1
7845: ARRAY
7846: PPUSH
7847: CALL_OW 461
7851: PUSH
7852: LD_INT 8
7854: EQUAL
7855: IFFALSE 8020
// begin b_ext := GetExtPositions ( ru2_b [ i ] ) ;
7857: LD_ADDR_VAR 0 12
7861: PUSH
7862: LD_EXP 40
7866: PUSH
7867: LD_VAR 0 1
7871: ARRAY
7872: PPUSH
7873: CALL_OW 270
7877: ST_TO_ADDR
// if b_ext > 0 and not b_ext_gun in ru2_bul then
7878: LD_VAR 0 12
7882: PUSH
7883: LD_INT 0
7885: GREATER
7886: PUSH
7887: LD_INT 17
7889: PUSH
7890: LD_EXP 39
7894: IN
7895: NOT
7896: AND
7897: IFFALSE 8020
// ru2_bul := ru2_bul ^ [ b_ext_noncombat , b_ext [ 1 ] [ 1 ] , b_ext [ 1 ] [ 2 ] , 3 , b_ext_track , b_ext [ 2 ] [ 1 ] , b_ext [ 2 ] [ 2 ] , 5 , b_ext_gun , b_ext [ 3 ] [ 1 ] , b_ext [ 3 ] [ 2 ] , 2 ] ;
7899: LD_ADDR_EXP 39
7903: PUSH
7904: LD_EXP 39
7908: PUSH
7909: LD_INT 19
7911: PUSH
7912: LD_VAR 0 12
7916: PUSH
7917: LD_INT 1
7919: ARRAY
7920: PUSH
7921: LD_INT 1
7923: ARRAY
7924: PUSH
7925: LD_VAR 0 12
7929: PUSH
7930: LD_INT 1
7932: ARRAY
7933: PUSH
7934: LD_INT 2
7936: ARRAY
7937: PUSH
7938: LD_INT 3
7940: PUSH
7941: LD_INT 16
7943: PUSH
7944: LD_VAR 0 12
7948: PUSH
7949: LD_INT 2
7951: ARRAY
7952: PUSH
7953: LD_INT 1
7955: ARRAY
7956: PUSH
7957: LD_VAR 0 12
7961: PUSH
7962: LD_INT 2
7964: ARRAY
7965: PUSH
7966: LD_INT 2
7968: ARRAY
7969: PUSH
7970: LD_INT 5
7972: PUSH
7973: LD_INT 17
7975: PUSH
7976: LD_VAR 0 12
7980: PUSH
7981: LD_INT 3
7983: ARRAY
7984: PUSH
7985: LD_INT 1
7987: ARRAY
7988: PUSH
7989: LD_VAR 0 12
7993: PUSH
7994: LD_INT 3
7996: ARRAY
7997: PUSH
7998: LD_INT 2
8000: ARRAY
8001: PUSH
8002: LD_INT 2
8004: PUSH
8005: EMPTY
8006: LIST
8007: LIST
8008: LIST
8009: LIST
8010: LIST
8011: LIST
8012: LIST
8013: LIST
8014: LIST
8015: LIST
8016: LIST
8017: LIST
8018: ADD
8019: ST_TO_ADDR
// end ;
8020: GO 7833
8022: POP
8023: POP
// if b_dmgunit > 0 then
8024: LD_VAR 0 6
8028: PUSH
8029: LD_INT 0
8031: GREATER
8032: IFFALSE 8217
// begin if ru2_eng > 0 then
8034: LD_EXP 36
8038: PUSH
8039: LD_INT 0
8041: GREATER
8042: IFFALSE 8122
// for i = 1 to ru2_eng do
8044: LD_ADDR_VAR 0 1
8048: PUSH
8049: DOUBLE
8050: LD_INT 1
8052: DEC
8053: ST_TO_ADDR
8054: LD_EXP 36
8058: PUSH
8059: FOR_TO
8060: IFFALSE 8120
// begin if IsInUnit ( ru2_eng [ i ] ) then
8062: LD_EXP 36
8066: PUSH
8067: LD_VAR 0 1
8071: ARRAY
8072: PPUSH
8073: CALL_OW 310
8077: IFFALSE 8094
// ComExitBuilding ( ru2_eng [ i ] ) ;
8079: LD_EXP 36
8083: PUSH
8084: LD_VAR 0 1
8088: ARRAY
8089: PPUSH
8090: CALL_OW 122
// ComRepairBuilding ( ru2_eng [ i ] , b_dmgunit [ 1 ] ) ;
8094: LD_EXP 36
8098: PUSH
8099: LD_VAR 0 1
8103: ARRAY
8104: PPUSH
8105: LD_VAR 0 6
8109: PUSH
8110: LD_INT 1
8112: ARRAY
8113: PPUSH
8114: CALL_OW 130
// end ;
8118: GO 8059
8120: POP
8121: POP
// if FilterAllUnits ( [ [ f_side , 3 ] , [ f_weapon , ru_crane ] ] ) > 0 then
8122: LD_INT 22
8124: PUSH
8125: LD_INT 3
8127: PUSH
8128: EMPTY
8129: LIST
8130: LIST
8131: PUSH
8132: LD_INT 34
8134: PUSH
8135: LD_INT 52
8137: PUSH
8138: EMPTY
8139: LIST
8140: LIST
8141: PUSH
8142: EMPTY
8143: LIST
8144: LIST
8145: PPUSH
8146: CALL_OW 69
8150: PUSH
8151: LD_INT 0
8153: GREATER
8154: IFFALSE 8215
// for p in FilterAllUnits ( [ [ f_side , 3 ] , [ f_weapon , ru_crane ] ] ) do
8156: LD_ADDR_VAR 0 2
8160: PUSH
8161: LD_INT 22
8163: PUSH
8164: LD_INT 3
8166: PUSH
8167: EMPTY
8168: LIST
8169: LIST
8170: PUSH
8171: LD_INT 34
8173: PUSH
8174: LD_INT 52
8176: PUSH
8177: EMPTY
8178: LIST
8179: LIST
8180: PUSH
8181: EMPTY
8182: LIST
8183: LIST
8184: PPUSH
8185: CALL_OW 69
8189: PUSH
8190: FOR_IN
8191: IFFALSE 8213
// ComRepairBuilding ( p , b_dmgunit [ 1 ] ) ;
8193: LD_VAR 0 2
8197: PPUSH
8198: LD_VAR 0 6
8202: PUSH
8203: LD_INT 1
8205: ARRAY
8206: PPUSH
8207: CALL_OW 130
8211: GO 8190
8213: POP
8214: POP
// end else
8215: GO 8345
// if ru2_bul = 0 then
8217: LD_EXP 39
8221: PUSH
8222: LD_INT 0
8224: EQUAL
8225: IFFALSE 8345
// for i = 1 to ru2_eng do
8227: LD_ADDR_VAR 0 1
8231: PUSH
8232: DOUBLE
8233: LD_INT 1
8235: DEC
8236: ST_TO_ADDR
8237: LD_EXP 36
8241: PUSH
8242: FOR_TO
8243: IFFALSE 8343
// if not HasTask ( ru2_eng [ i ] ) then
8245: LD_EXP 36
8249: PUSH
8250: LD_VAR 0 1
8254: ARRAY
8255: PPUSH
8256: CALL_OW 314
8260: NOT
8261: IFFALSE 8341
// ComEnterUnit ( ru2_eng [ i ] , NearestUnitToUnit ( FilterAllUnits ( [ [ f_side , 3 ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) , ru2_eng [ i ] ) ) ;
8263: LD_EXP 36
8267: PUSH
8268: LD_VAR 0 1
8272: ARRAY
8273: PPUSH
8274: LD_INT 22
8276: PUSH
8277: LD_INT 3
8279: PUSH
8280: EMPTY
8281: LIST
8282: LIST
8283: PUSH
8284: LD_INT 2
8286: PUSH
8287: LD_INT 30
8289: PUSH
8290: LD_INT 0
8292: PUSH
8293: EMPTY
8294: LIST
8295: LIST
8296: PUSH
8297: LD_INT 30
8299: PUSH
8300: LD_INT 1
8302: PUSH
8303: EMPTY
8304: LIST
8305: LIST
8306: PUSH
8307: EMPTY
8308: LIST
8309: LIST
8310: LIST
8311: PUSH
8312: EMPTY
8313: LIST
8314: LIST
8315: PPUSH
8316: CALL_OW 69
8320: PPUSH
8321: LD_EXP 36
8325: PUSH
8326: LD_VAR 0 1
8330: ARRAY
8331: PPUSH
8332: CALL_OW 74
8336: PPUSH
8337: CALL_OW 120
8341: GO 8242
8343: POP
8344: POP
// if b_labb > 0 then
8345: LD_VAR 0 11
8349: PUSH
8350: LD_INT 0
8352: GREATER
8353: IFFALSE 8703
// begin if h_dmgunit > 0 then
8355: LD_VAR 0 5
8359: PUSH
8360: LD_INT 0
8362: GREATER
8363: IFFALSE 8572
// begin for p = 1 to h_dmgunit do
8365: LD_ADDR_VAR 0 2
8369: PUSH
8370: DOUBLE
8371: LD_INT 1
8373: DEC
8374: ST_TO_ADDR
8375: LD_VAR 0 5
8379: PUSH
8380: FOR_TO
8381: IFFALSE 8432
// if GetDistUnits ( h_dmgunit [ p ] , b_labb ) > 6 then
8383: LD_VAR 0 5
8387: PUSH
8388: LD_VAR 0 2
8392: ARRAY
8393: PPUSH
8394: LD_VAR 0 11
8398: PPUSH
8399: CALL_OW 296
8403: PUSH
8404: LD_INT 6
8406: GREATER
8407: IFFALSE 8430
// ComMoveXY ( h_dmgunit [ p ] , 95 , 72 ) ;
8409: LD_VAR 0 5
8413: PUSH
8414: LD_VAR 0 2
8418: ARRAY
8419: PPUSH
8420: LD_INT 95
8422: PPUSH
8423: LD_INT 72
8425: PPUSH
8426: CALL_OW 111
8430: GO 8380
8432: POP
8433: POP
// if ru2_sci > 0 then
8434: LD_EXP 38
8438: PUSH
8439: LD_INT 0
8441: GREATER
8442: IFFALSE 8572
// for i = 1 to ru2_sci do
8444: LD_ADDR_VAR 0 1
8448: PUSH
8449: DOUBLE
8450: LD_INT 1
8452: DEC
8453: ST_TO_ADDR
8454: LD_EXP 38
8458: PUSH
8459: FOR_TO
8460: IFFALSE 8570
// if IsInUnit ( ru2_sci [ i ] ) then
8462: LD_EXP 38
8466: PUSH
8467: LD_VAR 0 1
8471: ARRAY
8472: PPUSH
8473: CALL_OW 310
8477: IFFALSE 8496
// ComExitBuilding ( ru2_sci [ i ] ) else
8479: LD_EXP 38
8483: PUSH
8484: LD_VAR 0 1
8488: ARRAY
8489: PPUSH
8490: CALL_OW 122
8494: GO 8568
// if not HasTask ( ru2_sci [ i ] ) then
8496: LD_EXP 38
8500: PUSH
8501: LD_VAR 0 1
8505: ARRAY
8506: PPUSH
8507: CALL_OW 314
8511: NOT
8512: IFFALSE 8568
// if GetDistUnits ( ru2_sci [ i ] , h_dmgunit [ 1 ] ) <= 15 then
8514: LD_EXP 38
8518: PUSH
8519: LD_VAR 0 1
8523: ARRAY
8524: PPUSH
8525: LD_VAR 0 5
8529: PUSH
8530: LD_INT 1
8532: ARRAY
8533: PPUSH
8534: CALL_OW 296
8538: PUSH
8539: LD_INT 15
8541: LESSEQUAL
8542: IFFALSE 8568
// ComHeal ( ru2_sci [ i ] , h_dmgunit [ 1 ] ) ;
8544: LD_EXP 38
8548: PUSH
8549: LD_VAR 0 1
8553: ARRAY
8554: PPUSH
8555: LD_VAR 0 5
8559: PUSH
8560: LD_INT 1
8562: ARRAY
8563: PPUSH
8564: CALL_OW 128
8568: GO 8459
8570: POP
8571: POP
// end ; if h_dmgunit = 0 then
8572: LD_VAR 0 5
8576: PUSH
8577: LD_INT 0
8579: EQUAL
8580: IFFALSE 8703
// begin for i = 1 to ru2_sci do
8582: LD_ADDR_VAR 0 1
8586: PUSH
8587: DOUBLE
8588: LD_INT 1
8590: DEC
8591: ST_TO_ADDR
8592: LD_EXP 38
8596: PUSH
8597: FOR_TO
8598: IFFALSE 8640
// if not IsInUnit ( ru2_sci [ i ] ) then
8600: LD_EXP 38
8604: PUSH
8605: LD_VAR 0 1
8609: ARRAY
8610: PPUSH
8611: CALL_OW 310
8615: NOT
8616: IFFALSE 8638
// ComEnterUnit ( ru2_sci [ i ] , b_labb ) ;
8618: LD_EXP 38
8622: PUSH
8623: LD_VAR 0 1
8627: ARRAY
8628: PPUSH
8629: LD_VAR 0 11
8633: PPUSH
8634: CALL_OW 120
8638: GO 8597
8640: POP
8641: POP
// if ru2_tech > 0 then
8642: LD_EXP 34
8646: PUSH
8647: LD_INT 0
8649: GREATER
8650: IFFALSE 8703
// if BuildingStatus ( b_labb ) = bs_idle then
8652: LD_VAR 0 11
8656: PPUSH
8657: CALL_OW 461
8661: PUSH
8662: LD_INT 2
8664: EQUAL
8665: IFFALSE 8703
// begin ComResearch ( b_labb , ru2_tech [ 1 ] ) ;
8667: LD_VAR 0 11
8671: PPUSH
8672: LD_EXP 34
8676: PUSH
8677: LD_INT 1
8679: ARRAY
8680: PPUSH
8681: CALL_OW 124
// ru2_tech := Delete ( ru2_tech , 1 ) ;
8685: LD_ADDR_EXP 34
8689: PUSH
8690: LD_EXP 34
8694: PPUSH
8695: LD_INT 1
8697: PPUSH
8698: CALL_OW 3
8702: ST_TO_ADDR
// end ; end ; end ; end ;
8703: PPOPN 13
8705: END
// every 0 0$01 trigger russian_produce do
8706: LD_EXP 19
8710: IFFALSE 9159
8712: GO 8714
8714: DISABLE
// begin case global_diff of 1 :
8715: LD_EXP 2
8719: PUSH
8720: LD_INT 1
8722: DOUBLE
8723: EQUAL
8724: IFTRUE 8728
8726: GO 8792
8728: POP
// ru_veh := ru_veh ^ [ ru_medium_wheeled , engine_combustion , control_manual , ru_heavy_machine_gun , ru_medium_wheeled , engine_combustion , control_manual , ru_heavy_machine_gun , ru_medium_wheeled , engine_combustion , control_manual , ru_gatling_gun ] ; 2 :
8729: LD_ADDR_EXP 25
8733: PUSH
8734: LD_EXP 25
8738: PUSH
8739: LD_INT 21
8741: PUSH
8742: LD_INT 1
8744: PUSH
8745: LD_INT 1
8747: PUSH
8748: LD_INT 42
8750: PUSH
8751: LD_INT 21
8753: PUSH
8754: LD_INT 1
8756: PUSH
8757: LD_INT 1
8759: PUSH
8760: LD_INT 42
8762: PUSH
8763: LD_INT 21
8765: PUSH
8766: LD_INT 1
8768: PUSH
8769: LD_INT 1
8771: PUSH
8772: LD_INT 43
8774: PUSH
8775: EMPTY
8776: LIST
8777: LIST
8778: LIST
8779: LIST
8780: LIST
8781: LIST
8782: LIST
8783: LIST
8784: LIST
8785: LIST
8786: LIST
8787: LIST
8788: ADD
8789: ST_TO_ADDR
8790: GO 8937
8792: LD_INT 2
8794: DOUBLE
8795: EQUAL
8796: IFTRUE 8800
8798: GO 8864
8800: POP
// ru_veh := ru_veh ^ [ ru_medium_wheeled , engine_combustion , control_manual , ru_gun , ru_medium_tracked , engine_combustion , control_manual , ru_heavy_machine_gun , ru_medium_tracked , engine_combustion , control_manual , ru_gatling_gun ] ; 3 :
8801: LD_ADDR_EXP 25
8805: PUSH
8806: LD_EXP 25
8810: PUSH
8811: LD_INT 21
8813: PUSH
8814: LD_INT 1
8816: PUSH
8817: LD_INT 1
8819: PUSH
8820: LD_INT 44
8822: PUSH
8823: LD_INT 22
8825: PUSH
8826: LD_INT 1
8828: PUSH
8829: LD_INT 1
8831: PUSH
8832: LD_INT 42
8834: PUSH
8835: LD_INT 22
8837: PUSH
8838: LD_INT 1
8840: PUSH
8841: LD_INT 1
8843: PUSH
8844: LD_INT 43
8846: PUSH
8847: EMPTY
8848: LIST
8849: LIST
8850: LIST
8851: LIST
8852: LIST
8853: LIST
8854: LIST
8855: LIST
8856: LIST
8857: LIST
8858: LIST
8859: LIST
8860: ADD
8861: ST_TO_ADDR
8862: GO 8937
8864: LD_INT 3
8866: DOUBLE
8867: EQUAL
8868: IFTRUE 8872
8870: GO 8936
8872: POP
// ru_veh := ru_veh ^ [ ru_heavy_wheeled , engine_combustion , control_manual , ru_gatling_gun , ru_medium_tracked , engine_combustion , control_manual , ru_gun , ru_medium_tracked , engine_combustion , control_manual , ru_gun ] ; end ;
8873: LD_ADDR_EXP 25
8877: PUSH
8878: LD_EXP 25
8882: PUSH
8883: LD_INT 23
8885: PUSH
8886: LD_INT 1
8888: PUSH
8889: LD_INT 1
8891: PUSH
8892: LD_INT 43
8894: PUSH
8895: LD_INT 22
8897: PUSH
8898: LD_INT 1
8900: PUSH
8901: LD_INT 1
8903: PUSH
8904: LD_INT 44
8906: PUSH
8907: LD_INT 22
8909: PUSH
8910: LD_INT 1
8912: PUSH
8913: LD_INT 1
8915: PUSH
8916: LD_INT 44
8918: PUSH
8919: EMPTY
8920: LIST
8921: LIST
8922: LIST
8923: LIST
8924: LIST
8925: LIST
8926: LIST
8927: LIST
8928: LIST
8929: LIST
8930: LIST
8931: LIST
8932: ADD
8933: ST_TO_ADDR
8934: GO 8937
8936: POP
// case global_diff of 1 :
8937: LD_EXP 2
8941: PUSH
8942: LD_INT 1
8944: DOUBLE
8945: EQUAL
8946: IFTRUE 8950
8948: GO 9014
8950: POP
// ru2_veh := ru2_veh ^ [ ru_medium_wheeled , engine_combustion , control_manual , ru_heavy_machine_gun , ru_medium_wheeled , engine_combustion , control_manual , ru_heavy_machine_gun , ru_medium_wheeled , engine_combustion , control_manual , ru_gatling_gun ] ; 2 :
8951: LD_ADDR_EXP 35
8955: PUSH
8956: LD_EXP 35
8960: PUSH
8961: LD_INT 21
8963: PUSH
8964: LD_INT 1
8966: PUSH
8967: LD_INT 1
8969: PUSH
8970: LD_INT 42
8972: PUSH
8973: LD_INT 21
8975: PUSH
8976: LD_INT 1
8978: PUSH
8979: LD_INT 1
8981: PUSH
8982: LD_INT 42
8984: PUSH
8985: LD_INT 21
8987: PUSH
8988: LD_INT 1
8990: PUSH
8991: LD_INT 1
8993: PUSH
8994: LD_INT 43
8996: PUSH
8997: EMPTY
8998: LIST
8999: LIST
9000: LIST
9001: LIST
9002: LIST
9003: LIST
9004: LIST
9005: LIST
9006: LIST
9007: LIST
9008: LIST
9009: LIST
9010: ADD
9011: ST_TO_ADDR
9012: GO 9159
9014: LD_INT 2
9016: DOUBLE
9017: EQUAL
9018: IFTRUE 9022
9020: GO 9086
9022: POP
// ru2_veh := ru2_veh ^ [ ru_medium_wheeled , engine_combustion , control_manual , ru_gun , ru_medium_tracked , engine_combustion , control_manual , ru_gun , ru_medium_tracked , engine_combustion , control_manual , ru_gatling_gun ] ; 3 :
9023: LD_ADDR_EXP 35
9027: PUSH
9028: LD_EXP 35
9032: PUSH
9033: LD_INT 21
9035: PUSH
9036: LD_INT 1
9038: PUSH
9039: LD_INT 1
9041: PUSH
9042: LD_INT 44
9044: PUSH
9045: LD_INT 22
9047: PUSH
9048: LD_INT 1
9050: PUSH
9051: LD_INT 1
9053: PUSH
9054: LD_INT 44
9056: PUSH
9057: LD_INT 22
9059: PUSH
9060: LD_INT 1
9062: PUSH
9063: LD_INT 1
9065: PUSH
9066: LD_INT 43
9068: PUSH
9069: EMPTY
9070: LIST
9071: LIST
9072: LIST
9073: LIST
9074: LIST
9075: LIST
9076: LIST
9077: LIST
9078: LIST
9079: LIST
9080: LIST
9081: LIST
9082: ADD
9083: ST_TO_ADDR
9084: GO 9159
9086: LD_INT 3
9088: DOUBLE
9089: EQUAL
9090: IFTRUE 9094
9092: GO 9158
9094: POP
// ru2_veh := ru2_veh ^ [ ru_heavy_wheeled , engine_combustion , control_manual , ru_heavy_machine_gun , ru_medium_tracked , engine_combustion , control_manual , ru_gun , ru_medium_tracked , engine_combustion , control_manual , ru_gun ] ; end ;
9095: LD_ADDR_EXP 35
9099: PUSH
9100: LD_EXP 35
9104: PUSH
9105: LD_INT 23
9107: PUSH
9108: LD_INT 1
9110: PUSH
9111: LD_INT 1
9113: PUSH
9114: LD_INT 42
9116: PUSH
9117: LD_INT 22
9119: PUSH
9120: LD_INT 1
9122: PUSH
9123: LD_INT 1
9125: PUSH
9126: LD_INT 44
9128: PUSH
9129: LD_INT 22
9131: PUSH
9132: LD_INT 1
9134: PUSH
9135: LD_INT 1
9137: PUSH
9138: LD_INT 44
9140: PUSH
9141: EMPTY
9142: LIST
9143: LIST
9144: LIST
9145: LIST
9146: LIST
9147: LIST
9148: LIST
9149: LIST
9150: LIST
9151: LIST
9152: LIST
9153: LIST
9154: ADD
9155: ST_TO_ADDR
9156: GO 9159
9158: POP
// end ;
9159: END
// every 12 12$00 trigger timer >= [ 26 26$00 , 21 21$00 , 16 16$00 ] [ global_diff ] and FilterAllUnits ( [ f_side , 3 ] ) > 0 do var veh , i , p , area ;
9160: LD_EXP 1
9164: PUSH
9165: LD_INT 54600
9167: PUSH
9168: LD_INT 44100
9170: PUSH
9171: LD_INT 33600
9173: PUSH
9174: EMPTY
9175: LIST
9176: LIST
9177: LIST
9178: PUSH
9179: LD_EXP 2
9183: ARRAY
9184: GREATEREQUAL
9185: PUSH
9186: LD_INT 22
9188: PUSH
9189: LD_INT 3
9191: PUSH
9192: EMPTY
9193: LIST
9194: LIST
9195: PPUSH
9196: CALL_OW 69
9200: PUSH
9201: LD_INT 0
9203: GREATER
9204: AND
9205: IFFALSE 9421
9207: GO 9209
9209: DISABLE
9210: LD_INT 0
9212: PPUSH
9213: PPUSH
9214: PPUSH
9215: PPUSH
// begin enable ;
9216: ENABLE
// uc_side := [ 3 , 6 ] [ Rand ( 1 , 2 ) ] ;
9217: LD_ADDR_OWVAR 20
9221: PUSH
9222: LD_INT 3
9224: PUSH
9225: LD_INT 6
9227: PUSH
9228: EMPTY
9229: LIST
9230: LIST
9231: PUSH
9232: LD_INT 1
9234: PPUSH
9235: LD_INT 2
9237: PPUSH
9238: CALL_OW 12
9242: ARRAY
9243: ST_TO_ADDR
// uc_nation := 3 ;
9244: LD_ADDR_OWVAR 21
9248: PUSH
9249: LD_INT 3
9251: ST_TO_ADDR
// area := [ ru_west , south_spawn ] ;
9252: LD_ADDR_VAR 0 4
9256: PUSH
9257: LD_INT 18
9259: PUSH
9260: LD_INT 7
9262: PUSH
9263: EMPTY
9264: LIST
9265: LIST
9266: ST_TO_ADDR
// p := Rand ( 1 , 2 ) ;
9267: LD_ADDR_VAR 0 3
9271: PUSH
9272: LD_INT 1
9274: PPUSH
9275: LD_INT 2
9277: PPUSH
9278: CALL_OW 12
9282: ST_TO_ADDR
// for i = 1 to Rand ( 1 , 2 ) do
9283: LD_ADDR_VAR 0 2
9287: PUSH
9288: DOUBLE
9289: LD_INT 1
9291: DEC
9292: ST_TO_ADDR
9293: LD_INT 1
9295: PPUSH
9296: LD_INT 2
9298: PPUSH
9299: CALL_OW 12
9303: PUSH
9304: FOR_TO
9305: IFFALSE 9419
// begin vc_chassis := ru_medium_tracked ;
9307: LD_ADDR_OWVAR 37
9311: PUSH
9312: LD_INT 22
9314: ST_TO_ADDR
// vc_engine := engine_combustion ;
9315: LD_ADDR_OWVAR 39
9319: PUSH
9320: LD_INT 1
9322: ST_TO_ADDR
// vc_control := control_manual ;
9323: LD_ADDR_OWVAR 38
9327: PUSH
9328: LD_INT 1
9330: ST_TO_ADDR
// vc_weapon := [ ru_gatling_gun , ru_gun , ru_rocket_launcher ] [ Rand ( 1 , 3 ) ] ;
9331: LD_ADDR_OWVAR 40
9335: PUSH
9336: LD_INT 43
9338: PUSH
9339: LD_INT 44
9341: PUSH
9342: LD_INT 45
9344: PUSH
9345: EMPTY
9346: LIST
9347: LIST
9348: LIST
9349: PUSH
9350: LD_INT 1
9352: PPUSH
9353: LD_INT 3
9355: PPUSH
9356: CALL_OW 12
9360: ARRAY
9361: ST_TO_ADDR
// veh := CreateVehicle ;
9362: LD_ADDR_VAR 0 1
9366: PUSH
9367: CALL_OW 45
9371: ST_TO_ADDR
// PlaceUnitArea ( veh , area [ p ] , false ) ;
9372: LD_VAR 0 1
9376: PPUSH
9377: LD_VAR 0 4
9381: PUSH
9382: LD_VAR 0 3
9386: ARRAY
9387: PPUSH
9388: LD_INT 0
9390: PPUSH
9391: CALL_OW 49
// PlaceHumanInUnit ( CreateHumanWithClass ( 3 , ru_def ) , veh ) ;
9395: LD_INT 3
9397: PPUSH
9398: LD_EXP 4
9402: PPUSH
9403: CALL 418 0 2
9407: PPUSH
9408: LD_VAR 0 1
9412: PPUSH
9413: CALL_OW 52
// end ;
9417: GO 9304
9419: POP
9420: POP
// end ;
9421: PPOPN 4
9423: END
// every 4 4$35 trigger FilterAllUnits ( [ [ f_or , [ f_side , 3 ] , [ f_side , 6 ] ] , [ f_type , unit_vehicle ] , [ f_not , [ f_or , [ f_weapon , ru_crane ] , [ f_weapon , ru_cargo_bay ] , [ f_weapon , ru_bulldozer ] ] ] ] ) >= 6 do var filter , enemy , i ;
9424: LD_INT 2
9426: PUSH
9427: LD_INT 22
9429: PUSH
9430: LD_INT 3
9432: PUSH
9433: EMPTY
9434: LIST
9435: LIST
9436: PUSH
9437: LD_INT 22
9439: PUSH
9440: LD_INT 6
9442: PUSH
9443: EMPTY
9444: LIST
9445: LIST
9446: PUSH
9447: EMPTY
9448: LIST
9449: LIST
9450: LIST
9451: PUSH
9452: LD_INT 21
9454: PUSH
9455: LD_INT 2
9457: PUSH
9458: EMPTY
9459: LIST
9460: LIST
9461: PUSH
9462: LD_INT 3
9464: PUSH
9465: LD_INT 2
9467: PUSH
9468: LD_INT 34
9470: PUSH
9471: LD_INT 52
9473: PUSH
9474: EMPTY
9475: LIST
9476: LIST
9477: PUSH
9478: LD_INT 34
9480: PUSH
9481: LD_INT 51
9483: PUSH
9484: EMPTY
9485: LIST
9486: LIST
9487: PUSH
9488: LD_INT 34
9490: PUSH
9491: LD_INT 53
9493: PUSH
9494: EMPTY
9495: LIST
9496: LIST
9497: PUSH
9498: EMPTY
9499: LIST
9500: LIST
9501: LIST
9502: LIST
9503: PUSH
9504: EMPTY
9505: LIST
9506: LIST
9507: PUSH
9508: EMPTY
9509: LIST
9510: LIST
9511: LIST
9512: PPUSH
9513: CALL_OW 69
9517: PUSH
9518: LD_INT 6
9520: GREATEREQUAL
9521: IFFALSE 9897
9523: GO 9525
9525: DISABLE
9526: LD_INT 0
9528: PPUSH
9529: PPUSH
9530: PPUSH
// begin enable ;
9531: ENABLE
// filter := FilterAllUnits ( [ [ f_or , [ f_side , 6 ] , [ f_side , 3 ] ] , [ f_type , unit_vehicle ] , [ f_not , [ f_or , [ f_weapon , ru_crane ] , [ f_weapon , ru_cargo_bay ] , [ f_weapon , ru_bulldozer ] ] ] ] ) ;
9532: LD_ADDR_VAR 0 1
9536: PUSH
9537: LD_INT 2
9539: PUSH
9540: LD_INT 22
9542: PUSH
9543: LD_INT 6
9545: PUSH
9546: EMPTY
9547: LIST
9548: LIST
9549: PUSH
9550: LD_INT 22
9552: PUSH
9553: LD_INT 3
9555: PUSH
9556: EMPTY
9557: LIST
9558: LIST
9559: PUSH
9560: EMPTY
9561: LIST
9562: LIST
9563: LIST
9564: PUSH
9565: LD_INT 21
9567: PUSH
9568: LD_INT 2
9570: PUSH
9571: EMPTY
9572: LIST
9573: LIST
9574: PUSH
9575: LD_INT 3
9577: PUSH
9578: LD_INT 2
9580: PUSH
9581: LD_INT 34
9583: PUSH
9584: LD_INT 52
9586: PUSH
9587: EMPTY
9588: LIST
9589: LIST
9590: PUSH
9591: LD_INT 34
9593: PUSH
9594: LD_INT 51
9596: PUSH
9597: EMPTY
9598: LIST
9599: LIST
9600: PUSH
9601: LD_INT 34
9603: PUSH
9604: LD_INT 53
9606: PUSH
9607: EMPTY
9608: LIST
9609: LIST
9610: PUSH
9611: EMPTY
9612: LIST
9613: LIST
9614: LIST
9615: LIST
9616: PUSH
9617: EMPTY
9618: LIST
9619: LIST
9620: PUSH
9621: EMPTY
9622: LIST
9623: LIST
9624: LIST
9625: PPUSH
9626: CALL_OW 69
9630: ST_TO_ADDR
// while ( filter >= 4 ) do
9631: LD_VAR 0 1
9635: PUSH
9636: LD_INT 4
9638: GREATEREQUAL
9639: IFFALSE 9897
// begin Wait ( 0 0$01 ) ;
9641: LD_INT 35
9643: PPUSH
9644: CALL_OW 67
// filter := FilterAllUnits ( [ [ f_or , [ f_side , 6 ] , [ f_side , 3 ] ] , [ f_type , unit_vehicle ] , [ f_not , [ f_or , [ f_weapon , ru_crane ] , [ f_weapon , ru_cargo_bay ] , [ f_weapon , ru_bulldozer ] ] ] ] ) ;
9648: LD_ADDR_VAR 0 1
9652: PUSH
9653: LD_INT 2
9655: PUSH
9656: LD_INT 22
9658: PUSH
9659: LD_INT 6
9661: PUSH
9662: EMPTY
9663: LIST
9664: LIST
9665: PUSH
9666: LD_INT 22
9668: PUSH
9669: LD_INT 3
9671: PUSH
9672: EMPTY
9673: LIST
9674: LIST
9675: PUSH
9676: EMPTY
9677: LIST
9678: LIST
9679: LIST
9680: PUSH
9681: LD_INT 21
9683: PUSH
9684: LD_INT 2
9686: PUSH
9687: EMPTY
9688: LIST
9689: LIST
9690: PUSH
9691: LD_INT 3
9693: PUSH
9694: LD_INT 2
9696: PUSH
9697: LD_INT 34
9699: PUSH
9700: LD_INT 52
9702: PUSH
9703: EMPTY
9704: LIST
9705: LIST
9706: PUSH
9707: LD_INT 34
9709: PUSH
9710: LD_INT 51
9712: PUSH
9713: EMPTY
9714: LIST
9715: LIST
9716: PUSH
9717: LD_INT 34
9719: PUSH
9720: LD_INT 53
9722: PUSH
9723: EMPTY
9724: LIST
9725: LIST
9726: PUSH
9727: EMPTY
9728: LIST
9729: LIST
9730: LIST
9731: LIST
9732: PUSH
9733: EMPTY
9734: LIST
9735: LIST
9736: PUSH
9737: EMPTY
9738: LIST
9739: LIST
9740: LIST
9741: PPUSH
9742: CALL_OW 69
9746: ST_TO_ADDR
// if FilterAllUnits ( [ f_side , 2 ] ) = 0 then
9747: LD_INT 22
9749: PUSH
9750: LD_INT 2
9752: PUSH
9753: EMPTY
9754: LIST
9755: LIST
9756: PPUSH
9757: CALL_OW 69
9761: PUSH
9762: LD_INT 0
9764: EQUAL
9765: IFFALSE 9807
// enemy := FilterAllUnits ( [ f_or , [ f_side , 1 ] , [ f_side , 4 ] ] ) else
9767: LD_ADDR_VAR 0 2
9771: PUSH
9772: LD_INT 2
9774: PUSH
9775: LD_INT 22
9777: PUSH
9778: LD_INT 1
9780: PUSH
9781: EMPTY
9782: LIST
9783: LIST
9784: PUSH
9785: LD_INT 22
9787: PUSH
9788: LD_INT 4
9790: PUSH
9791: EMPTY
9792: LIST
9793: LIST
9794: PUSH
9795: EMPTY
9796: LIST
9797: LIST
9798: LIST
9799: PPUSH
9800: CALL_OW 69
9804: ST_TO_ADDR
9805: GO 9827
// enemy := FilterAllUnits ( [ f_side , 2 ] ) ;
9807: LD_ADDR_VAR 0 2
9811: PUSH
9812: LD_INT 22
9814: PUSH
9815: LD_INT 2
9817: PUSH
9818: EMPTY
9819: LIST
9820: LIST
9821: PPUSH
9822: CALL_OW 69
9826: ST_TO_ADDR
// if filter > 0 then
9827: LD_VAR 0 1
9831: PUSH
9832: LD_INT 0
9834: GREATER
9835: IFFALSE 9895
// for i = 1 to filter do
9837: LD_ADDR_VAR 0 3
9841: PUSH
9842: DOUBLE
9843: LD_INT 1
9845: DEC
9846: ST_TO_ADDR
9847: LD_VAR 0 1
9851: PUSH
9852: FOR_TO
9853: IFFALSE 9893
// ComAttackUnit ( filter [ i ] , NearestUnitToUnit ( enemy , filter [ i ] ) ) ;
9855: LD_VAR 0 1
9859: PUSH
9860: LD_VAR 0 3
9864: ARRAY
9865: PPUSH
9866: LD_VAR 0 2
9870: PPUSH
9871: LD_VAR 0 1
9875: PUSH
9876: LD_VAR 0 3
9880: ARRAY
9881: PPUSH
9882: CALL_OW 74
9886: PPUSH
9887: CALL_OW 115
9891: GO 9852
9893: POP
9894: POP
// end ;
9895: GO 9631
// end ;
9897: PPOPN 3
9899: END
// export ru_spec_group ; every 0 0$10 trigger FilterUnitsInArea ( buffor , [ [ f_side , 1 ] , [ f_type , unit_building ] ] ) > 0 do var i , un , veh ;
9900: LD_INT 22
9902: PPUSH
9903: LD_INT 22
9905: PUSH
9906: LD_INT 1
9908: PUSH
9909: EMPTY
9910: LIST
9911: LIST
9912: PUSH
9913: LD_INT 21
9915: PUSH
9916: LD_INT 3
9918: PUSH
9919: EMPTY
9920: LIST
9921: LIST
9922: PUSH
9923: EMPTY
9924: LIST
9925: LIST
9926: PPUSH
9927: CALL_OW 70
9931: PUSH
9932: LD_INT 0
9934: GREATER
9935: IFFALSE 10080
9937: GO 9939
9939: DISABLE
9940: LD_INT 0
9942: PPUSH
9943: PPUSH
9944: PPUSH
// begin uc_side := 6 ;
9945: LD_ADDR_OWVAR 20
9949: PUSH
9950: LD_INT 6
9952: ST_TO_ADDR
// uc_nation := 3 ;
9953: LD_ADDR_OWVAR 21
9957: PUSH
9958: LD_INT 3
9960: ST_TO_ADDR
// for i = 1 to Difficulty + 1 do
9961: LD_ADDR_VAR 0 1
9965: PUSH
9966: DOUBLE
9967: LD_INT 1
9969: DEC
9970: ST_TO_ADDR
9971: LD_OWVAR 67
9975: PUSH
9976: LD_INT 1
9978: PLUS
9979: PUSH
9980: FOR_TO
9981: IFFALSE 10075
// begin vc_chassis := ru_medium_tracked ;
9983: LD_ADDR_OWVAR 37
9987: PUSH
9988: LD_INT 22
9990: ST_TO_ADDR
// vc_engine := engine_combustion ;
9991: LD_ADDR_OWVAR 39
9995: PUSH
9996: LD_INT 1
9998: ST_TO_ADDR
// vc_control := control_manual ;
9999: LD_ADDR_OWVAR 38
10003: PUSH
10004: LD_INT 1
10006: ST_TO_ADDR
// vc_weapon := ru_rocket_launcher ;
10007: LD_ADDR_OWVAR 40
10011: PUSH
10012: LD_INT 45
10014: ST_TO_ADDR
// veh := CreateVehicle ;
10015: LD_ADDR_VAR 0 3
10019: PUSH
10020: CALL_OW 45
10024: ST_TO_ADDR
// un := CreateHumanWithClass ( 3 , ru_def ) ;
10025: LD_ADDR_VAR 0 2
10029: PUSH
10030: LD_INT 3
10032: PPUSH
10033: LD_EXP 4
10037: PPUSH
10038: CALL 418 0 2
10042: ST_TO_ADDR
// PlaceHumanInUnit ( un , veh ) ;
10043: LD_VAR 0 2
10047: PPUSH
10048: LD_VAR 0 3
10052: PPUSH
10053: CALL_OW 52
// ru_spec_group := ru_spec_group ^ veh ;
10057: LD_ADDR_EXP 42
10061: PUSH
10062: LD_EXP 42
10066: PUSH
10067: LD_VAR 0 3
10071: ADD
10072: ST_TO_ADDR
// end ;
10073: GO 9980
10075: POP
10076: POP
// enable ( 99 ) ;
10077: LD_INT 99
10079: ENABLE_MARKED
// end ;
10080: PPOPN 3
10082: END
// every 0 0$01 trigger ru_spec_group marked 99 do var i , enemy , filter ;
10083: LD_EXP 42
10087: IFFALSE 10256
10089: GO 10091
10091: DISABLE
10092: LD_INT 0
10094: PPUSH
10095: PPUSH
10096: PPUSH
// begin enable ;
10097: ENABLE
// filter := ru_spec_group ;
10098: LD_ADDR_VAR 0 3
10102: PUSH
10103: LD_EXP 42
10107: ST_TO_ADDR
// if FilterAllUnits ( [ f_side , 2 ] ) = 0 then
10108: LD_INT 22
10110: PUSH
10111: LD_INT 2
10113: PUSH
10114: EMPTY
10115: LIST
10116: LIST
10117: PPUSH
10118: CALL_OW 69
10122: PUSH
10123: LD_INT 0
10125: EQUAL
10126: IFFALSE 10168
// enemy := FilterAllUnits ( [ f_or , [ f_side , 1 ] , [ f_side , 4 ] ] ) else
10128: LD_ADDR_VAR 0 2
10132: PUSH
10133: LD_INT 2
10135: PUSH
10136: LD_INT 22
10138: PUSH
10139: LD_INT 1
10141: PUSH
10142: EMPTY
10143: LIST
10144: LIST
10145: PUSH
10146: LD_INT 22
10148: PUSH
10149: LD_INT 4
10151: PUSH
10152: EMPTY
10153: LIST
10154: LIST
10155: PUSH
10156: EMPTY
10157: LIST
10158: LIST
10159: LIST
10160: PPUSH
10161: CALL_OW 69
10165: ST_TO_ADDR
10166: GO 10188
// enemy := FilterAllUnits ( [ f_side , 2 ] ) ;
10168: LD_ADDR_VAR 0 2
10172: PUSH
10173: LD_INT 22
10175: PUSH
10176: LD_INT 2
10178: PUSH
10179: EMPTY
10180: LIST
10181: LIST
10182: PPUSH
10183: CALL_OW 69
10187: ST_TO_ADDR
// if filter > 0 then
10188: LD_VAR 0 3
10192: PUSH
10193: LD_INT 0
10195: GREATER
10196: IFFALSE 10256
// for i = 1 to filter do
10198: LD_ADDR_VAR 0 1
10202: PUSH
10203: DOUBLE
10204: LD_INT 1
10206: DEC
10207: ST_TO_ADDR
10208: LD_VAR 0 3
10212: PUSH
10213: FOR_TO
10214: IFFALSE 10254
// ComAttackUnit ( filter [ i ] , NearestUnitToUnit ( enemy , filter [ i ] ) ) ;
10216: LD_VAR 0 3
10220: PUSH
10221: LD_VAR 0 1
10225: ARRAY
10226: PPUSH
10227: LD_VAR 0 2
10231: PPUSH
10232: LD_VAR 0 3
10236: PUSH
10237: LD_VAR 0 1
10241: ARRAY
10242: PPUSH
10243: CALL_OW 74
10247: PPUSH
10248: CALL_OW 115
10252: GO 10213
10254: POP
10255: POP
// end ; end_of_file
10256: PPOPN 3
10258: END
// export function ArabianAttack ( side , num , typ , area ) ; var i , un , filter , veh , chassis , weapon ; begin
10259: LD_INT 0
10261: PPUSH
10262: PPUSH
10263: PPUSH
10264: PPUSH
10265: PPUSH
10266: PPUSH
10267: PPUSH
// uc_side := side ;
10268: LD_ADDR_OWVAR 20
10272: PUSH
10273: LD_VAR 0 1
10277: ST_TO_ADDR
// uc_nation := nation_arabian ;
10278: LD_ADDR_OWVAR 21
10282: PUSH
10283: LD_INT 2
10285: ST_TO_ADDR
// chassis := [ ar_light_trike , ar_medium_trike , ar_half_tracked ] ;
10286: LD_ADDR_VAR 0 10
10290: PUSH
10291: LD_INT 12
10293: PUSH
10294: LD_INT 13
10296: PUSH
10297: LD_INT 14
10299: PUSH
10300: EMPTY
10301: LIST
10302: LIST
10303: LIST
10304: ST_TO_ADDR
// weapon := [ ar_multimissile_ballista , ar_double_machine_gun , ar_gatling_gun , ar_gun , ar_rocket_launcher ] ;
10305: LD_ADDR_VAR 0 11
10309: PUSH
10310: LD_INT 22
10312: PUSH
10313: LD_INT 24
10315: PUSH
10316: LD_INT 25
10318: PUSH
10319: LD_INT 27
10321: PUSH
10322: LD_INT 28
10324: PUSH
10325: EMPTY
10326: LIST
10327: LIST
10328: LIST
10329: LIST
10330: LIST
10331: ST_TO_ADDR
// case typ of 1 :
10332: LD_VAR 0 3
10336: PUSH
10337: LD_INT 1
10339: DOUBLE
10340: EQUAL
10341: IFTRUE 10345
10343: GO 10570
10345: POP
// begin for i = 1 to num do
10346: LD_ADDR_VAR 0 6
10350: PUSH
10351: DOUBLE
10352: LD_INT 1
10354: DEC
10355: ST_TO_ADDR
10356: LD_VAR 0 2
10360: PUSH
10361: FOR_TO
10362: IFFALSE 10521
// begin vc_chassis := chassis [ Rand ( 1 , 2 ) ] ;
10364: LD_ADDR_OWVAR 37
10368: PUSH
10369: LD_VAR 0 10
10373: PUSH
10374: LD_INT 1
10376: PPUSH
10377: LD_INT 2
10379: PPUSH
10380: CALL_OW 12
10384: ARRAY
10385: ST_TO_ADDR
// vc_engine := engine_combustion ;
10386: LD_ADDR_OWVAR 39
10390: PUSH
10391: LD_INT 1
10393: ST_TO_ADDR
// vc_control := control_manual ;
10394: LD_ADDR_OWVAR 38
10398: PUSH
10399: LD_INT 1
10401: ST_TO_ADDR
// vc_weapon := weapon [ Rand ( 1 , 2 ) ] ;
10402: LD_ADDR_OWVAR 40
10406: PUSH
10407: LD_VAR 0 11
10411: PUSH
10412: LD_INT 1
10414: PPUSH
10415: LD_INT 2
10417: PPUSH
10418: CALL_OW 12
10422: ARRAY
10423: ST_TO_ADDR
// veh := CreateVehicle ;
10424: LD_ADDR_VAR 0 9
10428: PUSH
10429: CALL_OW 45
10433: ST_TO_ADDR
// if area = ar_area1 then
10434: LD_VAR 0 4
10438: PUSH
10439: LD_INT 6
10441: EQUAL
10442: IFFALSE 10458
// SetDir ( veh , 3 ) else
10444: LD_VAR 0 9
10448: PPUSH
10449: LD_INT 3
10451: PPUSH
10452: CALL_OW 233
10456: GO 10470
// SetDir ( veh , 0 ) ;
10458: LD_VAR 0 9
10462: PPUSH
10463: LD_INT 0
10465: PPUSH
10466: CALL_OW 233
// PlaceUnitArea ( veh , area , false ) ;
10470: LD_VAR 0 9
10474: PPUSH
10475: LD_VAR 0 4
10479: PPUSH
10480: LD_INT 0
10482: PPUSH
10483: CALL_OW 49
// un := CreateHumanWithClass ( 1 , ar_def ) ;
10487: LD_ADDR_VAR 0 7
10491: PUSH
10492: LD_INT 1
10494: PPUSH
10495: LD_EXP 7
10499: PPUSH
10500: CALL 418 0 2
10504: ST_TO_ADDR
// PlaceHumanInUnit ( un , veh ) ;
10505: LD_VAR 0 7
10509: PPUSH
10510: LD_VAR 0 9
10514: PPUSH
10515: CALL_OW 52
// end ;
10519: GO 10361
10521: POP
10522: POP
// for i = 1 to 3 do
10523: LD_ADDR_VAR 0 6
10527: PUSH
10528: DOUBLE
10529: LD_INT 1
10531: DEC
10532: ST_TO_ADDR
10533: LD_INT 3
10535: PUSH
10536: FOR_TO
10537: IFFALSE 10566
// PlaceUnitArea ( CreateHumanWithClass ( class_mortar , ar_def ) , area , false ) ;
10539: LD_INT 8
10541: PPUSH
10542: LD_EXP 7
10546: PPUSH
10547: CALL 418 0 2
10551: PPUSH
10552: LD_VAR 0 4
10556: PPUSH
10557: LD_INT 0
10559: PPUSH
10560: CALL_OW 49
10564: GO 10536
10566: POP
10567: POP
// end ; 2 :
10568: GO 10837
10570: LD_INT 2
10572: DOUBLE
10573: EQUAL
10574: IFTRUE 10578
10576: GO 10836
10578: POP
// begin for i = 1 to num do
10579: LD_ADDR_VAR 0 6
10583: PUSH
10584: DOUBLE
10585: LD_INT 1
10587: DEC
10588: ST_TO_ADDR
10589: LD_VAR 0 2
10593: PUSH
10594: FOR_TO
10595: IFFALSE 10754
// begin vc_chassis := chassis [ Rand ( 2 , 3 ) ] ;
10597: LD_ADDR_OWVAR 37
10601: PUSH
10602: LD_VAR 0 10
10606: PUSH
10607: LD_INT 2
10609: PPUSH
10610: LD_INT 3
10612: PPUSH
10613: CALL_OW 12
10617: ARRAY
10618: ST_TO_ADDR
// vc_engine := engine_combustion ;
10619: LD_ADDR_OWVAR 39
10623: PUSH
10624: LD_INT 1
10626: ST_TO_ADDR
// vc_control := control_manual ;
10627: LD_ADDR_OWVAR 38
10631: PUSH
10632: LD_INT 1
10634: ST_TO_ADDR
// vc_weapon := weapon [ Rand ( 3 , 5 ) ] ;
10635: LD_ADDR_OWVAR 40
10639: PUSH
10640: LD_VAR 0 11
10644: PUSH
10645: LD_INT 3
10647: PPUSH
10648: LD_INT 5
10650: PPUSH
10651: CALL_OW 12
10655: ARRAY
10656: ST_TO_ADDR
// veh := CreateVehicle ;
10657: LD_ADDR_VAR 0 9
10661: PUSH
10662: CALL_OW 45
10666: ST_TO_ADDR
// if area = ar_area1 then
10667: LD_VAR 0 4
10671: PUSH
10672: LD_INT 6
10674: EQUAL
10675: IFFALSE 10691
// SetDir ( veh , 3 ) else
10677: LD_VAR 0 9
10681: PPUSH
10682: LD_INT 3
10684: PPUSH
10685: CALL_OW 233
10689: GO 10703
// SetDir ( veh , 0 ) ;
10691: LD_VAR 0 9
10695: PPUSH
10696: LD_INT 0
10698: PPUSH
10699: CALL_OW 233
// PlaceUnitArea ( veh , area , false ) ;
10703: LD_VAR 0 9
10707: PPUSH
10708: LD_VAR 0 4
10712: PPUSH
10713: LD_INT 0
10715: PPUSH
10716: CALL_OW 49
// un := CreateHumanWithClass ( 1 , ar_def ) ;
10720: LD_ADDR_VAR 0 7
10724: PUSH
10725: LD_INT 1
10727: PPUSH
10728: LD_EXP 7
10732: PPUSH
10733: CALL 418 0 2
10737: ST_TO_ADDR
// PlaceHumanInUnit ( un , veh ) ;
10738: LD_VAR 0 7
10742: PPUSH
10743: LD_VAR 0 9
10747: PPUSH
10748: CALL_OW 52
// end ;
10752: GO 10594
10754: POP
10755: POP
// for i = 1 to 2 do
10756: LD_ADDR_VAR 0 6
10760: PUSH
10761: DOUBLE
10762: LD_INT 1
10764: DEC
10765: ST_TO_ADDR
10766: LD_INT 2
10768: PUSH
10769: FOR_TO
10770: IFFALSE 10832
// begin uc_nation := 0 ;
10772: LD_ADDR_OWVAR 21
10776: PUSH
10777: LD_INT 0
10779: ST_TO_ADDR
// hc_class := 17 ;
10780: LD_ADDR_OWVAR 28
10784: PUSH
10785: LD_INT 17
10787: ST_TO_ADDR
// hc_attr := [ 11 , 13 ] ;
10788: LD_ADDR_OWVAR 29
10792: PUSH
10793: LD_INT 11
10795: PUSH
10796: LD_INT 13
10798: PUSH
10799: EMPTY
10800: LIST
10801: LIST
10802: ST_TO_ADDR
// un := CreateHuman ;
10803: LD_ADDR_VAR 0 7
10807: PUSH
10808: CALL_OW 44
10812: ST_TO_ADDR
// PlaceUnitArea ( un , area , false ) ;
10813: LD_VAR 0 7
10817: PPUSH
10818: LD_VAR 0 4
10822: PPUSH
10823: LD_INT 0
10825: PPUSH
10826: CALL_OW 49
// end ;
10830: GO 10769
10832: POP
10833: POP
// end ; end ;
10834: GO 10837
10836: POP
// end ;
10837: LD_VAR 0 5
10841: RET
// export function FHeike ; begin
10842: LD_INT 0
10844: PPUSH
// uc_side := 2 ;
10845: LD_ADDR_OWVAR 20
10849: PUSH
10850: LD_INT 2
10852: ST_TO_ADDR
// uc_nation := 2 ;
10853: LD_ADDR_OWVAR 21
10857: PUSH
10858: LD_INT 2
10860: ST_TO_ADDR
// hc_gallery := sandar ;
10861: LD_ADDR_OWVAR 33
10865: PUSH
10866: LD_STRING sandar
10868: ST_TO_ADDR
// hc_face_number := 2 ;
10869: LD_ADDR_OWVAR 34
10873: PUSH
10874: LD_INT 2
10876: ST_TO_ADDR
// hc_name := Heike Steyer ;
10877: LD_ADDR_OWVAR 26
10881: PUSH
10882: LD_STRING Heike Steyer
10884: ST_TO_ADDR
// hc_sex := sex_female ;
10885: LD_ADDR_OWVAR 27
10889: PUSH
10890: LD_INT 2
10892: ST_TO_ADDR
// hc_class := 1 ;
10893: LD_ADDR_OWVAR 28
10897: PUSH
10898: LD_INT 1
10900: ST_TO_ADDR
// heike := CreateHuman ;
10901: LD_ADDR_EXP 15
10905: PUSH
10906: CALL_OW 44
10910: ST_TO_ADDR
// end ;
10911: LD_VAR 0 1
10915: RET
// every 0 0$01 do var filter , enemy , i ;
10916: GO 10918
10918: DISABLE
10919: LD_INT 0
10921: PPUSH
10922: PPUSH
10923: PPUSH
// begin enable ;
10924: ENABLE
// filter := FilterAllUnits ( [ f_side , 2 ] ) ;
10925: LD_ADDR_VAR 0 1
10929: PUSH
10930: LD_INT 22
10932: PUSH
10933: LD_INT 2
10935: PUSH
10936: EMPTY
10937: LIST
10938: LIST
10939: PPUSH
10940: CALL_OW 69
10944: ST_TO_ADDR
// enemy := FilterAllUnits ( [ f_or , [ f_side , 1 ] , [ f_side , 3 ] , [ f_side , 6 ] ] ) ;
10945: LD_ADDR_VAR 0 2
10949: PUSH
10950: LD_INT 2
10952: PUSH
10953: LD_INT 22
10955: PUSH
10956: LD_INT 1
10958: PUSH
10959: EMPTY
10960: LIST
10961: LIST
10962: PUSH
10963: LD_INT 22
10965: PUSH
10966: LD_INT 3
10968: PUSH
10969: EMPTY
10970: LIST
10971: LIST
10972: PUSH
10973: LD_INT 22
10975: PUSH
10976: LD_INT 6
10978: PUSH
10979: EMPTY
10980: LIST
10981: LIST
10982: PUSH
10983: EMPTY
10984: LIST
10985: LIST
10986: LIST
10987: LIST
10988: PPUSH
10989: CALL_OW 69
10993: ST_TO_ADDR
// if filter > 0 then
10994: LD_VAR 0 1
10998: PUSH
10999: LD_INT 0
11001: GREATER
11002: IFFALSE 11062
// for i = 1 to filter do
11004: LD_ADDR_VAR 0 3
11008: PUSH
11009: DOUBLE
11010: LD_INT 1
11012: DEC
11013: ST_TO_ADDR
11014: LD_VAR 0 1
11018: PUSH
11019: FOR_TO
11020: IFFALSE 11060
// ComAttackUnit ( filter [ i ] , NearestUnitToUnit ( enemy , filter [ i ] ) ) ;
11022: LD_VAR 0 1
11026: PUSH
11027: LD_VAR 0 3
11031: ARRAY
11032: PPUSH
11033: LD_VAR 0 2
11037: PPUSH
11038: LD_VAR 0 1
11042: PUSH
11043: LD_VAR 0 3
11047: ARRAY
11048: PPUSH
11049: CALL_OW 74
11053: PPUSH
11054: CALL_OW 115
11058: GO 11019
11060: POP
11061: POP
// end ; end_of_file
11062: PPOPN 3
11064: END
// on UnitDestroyed ( un ) do begin if un = sikorski then
11065: LD_VAR 0 1
11069: PUSH
11070: LD_EXP 13
11074: EQUAL
11075: IFFALSE 11084
// YouLost ( sik ) ;
11077: LD_STRING sik
11079: PPUSH
11080: CALL_OW 104
// if un = omikron then
11084: LD_VAR 0 1
11088: PUSH
11089: LD_INT 64
11091: EQUAL
11092: IFFALSE 11101
// YouLost ( omi ) ;
11094: LD_STRING omi
11096: PPUSH
11097: CALL_OW 104
// if GetSide ( un ) = 6 and un in FilterAllUnits ( [ f_type , unit_building ] ) then
11101: LD_VAR 0 1
11105: PPUSH
11106: CALL_OW 255
11110: PUSH
11111: LD_INT 6
11113: EQUAL
11114: PUSH
11115: LD_VAR 0 1
11119: PUSH
11120: LD_INT 21
11122: PUSH
11123: LD_INT 3
11125: PUSH
11126: EMPTY
11127: LIST
11128: LIST
11129: PPUSH
11130: CALL_OW 69
11134: IN
11135: AND
11136: IFFALSE 11355
// begin if GetBType ( un ) = b_factory then
11138: LD_VAR 0 1
11142: PPUSH
11143: CALL_OW 266
11147: PUSH
11148: LD_INT 3
11150: EQUAL
11151: IFFALSE 11167
// ru_bul := ru_bul ^ b_workshop ;
11153: LD_ADDR_EXP 29
11157: PUSH
11158: LD_EXP 29
11162: PUSH
11163: LD_INT 2
11165: ADD
11166: ST_TO_ADDR
// if GetBType ( un ) = b_lab_full or GetBType ( un ) = b_lab_half then
11167: LD_VAR 0 1
11171: PPUSH
11172: CALL_OW 266
11176: PUSH
11177: LD_INT 8
11179: EQUAL
11180: PUSH
11181: LD_VAR 0 1
11185: PPUSH
11186: CALL_OW 266
11190: PUSH
11191: LD_INT 7
11193: EQUAL
11194: OR
11195: IFFALSE 11211
// ru_bul := ru_bul ^ b_lab ;
11197: LD_ADDR_EXP 29
11201: PUSH
11202: LD_EXP 29
11206: PUSH
11207: LD_INT 6
11209: ADD
11210: ST_TO_ADDR
// if GetBType ( un ) = b_barracks then
11211: LD_VAR 0 1
11215: PPUSH
11216: CALL_OW 266
11220: PUSH
11221: LD_INT 5
11223: EQUAL
11224: IFFALSE 11240
// ru_bul := ru_bul ^ b_armoury ;
11226: LD_ADDR_EXP 29
11230: PUSH
11231: LD_EXP 29
11235: PUSH
11236: LD_INT 4
11238: ADD
11239: ST_TO_ADDR
// if not GetBType ( un ) in [ b_factory , b_lab_full , b_lab_half , b_barracks ] then
11240: LD_VAR 0 1
11244: PPUSH
11245: CALL_OW 266
11249: PUSH
11250: LD_INT 3
11252: PUSH
11253: LD_INT 8
11255: PUSH
11256: LD_INT 7
11258: PUSH
11259: LD_INT 5
11261: PUSH
11262: EMPTY
11263: LIST
11264: LIST
11265: LIST
11266: LIST
11267: IN
11268: NOT
11269: IFFALSE 11292
// ru_bul := ru_bul ^ GetBType ( un ) ;
11271: LD_ADDR_EXP 29
11275: PUSH
11276: LD_EXP 29
11280: PUSH
11281: LD_VAR 0 1
11285: PPUSH
11286: CALL_OW 266
11290: ADD
11291: ST_TO_ADDR
// ru_bul := ru_bul ^ GetX ( un ) ;
11292: LD_ADDR_EXP 29
11296: PUSH
11297: LD_EXP 29
11301: PUSH
11302: LD_VAR 0 1
11306: PPUSH
11307: CALL_OW 250
11311: ADD
11312: ST_TO_ADDR
// ru_bul := ru_bul ^ GetY ( un ) ;
11313: LD_ADDR_EXP 29
11317: PUSH
11318: LD_EXP 29
11322: PUSH
11323: LD_VAR 0 1
11327: PPUSH
11328: CALL_OW 251
11332: ADD
11333: ST_TO_ADDR
// ru_bul := ru_bul ^ GetDir ( un ) ;
11334: LD_ADDR_EXP 29
11338: PUSH
11339: LD_EXP 29
11343: PUSH
11344: LD_VAR 0 1
11348: PPUSH
11349: CALL_OW 254
11353: ADD
11354: ST_TO_ADDR
// end ; if GetSide ( un ) = 6 and un in FilterAllUnits ( [ f_type , unit_vehicle ] ) diff FilterAllUnits ( [ f_weapon , ru_rocket_launcher ] ) then
11355: LD_VAR 0 1
11359: PPUSH
11360: CALL_OW 255
11364: PUSH
11365: LD_INT 6
11367: EQUAL
11368: PUSH
11369: LD_VAR 0 1
11373: PUSH
11374: LD_INT 21
11376: PUSH
11377: LD_INT 2
11379: PUSH
11380: EMPTY
11381: LIST
11382: LIST
11383: PPUSH
11384: CALL_OW 69
11388: PUSH
11389: LD_INT 34
11391: PUSH
11392: LD_INT 45
11394: PUSH
11395: EMPTY
11396: LIST
11397: LIST
11398: PPUSH
11399: CALL_OW 69
11403: DIFF
11404: IN
11405: AND
11406: IFFALSE 11492
// begin ru_veh := ru_veh ^ GetChassis ( un ) ;
11408: LD_ADDR_EXP 25
11412: PUSH
11413: LD_EXP 25
11417: PUSH
11418: LD_VAR 0 1
11422: PPUSH
11423: CALL_OW 265
11427: ADD
11428: ST_TO_ADDR
// ru_veh := ru_veh ^ GetEngine ( un ) ;
11429: LD_ADDR_EXP 25
11433: PUSH
11434: LD_EXP 25
11438: PUSH
11439: LD_VAR 0 1
11443: PPUSH
11444: CALL_OW 262
11448: ADD
11449: ST_TO_ADDR
// ru_veh := ru_veh ^ GetControl ( un ) ;
11450: LD_ADDR_EXP 25
11454: PUSH
11455: LD_EXP 25
11459: PUSH
11460: LD_VAR 0 1
11464: PPUSH
11465: CALL_OW 263
11469: ADD
11470: ST_TO_ADDR
// ru_veh := ru_veh ^ GetWeapon ( un ) ;
11471: LD_ADDR_EXP 25
11475: PUSH
11476: LD_EXP 25
11480: PUSH
11481: LD_VAR 0 1
11485: PPUSH
11486: CALL_OW 264
11490: ADD
11491: ST_TO_ADDR
// end ; if un in FilterAllUnits ( [ [ f_side , 6 ] , [ f_class , 3 ] ] ) and FilterAllUnits ( [ [ f_side , 6 ] , [ f_btype , b_factory ] , [ f_lives , 251 ] ] ) > 0 then
11492: LD_VAR 0 1
11496: PUSH
11497: LD_INT 22
11499: PUSH
11500: LD_INT 6
11502: PUSH
11503: EMPTY
11504: LIST
11505: LIST
11506: PUSH
11507: LD_INT 25
11509: PUSH
11510: LD_INT 3
11512: PUSH
11513: EMPTY
11514: LIST
11515: LIST
11516: PUSH
11517: EMPTY
11518: LIST
11519: LIST
11520: PPUSH
11521: CALL_OW 69
11525: IN
11526: PUSH
11527: LD_INT 22
11529: PUSH
11530: LD_INT 6
11532: PUSH
11533: EMPTY
11534: LIST
11535: LIST
11536: PUSH
11537: LD_INT 30
11539: PUSH
11540: LD_INT 3
11542: PUSH
11543: EMPTY
11544: LIST
11545: LIST
11546: PUSH
11547: LD_INT 24
11549: PUSH
11550: LD_INT 251
11552: PUSH
11553: EMPTY
11554: LIST
11555: LIST
11556: PUSH
11557: EMPTY
11558: LIST
11559: LIST
11560: LIST
11561: PPUSH
11562: CALL_OW 69
11566: PUSH
11567: LD_INT 0
11569: GREATER
11570: AND
11571: IFFALSE 11619
// begin uc_side := 6 ;
11573: LD_ADDR_OWVAR 20
11577: PUSH
11578: LD_INT 6
11580: ST_TO_ADDR
// uc_nation := 3 ;
11581: LD_ADDR_OWVAR 21
11585: PUSH
11586: LD_INT 3
11588: ST_TO_ADDR
// un := CreateHumanWithClass ( 3 , ru_def ) ;
11589: LD_ADDR_VAR 0 1
11593: PUSH
11594: LD_INT 3
11596: PPUSH
11597: LD_EXP 4
11601: PPUSH
11602: CALL 418 0 2
11606: ST_TO_ADDR
// PlaceHumanInUnit ( un , ru_fac ) ;
11607: LD_VAR 0 1
11611: PPUSH
11612: LD_INT 92
11614: PPUSH
11615: CALL_OW 52
// end ; if GetSide ( un ) = 3 and un in FilterAllUnits ( [ f_type , unit_building ] ) then
11619: LD_VAR 0 1
11623: PPUSH
11624: CALL_OW 255
11628: PUSH
11629: LD_INT 3
11631: EQUAL
11632: PUSH
11633: LD_VAR 0 1
11637: PUSH
11638: LD_INT 21
11640: PUSH
11641: LD_INT 3
11643: PUSH
11644: EMPTY
11645: LIST
11646: LIST
11647: PPUSH
11648: CALL_OW 69
11652: IN
11653: AND
11654: IFFALSE 11885
// begin if GetBType ( un ) = b_factory then
11656: LD_VAR 0 1
11660: PPUSH
11661: CALL_OW 266
11665: PUSH
11666: LD_INT 3
11668: EQUAL
11669: IFFALSE 11685
// ru2_bul := ru2_bul ^ b_workshop ;
11671: LD_ADDR_EXP 39
11675: PUSH
11676: LD_EXP 39
11680: PUSH
11681: LD_INT 2
11683: ADD
11684: ST_TO_ADDR
// if GetBType ( un ) = b_lab_full or GetBType ( un ) = b_lab_half then
11685: LD_VAR 0 1
11689: PPUSH
11690: CALL_OW 266
11694: PUSH
11695: LD_INT 8
11697: EQUAL
11698: PUSH
11699: LD_VAR 0 1
11703: PPUSH
11704: CALL_OW 266
11708: PUSH
11709: LD_INT 7
11711: EQUAL
11712: OR
11713: IFFALSE 11729
// ru2_bul := ru2_bul ^ b_lab ;
11715: LD_ADDR_EXP 39
11719: PUSH
11720: LD_EXP 39
11724: PUSH
11725: LD_INT 6
11727: ADD
11728: ST_TO_ADDR
// if GetBType ( un ) = b_barracks then
11729: LD_VAR 0 1
11733: PPUSH
11734: CALL_OW 266
11738: PUSH
11739: LD_INT 5
11741: EQUAL
11742: IFFALSE 11758
// ru2_bul := ru2_bul ^ b_armoury ;
11744: LD_ADDR_EXP 39
11748: PUSH
11749: LD_EXP 39
11753: PUSH
11754: LD_INT 4
11756: ADD
11757: ST_TO_ADDR
// if not GetBType ( un ) in [ b_factory , b_lab_full , b_lab_half , b_barracks , b_ext_gun , b_ext_noncombat , b_ext_track ] then
11758: LD_VAR 0 1
11762: PPUSH
11763: CALL_OW 266
11767: PUSH
11768: LD_INT 3
11770: PUSH
11771: LD_INT 8
11773: PUSH
11774: LD_INT 7
11776: PUSH
11777: LD_INT 5
11779: PUSH
11780: LD_INT 17
11782: PUSH
11783: LD_INT 19
11785: PUSH
11786: LD_INT 16
11788: PUSH
11789: EMPTY
11790: LIST
11791: LIST
11792: LIST
11793: LIST
11794: LIST
11795: LIST
11796: LIST
11797: IN
11798: NOT
11799: IFFALSE 11822
// ru2_bul := ru2_bul ^ GetBType ( un ) ;
11801: LD_ADDR_EXP 39
11805: PUSH
11806: LD_EXP 39
11810: PUSH
11811: LD_VAR 0 1
11815: PPUSH
11816: CALL_OW 266
11820: ADD
11821: ST_TO_ADDR
// ru2_bul := ru2_bul ^ GetX ( un ) ;
11822: LD_ADDR_EXP 39
11826: PUSH
11827: LD_EXP 39
11831: PUSH
11832: LD_VAR 0 1
11836: PPUSH
11837: CALL_OW 250
11841: ADD
11842: ST_TO_ADDR
// ru2_bul := ru2_bul ^ GetY ( un ) ;
11843: LD_ADDR_EXP 39
11847: PUSH
11848: LD_EXP 39
11852: PUSH
11853: LD_VAR 0 1
11857: PPUSH
11858: CALL_OW 251
11862: ADD
11863: ST_TO_ADDR
// ru2_bul := ru2_bul ^ GetDir ( un ) ;
11864: LD_ADDR_EXP 39
11868: PUSH
11869: LD_EXP 39
11873: PUSH
11874: LD_VAR 0 1
11878: PPUSH
11879: CALL_OW 254
11883: ADD
11884: ST_TO_ADDR
// end ; if GetSide ( un ) = 3 and un in FilterAllUnits ( [ f_type , unit_vehicle ] ) diff FilterAllUnits ( [ f_weapon , ru_rocket_launcher ] ) then
11885: LD_VAR 0 1
11889: PPUSH
11890: CALL_OW 255
11894: PUSH
11895: LD_INT 3
11897: EQUAL
11898: PUSH
11899: LD_VAR 0 1
11903: PUSH
11904: LD_INT 21
11906: PUSH
11907: LD_INT 2
11909: PUSH
11910: EMPTY
11911: LIST
11912: LIST
11913: PPUSH
11914: CALL_OW 69
11918: PUSH
11919: LD_INT 34
11921: PUSH
11922: LD_INT 45
11924: PUSH
11925: EMPTY
11926: LIST
11927: LIST
11928: PPUSH
11929: CALL_OW 69
11933: DIFF
11934: IN
11935: AND
11936: IFFALSE 12022
// begin ru2_veh := ru2_veh ^ GetChassis ( un ) ;
11938: LD_ADDR_EXP 35
11942: PUSH
11943: LD_EXP 35
11947: PUSH
11948: LD_VAR 0 1
11952: PPUSH
11953: CALL_OW 265
11957: ADD
11958: ST_TO_ADDR
// ru2_veh := ru2_veh ^ GetEngine ( un ) ;
11959: LD_ADDR_EXP 35
11963: PUSH
11964: LD_EXP 35
11968: PUSH
11969: LD_VAR 0 1
11973: PPUSH
11974: CALL_OW 262
11978: ADD
11979: ST_TO_ADDR
// ru2_veh := ru2_veh ^ GetControl ( un ) ;
11980: LD_ADDR_EXP 35
11984: PUSH
11985: LD_EXP 35
11989: PUSH
11990: LD_VAR 0 1
11994: PPUSH
11995: CALL_OW 263
11999: ADD
12000: ST_TO_ADDR
// ru2_veh := ru2_veh ^ GetWeapon ( un ) ;
12001: LD_ADDR_EXP 35
12005: PUSH
12006: LD_EXP 35
12010: PUSH
12011: LD_VAR 0 1
12015: PPUSH
12016: CALL_OW 264
12020: ADD
12021: ST_TO_ADDR
// end ; if un in FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 3 ] ] ) and FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_factory ] , [ f_lives , 251 ] ] ) > 0 then
12022: LD_VAR 0 1
12026: PUSH
12027: LD_INT 22
12029: PUSH
12030: LD_INT 3
12032: PUSH
12033: EMPTY
12034: LIST
12035: LIST
12036: PUSH
12037: LD_INT 25
12039: PUSH
12040: LD_INT 3
12042: PUSH
12043: EMPTY
12044: LIST
12045: LIST
12046: PUSH
12047: EMPTY
12048: LIST
12049: LIST
12050: PPUSH
12051: CALL_OW 69
12055: IN
12056: PUSH
12057: LD_INT 22
12059: PUSH
12060: LD_INT 3
12062: PUSH
12063: EMPTY
12064: LIST
12065: LIST
12066: PUSH
12067: LD_INT 30
12069: PUSH
12070: LD_INT 3
12072: PUSH
12073: EMPTY
12074: LIST
12075: LIST
12076: PUSH
12077: LD_INT 24
12079: PUSH
12080: LD_INT 251
12082: PUSH
12083: EMPTY
12084: LIST
12085: LIST
12086: PUSH
12087: EMPTY
12088: LIST
12089: LIST
12090: LIST
12091: PPUSH
12092: CALL_OW 69
12096: PUSH
12097: LD_INT 0
12099: GREATER
12100: AND
12101: IFFALSE 12179
// begin uc_side := 3 ;
12103: LD_ADDR_OWVAR 20
12107: PUSH
12108: LD_INT 3
12110: ST_TO_ADDR
// uc_nation := 3 ;
12111: LD_ADDR_OWVAR 21
12115: PUSH
12116: LD_INT 3
12118: ST_TO_ADDR
// un := CreateHumanWithClass ( 3 , ru_def ) ;
12119: LD_ADDR_VAR 0 1
12123: PUSH
12124: LD_INT 3
12126: PPUSH
12127: LD_EXP 4
12131: PPUSH
12132: CALL 418 0 2
12136: ST_TO_ADDR
// PlaceHumanInUnit ( un , FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_factory ] ] ) [ 1 ] ) ;
12137: LD_VAR 0 1
12141: PPUSH
12142: LD_INT 22
12144: PUSH
12145: LD_INT 3
12147: PUSH
12148: EMPTY
12149: LIST
12150: LIST
12151: PUSH
12152: LD_INT 30
12154: PUSH
12155: LD_INT 3
12157: PUSH
12158: EMPTY
12159: LIST
12160: LIST
12161: PUSH
12162: EMPTY
12163: LIST
12164: LIST
12165: PPUSH
12166: CALL_OW 69
12170: PUSH
12171: LD_INT 1
12173: ARRAY
12174: PPUSH
12175: CALL_OW 52
// end ; end ;
12179: PPOPN 1
12181: END
// on BuildingComplete ( b ) do var i ;
12182: LD_INT 0
12184: PPUSH
// begin if b in FilterAllUnits ( [ f_side , 6 ] ) then
12185: LD_VAR 0 1
12189: PUSH
12190: LD_INT 22
12192: PUSH
12193: LD_INT 6
12195: PUSH
12196: EMPTY
12197: LIST
12198: LIST
12199: PPUSH
12200: CALL_OW 69
12204: IN
12205: IFFALSE 12245
// for i = 1 to 4 do
12207: LD_ADDR_VAR 0 2
12211: PUSH
12212: DOUBLE
12213: LD_INT 1
12215: DEC
12216: ST_TO_ADDR
12217: LD_INT 4
12219: PUSH
12220: FOR_TO
12221: IFFALSE 12243
// ru_bul := Delete ( ru_bul , 1 ) ;
12223: LD_ADDR_EXP 29
12227: PUSH
12228: LD_EXP 29
12232: PPUSH
12233: LD_INT 1
12235: PPUSH
12236: CALL_OW 3
12240: ST_TO_ADDR
12241: GO 12220
12243: POP
12244: POP
// if b in FilterAllUnits ( [ f_side , 3 ] ) then
12245: LD_VAR 0 1
12249: PUSH
12250: LD_INT 22
12252: PUSH
12253: LD_INT 3
12255: PUSH
12256: EMPTY
12257: LIST
12258: LIST
12259: PPUSH
12260: CALL_OW 69
12264: IN
12265: IFFALSE 12305
// for i = 1 to 4 do
12267: LD_ADDR_VAR 0 2
12271: PUSH
12272: DOUBLE
12273: LD_INT 1
12275: DEC
12276: ST_TO_ADDR
12277: LD_INT 4
12279: PUSH
12280: FOR_TO
12281: IFFALSE 12303
// ru2_bul := Delete ( ru2_bul , 1 ) ;
12283: LD_ADDR_EXP 39
12287: PUSH
12288: LD_EXP 39
12292: PPUSH
12293: LD_INT 1
12295: PPUSH
12296: CALL_OW 3
12300: ST_TO_ADDR
12301: GO 12280
12303: POP
12304: POP
// end ; end_of_file
12305: PPOPN 2
12307: END
// export function Start_Game ; begin
12308: LD_INT 0
12310: PPUSH
// case Query ( textdiff ) of 1 :
12311: LD_STRING textdiff
12313: PPUSH
12314: CALL_OW 97
12318: PUSH
12319: LD_INT 1
12321: DOUBLE
12322: EQUAL
12323: IFTRUE 12327
12325: GO 12338
12327: POP
// global_diff := 1 ; 2 :
12328: LD_ADDR_EXP 2
12332: PUSH
12333: LD_INT 1
12335: ST_TO_ADDR
12336: GO 12377
12338: LD_INT 2
12340: DOUBLE
12341: EQUAL
12342: IFTRUE 12346
12344: GO 12357
12346: POP
// global_diff := 2 ; 3 :
12347: LD_ADDR_EXP 2
12351: PUSH
12352: LD_INT 2
12354: ST_TO_ADDR
12355: GO 12377
12357: LD_INT 3
12359: DOUBLE
12360: EQUAL
12361: IFTRUE 12365
12363: GO 12376
12365: POP
// global_diff := 3 ; end ;
12366: LD_ADDR_EXP 2
12370: PUSH
12371: LD_INT 3
12373: ST_TO_ADDR
12374: GO 12377
12376: POP
// CenterOnXY ( 70 , 130 ) ;
12377: LD_INT 70
12379: PPUSH
12380: LD_INT 130
12382: PPUSH
12383: CALL_OW 84
// case Query ( text1 ) of 1 :
12387: LD_STRING text1
12389: PPUSH
12390: CALL_OW 97
12394: PUSH
12395: LD_INT 1
12397: DOUBLE
12398: EQUAL
12399: IFTRUE 12403
12401: GO 12406
12403: POP
// ; end ;
12404: GO 12407
12406: POP
// ChangeMissionObjectives ( target1 ) ;
12407: LD_STRING target1
12409: PPUSH
12410: CALL_OW 337
// game_started := true ;
12414: LD_ADDR_EXP 9
12418: PUSH
12419: LD_INT 1
12421: ST_TO_ADDR
// crates_allow := true ;
12422: LD_ADDR_EXP 12
12426: PUSH
12427: LD_INT 1
12429: ST_TO_ADDR
// if global_diff > 2 then
12430: LD_EXP 2
12434: PUSH
12435: LD_INT 2
12437: GREATER
12438: IFFALSE 12447
// RemoveUnit ( us_spec_b ) ;
12440: LD_INT 140
12442: PPUSH
12443: CALL_OW 64
// end ;
12447: LD_VAR 0 1
12451: RET
// every 0 0$01 trigger See ( 4 , sikorski ) or See ( 1 , FilterAllUnits ( [ [ f_side , 4 ] , [ f_type , unit_human ] ] ) [ 1 ] ) do var i , per ;
12452: LD_INT 4
12454: PPUSH
12455: LD_EXP 13
12459: PPUSH
12460: CALL_OW 292
12464: PUSH
12465: LD_INT 1
12467: PPUSH
12468: LD_INT 22
12470: PUSH
12471: LD_INT 4
12473: PUSH
12474: EMPTY
12475: LIST
12476: LIST
12477: PUSH
12478: LD_INT 21
12480: PUSH
12481: LD_INT 1
12483: PUSH
12484: EMPTY
12485: LIST
12486: LIST
12487: PUSH
12488: EMPTY
12489: LIST
12490: LIST
12491: PPUSH
12492: CALL_OW 69
12496: PUSH
12497: LD_INT 1
12499: ARRAY
12500: PPUSH
12501: CALL_OW 292
12505: OR
12506: IFFALSE 12921
12508: GO 12510
12510: DISABLE
12511: LD_INT 0
12513: PPUSH
12514: PPUSH
// begin for i in FilterAllUnits ( [ f_side , 4 ] ) do
12515: LD_ADDR_VAR 0 1
12519: PUSH
12520: LD_INT 22
12522: PUSH
12523: LD_INT 4
12525: PUSH
12526: EMPTY
12527: LIST
12528: LIST
12529: PPUSH
12530: CALL_OW 69
12534: PUSH
12535: FOR_IN
12536: IFFALSE 12552
// SetSide ( i , 1 ) ;
12538: LD_VAR 0 1
12542: PPUSH
12543: LD_INT 1
12545: PPUSH
12546: CALL_OW 235
12550: GO 12535
12552: POP
12553: POP
// per := FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] , [ f_sex , sex_male ] ] ) diff sikorski ;
12554: LD_ADDR_VAR 0 2
12558: PUSH
12559: LD_INT 22
12561: PUSH
12562: LD_INT 1
12564: PUSH
12565: EMPTY
12566: LIST
12567: LIST
12568: PUSH
12569: LD_INT 21
12571: PUSH
12572: LD_INT 1
12574: PUSH
12575: EMPTY
12576: LIST
12577: LIST
12578: PUSH
12579: LD_INT 26
12581: PUSH
12582: LD_INT 1
12584: PUSH
12585: EMPTY
12586: LIST
12587: LIST
12588: PUSH
12589: EMPTY
12590: LIST
12591: LIST
12592: LIST
12593: PPUSH
12594: CALL_OW 69
12598: PUSH
12599: LD_EXP 13
12603: DIFF
12604: ST_TO_ADDR
// InGameOn ;
12605: CALL_OW 8
// CenterNowOnXY ( 19 , 13 ) ;
12609: LD_INT 19
12611: PPUSH
12612: LD_INT 13
12614: PPUSH
12615: CALL_OW 86
// if IsInUnit ( sikorski ) then
12619: LD_EXP 13
12623: PPUSH
12624: CALL_OW 310
12628: IFFALSE 12646
// begin ComExitVehicle ( sikorski ) ;
12630: LD_EXP 13
12634: PPUSH
12635: CALL_OW 121
// Wait ( 0 0$0.3 ) ;
12639: LD_INT 10
12641: PPUSH
12642: CALL_OW 67
// end ; ComTurnUnit ( sikorski , per [ 1 ] ) ;
12646: LD_EXP 13
12650: PPUSH
12651: LD_VAR 0 2
12655: PUSH
12656: LD_INT 1
12658: ARRAY
12659: PPUSH
12660: CALL_OW 119
// ComTurnUnit ( per [ 1 ] , sikorski ) ;
12664: LD_VAR 0 2
12668: PUSH
12669: LD_INT 1
12671: ARRAY
12672: PPUSH
12673: LD_EXP 13
12677: PPUSH
12678: CALL_OW 119
// Wait ( 0 0$0.3 ) ;
12682: LD_INT 10
12684: PPUSH
12685: CALL_OW 67
// Say ( sikorski , DS-1 ) ;
12689: LD_EXP 13
12693: PPUSH
12694: LD_STRING DS-1
12696: PPUSH
12697: CALL_OW 88
// Say ( per [ 1 ] , DP-1 ) ;
12701: LD_VAR 0 2
12705: PUSH
12706: LD_INT 1
12708: ARRAY
12709: PPUSH
12710: LD_STRING DP-1
12712: PPUSH
12713: CALL_OW 88
// Say ( sikorski , DS-2 ) ;
12717: LD_EXP 13
12721: PPUSH
12722: LD_STRING DS-2
12724: PPUSH
12725: CALL_OW 88
// Say ( per [ 1 ] , DP-2 ) ;
12729: LD_VAR 0 2
12733: PUSH
12734: LD_INT 1
12736: ARRAY
12737: PPUSH
12738: LD_STRING DP-2
12740: PPUSH
12741: CALL_OW 88
// Say ( sikorski , DS-3 ) ;
12745: LD_EXP 13
12749: PPUSH
12750: LD_STRING DS-3
12752: PPUSH
12753: CALL_OW 88
// Say ( per [ 1 ] , DP-3 ) ;
12757: LD_VAR 0 2
12761: PUSH
12762: LD_INT 1
12764: ARRAY
12765: PPUSH
12766: LD_STRING DP-3
12768: PPUSH
12769: CALL_OW 88
// Say ( sikorski , DS-4 ) ;
12773: LD_EXP 13
12777: PPUSH
12778: LD_STRING DS-4
12780: PPUSH
12781: CALL_OW 88
// Wait ( 0 0$0.6 ) ;
12785: LD_INT 21
12787: PPUSH
12788: CALL_OW 67
// SayRadio ( ron , DR-1 ) ;
12792: LD_EXP 16
12796: PPUSH
12797: LD_STRING DR-1
12799: PPUSH
12800: CALL_OW 94
// Say ( sikorski , DS-5 ) ;
12804: LD_EXP 13
12808: PPUSH
12809: LD_STRING DS-5
12811: PPUSH
12812: CALL_OW 88
// SayRadio ( ron , DR-2 ) ;
12816: LD_EXP 16
12820: PPUSH
12821: LD_STRING DR-2
12823: PPUSH
12824: CALL_OW 94
// Say ( sikorski , DS-6 ) ;
12828: LD_EXP 13
12832: PPUSH
12833: LD_STRING DS-6
12835: PPUSH
12836: CALL_OW 88
// Wait ( 0 0$0.3 ) ;
12840: LD_INT 10
12842: PPUSH
12843: CALL_OW 67
// SayRadio ( ron , DR-3 ) ;
12847: LD_EXP 16
12851: PPUSH
12852: LD_STRING DR-3
12854: PPUSH
12855: CALL_OW 94
// InGameOff ;
12859: CALL_OW 9
// ChangeMissionObjectives ( target2 ) ;
12863: LD_STRING target2
12865: PPUSH
12866: CALL_OW 337
// Wait ( 0 0$03 ) ;
12870: LD_INT 105
12872: PPUSH
12873: CALL_OW 67
// Say ( sikorski , DS-7 ) ;
12877: LD_EXP 13
12881: PPUSH
12882: LD_STRING DS-7
12884: PPUSH
12885: CALL_OW 88
// Wait ( [ 6 6$00 , 5 5$00 , 4 4$00 ] [ global_diff ] ) ;
12889: LD_INT 12600
12891: PUSH
12892: LD_INT 10500
12894: PUSH
12895: LD_INT 8400
12897: PUSH
12898: EMPTY
12899: LIST
12900: LIST
12901: LIST
12902: PUSH
12903: LD_EXP 2
12907: ARRAY
12908: PPUSH
12909: CALL_OW 67
// russian_produce := true ;
12913: LD_ADDR_EXP 19
12917: PUSH
12918: LD_INT 1
12920: ST_TO_ADDR
// end ;
12921: PPOPN 2
12923: END
// export us_unit ; every 0 0$11 trigger timer >= [ 25 25$00 , 27 27$30 , 29 29$20 ] [ global_diff ] do
12924: LD_EXP 1
12928: PUSH
12929: LD_INT 52500
12931: PUSH
12932: LD_INT 57750
12934: PUSH
12935: LD_INT 61600
12937: PUSH
12938: EMPTY
12939: LIST
12940: LIST
12941: LIST
12942: PUSH
12943: LD_EXP 2
12947: ARRAY
12948: GREATEREQUAL
12949: IFFALSE 13117
12951: GO 12953
12953: DISABLE
// begin uc_side := 8 ;
12954: LD_ADDR_OWVAR 20
12958: PUSH
12959: LD_INT 8
12961: ST_TO_ADDR
// uc_nation := 1 ;
12962: LD_ADDR_OWVAR 21
12966: PUSH
12967: LD_INT 1
12969: ST_TO_ADDR
// hc_sex := sex_male ;
12970: LD_ADDR_OWVAR 27
12974: PUSH
12975: LD_INT 1
12977: ST_TO_ADDR
// hc_gallery :=  ;
12978: LD_ADDR_OWVAR 33
12982: PUSH
12983: LD_STRING 
12985: ST_TO_ADDR
// hc_name :=  ;
12986: LD_ADDR_OWVAR 26
12990: PUSH
12991: LD_STRING 
12993: ST_TO_ADDR
// hc_class := Rand ( 1 , 4 ) ;
12994: LD_ADDR_OWVAR 28
12998: PUSH
12999: LD_INT 1
13001: PPUSH
13002: LD_INT 4
13004: PPUSH
13005: CALL_OW 12
13009: ST_TO_ADDR
// hc_skills := [ Rand ( 2 , am_def ) , Rand ( 2 , am_def ) , Rand ( 2 , am_def ) , Rand ( 2 , am_def ) ] ;
13010: LD_ADDR_OWVAR 31
13014: PUSH
13015: LD_INT 2
13017: PPUSH
13018: LD_EXP 5
13022: PPUSH
13023: CALL_OW 12
13027: PUSH
13028: LD_INT 2
13030: PPUSH
13031: LD_EXP 5
13035: PPUSH
13036: CALL_OW 12
13040: PUSH
13041: LD_INT 2
13043: PPUSH
13044: LD_EXP 5
13048: PPUSH
13049: CALL_OW 12
13053: PUSH
13054: LD_INT 2
13056: PPUSH
13057: LD_EXP 5
13061: PPUSH
13062: CALL_OW 12
13066: PUSH
13067: EMPTY
13068: LIST
13069: LIST
13070: LIST
13071: LIST
13072: ST_TO_ADDR
// us_unit := CreateHuman ;
13073: LD_ADDR_EXP 43
13077: PUSH
13078: CALL_OW 44
13082: ST_TO_ADDR
// PlaceUnitArea ( us_unit , swamp_spawn , true ) ;
13083: LD_EXP 43
13087: PPUSH
13088: LD_INT 13
13090: PPUSH
13091: LD_INT 1
13093: PPUSH
13094: CALL_OW 49
// Wait ( 0 0$0.3 ) ;
13098: LD_INT 10
13100: PPUSH
13101: CALL_OW 67
// SayRadio ( us_unit , Dun1 ) ;
13105: LD_EXP 43
13109: PPUSH
13110: LD_STRING Dun1
13112: PPUSH
13113: CALL_OW 94
// end ;
13117: END
// every 0 0$01 trigger See ( 1 , us_unit ) do
13118: LD_INT 1
13120: PPUSH
13121: LD_EXP 43
13125: PPUSH
13126: CALL_OW 292
13130: IFFALSE 13147
13132: GO 13134
13134: DISABLE
// SetSide ( us_unit , 1 ) ;
13135: LD_EXP 43
13139: PPUSH
13140: LD_INT 1
13142: PPUSH
13143: CALL_OW 235
13147: END
// every 1 1$35 trigger timer >= [ 8 8$00 , 9 9$00 , 10 10$00 ] [ global_diff ] do var un , veh , i ;
13148: LD_EXP 1
13152: PUSH
13153: LD_INT 16800
13155: PUSH
13156: LD_INT 18900
13158: PUSH
13159: LD_INT 21000
13161: PUSH
13162: EMPTY
13163: LIST
13164: LIST
13165: LIST
13166: PUSH
13167: LD_EXP 2
13171: ARRAY
13172: GREATEREQUAL
13173: IFFALSE 13552
13175: GO 13177
13177: DISABLE
13178: LD_INT 0
13180: PPUSH
13181: PPUSH
13182: PPUSH
// begin uc_side := 4 ;
13183: LD_ADDR_OWVAR 20
13187: PUSH
13188: LD_INT 4
13190: ST_TO_ADDR
// uc_nation := 1 ;
13191: LD_ADDR_OWVAR 21
13195: PUSH
13196: LD_INT 1
13198: ST_TO_ADDR
// vc_chassis := [ us_medium_tracked , us_medium_wheeled , us_medium_wheeled ] [ global_diff ] ;
13199: LD_ADDR_OWVAR 37
13203: PUSH
13204: LD_INT 3
13206: PUSH
13207: LD_INT 2
13209: PUSH
13210: LD_INT 2
13212: PUSH
13213: EMPTY
13214: LIST
13215: LIST
13216: LIST
13217: PUSH
13218: LD_EXP 2
13222: ARRAY
13223: ST_TO_ADDR
// vc_engine := engine_solar ;
13224: LD_ADDR_OWVAR 39
13228: PUSH
13229: LD_INT 2
13231: ST_TO_ADDR
// vc_control := control_manual ;
13232: LD_ADDR_OWVAR 38
13236: PUSH
13237: LD_INT 1
13239: ST_TO_ADDR
// vc_weapon := us_cargo_bay ;
13240: LD_ADDR_OWVAR 40
13244: PUSH
13245: LD_INT 12
13247: ST_TO_ADDR
// veh := CreateVehicle ;
13248: LD_ADDR_VAR 0 2
13252: PUSH
13253: CALL_OW 45
13257: ST_TO_ADDR
// PlaceUnitArea ( veh , am_car , false ) ;
13258: LD_VAR 0 2
13262: PPUSH
13263: LD_INT 20
13265: PPUSH
13266: LD_INT 0
13268: PPUSH
13269: CALL_OW 49
// hc_sex := sex_male ;
13273: LD_ADDR_OWVAR 27
13277: PUSH
13278: LD_INT 1
13280: ST_TO_ADDR
// hc_gallery :=  ;
13281: LD_ADDR_OWVAR 33
13285: PUSH
13286: LD_STRING 
13288: ST_TO_ADDR
// hc_name :=  ;
13289: LD_ADDR_OWVAR 26
13293: PUSH
13294: LD_STRING 
13296: ST_TO_ADDR
// hc_class := 3 ;
13297: LD_ADDR_OWVAR 28
13301: PUSH
13302: LD_INT 3
13304: ST_TO_ADDR
// hc_skills := [ Rand ( 2 , am_def ) , Rand ( 2 , am_def ) , Rand ( 2 , am_def ) , Rand ( 2 , am_def ) ] ;
13305: LD_ADDR_OWVAR 31
13309: PUSH
13310: LD_INT 2
13312: PPUSH
13313: LD_EXP 5
13317: PPUSH
13318: CALL_OW 12
13322: PUSH
13323: LD_INT 2
13325: PPUSH
13326: LD_EXP 5
13330: PPUSH
13331: CALL_OW 12
13335: PUSH
13336: LD_INT 2
13338: PPUSH
13339: LD_EXP 5
13343: PPUSH
13344: CALL_OW 12
13348: PUSH
13349: LD_INT 2
13351: PPUSH
13352: LD_EXP 5
13356: PPUSH
13357: CALL_OW 12
13361: PUSH
13362: EMPTY
13363: LIST
13364: LIST
13365: LIST
13366: LIST
13367: ST_TO_ADDR
// un := CreateHuman ;
13368: LD_ADDR_VAR 0 1
13372: PUSH
13373: CALL_OW 44
13377: ST_TO_ADDR
// PlaceUnitArea ( veh , am_car , true ) ;
13378: LD_VAR 0 2
13382: PPUSH
13383: LD_INT 20
13385: PPUSH
13386: LD_INT 1
13388: PPUSH
13389: CALL_OW 49
// PlaceHumanInUnit ( un , veh ) ;
13393: LD_VAR 0 1
13397: PPUSH
13398: LD_VAR 0 2
13402: PPUSH
13403: CALL_OW 52
// SetCargo ( veh , mat_cans , 60 ) ;
13407: LD_VAR 0 2
13411: PPUSH
13412: LD_INT 1
13414: PPUSH
13415: LD_INT 60
13417: PPUSH
13418: CALL_OW 290
// SetFuel ( veh , 98 ) ;
13422: LD_VAR 0 2
13426: PPUSH
13427: LD_INT 98
13429: PPUSH
13430: CALL_OW 240
// SetLives ( un , 500 ) ;
13434: LD_VAR 0 1
13438: PPUSH
13439: LD_INT 500
13441: PPUSH
13442: CALL_OW 234
// SetLives ( veh , Rand ( 900 , 999 ) ) ;
13446: LD_VAR 0 2
13450: PPUSH
13451: LD_INT 900
13453: PPUSH
13454: LD_INT 999
13456: PPUSH
13457: CALL_OW 12
13461: PPUSH
13462: CALL_OW 234
// ComMoveXY ( un , 14 , 9 ) ;
13466: LD_VAR 0 1
13470: PPUSH
13471: LD_INT 14
13473: PPUSH
13474: LD_INT 9
13476: PPUSH
13477: CALL_OW 111
// repeat Wait ( 0 0$01 ) ;
13481: LD_INT 35
13483: PPUSH
13484: CALL_OW 67
// until See ( 1 , veh ) or See ( 1 , un ) ;
13488: LD_INT 1
13490: PPUSH
13491: LD_VAR 0 2
13495: PPUSH
13496: CALL_OW 292
13500: PUSH
13501: LD_INT 1
13503: PPUSH
13504: LD_VAR 0 1
13508: PPUSH
13509: CALL_OW 292
13513: OR
13514: IFFALSE 13481
// Say ( un , Dcargo ) ;
13516: LD_VAR 0 1
13520: PPUSH
13521: LD_STRING Dcargo
13523: PPUSH
13524: CALL_OW 88
// SetSide ( un , 1 ) ;
13528: LD_VAR 0 1
13532: PPUSH
13533: LD_INT 1
13535: PPUSH
13536: CALL_OW 235
// SetSide ( veh , 1 ) ;
13540: LD_VAR 0 2
13544: PPUSH
13545: LD_INT 1
13547: PPUSH
13548: CALL_OW 235
// end ;
13552: PPOPN 3
13554: END
// every 0 0$01 trigger timer >= [ 18 18$00 , 19 19$00 , 21 21$00 ] [ global_diff ] and FilterAllUnits ( [ [ f_side , 6 ] , [ f_type , unit_vehicle ] ] ) < 5 do var un , speaker , veh , i , area ;
13555: LD_EXP 1
13559: PUSH
13560: LD_INT 37800
13562: PUSH
13563: LD_INT 39900
13565: PUSH
13566: LD_INT 44100
13568: PUSH
13569: EMPTY
13570: LIST
13571: LIST
13572: LIST
13573: PUSH
13574: LD_EXP 2
13578: ARRAY
13579: GREATEREQUAL
13580: PUSH
13581: LD_INT 22
13583: PUSH
13584: LD_INT 6
13586: PUSH
13587: EMPTY
13588: LIST
13589: LIST
13590: PUSH
13591: LD_INT 21
13593: PUSH
13594: LD_INT 2
13596: PUSH
13597: EMPTY
13598: LIST
13599: LIST
13600: PUSH
13601: EMPTY
13602: LIST
13603: LIST
13604: PPUSH
13605: CALL_OW 69
13609: PUSH
13610: LD_INT 5
13612: LESS
13613: AND
13614: IFFALSE 13949
13616: GO 13618
13618: DISABLE
13619: LD_INT 0
13621: PPUSH
13622: PPUSH
13623: PPUSH
13624: PPUSH
13625: PPUSH
// begin area := [ us_north , us_south , us_north ] [ global_diff ] ;
13626: LD_ADDR_VAR 0 5
13630: PUSH
13631: LD_INT 21
13633: PUSH
13634: LD_INT 14
13636: PUSH
13637: LD_INT 21
13639: PUSH
13640: EMPTY
13641: LIST
13642: LIST
13643: LIST
13644: PUSH
13645: LD_EXP 2
13649: ARRAY
13650: ST_TO_ADDR
// speaker := [ ] ;
13651: LD_ADDR_VAR 0 2
13655: PUSH
13656: EMPTY
13657: ST_TO_ADDR
// uc_side := 1 ;
13658: LD_ADDR_OWVAR 20
13662: PUSH
13663: LD_INT 1
13665: ST_TO_ADDR
// uc_nation := 1 ;
13666: LD_ADDR_OWVAR 21
13670: PUSH
13671: LD_INT 1
13673: ST_TO_ADDR
// for i = 1 to 7 - [ global_diff ] do
13674: LD_ADDR_VAR 0 4
13678: PUSH
13679: DOUBLE
13680: LD_INT 1
13682: DEC
13683: ST_TO_ADDR
13684: LD_INT 7
13686: PUSH
13687: LD_EXP 2
13691: PUSH
13692: EMPTY
13693: LIST
13694: MINUS
13695: PUSH
13696: FOR_TO
13697: IFFALSE 13760
// begin un := CreateHumanWithClass ( Rand ( 1 , 4 ) , am_def ) ;
13699: LD_ADDR_VAR 0 1
13703: PUSH
13704: LD_INT 1
13706: PPUSH
13707: LD_INT 4
13709: PPUSH
13710: CALL_OW 12
13714: PPUSH
13715: LD_EXP 5
13719: PPUSH
13720: CALL 418 0 2
13724: ST_TO_ADDR
// PlaceUnitArea ( un , area , false ) ;
13725: LD_VAR 0 1
13729: PPUSH
13730: LD_VAR 0 5
13734: PPUSH
13735: LD_INT 0
13737: PPUSH
13738: CALL_OW 49
// speaker := speaker ^ un ;
13742: LD_ADDR_VAR 0 2
13746: PUSH
13747: LD_VAR 0 2
13751: PUSH
13752: LD_VAR 0 1
13756: ADD
13757: ST_TO_ADDR
// end ;
13758: GO 13696
13760: POP
13761: POP
// vc_chassis := [ us_medium_tracked , us_medium_wheeled , us_light_wheeled ] [ global_diff ] ;
13762: LD_ADDR_OWVAR 37
13766: PUSH
13767: LD_INT 3
13769: PUSH
13770: LD_INT 2
13772: PUSH
13773: LD_INT 1
13775: PUSH
13776: EMPTY
13777: LIST
13778: LIST
13779: LIST
13780: PUSH
13781: LD_EXP 2
13785: ARRAY
13786: ST_TO_ADDR
// vc_engine := engine_solar ;
13787: LD_ADDR_OWVAR 39
13791: PUSH
13792: LD_INT 2
13794: ST_TO_ADDR
// vc_control := control_manual ;
13795: LD_ADDR_OWVAR 38
13799: PUSH
13800: LD_INT 1
13802: ST_TO_ADDR
// vc_weapon := [ us_double_gun , us_gatling_gun , us_machine_gun ] [ global_diff ] ;
13803: LD_ADDR_OWVAR 40
13807: PUSH
13808: LD_INT 5
13810: PUSH
13811: LD_INT 4
13813: PUSH
13814: LD_INT 2
13816: PUSH
13817: EMPTY
13818: LIST
13819: LIST
13820: LIST
13821: PUSH
13822: LD_EXP 2
13826: ARRAY
13827: ST_TO_ADDR
// veh := CreateVehicle ;
13828: LD_ADDR_VAR 0 3
13832: PUSH
13833: CALL_OW 45
13837: ST_TO_ADDR
// PlaceUnitArea ( veh , area , false ) ;
13838: LD_VAR 0 3
13842: PPUSH
13843: LD_VAR 0 5
13847: PPUSH
13848: LD_INT 0
13850: PPUSH
13851: CALL_OW 49
// un := CreateHumanWithClass ( 3 , am_def ) ;
13855: LD_ADDR_VAR 0 1
13859: PUSH
13860: LD_INT 3
13862: PPUSH
13863: LD_EXP 5
13867: PPUSH
13868: CALL 418 0 2
13872: ST_TO_ADDR
// PlaceHumanInUnit ( un , veh ) ;
13873: LD_VAR 0 1
13877: PPUSH
13878: LD_VAR 0 3
13882: PPUSH
13883: CALL_OW 52
// Wait ( 0 0$0.3 ) ;
13887: LD_INT 10
13889: PPUSH
13890: CALL_OW 67
// SayRadio ( UnitFilter ( speaker , [ f_sex , sex_male ] ) [ 1 ] , Dhelp ) ;
13894: LD_VAR 0 2
13898: PPUSH
13899: LD_INT 26
13901: PUSH
13902: LD_INT 1
13904: PUSH
13905: EMPTY
13906: LIST
13907: LIST
13908: PPUSH
13909: CALL_OW 72
13913: PUSH
13914: LD_INT 1
13916: ARRAY
13917: PPUSH
13918: LD_STRING Dhelp
13920: PPUSH
13921: CALL_OW 94
// CenterNowOnXY ( GetX ( un ) , GetY ( un ) ) ;
13925: LD_VAR 0 1
13929: PPUSH
13930: CALL_OW 250
13934: PPUSH
13935: LD_VAR 0 1
13939: PPUSH
13940: CALL_OW 251
13944: PPUSH
13945: CALL_OW 86
// end ;
13949: PPOPN 5
13951: END
// every 0 0$01 trigger FilterUnitsInArea ( kurin_a , [ f_or , [ f_side , 3 ] , [ f_side , 6 ] ] ) > 0 do
13952: LD_INT 19
13954: PPUSH
13955: LD_INT 2
13957: PUSH
13958: LD_INT 22
13960: PUSH
13961: LD_INT 3
13963: PUSH
13964: EMPTY
13965: LIST
13966: LIST
13967: PUSH
13968: LD_INT 22
13970: PUSH
13971: LD_INT 6
13973: PUSH
13974: EMPTY
13975: LIST
13976: LIST
13977: PUSH
13978: EMPTY
13979: LIST
13980: LIST
13981: LIST
13982: PPUSH
13983: CALL_OW 70
13987: PUSH
13988: LD_INT 0
13990: GREATER
13991: IFFALSE 14019
13993: GO 13995
13995: DISABLE
// begin if IsLive ( kurin ) then
13996: LD_EXP 14
14000: PPUSH
14001: CALL_OW 300
14005: IFFALSE 14019
// SayRadio ( kurin , Dkurin ) ;
14007: LD_EXP 14
14011: PPUSH
14012: LD_STRING Dkurin
14014: PPUSH
14015: CALL_OW 94
// end ;
14019: END
// every 0 0$01 trigger timer > 27 27$00 do
14020: LD_EXP 1
14024: PUSH
14025: LD_INT 56700
14027: GREATER
14028: IFFALSE 14045
14030: GO 14032
14032: DISABLE
// SayRadio ( jack , ar_come ) ;
14033: LD_EXP 17
14037: PPUSH
14038: LD_STRING ar_come
14040: PPUSH
14041: CALL_OW 94
14045: END
// every 0 0$01 trigger FilterAllUnits ( [ f_side , 2 ] ) > 0 do
14046: LD_INT 22
14048: PUSH
14049: LD_INT 2
14051: PUSH
14052: EMPTY
14053: LIST
14054: LIST
14055: PPUSH
14056: CALL_OW 69
14060: PUSH
14061: LD_INT 0
14063: GREATER
14064: IFFALSE 14092
14066: GO 14068
14068: DISABLE
// begin FHeike ;
14069: CALL 10842 0 0
// Wait ( 0 0$01 ) ;
14073: LD_INT 35
14075: PPUSH
14076: CALL_OW 67
// SayRadio ( heike , heike1 ) ;
14080: LD_EXP 15
14084: PPUSH
14085: LD_STRING heike1
14087: PPUSH
14088: CALL_OW 94
// end ;
14092: END
// every 15 15$00 trigger timer > 22 22$00 do
14093: LD_EXP 1
14097: PUSH
14098: LD_INT 46200
14100: GREATER
14101: IFFALSE 14152
14103: GO 14105
14105: DISABLE
// begin enable ;
14106: ENABLE
// ArabianAttack ( 2 , ar_force , Rand ( 1 , 2 ) , [ ar_area1 , ar_area2 ] [ Rand ( 1 , 2 ) ] ) ;
14107: LD_INT 2
14109: PPUSH
14110: LD_EXP 8
14114: PPUSH
14115: LD_INT 1
14117: PPUSH
14118: LD_INT 2
14120: PPUSH
14121: CALL_OW 12
14125: PPUSH
14126: LD_INT 6
14128: PUSH
14129: LD_INT 16
14131: PUSH
14132: EMPTY
14133: LIST
14134: LIST
14135: PUSH
14136: LD_INT 1
14138: PPUSH
14139: LD_INT 2
14141: PPUSH
14142: CALL_OW 12
14146: ARRAY
14147: PPUSH
14148: CALL 10259 0 4
// end ;
14152: END
// every 0 0$01 trigger timer >= Rand ( 65 65$00 , 67 67$30 ) or ( FilterAllUnits ( [ f_side , 3 ] ) + FilterAllUnits ( [ f_side , 6 ] ) < 3 ) do var i ;
14153: LD_EXP 1
14157: PUSH
14158: LD_INT 136500
14160: PPUSH
14161: LD_INT 141750
14163: PPUSH
14164: CALL_OW 12
14168: GREATEREQUAL
14169: PUSH
14170: LD_INT 22
14172: PUSH
14173: LD_INT 3
14175: PUSH
14176: EMPTY
14177: LIST
14178: LIST
14179: PPUSH
14180: CALL_OW 69
14184: PUSH
14185: LD_INT 22
14187: PUSH
14188: LD_INT 6
14190: PUSH
14191: EMPTY
14192: LIST
14193: LIST
14194: PPUSH
14195: CALL_OW 69
14199: PLUS
14200: PUSH
14201: LD_INT 3
14203: LESS
14204: OR
14205: IFFALSE 14279
14207: GO 14209
14209: DISABLE
14210: LD_INT 0
14212: PPUSH
// begin InGameOn ;
14213: CALL_OW 8
// DialogueOn ;
14217: CALL_OW 6
// SayRadio ( ron , you_win ) ;
14221: LD_EXP 16
14225: PPUSH
14226: LD_STRING you_win
14228: PPUSH
14229: CALL_OW 94
// DialogueOff ;
14233: CALL_OW 7
// InGameOff ;
14237: CALL_OW 9
// AddMedal ( med , 1 ) ;
14241: LD_STRING med
14243: PPUSH
14244: LD_INT 1
14246: PPUSH
14247: CALL_OW 101
// End_The_Mission_Allowed := true ;
14251: LD_ADDR_OWVAR 57
14255: PUSH
14256: LD_INT 1
14258: ST_TO_ADDR
// case Query ( MEnd ) of 1 :
14259: LD_STRING MEnd
14261: PPUSH
14262: CALL_OW 97
14266: PUSH
14267: LD_INT 1
14269: DOUBLE
14270: EQUAL
14271: IFTRUE 14275
14273: GO 14278
14275: POP
// ; end ;
14276: GO 14279
14278: POP
// end ;
14279: PPOPN 1
14281: END
// on EndTheMissionRaised ( exitt ) do begin End_The_Mission_Allowed := false ;
14282: LD_ADDR_OWVAR 57
14286: PUSH
14287: LD_INT 0
14289: ST_TO_ADDR
// if FilterAllUnits ( [ f_side , 3 ] ) + FilterAllUnits ( [ f_side , 6 ] ) < 3 then
14290: LD_INT 22
14292: PUSH
14293: LD_INT 3
14295: PUSH
14296: EMPTY
14297: LIST
14298: LIST
14299: PPUSH
14300: CALL_OW 69
14304: PUSH
14305: LD_INT 22
14307: PUSH
14308: LD_INT 6
14310: PUSH
14311: EMPTY
14312: LIST
14313: LIST
14314: PPUSH
14315: CALL_OW 69
14319: PLUS
14320: PUSH
14321: LD_INT 3
14323: LESS
14324: IFFALSE 14338
// AddMedal ( ru , 1 ) else
14326: LD_STRING ru
14328: PPUSH
14329: LD_INT 1
14331: PPUSH
14332: CALL_OW 101
14336: GO 14349
// AddMedal ( ru , - 1 ) ;
14338: LD_STRING ru
14340: PPUSH
14341: LD_INT 1
14343: NEG
14344: PPUSH
14345: CALL_OW 101
// if FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] ] ) > 6 then
14349: LD_INT 22
14351: PUSH
14352: LD_INT 1
14354: PUSH
14355: EMPTY
14356: LIST
14357: LIST
14358: PUSH
14359: LD_INT 21
14361: PUSH
14362: LD_INT 1
14364: PUSH
14365: EMPTY
14366: LIST
14367: LIST
14368: PUSH
14369: EMPTY
14370: LIST
14371: LIST
14372: PPUSH
14373: CALL_OW 69
14377: PUSH
14378: LD_INT 6
14380: GREATER
14381: IFFALSE 14395
// AddMedal ( pep , 1 ) else
14383: LD_STRING pep
14385: PPUSH
14386: LD_INT 1
14388: PPUSH
14389: CALL_OW 101
14393: GO 14406
// AddMedal ( pep , - 1 ) ;
14395: LD_STRING pep
14397: PPUSH
14398: LD_INT 1
14400: NEG
14401: PPUSH
14402: CALL_OW 101
// GiveMedals ( MAIN ) ;
14406: LD_STRING MAIN
14408: PPUSH
14409: CALL_OW 102
// YouWin ;
14413: CALL_OW 103
// end ;
14417: PPOPN 1
14419: END
